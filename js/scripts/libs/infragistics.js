function igniteUI() {
/* English, US */

/*global jQuery */
(function ($) {
    $.ig = $.ig || {};
    $.ig.regional = $.ig.regional || {};
    $.ig.regional['en-US'] = {
	    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
	    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
	    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
	    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
	    am: 'AM',
	    pm: 'PM',
	    datePattern: 'M/d/yyyy',
	    dateLongPattern: 'dddd, MMMM dd, yyyy',
	    dateTimePattern: 'M/d/yyyy h:mm tt',
	    timePattern: 'h:mm tt',
	    timeLongPattern: 'h:mm:ss tt',
	    negativeSign: '-',
	    numericNegativePattern: '-$n',
	    numericDecimalSeparator: '.',
	    numericGroupSeparator: ',',
	    numericGroups: [3],
	    numericMaxDecimals: 2,
	    numericMinDecimals: 0,
	    currencyPositivePattern: '$n',
	    currencyNegativePattern: '$(n)',
	    currencySymbol: '$',
	    currencyDecimalSeparator: '.',
	    currencyGroupSeparator: ',',
	    currencyGroups: [3],
	    currencyMaxDecimals: 2,
	    currencyMinDecimals: 2,
	    percentPositivePattern: 'n$',
	    percentNegativePattern: '-n$',
	    percentSymbol: '%',
	    percentDecimalSeparator: '.',
	    percentGroupSeparator: ',',
	    percentGroups: [3],
	    percentDisplayFactor: 100,
	    percentMaxDecimals: 2,
	    percentMinDecimals: 2
    };
    if ($.ig.setRegionalDefault) {
	    $.ig.setRegionalDefault('en-US');
    }
})(jQuery);/*!@license
* Infragistics.Web.ClientUI common utilities localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.util){$.ig.util={};$.extend($.ig.util,{locale:{unsupportedBrowser:"The current browser does not support HTML5 canvas element. <br/>Try upgrading to any of the following versions:",currentBrowser:"Current browser: {0}",ie9:"Microsoft Internet Explorer V 9+",chrome8:"Google Chrome V 8+",firefox36:"Mozilla Firefox V 3.6+",safari5:"Apple Safari V 5+",opera11:"Opera V 11+",ieDownload:"http://www.microsoft.com/windows/internet-explorer/default.aspx",operaDownload:"http://www.opera.com/download/",chromeDownload:"http://www.google.com/chrome",firefoxDownload:"http://www.mozilla.com/",safariDownload:"http://www.apple.com/safari/download/"}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Util functions 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 * 
 * util functions that extend the jQuery  namespace 
 * if something is not already available in jQuery, please add it here. 
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.4.js
 *
 */
(function(){var initializing=false,fnTest=/xyz/.test(function(){xyz()})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(prop,doAugment){var doSuper=true,_super=this.prototype,prototype,name;if(doAugment){doSuper=false}initializing=true;prototype=new this;initializing=false;function makeFn(name,fn){return function(){var tmp=this._super,ret;this._super=_super[name];ret=fn.apply(this,arguments);this._super=tmp;return ret}}for(name in prop){if(prop.hasOwnProperty(name)){prototype[name]=doSuper&&typeof prop[name]==="function"&&typeof _super[name]==="function"&&fnTest.test(prop[name])?makeFn(name,prop[name]):prop[name]}}function Class(){if(!initializing&&this.init){this.init.apply(this,arguments)}}Class.prototype=prototype;Class.constructor=Class;Class.extend=arguments.callee;if(doAugment){Class.typeName=function(){return this.prototype.$type};Class.baseType=function(){return this.$type.baseType};Class.prototype.getType=function(){return this.$type};Class.prototype.getHashCode=function(){if(this.$hashCode!==undefined){return this.$hashCode}this.$hashCode=$.ig.nextHashCode++;return this.$hashCode}}return Class};if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("ig.util",[],function(){return Class})}})();(function($){$.fn.startsWith=function(str){return this[0].innerHTML.indexOf(str)===0};$.ig=$.ig||{};$.ig.util=$.ig.util||{};$.ig.util.browserVersion="";$.ig.util.isIE=window.navigator.userAgent.indexOf("MSIE")>-1||!!window.navigator.userAgent.match(/trident/i);$.ig.util.isIEOld=$.ig.util.isIE&&!window.HTMLElement?true:false;if($.ig.util.isIE){if(navigator.appName==="Microsoft Internet Explorer"){var re=new RegExp("MSIE ([0-9]{1,})");if(re.exec(navigator.userAgent)){$.ig.util.browserVersion=parseInt(RegExp.$1,10)}}else if(navigator.appName==="Netscape"){var re=new RegExp("rv:([0-9]{1,})");if(re.exec(navigator.userAgent)){$.ig.util.browserVersion=parseInt(RegExp.$1,10)}}$.ig.util.isIE7=$.ig.util.browserVersion<=7;$.ig.util.isIE8=$.ig.util.browserVersion===8;$.ig.util.isIE9=$.ig.util.browserVersion===9;$.ig.util.isIE10=$.ig.util.browserVersion===10;$.ig.util.isIE11=$.ig.util.browserVersion>=11}$.ig.util.isChrome=window.chrome;$.ig.util.isFF=window.mozInnerScreenX!==undefined;$.ig.util.isOpera=!!window.opera;$.ig.util.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?true:false;$.ig.util.isWebKit=!!window.webkitURL;$.ajaxQueue=function(queueName,options){var callback;if(typeof document.ajaxQueue==="undefined"){document.ajaxQueue={queue:{}}}if(typeof document.ajaxQueue.queue[queueName]==="undefined"){document.ajaxQueue.queue[queueName]=[]}if(typeof options==="undefined"){return}callback=options.complete;options.complete=function(request,status){document.ajaxQueue.queue[queueName].shift();if(typeof callback!=="undefined"){callback(request,status)}if(document.ajaxQueue.queue[queueName].length>0){$.ajax(document.ajaxQueue.queue[queueName][0])}};document.ajaxQueue.queue[queueName].push(options);if(document.ajaxQueue.queue[queueName].length===1){$.ajax(document.ajaxQueue.queue[queueName][0])}};if(typeof $.ig.useDefineProperty==="undefined"){$.ig.useDefineProperty=true}$.ig.extendNativePrototype=function(proto,propName,val){if($.ig.useDefineProperty){try{Object.defineProperty(proto,propName,{value:val,enumerable:false,configurable:true,writable:true})}catch(e){proto[propName]=val}}else{proto[propName]=val}};Date.prototype.stdTimezoneOffset=function(){var jan,jul,janOffset,julOffset;jan=new Date(this.getFullYear(),0,1);jul=new Date(this.getFullYear(),6,1);julOffset=jul.getTimezoneOffset();janOffset=jan.getTimezoneOffset();if(janOffset>0&&julOffset>0){return Math.max(janOffset,julOffset)}else{return Math.min(janOffset,julOffset)}};Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};$.ig.findPath=function(dsObj,resKey){var resPath,ds=dsObj;resPath=resKey.split(".");if(resPath.length>0){for(i=0;i<resPath.length;i++){if(ds){ds=ds[resPath[i]]}else{break}}}return ds};$.ig.formatter=function(val,type,format,notTemplate,enableUTCDates,displayStyle){var min,y,h,m,s,ms,am,e,pattern,len,n,dot,gr,gr0,grps,curS,percS,cur,perc,prefix,i,d=val&&val.getTime,reg=$.ig.regional.defaults,pow,display=displayStyle||"inline-block";if(format==="checkbox"&&notTemplate){s='<span style="width:100%;display:'+display+';overflow:hidden;text-align:center;">';s+='<span class="ui-state-default ui-corner-all ui-igcheckbox-small" style="display:inline-block">';s+='<span style="display:block" class="'+(val?"":"ui-igcheckbox-small-off ");return s+'ui-icon ui-icon-check ui-igcheckbox-small-on"></span></span></span>'}if(!val&&val!==0&&val!==false){return"&nbsp;"}if(type==="date"||d){if(!val){return"&nbsp;"}if(!d){return val}pattern=reg[format&&format!=="null"&&format!=="undefined"?format+"Pattern":"datePattern"]||format;if(enableUTCDates){y=val.getUTCFullYear();m=val.getUTCMonth()+1;d=val.getUTCDate();h=val.getUTCHours();min=val.getUTCMinutes();s=val.getUTCSeconds();ms=val.getUTCMilliseconds()}else{y=val.getFullYear();m=val.getMonth()+1;d=val.getDate();h=val.getHours();min=val.getMinutes();s=val.getSeconds();ms=val.getMilliseconds()}pattern=pattern.replace("MMMM","").replace("MMM","").replace("dddd","").replace("ddd","");if(pattern.indexOf("t")>=0){am=h>=12?reg.pm:reg.am;am=am||" ";if(pattern.indexOf("tt")>=0){pattern=pattern.replace("tt","t")}else if(am.length>1){am=am.substring(0,1)}pattern=pattern.replace("t","")}if(pattern.indexOf("h")>=0){if(h>12){h-=12}if(h===0){h=12}}pattern=pattern.replace(/H/g,"h");pattern=pattern.replace("yyyy",y<10?"000"+y:y<100?"00"+y:y<1e3?"0"+y:y).replace("yy",(y=y%100)<10?"0"+y:y).replace("y",y%100).replace("MM",m<10?"0"+m:m).replace("M",m);pattern=pattern.replace("dd",d<10?"0"+d:d).replace("d",d);pattern=pattern.replace("hh",h<10?"0"+h:h).replace("h",h).replace("mm",min<10?"0"+min:min).replace("m",min).replace("ss",s<10?"0"+s:s).replace("s",s);pattern=pattern.replace("fff",ms<10?"00"+ms:ms<100?"0"+ms:ms).replace("ff",(ms=Math.round(ms/10))<10?"0"+ms:ms).replace("f",Math.round(ms/100));pattern=pattern.replace("",reg.monthNames[m-1]).replace("",reg.monthNamesShort[m-1]).replace("",am);pattern=pattern.replace("",reg.dayNames[val.getDay()]).replace("",reg.dayNamesShort[val.getDay()]);return pattern}d=format==="double";if(!d){cur=format===(curS="currency");if(!cur){perc=format===(percS="percent");if(!perc){i=format==="int"}}}n=typeof val==="number";if(d||n||i||cur||perc||type==="number"){if(!n){val=parseFloat(val.replace("(","-").replace(new RegExp("[^0-9\\-eE\\"+reg.numericDecimalSeparator+"\\+]","gm"),"").replace(reg.numericDecimalSeparator,"."))}if(isNaN(val)){return"&nbsp;"}prefix=cur?curS:perc?percS:"numeric";pattern=reg[prefix+(val<0?"Negative":"Positive")+"Pattern"]||"n";len=format?format.length:0;if(len>0&&((s=format.charAt(0))==="0"||s==="#")){min=m=0;dot=format.indexOf(".");if(dot>0){m=len-1-dot;while(++dot<len){if(format.charAt(dot)!=="0"){break}min++}}}else{min=reg[prefix+"MinDecimals"]||0;if(d){m=999}else{m=reg[prefix+"MaxDecimals"];m=m&&!i?m:0}}if(val<0){val=-val}if(m===999){val=val.toString(10)}else{if($.ig.util.isIE&&$.ig.util.browserVersion<=8){pow=Math.pow(10,m);val=(Math.round(pow*val)/pow).toFixed(m)}else{val=val.toFixed(m)}}if((i=val.indexOf("E"))<0){i=val.indexOf("e")}e="";if(i>0){e=val.substring(i);val=val.substring(0,i)}dot=val.indexOf(".");len=val.length;i=0;while(dot>0&&m>min+i&&val.charAt(len-1-i)==="0"){i++}if(i>0){val=val.substring(0,len-=i)}if(dot===len-1){val=val.substring(0,dot)}if(dot>0){len=dot}s=reg[prefix+"DecimalSeparator"];if(s){val=val.replace(".",s)}s=reg[prefix+"GroupSeparator"];grps=s?reg[prefix+"Groups"]:"";gr=gr0=grps.length>0?grps[i=0]:0;while(gr>0&&--len>0){if(--gr===0){val=val.substring(0,len)+s+val.substring(len);gr=grps[++i];if(!gr||gr<1){gr=gr0}else{gr0=gr}}}s=reg[prefix+"Symbol"]||"";return pattern.replace("-",reg.negativeSign).replace("n",val+e).replace("$",s)}if(format){if(format.indexOf(s="{0}")>=0){return format.replace(s,val)}if(format.indexOf(s="[0]")>=0){return format.replace(s,val)}}return val||val===0?val:"&nbsp;"};$.ig._regional={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am:"AM",pm:"PM",datePattern:"M/d/yyyy",dateLongPattern:"dddd, MMMM dd, yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timePattern:"h:mm tt",timeLongPattern:"h:mm:ss tt",negativeSign:"-",numericNegativePattern:"-$n",numericDecimalSeparator:".",numericGroupSeparator:",",numericGroups:[3],numericMaxDecimals:2,numericMinDecimals:0,currencyPositivePattern:"$n",currencyNegativePattern:"$(n)",currencySymbol:"$",currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyGroups:[3],currencyMaxDecimals:2,currencyMinDecimals:2,percentPositivePattern:"n$",percentNegativePattern:"-n$",percentSymbol:"%",percentDecimalSeparator:".",percentGroupSeparator:",",percentGroups:[3],percentDisplayFactor:100,percentMaxDecimals:2,percentMinDecimals:2};$.ig.regional=$.ig.regional||{};$.ig.regional.defaults=$.ig._regional;$.ig.setRegionalDefault=function(regional){if($.ui&&$.ui.igEditor){$.ui.igEditor.setDefaultCulture(regional)}else{$.ig.regional.defaults=$.extend($.ig._regional,typeof regional==="string"?$.ig.regional[regional]:regional)}};$.ig.calcSummaries=function(summaryFunction,data,caller,dataType){var sum=function(data){var sum=0,i;for(i=0;i<data.length;i++){sum+=data[i]}return sum};summaryFunction=summaryFunction.toLowerCase();if(summaryFunction.startsWith("custom")){summaryFunction="custom"}switch(summaryFunction){case"min":if(data.length===0){if(dataType==="date"){return null}return 0}return Math.min.apply(Math,data);case"max":if(data.length===0){if(dataType==="date"){return null}return 0}return Math.max.apply(Math,data);case"sum":return sum(data);case"avg":if(data.length===0){return 0}return sum(data)/data.length;case"count":return data.length;case"custom":if(caller!==undefined&&caller!==null){if($.type(caller)==="function"){return caller(data)}if($.type(caller)==="string"){caller=eval(caller);return caller(data)}}else{return null}break}};$.ig.getMaxZIndex=function(id){var maxZ=1e4,thisZ;$(".ui-dialog").each(function(){if(!id||$(this)[0].id!==id){thisZ=$(this).css("z-index");if(!isNaN(thisZ)){maxZ=Math.max(maxZ,thisZ)}}});return maxZ};$.ig.uid=function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)};$.ig.nextHashCode=0;$.ig.util.ensureUniqueId=function(obj){if(!obj.getHashCode){var code=$.ig.nextHashCode++;obj.getHashCode=function(){return code}}};$.ig.getColType=function(o){var t=typeof o;if(t==="undefined"){return"string"}else if(o&&o.getTime&&!isNaN(o.getTime())&&Object.prototype.toString.call(o)==="[object Date]"){return"date"}else if(t==="boolean"){return"bool"}else if(t==="number"){return t}else if(t==="object"){return"object"}else{return"string"}};$.ig.typeIdentifierCache={};$.ig.nextTypeIdentifier=0;$.ig.Type=Class.extend({init:function(identifier,baseType,interfaces){this.specializationCache={};this.name=identifier;this.typeArguments=null;this.baseType=null;this.interfaces=null;if(baseType){this.baseType=baseType}if(interfaces){this.interfaces=interfaces}if($.ig.typeIdentifierCache[identifier]){this.identifier=$.ig.typeIdentifierCache[identifier]}else{this.identifier=$.ig.nextTypeIdentifier++;$.ig.typeIdentifierCache[identifier]=this.identifier}},typeName:function(){return this.name},getSpecId:function(types){if(types.length===1){if(!types[0]){return"undef"}else if(!types[0].typeName){return types[0].toString()}else if(types[0].stringId){return types[0].stringId}else{return types[0].identifier.toString()}}var ret="";for(var i=0;i<types.length;i++){var type=types[i];if(!types[0]){ret+="undef"}else if(!types[0].typeName){ret+=types[0].toString()}else if(types[0].stringId){ret+=types[0].stringId}else{ret+=types[0].identifier.toString()}}return ret},_isGenericType:null,isGenericType:function(){if(this._isGenericType===null){this._isGenericType=this.name.indexOf("$")>=0}return this._isGenericType},isGenericTypeDefinition:function(){return this.typeArguments===null&&this.isGenericType()},genericTypeArguments:function(){return this.typeArguments},specializationCache:null,specialize:function(){var i;if(!this.isGenericType()){return this}var specId=this.getSpecId(arguments);var ret=this.specializationCache[specId];if(ret){return ret}ret=new $.ig.Type(this.name,this.baseType,this.interfaces);var placeholders=this.typeArguments;var hasPlaceholders=false;if(placeholders){hasPlaceholders=true}ret.typeArguments=[];if(hasPlaceholders){for(i=0;i<placeholders.length;i++){ret.typeArguments[i]=arguments[placeholders[i]]}}else{for(i=0;i<arguments.length;i++){ret.typeArguments[i]=arguments[i]}}if(this.baseType&&this.baseType.typeArguments){ret.baseType=this.baseType.specialize(arguments)}if(this.interfaces){ret.interfaces=[];for(i=0;i<this.interfaces.length;i++){ret.interfaces[i]=this.interfaces[i].specialize(arguments)}}this.specializationCache[specId]=ret;ret.stringId=ret.generateString();return ret},equals:function(other){if(!(other instanceof $.ig.Type)){return false}if(this.identifier!==other.identifier){return false}if(this.typeArguments===null&&other.typeArguments===null){return true}if(this.typeArguments===null&&other.typeArguments!==null){return false}if(this.typeArguments!==null&&other.typeArguments===null){return false}if(this.typeArguments.length!==other.typeArguments.length){return false}for(var i=0;i<this.typeArguments.Length;i++){if(!this.typeArguments[i].equals(other.typeArguements[i])){return false}}return true},checkEquals:function(type1,type2){if(type1 instanceof $.ig.Type){return type1.equals(type2)}else if(type2 instanceof $.ig.Type){return type2.equals(type1)}else{return type1==type2}},op_Equality:function(type1,type2){return type1.equals(other)},op_Inequality:function(type1,type2){return!type1.equals(type2)},generateString:function(){if(!this.typeArguments||!this.typeArguments.length){return this.identifier.toString()}else{var ret=this.identifier.toString()+"[";var first=true;for(var i=0;i<this.typeArguments.count;i++){if(first){first=false}else{ret+=","}ret+=this.typeArguments[i].toString()}ret+="]";return ret}}},true);$.ig.Object=Class.extend({init:function(){},$type:new $.ig.Type("Object")},true);$.ig.$o=$.ig.Object;$.ig.$op=$.ig.Object.prototype;$.ig.$ot=$.ig.Object.prototype.$type;$.ig.Enum=Class.extend({parse:function(enumType,value,ignoreCase){if($.ig.util.canAssign(this.$type,enumType)){var p=$.ig[enumType.name].prototype;if(p.hasOwnProperty(value))return p[value];else if(ignoreCase){var upper=value.toUpperCase();for(var x in p){if(x.toUpperCase()===upper){return p[x]}}}}},$type:new $.ig.Type("Enum",$.ig.Object.prototype.$type)},true);$.ig.$e=$.ig.Enum;$.ig.$ep=$.ig.Enum.prototype;$.ig.$et=$.ig.Enum.prototype.$type;$.ig.ValueType=Class.extend({init:function(){},$type:new $.ig.Type("ValueType",$.ig.Object.prototype.$type)},true);$.ig.INotifyPropertyChanged=Class.extend({init:function(){},_PropertyChanged:function(){},$type:new $.ig.Type("INotifyPropertyChanged")},true);$.ig.PropertyChangedEventArgs=$.ig.Object.extend({init:function(propertyName){this._propertyName=propertyName},_propertyName:null,propertyName:function(value){if(arguments.length===0){return this._propertyName}else{this._propertyName=value}},$type:new $.ig.Type("PropertyChangedEventArgs",$.ig.Object.$type)},true);$.ig.XmlNodeType=Class.extend({_Attribute:2,_CDATA:4,_Comment:8,_Document:9,_DocumentFragment:11,_DocumentType:10,_Element:1,_Entity:6,_EntityReference:5,_Notation:12,_ProcessingInstruction:7,_Text:3,element:1,attribute:2,text:3,cDATA:4,entityReference:5,entity:6,processingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},true);$.ig.XmlDocumentParser=Class.extend({parse:function(markup){if(!window.DOMParser){var parsers=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var i=0;i<parsers.length;i++){try{var xmlDOM=new ActiveXObject(progIDs[i]);xmlDOM.async=false;xmlDOM.loadXML(markup);xmlDOM.setProperty("SelectionLanguage","XPath");return xmlDOM}catch(ex){}}}else{try{var domParser=new DOMParser;return domParser.parseFromString(markup,"text/xml")}catch(ex){}}return null}},true);$.ig.Array=Array;$.ig.extendNativePrototype(Array.prototype,"add",function(item){this[this.length]=item});$.ig.addToArray=function(arr,item){arr[arr.length]=item};$.ig.indexInArray=function(arr,item){for(var i=0;i<arr.length;i++){if(arr[i]==item)return i}return-1};$.ig.arrayContains=function(arr,item){var index=arr.indexOf(item);return index>=0};$.ig.extendNativePrototype(Array.prototype,"indexOf",function(item){for(var i=0;i<this.length;i++){if(this[i]==item)return i}return-1});$.ig.extendNativePrototype(Array.prototype,"copy",function(source,sourceIndex,dest,destIndex,count){for(i=0;i<count;i++){dest[destIndex+i]=source[sourceIndex+i]}});$.ig.removeFromArray=function(arr,from,to){var rest=arr.slice((to||from)+1||arr.length);arr.length=from<0?arr.length+from:from;return arr.push.apply(arr,rest)};$.ig.extendNativePrototype(Array.prototype,"contains",function(item){var index=this.indexOf(item);return index>=0});$.ig.extendNativePrototype(Array.prototype,"insert",function(index,item){this.splice(index,0,item)});$.ig.extendNativePrototype(Array.prototype,"removeAt",function(i){this.splice(i,1)});$.ig.extendNativePrototype(Array.prototype,"removeItem",function(item){var index=this.indexOf(item);if(index>=0){this.splice(index,1);return true}return false});$.ig.extendNativePrototype(Array.prototype,"getEnumerator",function(){return new $.ig.ArrayEnumerator(this)});$.ig.extendNativePrototype(Array.prototype,"count",function(){return this.length});$.ig.extendNativePrototype(Array.prototype,"item",function(index,value){if(arguments.length===2){this[index]=value;return value}else{return this[index]}});$.ig.extendNativePrototype(Array.prototype,"getLength",function(dimension){if(dimension===0){return this.length}else{return this.dimensionLength[dimension-1]}});$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0});$.ig.extendNativePrototype(Array.prototype,"resize",function(){this.length=0});$.ig.ArrayEnumerator=Class.extend({init:function(array){this._array=array;this._index=-1},current:function(){return this._array[this._index]},moveNext:function(){this._index++;return this._index<this._array.length},reset:function(){this._index=-1}},true);$.ig.Date=Class.extend({init:function(){},$type:new $.ig.Type("Date",$.ig.Object.$type)},true);$.ig.Date.prototype.now=function(){return new Date};$.ig.Date.prototype.minValue=function(){return new Date(1,1,1,0,0,0,0)};$.ig.Date.prototype.maxValue=function(){return new Date(9999,12,31,23,59,59,.9999999)};$.ig.Date.prototype.fromMilliseconds=function(value){return value};$.ig.util.canAssign=function(targetType,type){if($.ig.Type.prototype.checkEquals(targetType,type)){return true}if(type.interfaces){for(var i=0;i<type.interfaces.length;i++){if($.ig.util.canAssign(targetType,type.interfaces[i])){return true}}}if(type.baseType){return $.ig.util.canAssign(targetType,type.baseType)}return false};$.ig.util.cast=function(targetType,obj){if(obj===undefined||obj===null){return null}var type=obj;if(obj.$type){type=obj.$type}if($.ig.util.canAssign(targetType,type)){return obj}else{return null}};$.ig.Dictionary=Class.extend({init:function(){this.proxy={};this.keysHolder=this.proxy;this._count=0},$type:new $.ig.Type("Dictionary",$.ig.Object.prototype.$type),proxy:null},true);$.ig.Dictionary.prototype.getDictionary=function(o){var dict=new $.ig.Dictionary;dict.proxy=o;dict.keysHolder=o;return dict};$.ig.Dictionary.prototype.containsKey=function(key){return this.proxy[key]!==undefined};$.ig.Dictionary.prototype.count=function(){return this._count};$.ig.Dictionary.prototype.item=function(key,value){if(arguments.length===1){return this.proxy[key]}else{if(!this.proxy[key]){this._count++}this.proxy[key]=value}};$.ig.Dictionary.prototype.add=function(key,value){if(!this.proxy[key]){this._count++}this.proxy[key]=value};$.ig.Dictionary.prototype.remove=function(key){delete this.proxy[key];this._count--};$.ig.Dictionary.prototype.keys=function(){return new $.ig.KeyEnumerator(this)};$.ig.Dictionary.prototype.values=function(){return new $.ig.ValueEnumerator(this)};$.ig.Dictionary.prototype.clear=function(){this.proxy={};this.keysHolder=this.proxy;this._count=0};$.ig.EventArgs=$.ig.Object.extend({init:function(){}},true);$.ig.String=Class.extend({$type:new $.ig.Type("String",$.ig.Object.prototype.$type)},true);$.ig.String.prototype.isDigit=function(str,index){index=index||0;var ch=str.charAt(index);if(ch>="0"&&ch<="9")return true;return false};$.ig.Number=Class.extend({$type:new $.ig.Type("Number",$.ig.Object.prototype.$type)},true);$.ig.Number.prototype.parseInt=function(a,b){return parseInt(a,b)};$.ig.Number.prototype.log10=function(x){return Math.log(x)/Math.log(10)};$.ig.Single=Class.extend({},true);$.ig.Single.prototype.parseFloat=function(s){return parseFloat(s)};$.ig.Single.prototype.isInfinity=function(s){return s===Infinity||s===-Infinity};$.ig.Int32=Class.extend({$type:new $.ig.Type("Int32",$.ig.Object.prototype.$type)},true);$.ig.Double=Class.extend({$type:new $.ig.Type("Double",$.ig.Object.prototype.$type)},true);$.ig.Delegate=Class.extend({$type:new $.ig.Type("Delegate",$.ig.Object.prototype.$type)},true);$.ig.Delegate.prototype.combine=function(del1,del2){if(!del1){return del2}if(!del2){return del1}var ret=function(){del1.apply(null,arguments);return del2.apply(null,arguments)};ret.enumerate=function(arr){if(del1){if(del1.enumerate){del1.enumerate(arr)}else{arr.push(del1)}}if(del2){if(del2.enumerate){del2.enumerate(arr)}else{arr.push(del2)}}};return ret};$.ig.Delegate.prototype.remove=function(del1,del2){if(!del1){return null}if(!del2){return del1}var arr=[];var del=null;if(del1.enumerate){del1.enumerate(arr)}else{arr.push(del1)}for(var i=0;i<arr.length;i++){if(del2.original){if(arr[i].original==del2.original&&arr[i].target==del2.target){continue}}if(arr[i]==del2){continue}del=$.ig.Delegate.prototype.combine(del,arr[i])}return del};$.ig.ReflectionUtil=Class.extend({$type:new $.ig.Type("ReflectionUtil",$.ig.Object.prototype.$type)},true);$.ig.ReflectionUtil.prototype.getPropertyGetter=function(type,propertyName){if(typeof type.prototype[propertyName]==="function"){return function(instance){return type.prototype[propertyName].apply(instance,arguments)}}return function(instance){return instance[propertyName]}};$.ig.IEnumerable=Class.extend({$type:new $.ig.Type("IEnumerable",null)},true);$.ig.IEnumerator=Class.extend({$type:new $.ig.Type("IEnumerator",null)},true);$.ig.IEqualityComparer$1=Class.extend({$type:new $.ig.Type("IEqualityComparer",$.ig.Object.prototype.$type)},true);$.ig.IList=Class.extend({$type:new $.ig.Type("IList",null,[$.ig.IEnumerable.prototype.$type])},true);$.ig.Error=Class.extend({init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.__message=null;this.__innerException=null},init1:function(initNumber,message){this.__message=message},init2:function(initNumber,message,innerException){this.__message=message;this.__innerException=innerException},$type:new $.ig.Type("Error",$.ig.Object.prototype.$type)},true);$.ig.Error.prototype.message=function(){return this.__message};$.ig.Error.prototype.innerException=function(){return this.__innerException};$.ig.IDictionary=Class.extend({$type:new $.ig.Type("IDictionary",null)},true);$.ig.ValueEnumerator=Class.extend({init:function(dict){this._dict=dict;this._index=-1;this._count=0;this._values=[];for(var item in this._dict.proxy){this._values[this._count]=this._dict.proxy[item];this._count++}},current:function(){return this._values[this._index]},moveNext:function(){this._index++;return this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){this.reset();return this},$type:new $.ig.Type("ValueEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},true);$.ig.KeyEnumerator=Class.extend({init:function(dict){this._dict=dict;this._index=-1;this._count=0;this._keys=[];for(var item in this._dict.proxy){this._keys[this._count]=item;this._count++}},current:function(){return this._keys[this._index]},moveNext:function(){this._index++;return this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){this.reset();return this},$type:new $.ig.Type("KeyEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},true);$.ig.intDivide=function(int1,int2){var result=int1/int2;if(result>=0){return Math.floor(result)}else{return Math.ceil(result)}};$.ig.Nullable=Class.extend({getUnderlyingType:function(nullableType){if(nullableType.isGenericType!==undefined&&nullableType.isGenericType()&&!nullableType.isGenericTypeDefinition()&&$.ig.Nullable$1.prototype.$type.typeName()==nullableType.typeName()){return nullableType.genericTypeArguments()[0]}return null},$type:new $.ig.Type("Nullable",$.ig.Object.prototype.$type)},true);$.ig.Nullable$1=Class.extend({$t:null,init:function($t,value){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);if(value!==undefined){this._value=value}},hasValue:function(){return this._value!==null},_value:null,value:function(value){if(arguments.length===1){this._value=value}else{return this._value}},getValueOrDefault:function(){if(this.hasValue()){return this._value}else{return getDefaultValue()}},getDefaultValue:function(){if($.ig.util.canAssign($.ig.Number.prototype.$type,$t)){return 0}else if($.ig.util.canAssign($.ig.Boolean.prototype.$type,$t)){return false}else{return null}},getValueOrDefault1:function(defaultValue){if(this.hasValue()){return this._value}else{return defaultValue}},isNullable:true,$type:new $.ig.Type("Nullable$1",$.ig.Object.prototype.$type)},true);$.ig.util.toNullable=function(t,value){if(value&&value.isNullable){return value}var ret=new $.ig.Nullable$1(t,value);return ret};$.ig.util.nullableAdd=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return null}if(v2.isNullable&&!v2.hasValue()){return null}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,val1+val2)};$.ig.util.nullableSubtract=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return null}if(v2.isNullable&&!v2.hasValue()){return null}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,val1-val2)};$.ig.util.nullableMultiply=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return null}if(v2.isNullable&&!v2.hasValue()){return null}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,val1*val2)};$.ig.util.nullableDivide=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return null}if(v2.isNullable&&!v2.hasValue()){return null}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,val1/val2)};$.ig.util.nullableModulus=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return null}if(v2.isNullable&&!v2.hasValue()){return null}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return $.ig.util.toNullable($.ig.Number.prototype.$type,val1%val2)};$.ig.util.nullableGreaterThan=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return false}if(v2.isNullable&&!v2.hasValue()){return false}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return val1>val2};$.ig.util.nullableGreaterThanOrEqual=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return false}if(v2.isNullable&&!v2.hasValue()){return false}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return val1>=val2};$.ig.util.nullableLessThan=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return false}if(v2.isNullable&&!v2.hasValue()){return false}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return val1<val2};$.ig.util.nullableLessThanOrEqual=function(v1,v2){if(v1.isNullable&&!v1.hasValue()){return false}if(v2.isNullable&&!v2.hasValue()){return false}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return val1<=val2};$.ig.util.nullableEquals=function(v1,v2){var v1IsNull=v1===undefined||v1===null||v1.IsNullable&&!v1.hasValue();var v2IsNull=v2===undefined||v2===null||v2.IsNullable&&!v2.hasValue();if(v1IsNull&&v2IsNull){return true}if(v1IsNull!=v2IsNull){return false}var val1=v1;var val2=v2;if(v1.isNullable){val1=v1.value()}if(v2.isNullable){val2=v2.value()}return val1==val2};$.ig.util.nullableNotEquals=function(v1,v2){return!$.ig.util.nullableEquals(v1,v2)};$.ig.util.wellKnownColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};$.ig.util.stringToColor=function(str){var ret={a:255,r:0,g:0,b:0};var asColorName=str.replace(" ","").toLowerCase();
if(asColorName==="transparent"){return{a:0,r:0,g:0,b:0}}if($.ig.util.wellKnownColors[asColorName]!==undefined){str=$.ig.util.wellKnownColors[asColorName]}var parts;if(str.lastIndexOf("rgba",0)===0){str=str.replace("rgba","").replace(" ","").replace("(","").replace(")","");parts=str.split(",");ret.r=parseInt(parts[0],10);ret.g=parseInt(parts[1],10);ret.b=parseInt(parts[2],10);ret.a=parseFloat(parts[3])*255}else if(str.lastIndexOf("rgb",0)===0){str=str.replace("rgb","").replace(" ","").replace("(","").replace(")","");parts=str.split(",");ret.r=parseInt(parts[0],10);ret.g=parseInt(parts[1],10);ret.b=parseInt(parts[2],10)}else{str=str.replace("#","").replace(" ","");if(str.length===6){ret.r=parseInt(str.substr(0,2),16);ret.g=parseInt(str.substr(2,2),16);ret.b=parseInt(str.substr(4,2),16)}else if(str.length===3){ret.r=parseInt(str.substr(0,1)+str.substr(0,1),16);ret.g=parseInt(str.substr(1,1)+str.substr(1,1),16);ret.b=parseInt(str.substr(2,1)+str.substr(2,1),16)}}return ret};$.ig.util.isResponseTypeSupported=function(responseType){var xhr=null;try{xhr=new XMLHttpRequest;xhr.open("GET","/");xhr.responseType=responseType}catch(e){return false}if(xhr===null){return false}return xhr.responseType===responseType};$.ig.util.getBinary=function(url,callback,error){var data,ret,req,useVbArray=false,arrayBufferSupported=$.ig.util.isResponseTypeSupported("arraybuffer")&&typeof Uint8Array!="undefined";if(typeof XMLHttpRequest=="undefined"){try{req=ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{req=ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}req=new ActiveXObject("Microsoft.XMLHTTP")}else{req=new XMLHttpRequest}if(!arrayBufferSupported){if(req.overrideMimeType){req.overrideMimeType("text/plain; charset=x-user-defined")}else{if(typeof VBArray!="undefined"){useVbArray=true}}}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){if(arrayBufferSupported){callback(new Uint8Array(this.response))}else{if(useVbArray){data=new VBArray(req.responseBody).toArray();for(var i=0;i<data.length;i++){data[i]=String.fromCharCode(data[i])}ret=data.join("");callback(ret)}else{callback(req.responseText)}}}else{error(req.error)}}};req.open("GET",url,true);if(arrayBufferSupported){req.responseType="arraybuffer"}req.send(null)};$.ig.util.extCopy=function(source,bindings){var i,j,k;if(typeof source=="undefined"||!source){return}for(j=0;j<bindings.length;j++){var dests=bindings[j][0];var meths=bindings[j][1];for(k=0;k<dests.length;k++){for(i=0;i<meths.length;i++){if(typeof dests[k]=="undefined"||!dests[k]||typeof meths[i]=="undefined"||!meths[i]){continue}$.ig.extendNativePrototype(dests[k].prototype,meths[i],source.prototype[meths[i]])}}}};$.ig.$currDefinitions=null;$.ig.$allDefinitions=[];$.ig.util.bulkDefine=function(toDefine){var i=0,curr=null,els=null;for(i=0;i<toDefine.length;i++){curr=toDefine[i];els=curr.split(":");curr=els[0];$.ig[curr]=$.ig[curr]||Class.extend({$type:new $.ig.Type(curr,$.ig.Object.prototype.$type),$placeholder:true},true);if(els.length>1&&$.ig.$currDefinitions){$.ig.$currDefinitions[els[1]]=$.ig[curr];$.ig.$currDefinitions["$"+els[1]]=$.ig[curr].prototype;$.ig.$currDefinitions["$_"+curr]=els[1]}if($.ig.$allDefinitions&&$.ig.$allDefinitions.indexOf($.ig.$currDefinitions)<0){$.ig.$allDefinitions.push($.ig.$currDefinitions)}}};$.ig.util.defType=function(name,baseName,definition){var define=true,els=null,i,currDefs,shortName;els=name.split(":");name=els[0];if($.ig[name]&&!$.ig[name].prototype.$placeholder){define=false}if(define){$.ig[name]=$.ig[baseName].extend(definition)}if(els.length>1&&$.ig.$currDefinitions){$.ig.$currDefinitions[els[1]]=$.ig[name];$.ig.$currDefinitions["$"+els[1]]=$.ig[name].prototype;$.ig.$currDefinitions["$_"+name]=els[1];if($.ig.$allDefinitions){for(i=0;i<$.ig.$allDefinitions.length;i++){currDefs=$.ig.$allDefinitions[i];if(currDefs["$_"+name]!==undefined){shortName=currDefs["$_"+name];currDefs[shortName]=$.ig[name];currDefs["$"+shortName]=$.ig[name].prototype}}}}};$.ig.util.getClassCount=function(classNamePrefix,isPrefix){var styleSheets=document.styleSheets,numFound=0,count=0,currSheet,rules,currSelector,currVal;classNamePrefix=classNamePrefix.toLowerCase();if(!styleSheets){return 0}for(var i=0;i<styleSheets.length;i++){try{currSheet=styleSheets[i];rules=currSheet.rules?currSheet.rules:currSheet.cssRules;if(!rules){continue}for(var j=0;j<rules.length;j++){currSelector=rules[j].selectorText;if(currSelector){currSelector=currSelector.toLowerCase();if(isPrefix){if(currSelector.indexOf(classNamePrefix)===0){currVal=parseInt(currSelector.replace(classNamePrefix,""),10);if(isNaN(currVal)){count++}else{numFound=Math.max(numFound,currVal)}}}else{if(currSelector==classNamePrefix){numFound++}}}}}catch(e){}}return Math.max(numFound,count)};$.ig.util._isCanvasSupported=function(){var canvas=document.createElement("canvas");return!!(canvas.getContext&&canvas.getContext("2d"))};$.ig.util._renderUnsupportedBrowser=function(widget,locale){if(!widget.events||!widget.events.browserNotSupported||widget._trigger(widget.events.browserNotSupported)){var elem=widget.element,o=widget.options,container=$("<div></div>").css("overflow","auto").addClass(widget.css.unsupportedBrowserClass).appendTo(elem),ul,browserUnsupported;locale=locale||$.ig.util.locale;if($.ig.util.isIE){browserUnsupported="Internet Explorer "+$.ig.util.browserVersion}else if($.ig.util.isOpera){browserUnsupported="Opera "+$.ig.util.browserVersion}else if($.ig.util.isWebKit){browserUnsupported="Webkit "+$.ig.util.browserVersion}else if($.ig.util.isFF){browserUnsupported="Mozilla Firefox "+$.ig.util.browserVersion}else{browserUnsupported=$.ig.util.browserVersion}$("<div></div>").addClass("ui-html5-current-browser-label").html(locale.currentBrowser.replace("{0}",browserUnsupported)).appendTo(container);$("<div></div>").addClass("ui-html5-non-html5-text").html(locale.unsupportedBrowser).appendTo(container);ul=$("<ul></ul>").addClass("ui-html5-browsers-list").appendTo(container);$("<a></a>").attr("href",locale.chromeDownload).attr("target","_blank").addClass("ui-html5-chrome-icon").html(locale.chrome8).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(ul));$("<a></a>").attr("href",locale.firefoxDownload).attr("target","_blank").addClass("ui-html5-firefox-icon").html(locale.firefox36).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(ul));$("<a></a>").attr("href",locale.operaDownload).attr("target","_blank").addClass("ui-html5-Opera-icon").html(locale.opera11).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(ul));$("<a></a>").attr("href",locale.safariDownload).attr("target","_blank").addClass("ui-html5-safari-icon").html(locale.safari5).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(ul));$("<a></a>").attr("href",locale.ieDownload).attr("target","_blank").addClass("ui-html5-ie-icon").html(locale.ie9).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(ul));if(widget.css.unsupportedBrowserClass.indexOf(" ui-html5-non-html5")===-1){elem.addClass("ui-html5-non-html5")}if(o.width){elem.css("width",o.width)}if(o.height){elem.css("height",o.height)}}};(function($){$.ig.util.profiler={};var methods={};$.ig.util.profiler.recordTime=function(methodName,time){var key="meth: "+methodName;if(!methods[key]){methods[key]=[]}methods[key][methods[key].length]=time};$.ig.util.profiler.reset=function(){methods={}};$.ig.util.profiler.logReport=function(){var meths=[];var j=0;var sum=0;var avg=0;for(var prop in methods){if(prop.indexOf("meth:")===0){var meth={};meth.name=prop.substr(5);sum=0;for(var i=0;i<methods[prop].length;i++){sum=sum+methods[prop][i]}avg=sum/methods[prop].length;meth.avg=avg;meth.callCount=methods[prop].length;meths[j]=meth;j++}}meths.sort(function(m1,m2){if(m1.avg<m2.avg){return 1}if(m1.avg>m2.avg){return-1}if(m1.avg==m2.avg){return 0}});for(var k=0;k<Math.min(200,meths.length);k++){console.log(meths[k].name+" avg: "+meths[k].avg+" callCount: "+meths[k].callCount)}}})(jQuery);$.ig.extendNativePrototype(Function.prototype,"invoke",function(){return this.apply(null,arguments)});$.ig.extendNativePrototype(Function.prototype,"runOn",function(target){var self=this;var ret=function(){return self.apply(target,arguments)};ret.original=this;ret.target=target;return ret});String.prototype.startsWith=function(s){return this.indexOf(s)===0};String.prototype.endsWith=function(s){var offset=this.length-s.length;return offset>=0&&this.lastIndexOf(s)===offset};String.prototype.remove=function(index,count){if(!count||index+count>this.length){return this.substr(0,index)}return this.substr(0,index)+this.substr(index+count)};String.prototype.compareTo=function(other){if(this==other){return 0}if(this<other){return-1}return 1};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}String.prototype.fullTrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")};String.prototype.trimStart=function(){var args=[" "];if(arguments.length>0){args=Array.prototype.slice.call(arguments)}if(this.length===0)return this;var i=0;for(;args.indexOf(this.charAt(i))>-1&&i<this.length;i++);return this.substring(i)};String.prototype.trimEnd=function(){var args=[" "];if(arguments.length>0){args=Array.prototype.slice.call(arguments)}var i=this.length-1;for(;i>=0&&args.indexOf(this.charAt(i))>-1;i--);return this.substring(0,i+1)};String.getHashCode=function(){return this};String.isNullOrEmpty=function(s){return!s||s.length<1};String.empty=function(){return""};String.concat=function(){return[].join.call(arguments,"")};String.concat1=function(o1,o2){return[].join.call(arguments,"")};String.concat2=function(s1,s2){return[].join.call(arguments,"")};String.concat3=function(){return[].join.call(arguments,"")};String.concat4=function(o1,o2,o3){return[].join.call(arguments,"")};String.concat5=function(s1,s2,s3){return[].join.call(arguments,"")};String.concat6=function(o1,o2,o3,o4){return[].join.call(arguments,"")};String.concat7=function(s1,s2,s3,s4){return[].join.call(arguments,"")};String.prototype.equals=function(other){return this==other};String.prototype.contains=function(s){return this.indexOf(s)>-1};String.prototype.padLeft=function(len,c){var s=this;c=c||" ";while(s.length<len){s=c+s}return s};String.prototype.padRight=function(len,c){var s=this;c=c||" ";while(s.length<len){s+=c}return s};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};if(!Array.prototype.filter){Array.prototype.filter=function(fun){var t,len,res,thisp,val,i;if(this===undefined||this===null){throw new TypeError}t=Object(this);len=t.length>>>0;if(typeof fun!="function"){throw new TypeError}res=[];thisp=arguments[1];for(i=0;i<len;i++){if(i in t){val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}return res}}$.ig.extendNativePrototype(Array.prototype,"insertRange",function(index,items){var i=0;if(this.length===0){for(i=0;i<items.length;i++){this[index++]=items[i]}}else{for(i=0;i<items.length;i++){this.splice(index++,0,items[i])}}});$.ig.extendNativePrototype(Array.prototype,"insertRange1",function(index,items){var i=0;if(this.length===0){for(i=0;i<items.length;i++){this[index++]=items[i]}}else{for(i=0;i<items.length;i++){this.splice(index++,0,items[i])}}});$.ig.extendNativePrototype(Array.prototype,"clone",function(){return $.extend(true,[],this)});$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0});Math.log10=function(n){return Math.log(n)/Math.log(10)};Math.logBase=function(n,n2){return Math.log(n)/Math.log(n2)};Math.sign=function(n){if(n<0){return-1}else if(n>0){return 1}else{return 0}};Number.getHashCode=function(){return this};Number.isInfinity=function(n){return n===Infinity||n===-Infinity};window.toStaticHTML=window.toStaticHTML||function(s){return s};window.MSApp=window.MSApp||{};window.MSApp.execUnsafeLocalFunction=window.MSApp.execUnsafeLocalFunction||function(fn){fn.apply()};$.ig.util.jQueryUIMainVersion=$.ui&&$.ui.version&&$.ui.version.length>0?parseInt($.ui.version.split(".",1)[0],10):null;$.ig.util.jQueryUISubVersion=$.ui&&$.ui.version&&$.ui.version.length>0?parseInt($.ui.version.split(".",2)[1],10):null;$.ig.util.jqueryFlagsCache={};$.ig.util.jqueryCreateFlags=function(flags){var object=$.ig.util.jqueryFlagsCache[flags]={},i,length;flags=flags.split(/\s+/);for(i=0,length=flags.length;i<length;i++){object[flags[i]]=true}return object};$.ig.util.jqueryCallbacks=function(flags){flags=flags?$.ig.util.jqueryFlagsCache[flags]||$.ig.util.jqueryCreateFlags(flags):{};var list=[],stack=[],memory,fired,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type==="array"){add(elem)}else if(type==="function"){if(!flags.unique||!self.has(elem)){list.push(elem)}}}},fire=function(context,args){args=args||[];memory=!flags.memory||[context,args];fired=true;firing=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(context,args)===false&&flags.stopOnFalse){memory=true;break}}firing=false;if(list){if(!flags.once){if(stack&&stack.length){memory=stack.shift();self.fireWith(memory[0],memory[1])}}else if(memory===true){self.disable()}else{list=[]}}},self={add:function(){if(list){var length=list.length;add(arguments);if(firing){firingLength=list.length}else if(memory&&memory!==true){firingStart=length;fire(memory[0],memory[1])}}return this},remove:function(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++){for(var i=0;i<list.length;i++){if(args[argIndex]===list[i]){if(firing){if(i<=firingLength){firingLength--;if(i<=firingIndex){firingIndex--}}}list.splice(i--,1);if(flags.unique){break}}}}}return this},has:function(fn){if(list){var i=0,length=list.length;for(;i<length;i++){if(fn===list[i]){return true}}}return false},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory||memory===true){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){if(stack){if(firing){if(!flags.once){stack.push([context,args])}}else if(!(flags.once&&memory)){fire(context,args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};$.ig.util.jqueryDeferred=function(func){var doneList=$.ig.util.jqueryCallbacks("once memory"),failList=$.ig.util.jqueryCallbacks("once memory"),progressList=$.ig.util.jqueryCallbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);return this},always:function(){deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments);return this},pipe:function(fnDone,fnFail,fnProgress){return $.ig.util.jqueryDeferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn)){deferred[handler](function(){returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}})}else{deferred[handler](newDefer[action])}})}).promise()},promise:function(obj){if(obj===undefined||obj===null){obj=promise}else{for(var key in promise){obj[key]=promise[key]}}return obj}},deferred=promise.promise({}),key;for(key in lists){deferred[key]=lists[key].fire;deferred[key+"With"]=lists[key].fireWith}deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock);if(func){func.call(deferred,deferred)}return deferred};$.ig.util.checkDeferred=function(){$.ig.util.deferredDefined=!!($.Deferred!==undefined&&$.Deferred().state)};$.ig.util.deferred=function(){if($.ig.util.deferredDefined===undefined){$.ig.util.checkDeferred()}if($.ig.util.deferredDefined){return $.Deferred()}else{return $.ig.util.jqueryDeferred()}};$.ig.util.ajax=function(url,contentType,data,method,requestOptions){var deferred=$.ig.util.deferred();var isCrossDomain;if(requestOptions&&"isCrossDomain"in requestOptions){isCrossDomain=requestOptions.isCrossDomain}else{isCrossDomain=$.support.cors}var xhrObj=function(rOptions){var xhr=new XMLHttpRequest;if(isCrossDomain&&!("withCredentials"in xhr||rOptions&&"withCredentials"in rOptions&&rOptions.withCredentials)&&typeof XDomainRequest!="undefined"){xhr=new XDomainRequest;xhr.getResponseHeader=function(){return null};xhr.setRequestHeader=function(){xhr.status=200};xhr.getAllResponseHeaders=function(){return null};xhr.onload=function(){xhr.readyState=4;xhr.status=200;xhr.statusText="success";xhr.getAllResponseHeaders=function(){};xhr.onreadystatechange()};xhr.onerror=function(){xhr.readyState=4;xhr.status=0;xhr.statusText="error";xhr.getAllResponseHeaders=function(){};xhr.onreadystatechange()};xhr.ontimeout=function(){xhr.readyState=4;xhr.status=0;xhr.statusText="timeout";xhr.getAllResponseHeaders=function(){};xhr.onreadystatechange()};xhr.onprogress=function(){}}return xhr}(requestOptions);var xhrFields;if("withCredentials"in xhrObj&&requestOptions&&"withCredentials"in requestOptions&&requestOptions.withCredentials){xhrFields={withCredentials:true}}var beforeSend=function(jqXHR,options){if(requestOptions){if($.isFunction(requestOptions.beforeSend)){jqXHR.setRequestHeader("Content-Type",contentType);requestOptions.beforeSend.call(this,jqXHR,options,requestOptions)}}};$.ajax({crossDomain:isCrossDomain?true:false,isLocal:false,url:url,contentType:contentType,data:data,type:method,dataType:"text",xhrFields:xhrFields,beforeSend:beforeSend,xhr:function(){return xhrObj},success:function(responce,textStatus,jqXHR){deferred.resolve(responce)},error:function(jqXHR,textStatus,errorThrown){deferred.reject(errorThrown)}});return deferred.promise()};$.ig.util.offset=function(e,xy){xy=xy||e.offset();e=e?e[0].ownerDocument:document;e=e?e.documentElement:null;var z=e?e.msContentZoomFactor:null;if(z&&z>1){xy.left+=e.scrollLeft-window.pageXOffset;xy.top+=e.scrollTop-window.pageYOffset}return xy};$.ig.util.getRelativeOffset=function(e){var elem=e.parent(),o={left:0,top:0},position;while(elem[0]!==null&&elem[0]!==undefined&&elem[0].nodeName!=="#document"){position=elem.css("position");if(position!=="static"&&position!==""){o.left=elem.offset().left-elem.scrollLeft();o.top=elem.offset().top-elem.scrollTop();break}elem=elem.parent()}return o};$.ig.util.setSize=function(elem,prop,val,chart,notifyResized){if(!elem||!elem[0]){return}var timer,px,obj=elem[0]._w_s_f=elem[0]._w_s_f||{},perc=obj.perc;if(!prop){if(obj.tickID){obj.onTick(true)}delete obj.elem;delete obj.chart;elem[0]._w_s_f=null;return}if(!val){val=elem[prop]()}if(perc&&perc.indexOf(prop)>=0){perc=perc.replace(prop,"")}if(val){elem[prop](val);if(typeof val!=="number"){val=val.toString();if(val.indexOf("%")>0){perc=perc||"";if(perc.indexOf(prop)<0){timer=perc+=prop}}px=val.indexOf("px");if(px>0){val=val.substring(0,px)}px=parseFloat(val);if(px.toString()===val){val=px}else{val=elem[prop]();if(!val){obj.wait=obj.wait||"";if(obj.wait.indexOf(prop)<0){obj.wait+=prop}timer=prop}}}obj.perc=perc;if(val&&chart){if(chart[prop]){chart[prop](val)}if(notifyResized){chart[notifyResized]()}}}if(!timer&&!elem[0].offsetWidth){timer=obj.wait="width"}if(timer){obj.elem=elem;obj.chart=chart;obj.notify=notifyResized;obj.onTick=obj.onTick||function(stop){var resize,obj=this,chart=obj.chart,elem=obj.elem,perc=obj.perc||"",wait=obj.wait||"",width=stop||elem[0].offsetWidth,height=stop||elem[0].offsetHeight,oldWidth=obj.oldWidth||0,oldHeight=obj.oldHeight||0;stop=stop===true||!perc&&!wait;if(stop){if(obj.tickID){clearInterval(obj.tickID)}delete obj.tickID;return}if(!obj.tickID&&(!width||!height||perc)){obj.tickID=setInterval(function(){obj.onTick()},200)}if(!width||!height){return}delete obj.wait;obj.oldWidth=width;obj.oldHeight=height;if(!chart){return}if(chart.width&&(perc.indexOf("width")>=0&&width!==oldWidth||wait.indexOf("width")>=0)){chart.width(resize=width)}if(chart.height&&(perc.indexOf("height")>=0&&height!==oldHeight||wait.indexOf("height")>=0)){chart.height(resize=height)}if(resize&&obj.notify){chart[obj.notify]()}};obj.onTick()}};$.ig.util.getEasingFunction=function(easingValue){if(easingValue===null||easingValue=="null"||easingValue=="linear"){return null}switch(easingValue){case"cubic":return $.ig.EasingFunctions.prototype.cubicEase}return easingValue};$.ig.util.hasVerticalScroll=function(elem){var overflow=$(elem).css("overflow-y");return overflow==="scroll"||overflow==="auto"&&elem[0].scrollHeight>elem[0].clientHeight};$.ig.util.hasHorizontalScroll=function(elem){var overflow=$(elem).css("overflow-x");return overflow==="scroll"||overflow==="auto"&&elem[0].scrollWidth>elem[0].clientWidth};$.ig.util.getScrollWidth=function(){var el=$('<div style="width: 100px; height: 100px; position: absolute; top: -10000px; left: -10000px; overflow: scroll"></div>').appendTo($(document.body)),scrollWidth;scrollWidth=el[0].offsetWidth-el[0].clientWidth;el.remove();return scrollWidth};$.ig.util.getScrollHeight=function(){var el=$('<div style="width: 100px; height: 100px; position: absolute; top: -10000px; left: -10000px; overflow: scroll"></div>').appendTo($(document.body)),scrollWidth;scrollHeight=el[0].offsetHeight-el[0].clientHeight;el.remove();return scrollHeight};$.ig.util.isDomElement=function(o){return typeof HTMLElement==="object"?o instanceof HTMLElement:o&&typeof o==="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName==="string"};$.ig.util.isJsonpUrl=function(url){var isJSONPExpr=/(=)\?(?=&|$)|\?\?/;return isJSONPExpr.test(url)};$.ig.util.evtButton=function(e){e=e?e.button:null;if(e===1){e=this._ie_8;if(!e){var v;e=window.navigator.userAgent;if(e){v=e.toLowerCase().indexOf("msie ");if(v>0){v=parseFloat(e.substring(v+5));if(v>8){v=parseFloat(document.documentMode)}}}this._ie_8=e=v&&!isNaN(v)&&v>5&&v<9?1:-1}e=e<0?1:0}return e===2?2:e?1:0};$.ig.util.isTouchDevice=function(){return"ontouchstart"in window||window.navigator.msMaxTouchPoints>0};$.fn.animateRotate=function(startAngle,endAngle,duration,easing,complete){return this.each(function(){var elem=$(this);$({deg:startAngle}).animate({deg:endAngle},{duration:duration,easing:easing,step:function(now){elem.css({"-moz-transform":"rotate("+now+"deg)","-webkit-transform":"rotate("+now+"deg)","-o-transform":"rotate("+now+"deg)","-ms-transform":"rotate("+now+"deg)",transform:"rotate("+now+"deg)"})},complete:complete||$.noop})})};$.ig.util.makeCRCTable=function(){var c,n,k,crcTable=[];for(n=0;n<256;n++){c=n;for(k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}crcTable[n]=c}return crcTable};$.ig.util.crc32=function(str){var crcTable=$.ig.util.crcTable||($.ig.util.crcTable=$.ig.util.makeCRCTable()),crc=0^-1,i;str=unescape(encodeURIComponent(str));for(i=0;i<str.length;i++){crc=crc>>>8^crcTable[(crc^str.charCodeAt(i))&255]}return(crc^-1)>>>0};$.ig.util.getCheckSumForObject=function(obj){var str="",key;for(key in obj){if(obj.hasOwnProperty(key)&&typeof obj[key]!=="object"){str+=obj[key]}}return $.ig.util.crc32(str)};if($.Widget){(function(createWidget){$.Widget.prototype._createWidget=function(options,element){var el=$(element||this.defaultElement||this)[0];if(el!==this){$.data(el,this.widgetName,this)}return createWidget.apply(this,arguments)}})($.Widget.prototype._createWidget)}})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI data source localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.DataSourceLocale){$.ig.DataSourceLocale={};$.extend($.ig.DataSourceLocale,{locale:{invalidDataSource:"The supplied data source is invalid. It happens to be a scalar.",unknownDataSource:"Cannot determine the data source type. Please specify if it is JSON or XML data.",errorParsingArrays:"There was an error parsing the array data and applying the defined data schema: ",errorParsingJson:"There was an error parsing the JSON data and applying the defined data schema: ",errorParsingXml:"There was an error parsing the XML data and applying the defined data schema: ",errorParsingHtmlTable:"There was an error extracting the data from the HTML Table and applying the schema : ",errorExpectedTbodyParameter:"Expected a tbody or a table as a parameter.",errorTableWithIdNotFound:"The HTML Table with the following ID was not found: ",errorParsingHtmlTableNoSchema:"There was an error parsing the Table DOM: ",errorParsingJsonNoSchema:"There was an error parsing/evaluating the JSON string: ",errorParsingXmlNoSchema:"There was an error parsing the XML string: ",errorXmlSourceWithoutSchema:"The supplied data source is an xml document, but there is no defined data schema ($.IgDataSchema) ",errorUnrecognizedFilterCondition:" The filter condition that was passed was not recognized: ",errorRemoteRequest:"The remote request to fetch data has failed: ",errorSchemaMismatch:"The input data doesn't match the schema, the following field couldn't be mapped: ",errorSchemaFieldCountMismatch:"The input data doesn't match the schema in terms of number of fields. ",errorUnrecognizedResponseType:"The response type was either not set correctly, or it was not possible to detect it automatically. Please set settings.responseDataType and/or settings.responseContentType.",hierarchicalTablesNotSupported:"Tables are not supported for HierarchicalSchema",cannotBuildTemplate:"The jQuery template could not be built. There are no records present in the data source, and no columns defined.",unrecognizedCondition:"Unrecognized filtering condition in the following expression: ",fieldMismatch:"The following expression contains an invalid field or filtering condition: ",noSortingFields:"There are no fields specified. You need to specify at least one field to sort by, when calling sort().",filteringNoSchema:"There is no schema / fields specified. You need to specify a schema with field definitions and types to be able to filter the data source."}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Data Binding Plugin 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 * 
 * igDataSource provides the following functionality:
 * - read and parse local XML , JSON , and HTML data
 * - normalize / transform the above data according to a schema
 * - data type conversion (date, string, number, etc.)
 * - define relationships between two and more flat data sources - with primary/foreign keys, etc
 * - build URL params for requests that get remote data 
 * - in case of scenarios such as paging, understand and prase the response - expect that it's in a predefined format that can be additionall configured by the developer
 * - get data from WCF services  
 * - ability to combine local with remote functionality  
 * - queueing AJAX requests
 *	paging,filtering (searching), and sorting functionality that are control-independent are also implemented here
 *	the idea of this code is to serve as a data-source abstraction layer (client-side data source control)
 *	that may well be used by all other client-side controls , such as dropdown, tree, menu, etc. 
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *	jquery-1.4.4.js
 *	infragistics.util.js
 *
 */
(function($){$.ig=$.ig||{};$.ig.DataSource=$.ig.DataSource||Class.extend({settings:{id:"ds",outputResultsName:null,callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,requestType:"GET",type:"unknown",schema:null,primaryKey:null,responseTotalRecCountKey:null,responseDataKey:null,responseDataType:null,responseContentType:null,localSchemaTransform:true,urlParamsEncoding:null,urlParamsEncoded:null,paging:{enabled:false,type:"remote",pageSize:5,pageSizeUrlKey:null,pageIndexUrlKey:null,pageIndex:0,appendPage:false},filtering:{type:"remote",caseSensitive:false,applyToAllData:true,customFunc:null,filterExprUrlKey:null,filterLogicUrlKey:"filterLogic",defaultFields:[],expressions:[],exprString:""},sorting:{defaultDirection:"none",defaultFields:[],applyToAllData:true,customFunc:null,compareFunc:null,customConvertFunc:null,type:"remote",caseSensitive:false,sortUrlKey:null,sortUrlAscValueKey:null,sortUrlDescValueKey:null,expressions:[],exprString:""},summaries:{type:"remote",summaryExprUrlKey:"summaries",summariesResponseKey:"summaries",summaryExecution:"afterfilteringandpaging",columnSettings:[]},fields:[],serializeTransactionLog:true,aggregateTransactions:false,autoCommit:false,updateUrl:null,rowAdded:null,rowUpdated:null,rowInserted:null,rowDeleted:null},init:function(options){var tempSource,tempCallee,arrayAlready=false,metadata;if(options){tempSource=options.dataSource;if(tempSource&&($.type(tempSource)==="array"||$.type(tempSource)==="object")){if($.type(tempSource)==="object"&&options.responseDataKey&&options.type!=="json"){metadata=tempSource.Metadata;options.dataSource=$.ig.findPath(tempSource,options.responseDataKey);if(metadata&&options.dataSource.Metadata===undefined){options.dataSource.Metadata=metadata}arrayAlready=true}else{options.dataSource=null}}if(options.callee){tempCallee=options.callee;options.callee=null}this.settings=$.extend(true,{},$.ig.DataSource.prototype.settings,options);if(arrayAlready){this.settings.type="array"}else if(tempSource&&($.type(tempSource)==="array"||$.type(tempSource)==="object")){options.dataSource=tempSource;this.settings.dataSource=tempSource}if(tempCallee){this.settings.callee=tempCallee;tempCallee=null}}this.settings.paging.pageIndex=0;this._isBound=false;this._url=null;this._dsCallback=null;this._data=[];this._dataView=[];if(this.settings.type==="unknown"){this._runtimeType=this.analyzeDataSource()}else{this._runtimeType=this.settings.type}this._parser=new $.ig.TypeParser;this._schema=null;this._isSortingReq=false;this._isFilteringReq=false;this._isPagingReq=false;this._isSummariesReq=false;this._dataSummaries=[];this._recCount=0;this._hasCount=false;this._initSchema();this._filteredDataView=[];this._transactionLog=[];this._accumulatedTransactionLog=[];return this},_initSchema:function(){if(this.settings.schema){if(this.settings.schema instanceof $.ig.DataSchema){this._schema=this.settings.schema}else{if(this.settings.type!=="unknown"){this._schema=new $.ig.DataSchema(this.settings.type,this.settings.schema)}else{this._schema=new $.ig.DataSchema(this._runtimeType,this.settings.schema)}this._schema._pk=this.settings.primaryKey}}},fields:function(fields){if(fields===undefined||fields===null){return this.settings.fields}this.settings.fields=fields;return this},analyzeDataSource:function(){var ds=this.dataSource(),dc;if(ds===undefined||ds===null){return"empty"}if($.type(ds)==="function"){return"function"}if($.type(ds)==="array"){return"array"}if($.type(ds)==="number"||$.type(ds)==="boolean"||$.type(ds)==="date"){return"invalid"}if($.type(ds)==="string"){ds=$.trim(ds);if(ds.startsWith("/")){return"remoteUrl"}if($("#"+this.settings.id).length>0&&ds.toLowerCase().startsWith("<table")){return"htmlTableString"}if(ds.toLowerCase().startsWith("<table")){dc="<div id='"+this.settings.id+"' style='display:none;visibility:hidden;'>"+ds+"</div>";$(dc).appendTo($("body"));return"htmlTableString"}if(!ds.startsWith("[")&&!ds.startsWith("{")&&!ds.startsWith("<")){if(!ds.startsWith("http://")&&!ds.startsWith("https://")&&$("#"+ds).length>0&&$("#"+ds)[0].nodeName.toLowerCase()==="table"){return"htmlTableId"}this._url=ds;return"remoteUrl"}return"unknown"}if(ds.nodeName&&ds.nodeName.toLowerCase()==="table"){return"htmlTableDom"}if(ds.nodeName&&(ds.nodeName.toLowerCase()==="ul"||ds.nodeName.toLowerCase()==="ol")){return"htmlListDom"}return"unknown"},dataView:function(){return this._dataView},data:function(){return this._data},transformedData:function(transformedExecution){switch(transformedExecution){case"priortofilteringandpaging":this._transformedData=this._data;break;case"afterfilteringbeforepaging":break;case"afterfilteringandpaging":this._transformedData=this.dataView();break;default:this._transformedData=this._dataView;break}return this._transformedData},dataSummaries:function(){var s=this.settings.summaries,type=s.type;if(type==="local"){this._dataSummaries=this.transformedData(s.summaryExecution)}return this._dataSummaries},schema:function(s,t){if(s===undefined||s===null){return this._schema}if(s instanceof $.ig.DataSchema){this._schema=s}else{if(t===null||t===undefined){this._schema=new $.ig.DataSchema(s.type,s)}else{this._schema=new $.ig.DataSchema(t,s)}this._schema._pk=this.settings.primaryKey}return this},pagingSettings:function(p){if(p===undefined||p===null){return this.settings.paging}this.settings.paging=p;return this},filterSettings:function(f){if(f===undefined||f===null){return this.settings.filtering}this.settings.filtering=f;return this},sortSettings:function(s){if(s===undefined||s===null){return this.settings.sorting}this.settings.sorting=s;return this},summariesSettings:function(s){if(s===undefined||s===null){return this.settings.summaries}this.settings.summaries=s;return this},dataSource:function(ds){if(ds===undefined||ds===null){return this.settings.dataSource}this.settings.dataSource=ds;this.analyzeDataSource();return this},type:function(t){if(t===undefined||t===null){return this._runtimeType}this.settings.type=t;return this},findRecordByKey:function(key,ds){var i,data=ds||this._data,len=data?data.length:0,search=len>0&&$.isArray(data[0])?this._lookupPkIndex():this.settings.primaryKey;for(i=0;i<len;i++){if(data[i][search]===key){return data[i]}}return null},removeRecordByKey:function(key,origDs){var i,len,data,count=0,all=[this._data,this._dataView,this._filteredData,origDs],prime=this.settings.primaryKey,primeIdx=this._lookupPkIndex(),search;while(count<4){data=all[count++];len=data?data.length:0;search=len>0&&$.isArray(data[0])?primeIdx:prime;for(i=0;i<len;i++){if(data[i]&&data[i][search]===key){$.ig.removeFromArray(data,i);break}}if(data===all[count]){count++}}},removeRecordByIndex:function(index,origDs){var i,len,record,data=this._data,view=this._dataView,filter=this._filteredData;if(!data||isNaN(index)||index<0||index>=data.length){return}record=data[index];$.ig.removeFromArray(data,index);if(origDs){$.ig.removeFromArray(origDs,index)}data=data===view?filter:view;while(record){len=data?data.length:0;for(i=0;i<len;i++){if(data[i]===record){$.ig.removeFromArray(data,i);break}}if(data===filter){return}data=filter}},setCellValue:function(rowId,colId,val,autoCommit){var t=this._createCellTransaction(rowId,colId,val);this._addTransaction(t);if(autoCommit===true){this.commit(rowId)}return t},updateRow:function(rowId,rowObject,autoCommit){var t=this._createRowTransaction(rowId,rowObject),oldRow=this.settings.primaryKey===null?this._data[parseInt(rowId,10)]:this.findRecordByKey(rowId),rowIndex=this.settings.primaryKey===null?rowId:$.ig.indexInArray(this._data,oldRow);this._addTransaction(t);if(autoCommit===true){this.commit(rowId)}if($.type(this.settings.rowUpdated)==="function"){if(this.settings.callee){this.settings.rowUpdated.apply(this.settings.callee,[{rowIndex:rowIndex,newRow:rowObject,oldRow:oldRow},this])}else{this.settings.rowUpdated({rowIndex:rowIndex,newRow:rowObject,oldRow:oldRow},this)}}return t},addRow:function(rowId,rowObject,autoCommit){var t=this._createNewRowTransaction(rowId,rowObject);this._addTransaction(t);if(autoCommit===true){this.commit(rowId)}if($.type(this.settings.rowAdded)==="function"){if(this.settings.callee){this.settings.rowAdded.apply(this.settings.callee,[{rowId:rowId,row:rowObject},this])}else{this.settings.rowAdded({rowId:rowId,row:rowObject},this)}}return t},insertRow:function(rowId,rowObject,rowIndex,autoCommit){var t=this._createInsertRowTransaction(rowId,rowObject,rowIndex);this._addTransaction(t);if(autoCommit===true){this.commit(rowId)}if($.type(this.settings.rowInserted)==="function"){if(this.settings.callee){this.settings.rowInserted.apply(this.settings.callee,[{rowId:rowId,row:rowObject,rowIndex:rowIndex},this])}else{this.settings.rowInserted({rowId:rowId,row:rowObject,rowIndex:rowIndex},this)}}return t},deleteRow:function(rowId,autoCommit){var t=this._createDeleteRowTransaction(rowId),row=this.settings.primaryKey===null?this._data[parseInt(rowId,10)]:this.findRecordByKey(rowId),rowIndex=this.settings.primaryKey===null?rowId:$.ig.indexInArray(this._data,row),isNewRow=false,i,j;for(i=0;this.settings.aggregateTransactions&&i<this._transactionLog.length;i++){if(this._transactionLog[i].type==="newrow"&&this._transactionLog[i].rowId===rowId){isNewRow=true;rowId=this._transactionLog[i].rowId;this._removeTransactionByTransactionId(this._transactionLog[i].tid);for(j=0;j<this._accumulatedTransactionLog.length;j++){if(this._accumulatedTransactionLog[j].rowId===rowId){$.ig.removeFromArray(this._accumulatedTransactionLog,j)}}break}}if(!(this.settings.aggregateTransactions&&isNewRow)){this._addTransaction(t);if(autoCommit===true){this.commit(rowId)}if($.type(this.settings.rowDeleted)==="function"){if(this.settings.callee){this.settings.rowDeleted.apply(this.settings.callee,[{rowId:rowId,row:row,rowIndex:rowIndex},this])}else{this.settings.rowDeleted({rowId:rowId,row:row,rowIndex:rowIndex},this)}}}},addNode:function(data){var t=this._createAddNodeTransaction(data);this._addTransaction(t)},removeNode:function(data){var t=this._createRemoveNodeTransaction(data);this._addTransaction(t)},getDetachedRecord:function(t){var o=$.type(this._data[0])==="array"?[]:{},i,originalRec;if(this.settings.primaryKey===null){originalRec=this._data[parseInt(t.rowId,10)]}else{originalRec=this.findRecordByKey(t.rowId)}if(this._data[0]!=="array"){for(i in originalRec){if(originalRec.hasOwnProperty(i)){o[i]=originalRec[i]}}}else{for(i=0;i<originalRec.length;i++){o[i]=originalRec[i]}}if(t.type==="cell"){o[t.col]=t.value;return o}if(o!=="array"){for(i in t.row){if(t.row.hasOwnProperty(i)){o[i]=t.row[i]}}}else{for(i=0;i<t.row.length;i++){o[i]=t.row[i]}}return o},commit:function(id){if(id!==null&&id!==undefined){this._commitTransactionsByRowId(id)}else{this._transactionLog.reverse();while(this._transactionLog.length>0){this._commitTransaction(this._transactionLog.pop())}}},rollback:function(id){var i;if(id!==null&&id!==undefined){this._rollbackTransactionsByRowId(id)}else{i=this._transactionLog.length;while(i-->0){this._rollbackTransaction(this._transactionLog[i])}}},pendingTransactions:function(){return this._transactionLog},allTransactions:function(){return this._accumulatedTransactionLog},_createCellTransaction:function(rowId,colId,val){return{type:"cell",rowId:rowId,tid:this._generateTransactionId(),col:colId,value:val}},_createRowTransaction:function(rowId,rowObject){return{type:"row",tid:this._generateTransactionId(),row:rowObject,rowId:rowId}},_createNewRowTransaction:function(rowId,rowObject){return{type:"newrow",tid:this._generateTransactionId(),row:rowObject,rowId:rowId}},_createInsertRowTransaction:function(rowId,rowObject,rowIndex){return{type:"insertrow",tid:this._generateTransactionId(),row:rowObject,rowId:rowId,rowIndex:rowIndex}},_createDeleteRowTransaction:function(rowId){return{type:"deleterow",tid:this._generateTransactionId(),rowId:rowId}},_createAddNodeTransaction:function(data){return{type:"addnode",tid:this._generateTransactionId(),tdata:data}},_createRemoveNodeTransaction:function(data){return{type:"removenode",tid:this._generateTransactionId(),tdata:data}},_addTransaction:function(t){var exists=false,i=0,prop,globalt,j,dirty=true,k;if(t.type==="cell"){for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===t.rowId&&this._transactionLog[i].col===t.col){exists=true;if(this.settings.autoCommit===false&&this.settings.aggregateTransactions===true){for(j=0;j<this.dataView().length;j++){if(this.dataView()[j][this.settings.primaryKey]===t.rowId&&this.dataView()[j][t.col]===t.value){for(k=0;k<this._accumulatedTransactionLog.length;k++){if(this._accumulatedTransactionLog[k].rowId===this._transactionLog[i].rowId){$.ig.removeFromArray(this._accumulatedTransactionLog,k)}}this._removeTransactionByTransactionId(this._transactionLog[i].tid);dirty=false}}}if(dirty){this._transactionLog[i].value=t.value;this._syncGlobalTransaction(this._transactionLog[i])}}}for(j=0;j<this._transactionLog.length;j++){if(this._transactionLog[j].type==="newrow"&&this._transactionLog[j].rowId===t.rowId){if(t.type==="row"){this._transactionLog[j].value=t.value}else{this._transactionLog[j].row[t.col]=t.value}this._syncGlobalTransaction(this._transactionLog[j]);return}}}else if(t.type==="row"){for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===t.rowId&&this._transactionLog[i].type!=="cell"){exists=true;if(this.settings.autoCommit===false&&this.settings.aggregateTransactions===true){dirty=false;for(j=0;j<this.dataView().length;j++){if(this.dataView()[j][this.settings.primaryKey]===t.rowId){for(prop in t.row){if(t.row.hasOwnProperty(prop)&&t.row[prop]!==this.dataView()[j][prop]){dirty=true;break}}break}}for(j=0,!dirty;j<this._transactionLog.length;j++){if(this._transactionLog[j].type==="newrow"&&this._transactionLog[j].rowId===t.rowId){this._transactionLog[j].row=t.row;this._syncGlobalTransaction(this._transactionLog[j]);return}}}if(dirty){this._transactionLog[i].row=t.row;this._syncGlobalTransaction(this._transactionLog[i])}else{for(k=0;k<this._accumulatedTransactionLog.length;k++){if(this._accumulatedTransactionLog[k].rowId===this._transactionLog[i].rowId){$.ig.removeFromArray(this._accumulatedTransactionLog,k)}}this._removeTransactionByTransactionId(this._transactionLog[i].tid)}}}}else if(t.type==="addnode"||t.type==="removenode"){this._transactionLog.push(t);return}if(!exists){this._transactionLog.push(t);globalt=$.extend(true,{},t);if(globalt.type==="cell"&&$.type(globalt.value)==="date"){globalt.value="/Date("+globalt.value.getTime()+")/"}else if(globalt.type==="row"||globalt.type==="insertrow"||globalt.type==="newrow"){for(prop in globalt.row){if(globalt.row.hasOwnProperty(prop)&&$.type(globalt.row[prop])==="date"){globalt.row[prop]="/Date("+globalt.row[prop].getTime()+")/"}}}this._accumulatedTransactionLog.push(globalt)}},_syncGlobalTransaction:function(t){var i,prop;if(!t){return}if(t.type==="cell"){for(i=0;i<this._accumulatedTransactionLog.length;i++){if(this._accumulatedTransactionLog[i].rowId===t.rowId){if($.type(t.value)==="date"){this._accumulatedTransactionLog[i].value="/Date("+t.value.getTime()+")/"}else{this._accumulatedTransactionLog[i].value=t.value}break}}}else if(t.type==="row"||t.type==="insertrow"||t.type==="newrow"){for(i=0;i<this._accumulatedTransactionLog.length;i++){if(this._accumulatedTransactionLog[i].rowId===t.rowId&&this._accumulatedTransactionLog[i].type!=="cell"){for(prop in t.row){if(t.row.hasOwnProperty(prop)){if($.type(t.row[prop])==="date"){this._accumulatedTransactionLog[i].row[prop]="/Date("+t.row[prop].getTime()+")/"}else{this._accumulatedTransactionLog[i].row[prop]=t.row[prop]}}}}}}},_removeTransactionByTransactionId:function(tid,removeFromAll){var i;for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].tid===tid){$.ig.removeFromArray(this._transactionLog,i);break}}if(removeFromAll===true){for(i=0;i<this._accumulatedTransactionLog.length;i++){if(this._accumulatedTransactionLog[i].tid===tid){$.ig.removeFromArray(this._accumulatedTransactionLog,i);break}}}},_removeTransactionsByRecordId:function(id){var i;for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===id){$.ig.removeFromArray(this._transactionLog,i);break}}},_addRow:function(row,index,origDs){var data,key,count=0,schema=this.settings.schema,layouts=schema?schema.layouts:null,lo,all=[this._data,this._dataView,origDs];if(layouts){for(key in layouts){if((key.match(/\//g)||[]).length!==1){continue}if(layouts.hasOwnProperty(key)&&layouts[key].key&&!row.hasOwnProperty(layouts[key].key)){if(layouts[key].responseDataKey){lo={};lo[layouts[key].responseDataKey]=[]}else{lo=[]}row[layouts[key].key]=lo}}}while(count<4){data=all[count++];if(data){if(index>=0&&index<data.length){data.splice(index,0,row)}else{data.push(row)}}if(data===all[count]){count++}}},_commitTransaction:function(t){var i,prop,rec,origRec,origDs=this.settings.localSchemaTransform?this._origDs:null;if(origDs===this._data){origDs=null}if(this.settings.primaryKey===null){rec=this._data[parseInt(t.rowId,10)];if(origDs){origRec=origDs[parseInt(t.rowId,10)]}}else{rec=this.findRecordByKey(t.rowId);if(origDs){origRec=this.findRecordByKey(t.rowId,origDs)}}if(t.type==="cell"){rec[t.col]=t.value;if(origRec){origRec[t.col]=t.value}}else if(t.type==="row"){if($.type(t.row)==="array"){for(i=0;i<t.row.length;i++){rec[i]=t.row[i];if(origRec){origRec[i]=t.row[i]}}}else{for(prop in t.row){if(t.row.hasOwnProperty(prop)){rec[prop]=t.row[prop];if(origRec){origRec[prop]=t.row[prop]}}}}}else if(t.type==="deleterow"){if(this.settings.primaryKey===null){this.removeRecordByIndex(parseInt(t.rowId,10),origDs)}else{this.removeRecordByKey(t.rowId,origDs)}}else if(t.type==="newrow"){this._addRow(t.row,-1,origDs)}else if(t.type==="insertrow"){this._addRow(t.row,t.rowIndex,origDs)}this._removeTransactionByTransactionId(t.tid)},_rollbackTransaction:function(t){this._removeTransactionByTransactionId(t.tid,true)},_commitTransactionsByRowId:function(id){var i;for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===id){this._commitTransaction(this._transactionLog[i])}}},_rollbackTransactionsByRowId:function(id){var i;for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===id){this._rollbackTransaction(this._transactionLog[i])}}},transactionsAsString:function(){return JSON.stringify(this._accumulatedTransactionLog)},_generateTransactionId:function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)},_lookupPkIndex:function(){var i;if(this._pkIndex!==undefined){return this._pkIndex}if(typeof this.settings.primaryKey==="string"){if(this.schema()&&this.schema().fields()&&this.schema().fields().length>0){for(i=0;i<this.schema().fields().length;i++){if(this.schema().fields()[i].name===this.settings.primaryKey){this._pkIndex=i;return i}}}}this._pkIndex=this.settings.primaryKey;return this.settings.primaryKey},saveChanges:function(success,error){if(this.settings.updateUrl!==null){var me=this,opts;opts={type:"POST",url:this.settings.updateUrl,data:{ig_transactions:JSON.stringify(this._accumulatedTransactionLog)},success:function(data,textStatus,jqXHR){me._saveChangesSuccess(data,textStatus,jqXHR);if(success){success(data,textStatus,jqXHR)}},error:function(jqXHR,textStatus,errorThrown){me._saveChangesError(jqXHR,textStatus,errorThrown);if(error){error(jqXHR,textStatus,errorThrown)}}};$.ajax(opts)}},_saveChangesSuccess:function(data,textStatus,jqXHR){if(data.Success){this.commit();this._transactionLog=[];this._accumulatedTransactionLog=[]}var schs=this._saveChangesHandlers,i=schs?schs.length:0;while(i-->0){schs[i](data,textStatus,jqXHR)}},_saveChangesError:function(jqXHR,textStatus,errorThrown){var sche=this._saveChangesErrorHandlers,i=sche?sche.length:0;while(i-->0){sche[i](jqXHR,textStatus,errorThrown)}},_addChangesSuccessHandler:function(functionDelegate){if(this._saveChangesHandlers===undefined){this._saveChangesHandlers=[]}this._saveChangesHandlers[this._saveChangesHandlers.length]=functionDelegate},_removeChangesSuccessHandler:function(functionDelegate){if(this._saveChangesHandlers!==undefined){var index=$.ig.indexInArray(this._saveChangesHandlers,functionDelegate);if(index>-1){this._saveChangesHandlers=this._saveChangesHandlers.slice(0,index).concat(this._saveChangesHandlers.slice(index+1,this._saveChangesHandlers.length))}}},_addChangesErrorHandler:function(functionDelegate){if(this._saveChangesErrorHandlers===undefined){this._saveChangesErrorHandlers=[]}this._saveChangesErrorHandlers[this._saveChangesErrorHandlers.length]=functionDelegate},_removeChangesErrorHandler:function(functionDelegate){if(this._saveChangesErrorHandlers!==undefined){var index=$.ig.indexInArray(this._saveChangesErrorHandlers,functionDelegate);if(index>-1){this._saveChangesErrorHandlers=this._saveChangesErrorHandlers.slice(0,index).concat(this._saveChangesErrorHandlers.slice(index+1,this._saveChangesErrorHandlers.length))}}},dataBind:function(callback,callee){var table,tableObj,dsObj,ds,s,p=this.settings,args,resKey,noCancel=true;this._transactionLog=[];this._accumulatedTransactionLog=[];if(!callback){callback=p.callback}args={cancel:false};if($.isFunction(p.dataBinding)){noCancel=p.dataBinding(this,args);if(noCancel===undefined){noCancel=true}}if(noCancel){if(this.settings.type==="unknown"&&(this._runtimeType===null||this._runtimeType===undefined)){this._runtimeType=this.analyzeDataSource()}else if(this._runtimeType=="json"){ds=this.dataSource();if($.type(ds)==="string"){ds=$.trim(ds);if(ds.startsWith("/")||ds.startsWith("http://")||ds.startsWith("https://")){this._runtimeType="remoteUrl"}}}switch(this._runtimeType){case"function":this._data=p.dataSource();if(this.schema()){this._data=this.schema().transform(this._data)}break;case"array":if(this.schema()&&this.settings.localSchemaTransform){this._data=this.schema().transform(this.dataSource());if(this.dataSource().Metadata){this._metadata=this.dataSource().Metadata;this.summariesResponse(this.settings.summaries.summariesResponseKey,this.dataSource())}this._origDs=this.dataSource()}else{this._data=this.dataSource()}break;case"htmlTableDom":case"htmlTableId":case"htmlTableString":if(this._tableBound){break}this._runtimeType=this.analyzeDataSource();if(this._runtimeType==="htmlTableId"){tableObj=$("#"+this.dataSource());table=this._validateTable(tableObj)}else if(this._runtimeType==="htmlTableString"){tableObj=$("#"+this.settings.id+" > table");table=this._validateTable(tableObj)}else{table=this.dataSource()}if(this.schema()&&this.settings.localSchemaTransform){this._data=this.schema().transform(table)}else{this._data=this.tableToObject(table)}this._tableBound=true;break;case"htmlListDom":this._data=this.schema().transform(this.dataSource());break;case"invalid":throw new Error($.ig.DataSourceLocale.locale.invalidDataSource);case"unknown":case"json":case"xml":if(this.settings.type!=="json"&&p.type!=="xml"){throw new Error($.ig.DataSourceLocale.locale.unknownDataSource)}else{resKey=this.settings.responseDataKey;if($.type(this.dataSource())==="string"){if(p.type==="json"){dsObj=this.stringToJSONObject(this.dataSource())}else{dsObj=this.stringToXmlObject(this.dataSource())}}else{dsObj=this.dataSource()}if(this.schema()&&this.settings.localSchemaTransform===true){this._data=this.schema().transform(dsObj);if(resKey!==null&&resKey!==undefined){this._origDs=$.ig.findPath(dsObj,resKey)}else{this._origDs=dsObj}}else if((!this.schema()||this.settings.localSchemaTransform===false)&&p.type==="json"){if(resKey!==null&&resKey!==undefined){this._data=this._origDs=$.ig.findPath(dsObj,resKey)}else{this._data=dsObj}this._origDs=dsObj}else if(!this.schema()&&p.type==="xml"){throw new Error($.ig.DataSourceLocale.locale.errorXmlSourceWithoutSchema)}this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,dsObj,this);if(dsObj.Metadata){this._metadata=dsObj.Metadata}this.summariesResponse(this.settings.summaries.summariesResponseKey,dsObj)}break;case"remoteUrl":this._remoteData(callback,callee);break;case"empty":this._data=[];this._dataView=[];this._dataSummaries=[];break;default:break}this._dataView=this._data;this._filter=false;s=p.sorting;if(s.type==="local"&&this._runtimeType!=="remoteUrl"&&s.defaultFields.length>0){this.sort(s.defaultFields,s.defaultDirection,false)}f=p.filtering;if(f.type==="local"&&this._runtimeType!=="remoteUrl"&&f.defaultFields.length>0){this.filter(f.defaultFields)}if(p.paging.enabled&&p.paging.type==="local"&&this._runtimeType!=="remoteUrl"){this._page()}if(!this._filter||!this._transformedData){this._populateTransformedData()}if(this._runtimeType!=="remoteUrl"){this._invokeCallback(callee,callback)}if($.isFunction(p.dataBound)&&!args.cancel){p.dataBound(this)}}return this},summariesResponse:function(key,dsObj){var rec,resPath,i,schema,func,offsets,offset,obj;if(key!==null&&key!==""){rec=dsObj;resPath=key.split(".");if(key.length>0){for(i=0;i<resPath.length;i++){if(rec===null||rec===undefined){break}rec=rec[resPath[i]]}this._dataSummaries=rec}else{this._dataSummaries=dsObj}if(this._dataSummaries===undefined||this._dataSummaries===null){this._dataSummaries=[]}if(this.settings.localSchemaTransform===true&&this.schema()&&dsObj&&dsObj.Metadata&&dsObj.Metadata.timezoneOffsetsSummaries){offsets=dsObj.Metadata.timezoneOffsetsSummaries;this._dataSummaries._serverOffsetsSummaries=offsets;schema=this.schema().schema;if(schema&&schema.fields){for(i=0;i<schema.fields.length;i++){if(schema.fields[i].type==="date"&&offsets[schema.fields[i].name]!==undefined){key=schema.fields[i].name;for(func in offsets[key]){offset=offsets[key][func];obj=this._dataSummaries[key][func];if($.type(obj)==="string"&&obj.indexOf("/Date(")!==-1){this._dataSummaries[key][func]=new Date(parseInt(obj.replace("/Date(","").replace(")/",""),10)+offset)}}}}}}}},_populateTransformedData:function(data){if(data!==null&&data!==undefined){this._transformedData=data}else{this._transformedData=this._data}},_invokeCallback:function(callee,callback){var cbResolved,calleeResolved;cbResolved=callback||this.settings.callback;calleeResolved=callee||this.settings.callee;if(cbResolved){if(calleeResolved){cbResolved.apply(calleeResolved,[true,"",this])}else{cbResolved(true,"",this)}}},_remoteData:function(callback,callee){var params,url=this.settings.dataSource,dataType=this.settings.responseDataType,contentType=this.settings.responseContentType,options,verb=this.settings.requestType;params=this._encodeUrl();if(callback){this._customCallback=callback}else{this._customCallback=null}this._callee=callee;options={url:url,data:verb==="GET"?params:JSON.stringify(params),type:verb,dataType:dataType,async:true,context:this,contentType:contentType,cache:false,dataFilter:this._dataFilter,success:this._successCallback,complete:this._completeCallback,converters:{"text json":function(value){return value}},error:this._errorCallback};this._processRequest(options)},_dataFilter:function(data,type){var ds,schema=this.context.schema(),rawData,t=this.context.settings.type,ver,returnString=false;if(type===undefined||type===null){if(typeof data==="object"&&data&&typeof data.charAt!=="function"){if($.isXMLDoc(data)){type="xml"}else{type="json"}}else{type="text"}}if(type==="xml"){schema._type="xml";ds=this.context._processXmlResponse(data,true,this.context)}else if(type==="json"){if(schema){schema._type="json"}if($.type(data)==="string"){rawData=JSON.parse(data)}else{rawData=data}returnString=true;ds=this.context._processJsonResponse(rawData,this.context)}else{if(jQuery.fn.jquery){ver=jQuery.fn.jquery.split(".")}if(ver&&ver.length>=2){if(parseInt(ver[1],10)>4||parseInt(ver[0],10)>1){this.dataTypes=[];this.dataTypes.push("text");returnString=true}}data=$.type(data)==="string"?$.trim(data):data;if(data&&$.type(data)==="string"&&(data.startsWith("<?xml")||data.startsWith("<"))||t==="xml"){if(schema){schema._type="xml"}ds=this.context._processXmlResponse(this.context.stringToXmlObject(data),false,this.context)}else if(data&&$.type(data)==="string"&&data.startsWith("[")||t==="json"||t==="array"){if(schema){schema._type="json"}ds=this.context._processJsonResponse(JSON.parse(data),this.context)}else if(data&&$.type(data)==="string"&&data.startsWith("{")||t==="json"){if(schema){schema._type="json"}ds=this.context._processJsonResponse(JSON.parse(data),this.context)}else if($.isXMLDoc(data)){if(schema){schema._type="xml"}ds=this.context._processXmlResponse(data,true,this.context)}else if(data!==""&&data!==null){throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedResponseType)}}if(returnString){if(!(this.context.settings.paging&&this.context.settings.paging.enabled&&this.context.settings.paging.appendPage)){this.context._data=ds}this.context._alreadySet=true}return ds},_successCallback:function(data){var x,len=data?data.length:0;if((data===undefined||data===null)&&!this._alreadySet){this._data=[];this._dataView=[]}else{if(this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage){for(x=0;x<len;++x){this._data[this._data.length]=data[x]}}else{if(this._alreadySet){this._dataView=this._data}else{this._data=data;this._dataView=data}}}this._alreadySet=false;this._populateTransformedData();this._isPagingReq=false;this._isFilteringReq=false;this._isSortingReq=false;this._isSummariesReq=false},_errorCallback:function(req,status,error){var f=this._customCallback||this.settings.callback,errmsg,statusMsg;this._isPagingReq=false;this._isFilteringReq=false;this._isSortingReq=false;this._isSummariesReq=false;statusMsg=status===null?" ":" ("+status+") ";errmsg=$.ig.DataSourceLocale.locale.errorRemoteRequest+statusMsg+(error!==undefined?error.message:req&&req.statusText?req.statusText:"");if(f&&this._callee){f.apply(this._callee,[false,errmsg,this])}else if(f){f(false,errmsg,this)}},_completeCallback:function(req,status){var f,callee,s=this.settings.sorting,p=this.settings.paging;if(s.type==="local"&&s.defaultFields.length>0){this.sort(s.defaultFields,s.defaultDirection,false)}if(p.enabled&&p.type==="local"){this._page()}f=this._customCallback||this.settings.callback;callee=this._callee||this.settings.callee;if(f&&callee){f.apply(callee,[true,"",this])}else if(f){f(true,"",this)}},_processRequest:function(options){var o,s;if(this.settings.responseDataType==="jsonp"){o={dataType:"jsonp",type:"GET",url:options.url,data:options.data,success:$.proxy(this._jsonpFilter,this)};s=this.settings;if(s.jsonp!==undefined&&s.jsonp!==null){o.jsonp=this.settings.jsonp}if(s.jsonpCallback!==undefined&&s.jsonpCallback!==undefined){o.jsonpCallback=this.settings.jsonpCallback}$.ajax(o)}else{$.ajax(options)}},_jsonpFilter:function(data,type){var resp,x;this.context=this;resp=this._dataFilter(data,"json");if(!resp.length&&$.type(resp)==="object"){resp=[resp]}if(this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage){for(x=0;x<resp.length;++x){this._data[this._data.length]=resp[x]}}else{this._data=resp;this._dataView=resp}this._populateTransformedData();this._completeCallback()},_processJsonResponse:function(data,context){var ds,schema=context.schema(),resKey,resPath,i;if(this._response_data){this._response_data(data)}if(schema&&schema.fields&&schema.fields().length>0&&this.settings.localSchemaTransform){ds=schema.transform(data)}else{resKey=context.settings.responseDataKey;if(resKey!==null&&resKey!==undefined){resPath=resKey.split(".");if(resPath.length>0){ds=data;for(i=0;i<resPath.length;i++){ds=ds[resPath[i]]}if(typeof ds==="string"){ds=JSON.parse(ds)}}else{ds=data}}else{ds=data}}if(context._isPagingReq||context._isFilteringReq){this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,data,context)}if(data.Metadata){this._metadata=data.Metadata}this.summariesResponse(this.settings.summaries.summariesResponseKey,data);return ds},_processXmlResponse:function(data,isParsed,context){var ds,schema=context.schema(),tmpSchema,resKey;if(schema&&schema.fields&&schema.fields().length>0){ds=this.settings.localSchemaTransform?schema.transform(data):data}else{resKey=context.settings.responseDataKey;
if(resKey&&resKey!==""){tmpSchema=new $.ig.DataSchema;ds=context._xmlToArray(tmpSchema._findXmlRecordsRoot(data,resKey))}else{ds=context._xmlToArray(data)}}return ds},_xmlToArray:function(data){var ds=[],root=data,i,r,j,name,val,o;o=window.ActiveXObject;if(data&&data.childNodes&&data.childNodes.length===1){root=data.childNodes[0]}for(i=0;i<root.childNodes.length;i++){r=root.childNodes[i];ds[i]=[];for(j=0;j<r.childNodes.length;j++){name=o===undefined?r.childNodes[j].localName:r.childNodes[j].baseName;val=o===undefined?r.childNodes[j].textContent:r.childNodes[j].text;ds[i][name]=val}}return ds},_encodeUrl:function(){var props=this.settings,sParams={},fParams={},pParams={},params,selParams={},sumParams={},extraParams={},pkParams={},noCancel=true;params={sortingParams:sParams,filteringParams:fParams,pagingParams:pParams,selectParams:selParams,summariesParams:sumParams,extraParams:extraParams,pkParams:pkParams};if($.isFunction(props.urlParamsEncoding)){noCancel=props.urlParamsEncoding(this,params)}if(noCancel){this._encodeSelectParams(params);this._encodeSortingParams(params);this._encodeFilteringParams(params);this._encodePagingParams(params);this._encodeSummariesParams(params);this._encodePkParams(params);if($.isFunction(this.settings.encodeExtraParams)){this.settings.encodeExtraParams(this,params)}if($.isFunction(props.urlParamsEncoded)){props.urlParamsEncoded(this,params)}}return $.extend(true,{},params.sortingParams,params.filteringParams,params.pagingParams,params.selectParams,params.summariesParams,params.extraParams,params.pkParams)},_encodePkParams:function(params){var p=this.settings.paging,s=this.settings.sorting,f=this.settings.filtering,sm=this.settings.summaries,pk=this._schema?this._schema._pk:null;if(pk&&(p.enabled&&p.type==="remote"||s.type==="remote"||f.type==="remote"||sm.type==="remote")){params.pkParams.pk=pk}},_encodeSelectParams:function(params){var selParams=params.selectParams,i;if(!this.settings.localSchemaTransform&&this.schema()&&this.schema().fields().length>0){selParams.$select="";for(i=0;i<this.schema().fields().length;i++){if(i!==0){selParams.$select+=","}selParams.$select+=this.schema().fields()[i].name}}else if(!this.settings.localSchemaTransform&&this.schema()&&this.schema().fields().length===0){selParams.$select="*"}},_encodePagingParams:function(params){var p=this.settings.paging;if(p.enabled&&p.type==="remote"){this._isPagingReq=true;if(p.pageIndexUrlKey!==null&&p.pageSizeUrlKey!==null){params.pagingParams[p.pageIndexUrlKey]=this.pageIndex();params.pagingParams[p.pageSizeUrlKey]=this.pageSize()}else{params.pagingParams.$skip=this.pageIndex()*this.pageSize();params.pagingParams.$top=this.pageSize();params.pagingParams.$inlinecount="allpages";if(this.settings.responseTotalRecCountKey===null){this.settings.responseTotalRecCountKey="d.__count"}}}},_encodeSortingParams:function(params){var s=this.settings.sorting,tmpdir,i,sfields,url,urlQS,hlayout=null;if(s.type==="remote"){if(s.exprString){sfields=this._parseSortExpressions(s.exprString)}else{sfields=s.expressions}this._isSortingReq=true;for(i=0;i<sfields.length;i++){if(sfields[i].layout){hlayout=sfields[i].layout}if(s.sortUrlAscValueKey!==null&&s.sortUrlDescValueKey!==null&&s.sortUrlKey!==null){tmpdir=sfields[i].dir&&sfields[i].dir.toLowerCase().startsWith("asc")?s.sortUrlAscValueKey:s.sortUrlDescValueKey;params.sortingParams[s.sortUrlKey+"("+sfields[i].fieldName+")"]=tmpdir}else{if(params.sortingParams.$orderby===undefined){params.sortingParams.$orderby=""}params.sortingParams.$orderby=params.sortingParams.$orderby+sfields[i].fieldName+" "+sfields[i].dir.toLowerCase();if(i<sfields.length-1){params.sortingParams.$orderby+=","}}}if(hlayout){url=this.settings.dataSource;if(url&&$.type(url)==="string"&&url.indexOf("layout="+hlayout)>=0){url=url.substr(url.indexOf("?")+1);urlQS=url.split("&");for(i=0;i<urlQS.length;i++){if(urlQS[i].indexOf("layout=")>=0){if(urlQS[i].replace("layout=","")===hlayout){hlayout=null}break}}}if(hlayout){params.sortingParams.layout=hlayout}}}},_encodeFilteringParams:function(params){var f=this.settings.filtering,ffields,i,key,exprNotReq,cond,d,day,month,year,curDate,expr,fieldName;if(f.type==="remote"){if(f.exprString){ffields=this._parseFilterExprString(f.exprString)}else{ffields=f.expressions}for(i=0;i<ffields.length;i++){this._isFilteringReq=true;cond=ffields[i].cond;exprNotReq=cond==="false"||cond==="true"||cond==="today"||cond==="yesterday"||cond==="thisMonth"||cond==="lastMonth"||cond==="nextMonth"||cond==="thisYear"||cond==="lastYear"||cond==="nextYear"||cond==="null"||cond==="notNull"||cond==="empty"||cond==="notEmpty";if(f.filterExprUrlKey!==null){key=f.filterExprUrlKey+"("+ffields[i].fieldName+")";if($.type(ffields[i].expr)==="date"){d=Date.UTC(ffields[i].expr.getFullYear(),ffields[i].expr.getMonth(),ffields[i].expr.getDate(),ffields[i].expr.getHours(),ffields[i].expr.getMinutes())}else{d=ffields[i].expr}if(params.filteringParams[key]===undefined){params.filteringParams[key]=ffields[i].cond+"("+(exprNotReq?"":d)+")"}else{params.filteringParams[key]=params.filteringParams[key]+","+ffields[i].cond+"("+(exprNotReq?"":d)+")"}}else{if(params.filteringParams.$filter===undefined){params.filteringParams.$filter=""}fieldName=ffields[i].fieldName;expr=ffields[i].expr;if($.type(expr)==="string"){if(!f.caseSensitive){fieldName="tolower("+fieldName+")";expr=expr.toLowerCase()}expr=expr.replace(/\'/g,"''")}if(ffields[i].cond==="startsWith"){params.filteringParams.$filter+="startswith("+fieldName+","+"'"+expr+"') eq true"}else if(ffields[i].cond==="endsWith"){params.filteringParams.$filter+="endswith("+fieldName+","+"'"+expr+"') eq true"}else if(ffields[i].cond==="contains"){params.filteringParams.$filter+="indexof("+fieldName+","+"'"+expr+"') ge 0"}else if(ffields[i].cond==="doesNotContain"){params.filteringParams.$filter+="indexof("+fieldName+","+"'"+expr+"') eq -1"}else if(ffields[i].cond==="equals"){if($.type(ffields[i].expr)==="string"){params.filteringParams.$filter+=fieldName+" eq "+"'"+expr+"'"}else{params.filteringParams.$filter+=ffields[i].fieldName+" eq "+ffields[i].expr}}else if(ffields[i].cond==="true"){params.filteringParams.$filter+=ffields[i].fieldName+" eq true"}else if(ffields[i].cond==="false"){params.filteringParams.$filter+=ffields[i].fieldName+" eq false"}else if(ffields[i].cond==="doesNotEqual"){if($.type(ffields[i].expr)==="string"){params.filteringParams.$filter+=fieldName+" ne "+"'"+expr+"'"}else{params.filteringParams.$filter+=ffields[i].fieldName+" ne "+ffields[i].expr}}else if(ffields[i].cond==="greaterThan"){params.filteringParams.$filter+=ffields[i].fieldName+" gt "+ffields[i].expr}else if(ffields[i].cond==="lessThan"){params.filteringParams.$filter+=ffields[i].fieldName+" lt "+ffields[i].expr}else if(ffields[i].cond==="greaterThanOrEqualTo"){params.filteringParams.$filter+=ffields[i].fieldName+" ge "+ffields[i].expr}else if(ffields[i].cond==="lessThanOrEqualTo"){params.filteringParams.$filter+=ffields[i].fieldName+" le "+ffields[i].expr}else if(ffields[i].cond==="null"){params.filteringParams.$filter+=ffields[i].fieldName+" eq null"}else if(ffields[i].cond==="notNull"){params.filteringParams.$filter+=ffields[i].fieldName+" ne null"}else if(ffields[i].cond==="empty"){params.filteringParams.$filter+="length("+ffields[i].fieldName+") eq 0"}else if(ffields[i].cond==="notEmpty"){params.filteringParams.$filter+="length("+ffields[i].fieldName+") gt 0"}else if(ffields[i].cond==="on"){expr=this._parser.toDate(ffields[i].expr);year=expr.getFullYear();month=expr.getMonth()+1;day=expr.getDate();params.filteringParams.$filter+="day("+ffields[i].fieldName+") eq "+day+" and ";params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="notOn"){expr=this._parser.toDate(ffields[i].expr);params.filteringParams.$filter+=ffields[i].fieldName+" ne DateTime'"+$.ig.formatter(expr,"date","yyyy-MM-dd")+"'"}else if(ffields[i].cond==="after"){expr=this._parser.toDate(ffields[i].expr);params.filteringParams.$filter+=ffields[i].fieldName+" gt DateTime'"+$.ig.formatter(expr,"date","yyyy-MM-dd")+"'"}else if(ffields[i].cond==="before"){expr=this._parser.toDate(ffields[i].expr);params.filteringParams.$filter+=ffields[i].fieldName+" lt DateTime'"+$.ig.formatter(expr,"date","yyyy-MM-dd")+"'"}else if(ffields[i].cond==="today"){expr=this._parser.toDate(ffields[i].expr);year=expr.getFullYear();month=expr.getMonth()+1;day=expr.getDate();params.filteringParams.$filter+="day("+ffields[i].fieldName+") eq "+day+" and ";params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="yesterday"){expr=this._parser.toDate(ffields[i].expr);year=expr.getFullYear();month=expr.getMonth()+1;day=expr.getDate();params.filteringParams.$filter+="day("+ffields[i].fieldName+") eq "+day+" and ";params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="thisMonth"){curDate=new Date;month=curDate.getMonth()+1;year=curDate.getFullYear();params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="lastMonth"){curDate=new Date;month=curDate.getMonth()+1;year=curDate.getFullYear();if(month===1){month=12;year--}else{month--}params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="nextMonth"){curDate=new Date;month=curDate.getMonth()+1;year=curDate.getFullYear();if(month===12){month=1;year++}else{month++}params.filteringParams.$filter+="month("+ffields[i].fieldName+") eq "+month+" and ";params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="thisYear"){curDate=new Date;year=curDate.getFullYear();params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="lastYear"){curDate=new Date;year=curDate.getFullYear()-1;params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}else if(ffields[i].cond==="nextYear"){curDate=new Date;year=curDate.getFullYear()+1;params.filteringParams.$filter+="year("+ffields[i].fieldName+") eq "+year}if(i<ffields.length-1){params.filteringParams.$filter+=" and "}}}if(f.filterLogicUrlKey!==null&&ffields.length>0){params.filteringParams[f.filterLogicUrlKey]=ffields[0].logic}}},_encodeSummariesParams:function(params){var i,j,s=this.settings.summaries,cs=s.columnSettings,methodsStr,csLength=cs.length;if(s.type==="remote"){for(i=0;i<csLength;i++){methodsStr="";if(cs[i].summaryOperands===undefined||cs[i].summaryOperands===null){continue}for(j=0;j<cs[i].summaryOperands.length;j++){if(cs[i].summaryOperands[j].active===true||cs[i].summaryOperands[j].active===1){methodsStr+=cs[i].summaryOperands[j].type+","}}if(methodsStr!==""){params.summariesParams[s.summaryExprUrlKey+"("+cs[i].columnKey+")"]=methodsStr.slice(0,-1)}}}},_page:function(keepRecords){var count=0,startIndex,endIndex,i=0;if(keepRecords===undefined){keepRecords=false}if(keepRecords){count=this._dataView.length}else{this._dataView=[]}if(!this._filter){startIndex=this.pageIndex()*this.pageSize();endIndex=startIndex+this.pageSize()>=this._data.length?this._data.length:startIndex+this.pageSize();for(i=startIndex;i<endIndex;i++){this._dataView[count++]=this._data[i]}}else{startIndex=this.pageIndex()*this.pageSize();endIndex=startIndex+this.pageSize()>=this._filteredData.length?this._filteredData.length:startIndex+this.pageSize();for(i=startIndex;i<endIndex;i++){this._dataView[count++]=this._filteredData[i]}}},sort:function(fields,direction,keepSortState){var s=this.settings.sorting,schema,sortF,convertFunc,p=this.settings.paging,data,resetPaging=false,settings=this.settings;if(fields===undefined||fields===null){throw new Error($.ig.DataSourceLocale.locale.noSortingFields)}sortF=function(grid,fields,schema,reverse,convertf){reverse=reverse?-1:1;function compareVals(format,enableUTCDates,rowTemplate,x,y){if(format){if($.type(x)==="date"&&$.type(y)==="date"){if(format==="time"||format==="timeLong"||format==="h:mm:ss tt"){x=new Date("January 01, 2000 "+$.ig.formatter(x,"date",format,rowTemplate,enableUTCDates));y=new Date("January 01, 2000 "+$.ig.formatter(y,"date",format,rowTemplate,enableUTCDates))}}}if((x===null||x===undefined)&&(y===null||y===undefined)){return 0}if((x===null||x===undefined)&&y!==null&&y!==undefined){return-1}if(x!==null&&x!==undefined&&(y===null||y===undefined)){return 1}return x>y?1:x<y?-1:0}return function(obj1,obj2){var i,f,arr1=[],arr2=[],a,b,key,col,format,o,enableUTCDates,rowTemplate;if(grid){o=grid.options;enableUTCDates=o.enableUTCDates;rowTemplate=!o.rowTemplate||o.rowTemplate.length<=0}for(i=0;i<fields.length;i++){key=fields[i].fieldName;if(grid&&grid.columnByKey){col=grid.columnByKey(key);if(col!==undefined&&col!==null){format=col.format}}if(fields[i].layout&&(settings.key&&settings.key!==fields[i].layout||!settings.key)){continue}f=fields[i];if(f.fieldIndex>=0){f.fieldName=f.fieldIndex}a=obj1[f.fieldName];b=obj2[f.fieldName];if(convertf!==undefined){a=convertf(a,f.fieldName);b=convertf(b,f.fieldName)}if(s.caseSensitive===false){if(a!==undefined&&a!==null&&a.toLowerCase){a=a.toLowerCase()}if(b!==undefined&&b!==null&&b.toLowerCase){b=b.toLowerCase()}}if(f.dir!==undefined&&f.dir!==null){reverse=f.dir.toLowerCase().startsWith("desc");reverse=reverse?-1:1}else if(direction!==undefined&&direction!==null&&direction!==""){reverse=direction.toLowerCase().startsWith("desc");reverse=reverse?-1:1}if(fields.length===1){arr1=reverse*compareVals(format,enableUTCDates,rowTemplate,a,b);arr2=reverse*compareVals(format,enableUTCDates,rowTemplate,b,a)}else{if(reverse===-1){arr1.push(-compareVals(format,enableUTCDates,rowTemplate,a,b));arr2.push(-compareVals(format,enableUTCDates,rowTemplate,b,a))}else{arr1.push(compareVals(format,enableUTCDates,rowTemplate,a,b));arr2.push(compareVals(format,enableUTCDates,rowTemplate,b,a))}}}if(arr1<arr2){return-1}if(arr1>arr2){return 1}return 0}};if(s.applyToAllData&&s.type==="local"){if(this._filter&&(p.type==="local"&&p.enabled===true||p.enabled===false||p.type==="remote"&&p.enabled===true&&this.settings.filtering.type==="local")){data=this._filteredData}else{data=this.data()}resetPaging=true}else{data=this.dataView()}if($.type(s.customFunc)==="function"){data=s.customFunc(data,fields,direction)}else{schema=this.settings.schema;if(!direction){direction=""}if($.type(s.compareFunc)==="function"){sortF=s.compareFunc}if($.isFunction(s.customConvertFunc)){convertFunc=s.customConvertFunc}if($.type(fields)==="string"){fields=this._parseSortExpressions(fields)}if(fields.length>0){data=data.sort(sortF(this.settings.callee,fields,schema,direction.toLowerCase().startsWith("asc")?false:true,convertFunc));this._allDataSorted=data===this.data()}}if(resetPaging&&p.type==="local"){if(!this._filter){this._data=data}else{this._filteredData=data}this._page()}else{this._dataView=data}this._populateTransformedData(data);return this},clearLocalSorting:function(){var s=this.settings.sorting,p=this.settings.paging,data,resetPaging=false;if(s.applyToAllData&&s.type==="local"){if(this._filter&&(p.type==="local"&&p.enabled===true||p.enabled===false)){data=this._filteredData}else{data=this.data()}resetPaging=true}else{data=this.dataView()}if(resetPaging&&p.type==="local"){if(!this._filter){this._data=data}else{this._filteredData=data}this._page()}else{this._dataView=data}this._populateTransformedData();return this},_parseSortExpressions:function(s){var fields=[],tmp,tmp2,i;tmp=s.split(",");for(i=0;i<tmp.length;i++){fields[i]={};tmp2=$.trim(tmp[i]).split(" ");fields[i].fieldName=tmp2[0];fields[i].dir=tmp2[1]}return fields},filter:function(fieldExpressions,boolLogic,keepFilterState,fieldExpressionsOnStrings){var i,j,expr=null,count=0,skipRec=false,f=this.settings.filtering,p=this.settings.paging,data,t,k,schema,fields,tmpbool,resetPaging,allFieldsExpr,stringVal;schema=this.schema();if(schema===null||schema===undefined){throw new Error($.ig.DataSourceLocale.locale.filteringNoSchema)}if($.type(fieldExpressions)==="string"){expr=fieldExpressions}if($.type(fieldExpressionsOnStrings)==="string"){allFieldsExpr=fieldExpressionsOnStrings}else if($.type(fieldExpressionsOnStrings)==="undefined"){fieldExpressionsOnStrings=[]}if($.type(fieldExpressions)==="array"&&fieldExpressions.length===0&&$.type(fieldExpressionsOnStrings)==="array"&&fieldExpressionsOnStrings.length===0){return}if(f.applyToAllData&&f.type==="local"){data=this.data();resetPaging=true}else{if(this._cachedDataView&&this._cachedDataView.length>0){data=this._cachedDataView}else{this._cachedDataView=$.merge([],this.dataView());data=this._cachedDataView}}if($.type(f.customFunc)==="function"){data=f.customFunc(fieldExpressions,data);this._filteredData=data;this._dataView=[]}else{this._dataView=[];this._filteredData=[];for(i=0;i<data.length;i++){skipRec=false;if(expr){fieldExpressions=this._parseFilterExprString(expr)}if(allFieldsExpr){fieldExpressionsOnStrings=this._parseFilterExprString(allFieldsExpr)}for(j=0;j<fieldExpressions.length;j++){fields=schema.fields();if(fieldExpressions[j].fieldIndex){if(fieldExpressions[j].fieldIndex<fields.length){t=fields[fieldExpressions[j].fieldIndex].type}skipRec=!this._findMatch(data[i][fieldExpressions[j].fieldIndex],fieldExpressions[j].expr,t,!f.caseSensitive,fieldExpressions[j].cond)}else{if(fieldExpressions[j].dataType!==undefined&&fieldExpressions[j].dataType!==null){t=fieldExpressions[j].dataType}else{for(k=0;k<fields.length;k++){if(fields[k].name===fieldExpressions[j].fieldName){t=fields[k].type;break}}}skipRec=!this._findMatch(data[i][fieldExpressions[j].fieldName],fieldExpressions[j].expr,t,!f.caseSensitive,fieldExpressions[j].cond)}tmpbool=fieldExpressions[j].logic!==null&&fieldExpressions[j].logic!==undefined&&(fieldExpressions[j].logic.toLowerCase()==="or"||fieldExpressions[j].logic.toLowerCase()==="and")?fieldExpressions[j].logic:boolLogic;if(tmpbool===undefined||tmpbool===null||$.type(tmpbool)!=="string"){tmpbool="and"}if(skipRec&&tmpbool.toLowerCase()==="and"){break}else if(!skipRec&&tmpbool.toLowerCase()==="or"){break}}if(!skipRec){for(j=0;j<fieldExpressionsOnStrings.length;j++){fields=schema.fields();if(fieldExpressionsOnStrings[j].fieldIndex){if(fieldExpressionsOnStrings[j].fieldIndex<fields.length){t=fields[fieldExpressionsOnStrings[j].fieldIndex].type}stringVal=data[i][fieldExpressionsOnStrings[j].fieldIndex]?data[i][fieldExpressionsOnStrings[j].fieldIndex].toString():"";skipRec=!this._findMatch(stringVal,fieldExpressionsOnStrings[j].expr,"string",!f.caseSensitive,fieldExpressionsOnStrings[j].cond)}else{for(k=0;k<fields.length;k++){if(fields[k].name===fieldExpressionsOnStrings[j].fieldName){t=fields[k].type;break}}stringVal=data[i][fieldExpressionsOnStrings[j].fieldName]!==null&&data[i][fieldExpressionsOnStrings[j].fieldName]!==undefined?data[i][fieldExpressionsOnStrings[j].fieldName].toString():"";skipRec=!this._findMatch(stringVal,fieldExpressionsOnStrings[j].expr,"string",!f.caseSensitive,fieldExpressionsOnStrings[j].cond)}tmpbool=fieldExpressionsOnStrings[j].logic!==null&&fieldExpressionsOnStrings[j].logic!==undefined&&(fieldExpressionsOnStrings[j].logic.toLowerCase()==="or"||fieldExpressionsOnStrings[j].logic.toLowerCase()==="and")?fieldExpressionsOnStrings[j].logic:boolLogic;if(tmpbool===undefined||tmpbool===null||$.type(tmpbool)!=="string"){tmpbool="and"}if(skipRec&&tmpbool.toLowerCase()==="and"){break}else if(!skipRec&&tmpbool.toLowerCase()==="or"){break}}}if(!skipRec){this._filteredData[count++]=data[i]}}}this._filter=true;if(resetPaging&&p.type==="local"&&p.enabled===true){this.settings.paging.pageIndex=0;this.pageSizeDirty(true);this._page()}else{for(i=0;i<this._filteredData.length;i++){this._dataView[i]=this._filteredData[i]}}this._populateTransformedData(this._filteredData);return this},clearLocalFilter:function(){var i,f=this.settings.filtering,p=this.settings.paging,data,resetPaging;if(f.applyToAllData&&f.type==="local"){data=this.data();resetPaging=true}else{if(this._cachedDataView&&this._cachedDataView.length>0){data=this._cachedDataView}else{this._cachedDataView=$.merge([],this.dataView());data=this._cachedDataView}}this._dataView=[];this._filteredData=data;if(resetPaging&&p.type==="local"&&p.enabled===true){this._filter=true;this.settings.paging.pageIndex=0;this.pageSizeDirty(true);this._page()}else{if(p.enabled===false){this._filter=true}for(i=0;i<this._filteredData.length;i++){this._dataView[i]=this._filteredData[i]}}this._populateTransformedData(this._filteredData);return this},_parseFilterExprString:function(expr){var exprs=$.trim(expr).split(/(?=AND+)|(?=OR+)/i),i,j,fields=[],tmp,tmp2,isInvalid=true;for(i=0;i<exprs.length;i++){fields[i]={};tmp=$.trim(exprs[i]).split(/(?= \=+)|(?=<>+)|(?=>+)|(?=<+)|(?=LIKE+)|(?=NOT\WLIKE)+|(?=>\=+)|(?=<\=+)/);if($.trim(exprs[i]).toLowerCase().startsWith("and")){fields[i].logic="AND"}else if($.trim(exprs[i]).toLowerCase().startsWith("or")){fields[i].logic="OR"}if(i>0&&(fields[i].logic==="AND"||fields[i].logic==="OR")){fields[i-1].logic=fields[i].logic}if(tmp[0].toLowerCase().startsWith("and")||tmp[0].toLowerCase().startsWith("or")){fields[i].fieldName=$.trim(tmp[0].split(" ")[1])}else{fields[i].fieldName=$.trim(tmp[0])}tmp2=$.trim(tmp[1]).split(" ");if(exprs[i].indexOf("<>")!==-1){tmp2[0]="<>";tmp2[1]=tmp[2].replace(">","")}if(tmp2.length>2){for(j=2;j<tmp2.length;j++){tmp2[1]=tmp2[1]+" "+tmp2[j]}tmp2=[tmp2[0],tmp2[1]]}if(tmp[1].startsWith("NOT")){fields[i].expr=$.trim(tmp[2].replace("LIKE",""))}else{fields[i].expr=tmp2[1]}for(j=0;j<this.schema().schema.fields.length;j++){if(this.schema().schema.fields[j].name===fields[i].fieldName){isInvalid=false;break}}if(isInvalid){throw new Error($.ig.DataSourceLocale.locale.fieldMismatch+fields[i].fieldName)}isInvalid=true;if(tmp2[0]===">"){fields[i].cond="greaterThan"}else if(tmp2[0]==="LIKE"){if(fields[i].expr.startsWith("%")&&fields[i].expr.endsWith("%")){fields[i].cond="contains"}else if(fields[i].expr.endsWith("%")){fields[i].cond="startsWith"}else if(fields[i].expr.startsWith("%")){fields[i].cond="endsWith"}else{fields[i].cond="equals"}fields[i].expr=fields[i].expr.replace(/%/g,"")}else if(tmp2[0]==="NOT LIKE"||tmp2[0]==="NOT"){if(fields[i].expr.startsWith("%")&&fields[i].expr.endsWith("%")){fields[i].cond="doesNotContain"}else{fields[i].cond="doesNotEqual"}fields[i].expr=fields[i].expr.replace(/%/g,"")}else if(tmp2[0]==="="){fields[i].cond="equals"}else if(tmp2[0]==="<>"){fields[i].cond="doesNotEqual"}else if(tmp2[0]==="<"){fields[i].cond="lessThan"}else if(tmp2[0]==="<="){fields[i].cond="lessThanOrEqualTo"}else if(tmp2[0]===">="){fields[i].cond="greaterThanOrEqualTo"}else{throw new Error($.ig.DataSourceLocale.locale.unrecognizedCondition+expr)}}return fields},_findMatch:function(val,expr,t,ignoreCase,cond){var tmpExpr,exprNotReq=cond==="false"||cond==="true"||cond==="today"||cond==="yesterday"||cond==="thisMonth"||cond==="lastMonth"||cond==="nextMonth"||cond==="thisYear"||cond==="lastYear"||cond==="nextYear"||cond==="null"||cond==="notNull"||cond==="empty"||cond==="notEmpty";if(expr===""&&!exprNotReq){return true}tmpExpr=$.trim(expr);if(t==="regexp"||t==="string"&&tmpExpr.startsWith("/")&&tmpExpr.endsWith("/")){if(t==="regexp"){return this._findRegExpMatch(val,expr,false)}return this._findRegExpMatch(val,tmpExpr.substring(1,tmpExpr.length-1),true)}if($.type(val)==="date"&&(t===undefined||t===null)||t==="date"){try{expr=this._parser.toDate(expr)}catch(ignore){}return this._findDateMatch(val,expr,cond)}if($.type(val)==="boolean"&&(t===undefined||t===null)||t==="boolean"||t==="bool"){return this._findBoolMatch(val,cond)}if($.type(val)==="number"&&(t===undefined||t===null)||t==="number"){return this._findNumericMatch(val,expr,cond)}return this._findStringMatch(val,expr,ignoreCase,cond)},_findStringMatch:function(val,expr,ignoreCase,cond){var localVal;if(val!==null&&val!==undefined){localVal=ignoreCase?val.toString().toLowerCase():val||""}else{localVal=val}if(expr!==null&&expr!==undefined){expr=ignoreCase?expr.toString().toLowerCase():expr.toString()}if(cond==="startsWith"){return localVal!==null&&localVal!==undefined&&localVal.startsWith(expr)}if(cond==="endsWith"){return localVal!==null&&localVal!==undefined&&localVal.endsWith(expr)}if(cond==="contains"){return localVal!==null&&localVal!==undefined&&localVal.indexOf(expr)!==-1}if(cond==="doesNotContain"){return localVal!==null&&localVal!==undefined&&localVal.indexOf(expr)===-1}if(cond==="equals"){return localVal!==null&&localVal!==undefined&&localVal===expr}if(cond==="doesNotEqual"){return localVal!==null&&localVal!==undefined&&localVal!==expr}if(cond==="null"){return localVal===null}if(cond==="notNull"){return localVal!==null}if(cond==="empty"){return localVal===null||localVal===undefined||localVal.length===0}if(cond==="notEmpty"){return localVal===null||localVal===undefined||localVal.length!==0}throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+cond)},_findRegExpMatch:function(val,expr,str){if(str){return new RegExp(expr).test(val)}return val.match(expr)},_findNumericMatch:function(val,expr,cond){if($.type(expr)!=="number"){expr=this._parser.toNumber(expr)}if(cond==="equals"){return val===expr}if(cond==="doesNotEqual"){return val!==expr}if(cond==="greaterThan"){return val>expr}if(cond==="lessThan"){return val<expr}if(cond==="greaterThanOrEqualTo"){return val>=expr}if(cond==="lessThanOrEqualTo"){return val<=expr}if(cond==="null"){return val===null}if(cond==="notNull"){return val!==null}if(cond==="empty"){return val===null||val===undefined||isNaN(val)}if(cond==="notEmpty"){return val!==null&&val!==undefined&&!isNaN(val)}throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+cond)},_findBoolMatch:function(val,cond){if(cond==="true"){return val}if(cond==="false"){return!val}if(cond==="null"){return val===null}if(cond==="notNull"){return val!==null}if(cond==="empty"){return val===null||val===undefined}if(cond==="notEmpty"){return val!==null&&val!==undefined}throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+cond)},_findDateMatch:function(val,expr,cond){var day1,mins1,hs1,yrs1,day2,mins2,hs2,yrs2,month1,month2,eq,cur,yrs3,month3,mday1,mday2,mday3,yesterday;if(val!==null&&val!==undefined){day1=val.getDay();mday1=val.getDate();mins1=val.getMinutes();hs1=val.getHours();yrs1=val.getYear();month1=val.getMonth()}if($.type(expr)==="date"){day2=expr.getDay();mday2=expr.getDate();mins2=expr.getMinutes();hs2=expr.getHours();yrs2=expr.getYear();month2=expr.getMonth()}else{expr=new Date(expr)}cur=new Date;yesterday=new Date(cur.getTime());yesterday.setDate(yesterday.getDate()-1);mday3=cur.getDate();yrs3=cur.getYear();month3=cur.getMonth();eq=day1===day2&&mins1===mins2&&hs1===hs2&&yrs1===yrs2&&month1===month2;if(cond==="equals"){return eq}if(cond==="doesNotEqual"){return!eq}if(cond==="before"){return val<expr}if(cond==="after"){return val>expr}if(cond==="today"){return mday1===mday3&&month1===month3&&yrs1===yrs3}if(cond==="yesterday"){return yesterday.getDay()===val.getDay()&&yesterday.getMonth()===val.getMonth()&&yesterday.getFullYear()===val.getFullYear()}if(cond==="thisMonth"){return month1===month3&&yrs1===yrs3}if(cond==="lastMonth"){if(month3===0){return month1===11&&yrs1===yrs3-1}return month1===month3-1&&yrs1===yrs3}if(cond==="nextMonth"){if(month3===11){return month1===0&&yrs1===yrs3+1}return month1===month3+1&&yrs1===yrs3}if(cond==="thisYear"){return yrs1===yrs3}if(cond==="lastYear"){return yrs1===yrs3-1}if(cond==="nextYear"){return yrs1===yrs3+1}if(cond==="on"){return yrs1===yrs2&&month1===month2&&mday1===mday2}if(cond==="notOn"){return!(yrs1===yrs2&&month1===month2&&mday1===mday2)}if(cond==="null"){return val===null}if(cond==="notNull"){return val!==null}if(cond==="empty"){return val===null||val===undefined}if(cond==="notEmpty"){return val!==null&&val!==undefined}throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+cond)},totalRecordsCount:function(count,key,dsObj,context){var rec,totalRecPath,i;if(context!==undefined&&context!==null){if(key){rec=dsObj;if(rec.hasOwnProperty(key)){rec=rec[key]}else{totalRecPath=key.split(".");for(i=0;i<totalRecPath.length;i++){rec=rec[totalRecPath[i]]}}if(dsObj&&rec!==undefined&&rec!==null){if($.type(rec)==="number"){this._recCount=rec}else{this._recCount=parseInt(rec,10)}this.hasTotalRecordsCount(true)}else{this.hasTotalRecordsCount(false)}}else{this.hasTotalRecordsCount(false)}}else if(count!==undefined&&count!==null){this._recCount=count}return this._recCount},hasTotalRecordsCount:function(hasCount){if(hasCount===undefined||hasCount===null){return this._hasCount}this._hasCount=hasCount},metadata:function(key){if(key===null||key===undefined||key===""||this._metadata===null||this._metadata===undefined){return this._metadata}return this._metadata[key]},totalLocalRecordsCount:function(){if(!this._filter){return this._data.length}return this._dataView.length},pageCount:function(){var c,realCount;if(!this._filter){realCount=this.totalRecordsCount()>0?this.totalRecordsCount():this._data.length}else{realCount=this.totalRecordsCount()>0?this.totalRecordsCount():this._filteredData.length}c=Math.ceil(realCount/this.settings.paging.pageSize);return c===0?1:c},pageIndex:function(index){if(index===undefined||index===null){return this.settings.paging.pageIndex===undefined?0:this.settings.paging.pageIndex}this.settings.paging.pageIndex=parseInt(index,10);this._cachedDataView=null;if(this.settings.paging.type==="local"){this._page(this.settings.paging.appendPage);this._invokeCallback()}else{this.dataBind()}return this},prevPage:function(){this.pageIndex(this.pageIndex()===0?0:this.pageIndex()-1);return this},nextPage:function(){if(this.pageIndex()>=this.pageCount()-1){return this}this.pageIndex(this.pageIndex()+1);return this},pageSize:function(s){if(s===undefined||s===null){return this.settings.paging.pageSize}this.settings.paging.pageSize=parseInt(s,10);if(this.settings.paging.appendPage){this.settings.paging.pageIndex=0;this._cachedDataView=null}if(this.settings.paging.type==="local"){this._page();this._invokeCallback()}else{this.dataBind()}return this},pageSizeDirty:function(dirty){if(dirty===undefined||dirty===null){return this._dirty}this._dirty=dirty},recordsForPage:function(p){var d=[],si,ps,ei,i,c=0;ps=this.pageSize();si=p*ps;ei=si+ps>=this._data.length?this._data.length:si+ps;for(i=si;i<ei;i++){d[c++]=this._data[i]}return d},tableToObject:function(tableDOM){try{var rows=$(tableDOM).children("tbody").children(),len,data,i,j;len=rows.length>0?rows[0].cells.length:0;data=[];for(i=0;i<rows.length;i++){data[i]=[];for(j=0;j<len;j++){data[i][j]=rows[i].cells[j].innerHTML}}return data}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingHtmlTableNoSchema+e.message)}},_validateTable:function(obj){if(obj.length===0){throw new Error($.ig.DataSourceLocale.locale.errorTableWithIdNotFound+this.dataSource())}else{return obj[0]}},stringToJSONObject:function(s){var data={};try{data=JSON.parse(s)}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingJsonNoSchema+e.message)}return data},stringToXmlObject:function(s){var doc,parser;try{if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else{parser=new DOMParser;doc=parser.parseFromString(s,"text/xml")}}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingXmlNoSchema+e.message)}return doc}});$.ig.TypeParser=$.ig.TypeParser||Class.extend({toStr:function(obj){return this.isNullOrUndefined(obj)?"":obj+this.empty()},toDate:function(obj,pk,key){if(this.isNullOrUndefined(obj)||obj===""||$.type(obj)==="function"){return null}if($.type(obj)==="date"){return obj
}if(obj.length&&obj.indexOf("/Date(")!==-1){if(this._serverOffsets===undefined||this._serverOffsets[pk]===undefined){return new Date(parseInt(obj.replace("/Date(","").replace(")/",""),10)+this._serverOffset)}if(this._serverOffsets[pk][key]!==undefined&&this._serverOffsets[pk][key]!==null){return new Date(parseInt(obj.replace("/Date(","").replace(")/",""),10)+this._serverOffsets[pk][key])}return new Date(parseInt(obj.replace("/Date(","").replace(")/",""),10))}return new Date(obj)},toNumber:function(obj){return this.isNullOrUndefined(obj)||$.type(obj)==="function"?null:obj*this.num()},toBool:function(obj){var typeObj=$.type(obj);if(typeObj==="boolean"){return obj}if(this.isNullOrUndefined(obj)||typeObj==="function"){return false}if(obj==="1"||obj===1||typeObj==="string"&&obj.toLowerCase()==="true"){return true}return false},isNullOrUndefined:function(obj){return obj===null||obj===undefined},empty:function(){return""},num:function(){return 1}});$.ig.DataSchema=$.ig.DataSchema||Class.extend({schema:{fields:[],searchField:null,outputResultsName:null},init:function(type,options){if(options){this.schema=$.extend(true,{},$.ig.DataSchema.prototype.schema,options)}this._type=type;this._parser=new $.ig.TypeParser;this._parser._serverOffset=0},transform:function(data){var ndata=[];switch(this._type){case"array":ndata=this._arrays(data);break;case"json":ndata=this._json(data);break;case"xml":ndata=this._xml(data);break;case"htmlTableDom":ndata=this._table(data);break;case"htmlListDom":ndata=this._list(data);break;default:throw new Error("unknown data source type: "+this._type)}return ndata},_setResKey:function(resKey,out){if(!this.isEmpty(resKey)){out[resKey]=[];return out[resKey]}return out},_convertType:function(t,obj,pk,key){if(t==="string"){return this._parser.toStr(obj)}if(t==="date"){return this._parser.toDate(obj,pk,key)}if(t==="number"){return this._parser.toNumber(obj)}if(t==="boolean"||t==="bool"){return this._parser.toBool(obj)}return obj},_val:function(field,val,results,i,rec){var t=field.type,j=null;if(!this.isEmpty(t)){if(this.isEmpty(field.name)){results[i][j]=this._convertType(t,val,this._pk?results[i][this._pk]:i,field.name)}else{results[i][field.name]=this._convertType(t,val,this._pk?results[i][this._pk]:i,field.name)}}else{if(this.isEmpty(field.name)){if(rec){results[i][j]=rec[i][j]}else{results[i][j]=val}}else{if(rec){results[i][field.name]=rec[i][field.name]}else{results[i][field.name]=val}}}},isEmpty:function(o){return o===undefined||o===null||o===""},_arrays:function(data){var i,j,tmp,hasArrays,resKey=this.schema.outputResultsName,out={},results;results=this._setResKey(resKey,out);if(this.isObjEmpty(results)&&$.type(results)!=="array"){results=[];out=results}try{if(data.length>0){hasArrays=$.type(data[0])==="array"}for(i=0;i<data.length;i++){if(data[i]===undefined){continue}results.push({});for(j=0;j<this.schema.fields.length;j++){if(hasArrays){tmp=data[i][j]}else{tmp=data[i][this.schema.fields[j].name]}this._val(this.schema.fields[j],tmp,results,results.length-1)}}}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingArrays+e.message)}return out},_json:function(data){var i,j,root,resKey=this.schema.outputResultsName,out={},results;results=this._setResKey(resKey,out);if(this.isObjEmpty(results)){results=[];out=results}try{if(data.Metadata&&data.Metadata.timezoneOffset!==undefined&&!isNaN(data.Metadata.timezoneOffset)){this._serverOffset=data.Metadata.timezoneOffset;this._parser._serverOffset=this._serverOffset;if(data.Metadata.timezoneOffsets){this._serverOffsets=data.Metadata.timezoneOffsets;this._parser._serverOffsets=data.Metadata.timezoneOffsets}}else{this._parser._serverOffset=0}if(!this.isEmpty(this.schema.searchField)){searchPath=this.schema.searchField.split(/[\[.\]]/);for(i=0;i<searchPath.length;i++){token=searchPath[i];if(token.length===0){continue}token=/^(0|[1-9]\d*)$/.test(token)?parseInt(token,10):token.replace(/^('|")|('|")$/g,"");root=root?root[token]:data[token];if(root===undefined||root===null){break}}if(!root&&$.type(data)==="array"){root=data}}if(root===undefined||this.isEmpty(this.schema.searchField)){root=data}if(!root.length&&$.type(root)==="object"){root=[root]}if(root&&root.length&&root.length>0){for(i=0;i<root.length;i++){results[i]={};if(this._pk&&this._pk!=="ig_pk"){for(j=0;j<this.schema.fields.length;j++){if(this.schema.fields[j].name===this._pk){break}}if(root[i][this._pk]===undefined&&j>=this.schema.fields.length){throw new Error($.ig.DataSourceLocale.locale.errorSchemaMismatch+this._pk)}this._val(this.schema.fields[j],root[i][this.schema.fields[j].name],results,i,root)}for(j=0;j<this.schema.fields.length;j++){if(this.schema.fields[j].name!=="ig_pk"&&this.schema.fields[j].name!==this._pk){if(root[i][this.schema.fields[j].name]===undefined){throw new Error($.ig.DataSourceLocale.locale.errorSchemaMismatch+this.schema.fields[j].name)}this._val(this.schema.fields[j],root[i][this.schema.fields[j].name],results,i,root)}}}}}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingJson+e.message)}return out},_xml:function(data,recursiveSF){var i,j,root,resNode,item,resKey=this.schema.outputResultsName,out={},results,namespaced,sf,k,r,rc,len1,len2,o,carrysf,ireal=0,s;o=window.ActiveXObject;results=this._setResKey(resKey,out);if(this.isObjEmpty(results)){results=[];out=results}try{if(!this.isEmpty(this.schema.searchField)){namespaced=this._xmlHasNamespaces(data);if(!namespaced){if(window.ActiveXObject===undefined){if(!recursiveSF||recursiveSF.length<=0){root=data.evaluate(this.schema.searchField,data,null,XPathResult.ANY_TYPE,null)}else{root=data.evaluate(recursiveSF,data,null,XPathResult.ANY_TYPE,null)}}else{if(!(data instanceof ActiveXObject)){s=(new XMLSerializer).serializeToString(data);data=new window.ActiveXObject("Microsoft.XMLDOM");data.async=false;data.loadXML(s)}root=data.selectNodes(this.schema.searchField)}}else{if(this.schema.searchField.startsWith("//")){sf=this.schema.searchField.substring(2,this.schema.searchField.length)}else{sf=this.schema.searchField}root=this._findXmlRecordsRoot(data,sf)}}else{root=data}if(!namespaced){if(root&&window.ActiveXObject!==undefined){for(i=0;i<root.length;i++){item=root.item(i);results[i]={};for(j=0;j<this.schema.fields.length;j++){resNode=item.selectSingleNode(this.schema.fields[j].xpath);if(resNode){if(resNode.nodeType===1&&this.schema.childDataProperty&&resNode.nodeName===this.schema.childDataProperty){this.schema.searchField=this.schema.childDataProperty;results[i][resNode.nodeName]=this._xml(item)}else{this._val(this.schema.fields[j],resNode.text,results,i)}}else{results[i][this.schema.fields[j].name]=""}}}}else if(root){i=0;item=root.iterateNext();while(item){results[i]={};for(j=0;j<this.schema.fields.length;j++){resNode=data.evaluate(this.schema.fields[j].xpath,item,null,XPathResult.ANY_TYPE,null).iterateNext();if(resNode){if(resNode.nodeType===1&&this.schema.childDataProperty&&(resNode.nodeName===this.schema.childDataProperty||resNode.nodeName===this.schema.seachField)){if(!recursiveSF||recursiveSF.length<=0){carrysf=this.schema.searchField+"["+(i+1)+"]/"+this.schema.childDataProperty}else{carrysf=recursiveSF+"["+(i+1)+"]/"+this.schema.childDataProperty}results[i][this.schema.childDataProperty]=this._xml(data,carrysf)}else{this._val(this.schema.fields[j],resNode.textContent,results,i)}}else{results[i][this.schema.fields[j].name]=""}}i++;item=root.iterateNext()}}}else{len1=root.childNodes.length;ireal=0;for(i=0;i<len1;i++){r=root.childNodes[i];results.push({});for(j=0;j<this.schema.fields.length;j++){len2=r.childNodes.length;for(k=0;k<len2;k++){rc=r.childNodes[k];if(this.schema.fields[j].name===(o===undefined?rc.localName:rc.baseName)){this._val(this.schema.fields[j],o===undefined?rc.textContent:rc.text,results,ireal);break}}}if($.isEmptyObject(results[ireal])){results.pop()}else{ireal++}}}}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingXml+e.message)}return out},_findXmlRecordsRoot:function(data,field){var i,len,r,o,ret;o=window.ActiveXObject;if((o===undefined?data.localName:data.baseName)===field){ret=data.parentNode}else if(data&&data.childNodes&&data.childNodes.length>0){len=data.childNodes.length;for(i=0;i<len;i++){r=data.childNodes[i];if(r.childNodes&&r.childNodes.length>0){ret=this._findXmlRecordsRoot(r,field)}}}return ret},_xmlHasNamespaces:function(data){var i,ns,r,len,fc;if(data.childNodes&&data.childNodes.length&&data.childNodes.length>0){len=data.childNodes.length;for(i=0;i<len;i++){r=data.childNodes[i];if(!r){return false}ns=r.namespaceURI;if(ns!==""&&ns!==undefined&&ns!==null){return true}}if(r&&r.childNodes&&r.childNodes.length>0){fc=r.childNodes[0];if(!fc){return false}ns=fc.namespaceURI;return ns!==""&&ns!==undefined&&ns!==null}}return false},_table:function(data){var i,j,r,tbody,rows,resKey=this.schema.outputResultsName,out={},results;tbody=$(data).find("tbody")[0];results=this._setResKey(resKey,out);if(this.isObjEmpty(results)){results=[];out=results}try{if(tbody&&tbody.nodeName&&tbody.nodeName==="TBODY"){rows=tbody.rows;for(i=0;i<rows.length;i++){r=rows[i];results[i]={};for(j=0;j<this.schema.fields.length;j++){this._val(this.schema.fields[j],r.cells[j].innerHTML,results,i)}}}else{throw new Error($.ig.DataSourceLocale.locale.errorExpectedTbodyParameter)}}catch(e){throw new Error($.ig.DataSourceLocale.locale.errorParsingHtmlTable+e.message)}return out},_list:function(data){var parsedData,img,anchor,id,li,ul,self=this,d=$(data),text,i,header,descriptions,counts,jqmNS="data-";if($.mobile&&$.mobile.ns){jqmNS+=$.mobile.ns}parsedData=[];if(d&&(d.is("ul")||d.is("ol"))&&d.children().length>0){d.children("li:not(["+jqmNS+'role="itemTemplate"], ['+jqmNS+'role="detailsTemplate"], ['+jqmNS+'role="dividerTemplate"])').each(function(index){li=$(this);img=li.children("img");parsedData[index]={};if(self.schema.hasOwnProperty("primaryKey")){self._val(self.schema.primaryKey,li.index(),parsedData,index)}if(self.schema.hasOwnProperty("isDivider")){self._val(self.schema.isDivider,li.attr(jqmNS+"role")==="list-divider",parsedData,index)}if(img.length>0&&img.attr("src")){if(self.schema.hasOwnProperty("imageUrl")){self._val(self.schema.imageUrl,img.attr("src"),parsedData,index)}}anchor=li.children("a");if(anchor.length>0){text=anchor.html();if(anchor.attr("href")){if(self.schema.hasOwnProperty("navigateUrl")){self._val(self.schema.navigateUrl,anchor.attr("href"),parsedData,index)}}if(anchor.attr("target")){if(self.schema.hasOwnProperty("target")){self._val(self.schema.target,anchor.attr("target"),parsedData,index)}}if(img.length===0){img=anchor.children("img");if(img.length>0){img.each(function(){if(this.outerHTML){text=text.replace(this.outerHTML,"")}else{text=text.replace($("<div>").append(this).html(),"")}})}if(img.length>0&&img.attr("src")){if(self.schema.hasOwnProperty("imageUrl")){self._val(self.schema.imageUrl,img.attr("src"),parsedData,index)}}}}else{text="";for(i=0;i<li[0].childNodes.length;i++){if(li[0].childNodes[i].nodeType===3&&li[0].childNodes[i].data){text+=$.trim(li[0].childNodes[i].data)}}}if(self.schema.hasOwnProperty("header")){header=li.children("h1, h2, h3, h4, h5, h6");if(header.length===0&&anchor.length>0){header=anchor.children("h1, h2, h3, h4, h5, h6")}if(header.length>0){self._val(self.schema.header,header.text(),parsedData,index);header.each(function(){if(this.outerHTML){text=text.replace(this.outerHTML,"")}else{text=text.replace($("<div>").append(this).html(),"")}})}}if(self.schema.hasOwnProperty("description")){descriptions=li.children("p, dd");if(descriptions.length===0&&anchor.length>0){descriptions=anchor.children("p, dd")}if(descriptions.length>0){self._val(self.schema.description,descriptions.text(),parsedData,index);descriptions.each(function(){if(this.outerHTML){text=text.replace(this.outerHTML,"")}else{text=text.replace($("<div>").append(this).html(),"")}})}}if(self.schema.hasOwnProperty("count")){counts=li.children("span.ui-li-count");if(counts.length===0&&anchor.length>0){counts=anchor.children("span.ui-li-count")}if(counts.length>0){self._val(self.schema.count,parseInt(counts.text(),10),parsedData,index);counts.each(function(){if(this.outerHTML){text=text.replace(this.outerHTML,"")}else{text=text.replace($("<div>").append(this).html(),"")}})}}if(self.schema.hasOwnProperty("text")){self._val(self.schema.text,text,parsedData,index)}id=li.attr("id");if(id){if(self.schema.hasOwnProperty("value")){self._val(self.schema.value,id,parsedData,index)}}ul=li.children("ul, ol");if(ul.length>0){if(self.schema.hasOwnProperty("childData")&&self.schema.childData.hasOwnProperty("name")){parsedData[index][self.schema.childData.name]=self._list(ul)}}})}return parsedData},isObjEmpty:function(obj){var prop;for(prop in obj){if(obj.hasOwnProperty(prop)){return false}}return true},fields:function(){return this.schema.fields}});$.ig.RemoteDataSource=$.ig.RemoteDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="remoteUrl";this._super(options);return this}});$.ig.JSONDataSource=$.ig.JSONDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="json";this._super(options);return this}});$.ig.RESTDataSource=$.ig.RESTDataSource||$.ig.DataSource.extend({settings:{restSettings:{create:{url:null,template:null,batch:false},update:{url:null,template:null,batch:false},remove:{url:null,template:null,batch:false},encodeRemoveInRequestUri:true,contentSerializer:null,contentType:"application/json; charset=utf-8"}},init:function(options){if(!options){options={}}options.restSettings=$.extend(true,this.settings.restSettings,options.restSettings);this._createHttpHandlers();this._createLogVerbMapping();this._setLazyUrls();this._super(options);return this},saveChanges:function(success,error){var log,verb,batchOps={POST:[],PUT:[],DELETE:[],CELL:[]},i;this._asyncCallbackCount=0;this._isc=success&&typeof success==="function"?success:null;this._iec=error&&typeof error==="function"?error:null;for(i=0;i<this._accumulatedTransactionLog.length;i++){log=this._accumulatedTransactionLog[i];verb=this._logVerbMap[log.type];if(log.type==="cell"){batchOps.CELL.push(log)}else if(this._isBatch(verb)===true){batchOps[verb].push(log)}else{this._asyncCallbackCount++;this._saveSingleChange(verb,log)}}if(batchOps.CELL.length>0){this._saveAllCellChanges(batchOps.CELL)}if(batchOps.POST.length>0){this._asyncCallbackCount++;this._saveAllCreateChanges(batchOps.POST)}if(batchOps.PUT.length>0){this._asyncCallbackCount++;this._saveAllUpdateChanges(batchOps.PUT)}if(batchOps.DELETE.length>0){this._asyncCallbackCount++;this._saveAllDeleteChanges(batchOps.DELETE)}},_saveSingleChange:function(verb,change){var data,url;data=verb==="POST"||verb==="PUT"?change.row:null;url=this._getProperUrl(verb,false,verb==="DELETE"||verb==="PUT"?change.rowId:undefined);this._call(verb,url,data)},_saveAllCellChanges:function(cellLogs){var i,combined={},rowLogs=[],cl;for(i=0;i<cellLogs.length;i++){cl=cellLogs[i];if(combined[cl.rowId]===undefined){combined[cl.rowId]={};combined[cl.rowId].row=this.findRecordByKey(cl.rowId)}combined[cl.rowId].row[cl.col]=cl.value}$.each(combined,function(key,value){value.rowId=key;rowLogs.push(value)});if(this._isBatch("PUT")===true){this._asyncCallbackCount++;this._saveAllUpdateChanges(rowLogs)}else{for(i=0;i<rowLogs.length;i++){this._asyncCallbackCount++;this._saveSingleChange("PUT",rowLogs[i])}}},_saveAllCreateChanges:function(createLogs){var data=[],i;for(i=0;i<createLogs.length;i++){data.push(createLogs[i].row)}this._call("POST",this._getProperUrl("POST",true),data)},_saveAllUpdateChanges:function(updateLogs){var data=[],urlParams="?",i;for(i=0;i<updateLogs.length;i++){data.push(updateLogs[i].row);urlParams+="index="+updateLogs[i].rowId+(i!==updateLogs.length-1?"&":"")}this._call("PUT",this._getProperUrl("PUT",true)+urlParams,data)},_saveAllDeleteChanges:function(deleteLogs){var urlParams="",i,data=null;if(this.settings.restSettings.encodeRemoveInRequestUri===true){urlParams="?";for(i=0;i<deleteLogs.length;i++){urlParams+="index="+deleteLogs[i].rowId+(i!==deleteLogs.length-1?"&":"")}}else{data=[];for(i=0;i<deleteLogs.length;i++){data.push(deleteLogs[i].rowId)}}this._call("DELETE",this._getProperUrl("DELETE",true)+urlParams,data)},_createHttpHandlers:function(){this._okHandler=$.proxy(this._responseOk,this);this._createdHandler=$.proxy(this._responseCreated,this);this._noContentHandler=$.proxy(this._responseNoContent,this);this._httpHandlers={POST:{201:this._createdHandler},PUT:{200:this._okHandler,201:this._createdHandler,204:this._noContentHandler},DELETE:{200:this._okHandler,204:this._noContentHandler}}},_createLogVerbMapping:function(){this._logVerbMap={newrow:"POST",row:"PUT",deleterow:"DELETE",cell:"PUT"}},_setLazyUrls:function(){var rs=this.settings.restSettings,tempUrl=null,tempTmpl=null;$.each(rs,function(key,value){if(value){if(value.url){tempUrl=value.url}if(value.template){tempTmpl=value.template}}});$.each(rs,function(key,value){if(value){if(value.url!==undefined&&value.url===null){value.url=tempUrl}if(value.template!==undefined&&value.template===null){value.template=tempTmpl}}});this._putUrl=rs.update.url;this._putTmpl=rs.update.template;this._postUrl=rs.create.url;this._postTmpl=rs.create.template;this._deleteUrl=rs.remove.url;this._deleteTmpl=rs.remove.template},_getProperUrl:function(verb,batch,id){var vL=verb.toLowerCase(),url=this["_"+vL+"Url"];if(url&&url.length>0&&url.substr(url.length-1)!=="/"){url+="/"}if(!batch||batch===false){if(this["_"+vL+"Tmpl"]!==null){url=this["_"+vL+"Tmpl"];if(id){url=url.replace("${id}",id)}}else{if(id){url+=id}}}return url},_responseOk:function(data,textStatus,jqXHR){this._asyncCallbackCount--;if(this._asyncCallbackCount===0){this._saveChangesSuccess({Success:textStatus==="success"},textStatus,jqXHR)}},_responseCreated:function(data,textStatus,jqXHR){this._asyncCallbackCount--;if(this._asyncCallbackCount===0){this._saveChangesSuccess({Success:textStatus==="success"},textStatus,jqXHR)}},_responseNoContent:function(data,textStatus,jqXHR){this._asyncCallbackCount--;if(this._asyncCallbackCount===0){this._saveChangesSuccess({Success:textStatus==="success"||textStatus==="nocontent"},textStatus,jqXHR)}},_isBatch:function(verb){switch(verb){case"POST":return this.settings.restSettings.create.batch;case"PUT":return this.settings.restSettings.update.batch;case"DELETE":return this.settings.restSettings.remove.batch;default:return false}},_call:function(verb,url,data){var dataString,ct=this.settings.restSettings.contentType,serializer=this.settings.restSettings.contentSerializer,self=this;if(serializer!==null){if(typeof serializer==="string"){serializer=window[serializer]}}if(data!==null){dataString=serializer!==null?serializer(data):JSON.stringify(data)}else{ct="text/plain";dataString=""}$.ajax({type:verb,url:url,data:dataString,statusCode:this._httpHandlers[verb],contentType:ct,cache:false,success:function(data,textStatus,jqXHR){if(self._isc){self._isc(data,textStatus,jqXHR)}},error:function(jqXHR,textStatus,errorThrown){if(self._iec){self._iec(jqXHR,textStatus,errorThrown)}},processData:true})}});$.ig.JSONPDataSource=$.ig.JSONPDataSource||$.ig.DataSource.extend({settings:{jsonp:null,jsonpCallback:null},init:function(options){if(!options){options={}}options.responseDataType="jsonp";this._super(options);return this}});$.ig.XmlDataSource=$.ig.XmlDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="xml";this._super(options);return this}});$.ig.FunctionDataSource=$.ig.FunctionDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="function";this._super(options);return this}});$.ig.HtmlTableDataSource=$.ig.HtmlTableDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="htmlTableDom";this._super(options);return this}});$.ig.ArrayDataSource=$.ig.ArrayDataSource||$.ig.DataSource.extend({init:function(options){if(!options){options={}}options.type="array";this._super(options);return this}});$.ig.MashupDataSource=$.ig.MashupDataSource||$.ig.DataSource.extend({mashupSettings:{ignorePartialRecords:false,dataSource:[]},init:function(options){this._super(options);if(options){this.settings=$.extend(true,{},$.ig.DataSource.prototype.settings,options);this.settings=$.extend(true,{},$.ig.MashupDataSource.prototype.mashupSettings,this.settings)}this._sources=[];this._dataBindingComplete=false;this._sourcesStatus=[];this._hashedDataViews=[];return this},_checkDataBindingComplete:function(status,msg,ownerDs){var i,j,k,hasPrimaryKeys=true,totalLength=0,data=[],merged=[],d,rindex,keyVal,prop,keyIndexHash;this._dataBindingComplete=true;for(i=0;i<this._sources.length;i++){if(this._sources[i]===ownerDs){this._sourcesStatus[i]=1}if(this._sourcesStatus[i]===0){this._dataBindingComplete=false}}if(this._dataBindingComplete){for(i=0;i<this._sources.length;i++){if(this._sources[i].settings.primaryKey===""||this._sources[i].settings.primaryKey===null||this._sources[i].settings.primaryKey===undefined){hasPrimaryKeys=false;break}}totalLength=this._sources[0].dataView().length;for(i=0;i<this._sources.length;i++){totalLength=this.settings.ignorePartialRecords?this._sources[i].dataView().length<totalLength?this._sources[i].dataView().length:totalLength:this._sources[i].dataView().length>totalLength?this._sources[i].dataView().length:totalLength}if(hasPrimaryKeys){for(i=0;i<this._sources.length;i++){this._hashedDataViews[i]={};for(j=0;j<this._sources[i].dataView().length;j++){this._hashedDataViews[i][this._sources[i].dataView()[j][this._sources[i].settings.primaryKey]]=this._sources[i].dataView()[j]}}keyIndexHash={};j=0;for(i=0;i<this._hashedDataViews.length;i++){for(keyVal in this._hashedDataViews[i]){if(this._hashedDataViews[i].hasOwnProperty(keyVal)){if(keyIndexHash.hasOwnProperty(keyVal)){data[keyIndexHash[keyVal]]=$.extend(true,{},data[keyIndexHash[keyVal]],this._hashedDataViews[i][keyVal]);merged[keyIndexHash[keyVal]]++}else{data.push({});merged.push(1);data[j]=$.extend(true,{},data[j],this._hashedDataViews[i][keyVal]);keyIndexHash[keyVal]=j;j++}}}}if(this.settings.ignorePartialRecords){for(i=merged.length-1;i>=0;i--){if(merged[i]<this._sources.length){data.splice(i,1)}}}}else{for(i=0;i<totalLength;i++){data[i]={};for(j=0;j<this._sources.length;j++){d=this._sources[j];if(d.dataView()[0].length){for(k=0;k<d.dataView()[0].length;k++){rindex+=k;if(d.schema()&&d.schema().fields().length>0){data[i][d.schema().fields()[k]]=i>=d.dataView().length?"":d.dataView()[i][d.schema().fields()[k]]}else{data[i][rindex]=i>=d.dataView().length?"":d.dataView()[i][k]}}}else{for(prop in d.dataView()[i]){if(d.dataView()[i].hasOwnProperty(prop)){data[i][prop]=i>=d.dataView().length?"":d.dataView()[i][prop]}}}}rindex=0}}this.settings.dataSource=data;this.settings.type="array";this._runtimeType=this.analyzeDataSource();this.dataBind()}},dataBind:function(){var i,ds=this.settings.dataSource;if(this._dataBindingComplete){this._dataBindingComplete=false;this._super()}else{this._dataBindingComplete=false;for(i=0;i<ds.length;i++){if(ds[i]instanceof $.ig.DataSource){this._sources[i]=ds[i]}else if(ds[i].hasOwnProperty("dataSource")&&ds[i].dataSource instanceof $.ig.DataSource){this._sources[i]=ds[i].dataSource}else{this._sources[i]=new $.ig.DataSource(ds[i])}this._sources[i].settings.callee=this;this._sources[i].settings.callback=this._checkDataBindingComplete;this._sourcesStatus[i]=0}for(i=0;i<ds.length;i++){this._sources[i].dataBind()}}return this}});$.ig.HierarchicalDataSource=$.ig.HierarchicalDataSource||Class.extend({settings:{autogenerate:false,initialDataBindDepth:0,maxDataBindDepth:-1,defaultChildrenDataProperty:"children",callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,type:"unknown",responseDataType:null,responseContentType:null,localSchemaTransform:true,urlParamsEncoding:null,urlParamsEncoded:null,requestType:"GET",odata:false,paging:{},sorting:{},filtering:{},schema:[]},init:function(options){if(options){this.__ds=options.dataSource;options.dataSource=null;this.settings=$.extend(true,{},$.ig.HierarchicalDataSource.prototype.settings,options);this.settings.dataSource=this.__ds}this._rootopts=this.settings;this._rootopts.urlParamsEncoded=$.proxy(this._encodeHierarchicalUrlParams,this);if(this._rootopts.dataSource instanceof $.ig.DataSource){this._rootds=this._rootopts.dataSource;this._rootds.settings.urlParamsEncoded=this.settings.urlParamsEncoded;this._rootds.settings.odata=this.settings.odata;if(!this._rootds.settings.schema){this._rootds.settings.schema={}}this._rootds.settings.schema.layouts=this.settings.schema.layouts}else{if($.type(this._rootopts.dataSource)==="string"&&this._rootopts.dataSource.indexOf("$callback=?")!==-1){this._rootds=new $.ig.JSONPDataSource(this._rootopts)}else if(this._rootopts.restSettings&&(this._rootopts.restSettings.update.url!==null||this._rootopts.restSettings.update.template!==null||this._rootopts.restSettings.create.url!==null||this._rootopts.restSettings.create.template!==null||this._rootopts.restSettings.remove.url!==null||this._rootopts.restSettings.remove.template!==null)){this._rootds=new $.ig.RESTDataSource(this._rootopts)}else{this._rootds=new $.ig.DataSource(this._rootopts)}}},dataBind:function(callback,callee){this._rootds.dataBind(callback,callee)},root:function(){if(!this._rootds){this._rootds=new $.ig.DataSource(this._rootopts)}return this._rootds},dataAt:function(path,keyspath){var data=this.root().data(),paths=path.split("/"),kp=keyspath.split("/"),k,i,searchField="Records",j,cd=null,ckey=this.settings.primaryKey,ckeyval="",ckeys=[],ckeyvals=[],match=false;for(i=0;i<paths.length;i++){ckey=paths[i].split(":")[0];ckeyval=paths[i].split(":")[1];if(paths[i]!==""){for(j=0;data&&j<data.length;j++){if(ckey&&ckey.indexOf(",")!==-1){ckeys=ckey.split(",");ckeyvals=ckeyval.split(",");for(k=0;k<ckeys.length;k++){if(!data[j][ckeys[k]].charAt&&ckeyvals[k].charAt){ckeyvals[k]=parseInt(ckeyvals[k],10)}match=data[j][ckeys[k]]===ckeyvals[k];if(!match){break}}}else{if(data[j][ckey]!==undefined&&!data[j][ckey].charAt&&ckeyval.charAt){ckeyval=parseInt(ckeyval,10)}match=data[j][ckey]===ckeyval}if(match){cd=data[j][kp[i]];searchField=this.root().schema&&this.root().schema()&&this.root().schema().schema?this.root().schema().schema.searchField:searchField;if(cd&&paths.length>1&&i<paths.length-1&&$.type(cd)!=="array"&&cd[searchField]){cd=cd[searchField]}break}}data=cd}}return cd},_encodeUrlPath:function(rowid,name){return"path="+rowid+"&layout="+name},_encodeHierarchicalUrlParams:function(owner,args){var expand="",layouts=this.settings.schema.layouts,i,j,tmp,name,lc=0;if(this.settings.odata&&this.settings.initialDataBindDepth!==0){i=j=0;for(name in layouts){if(layouts.hasOwnProperty(name)){lc++}}lc++;for(name in layouts){if(layouts.hasOwnProperty(name)){if($.type(layouts[name])!=="function"){if(name.startsWith("/")){name=name.substring(1,name.length-1)}tmp=name.split("/");for(i=0;i<tmp.length;i++){tmp[i]=tmp[i].substring(0,tmp[i].indexOf(":"))}tmp=tmp.join("/");if(j!==0&&j!==lc-1){expand+=","}expand+=tmp;j++}}}args.selectParams.$expand=expand}else{args.selectParams.dbdepth=this.settings.initialDataBindDepth}}});if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("ig.datasource",["ig.util"],function(){return $.ig.DataSource})}})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI infragistics.olapxmladatasource.js 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends:
*     jquery-1.4.4.js
*     jquery.ui.core.js
*     jquery.ui.widget.js
*     infragistics.util.js
*/
$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["AbstractEnumerable:a","Object:b","Type:c","Boolean:d","ValueType:e","Void:f","String:g","IComparable:h","Number:i","Number:j","Single:k","Number:l","String:m","Array:n","RegExp:o","RuntimeTypeHandle:p","MethodInfo:q","MethodBase:r","MemberInfo:s","ParameterInfo:t","TypeCode:u","Enum:v","ConstructorInfo:w","IEnumerable:x","IEnumerator:y","Func$1:z","MulticastDelegate:aa","IntPtr:ab","AbstractEnumerator:ac","IEnumerable$1:ad","IEnumerator$1:ae","ICollection$1:af","IList$1:ag","IArrayList:ah","Array:ai","ICollection:aj","CompareCallback:ak","List$1:al","IList:am","IDisposable:an","IArray:ao","Script:ap","Date:aq","Date:ar","Number:as","Func$3:at","Action$1:au","IDictionary$2:aw","Dictionary$2:ax","IDictionary:ay","Dictionary:az","IEqualityComparer$1:a0","KeyValuePair$2:a1","NotImplementedException:a2","Error:a3","GenericEnumerable$1:a4","GenericEnumerator$1:a5","INotifyCollectionChanged:a6","NotifyCollectionChangedEventHandler:a7","NotifyCollectionChangedEventArgs:a8","EventArgs:a9","NotifyCollectionChangedAction:ba","ObservableCollection$1:bd","INotifyPropertyChanged:be","PropertyChangedEventHandler:bf","PropertyChangedEventArgs:bg","Delegate:bh","ReadOnlyCollection$1:bj","NameValueCollection:bl","IOrderedEnumerable$1:bu","Enumerable:bz","Func$2:b0","SortedList$1:b1","Math:b2","Number:b3","Number:b4","Number:b5","Number:b6","Number:b7","Number:b8","Number:b9","ArgumentNullException:ca","AggregateException:cn","ArgumentException:co","AsyncCompletedEventArgs:cq","ListSortDirection:cs","Environment:cu","InvalidOperationException:cv","Debug:cw","ICredentials:cz","NetworkCredential:c0","Uri:c1","UploadStringCompletedEventHandler:c2","UploadStringCompletedEventArgs:c3","WebClient:c4","Encoding:c5","UTF8Encoding:c6","UnicodeEncoding:c7","WebHeaderCollection:c8","Task$1:c9","Task:da","JQueryPromise:db","Action:dc","TaskStatus:dd","TaskCompletionSource$1:de","JQueryDeferred:df","JQuery:dg","JQueryObject:dh","Element:di","ElementAttributeCollection:dj","ElementCollection:dk","WebStyle:dl","ElementNodeType:dm","Document:dn","EventListener:dp","IElementEventHandler:dq","ElementEventHandler:dr","ElementAttribute:ds","JQueryPosition:dt","JQueryCallback:du","JQueryEvent:dv","JQueryUICallback:dw","FaultCode:dx","FaultException:dy","FaultReason:dz","FaultException$1:d0","StringBuilder:d1","TaskFactory:d4","Tuple$2:d5","JavaScriptSerializer:d6","XObject:f9","XmlNode:ga","XmlNodeList:gb","XmlNamedNodeMap:gc","XmlNodeType:gd","XmlDocument:ge","XmlElement:gf","XmlLinkedNode:gg","XmlAttribute:gh","XmlUtils:gi","XAttribute:gj","XNode:gk","XContainer:gl","XElement:gm","XName:gn","XNamespace:go","XDocument:gp"]);$.ig.util.defType("TaskStatus:dd","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("TaskStatus",$.ig.$ep.$type)},true);$.ig.util.defType("ListSortDirection:cs","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("ListSortDirection",$.ig.$ep.$type)},true);$.ig.util.defType("NotifyCollectionChangedAction:ba","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("NotifyCollectionChangedAction",$.ig.$ep.$type)},true);$.ig.util.defType("AbstractEnumerable:a","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},getEnumerator:function(){return new $$t.ac(this.a().getEnumerator())},$type:new $.ig.Type("AbstractEnumerable",$.ig.$ot,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("AbstractEnumerator:ac","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("AbstractEnumerator",$.ig.$ot,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("IEnumerable$1:ad","Object",{$type:new $.ig.Type("IEnumerable$1",null,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("ICollection$1:af","Object",{$type:new $.ig.Type("ICollection$1",null,[$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IList$1:ag","Object",{$type:new $.ig.Type("IList$1",null,[$$t.$af.$type.specialize(0),$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IArrayList:ah","Object",{$type:new $.ig.Type("IArrayList",null)},true);$.ig.util.defType("List$1:al","Object",{$t:null,__inner:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array},init1:function($t,initNumber,a){this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array;if(this.b(0,a)){return}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.add1(b)}},init2:function($t,initNumber,a){this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array},o:function(a,b){this.__inner[a]=b},j:function(a,b){this.__inner.insert(a,b)},f:function(a){this.__inner.add(a)},m:function(a){this.__inner.removeAt(a)},h:function(){this.__inner.clear()},item:function(a,b){if(arguments.length===2){this.o(a,b);return b}else{return this.__inner[a]}},indexOf:function(a){return this.__inner.indexOf(a)},insert:function(a,b){this.j(a,b)},removeAt:function(a){this.m(a)},count:function(){return this.__inner.length},isReadOnly:function(){return false},add1:function(a){this.f(a)},clear:function(){this.h()},contains1:function(a){return this.__inner.contains(a)},copyTo:function(a,b){for(var c=0;c<this.__inner.length;c++){a[b+c]=this.__inner[c]}},remove1:function(a){var b=this.indexOf(a);if(b<0){return false}this.m(b);return true},getEnumerator:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__inner.getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerator$1(this.$t,$iter())},asArrayList:function(){return this.__inner},b:function(a,collection_){var b=$.ig.util.cast($$t.$ah.$type,collection_);if(b!=null){this.__inner.insertRange1(a,b.asArrayList());return true}var c=$.ig.util.cast($$t.$ao.$type,collection_);if(c!=null){this.__inner.insertRange(a,c.asArray());return true}var d=$.ig.util.cast($$t.$ag.$type.specialize(this.$t),collection_);if(d!=null){for(var e=0;e<d.count();e++){this.__inner.insert(a+e,d.item(e))}return true}var f=$.isArray(collection_)?collection_:null;if(f!=null){this.__inner.insertRange(a,f);return true}return false},insertRange1:function(a,b){if(this.b(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},insertRange:function(a,b){if(this.b(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},removeRange:function(a,b){this.__inner.splice(a,b)},copyTo1:function(a,b){this.__inner.copyTo(a,b)},isFixedSize:function(){return false},add:function(a){this.f(a);return this.__inner.length-1},contains:function(a){return this.__inner.contains(a)},indexOf1:function(a){return this.__inner.indexOf(a)},insert1:function(a,b){this.j(a,b)},remove:function(a){var b=this.indexOf1(a);this.m(b)},sort:function(){var $self=this;var a=null;if($self.$t==Number){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$.ig.Single.prototype.$type){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$.ig.Number.prototype.$type){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$$t.$aq.$type){a=function(b,c){var d=b;var e=c;if(d.getTime()<e.getTime()){return-1}if(d.getTime()==e.getTime()){return 0}return 1}}else{a=function(b,c){return b.compareTo(c)}}$self.r(a)},r:function(a){this.__inner.sort(a)},sort1:function(a){var $self=this;$self.__inner.sort(function(b,c){var d=b;var e=c;return a(d,e)})},_capacity:0,capacity:function(value){if(arguments.length===1){this._capacity=value;return value}else{return this._capacity}},addRange:function(a){var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.__inner.add(b)}},toArray:function(){return this.__inner.slice(0)},forEach:function(a){},isSynchronized:function(){return true},e:null,syncRoot:function(){return this.e},$type:new $.ig.Type("List$1",$.ig.$ot,[$$t.$ag.$type.specialize(0),$$t.$ah.$type,$.ig.IList.prototype.$type])},true);$.ig.util.defType("KeyValuePair$2:a1","ValueType",{$tKey:null,$tValue:null,init:function($tKey,$tValue,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.ValueType.prototype.init.call(this)},a:null,c:null,init1:function($tKey,$tValue,initNumber,a,b){this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.ValueType.prototype.init.call(this);this.a=a;this.c=b},key:function(){return this.a},value:function(){return this.c},$type:new $.ig.Type("KeyValuePair$2",$.ig.ValueType.prototype.$type)},true);$.ig.util.defType("IDictionary$2:aw","Object",{$type:new $.ig.Type("IDictionary$2",null,[$$t.$af.$type.specialize($$t.$a1.$type.specialize(this.$tKey,this.$tValue)),$$t.$ad.$type.specialize($$t.$a1.$type.specialize(this.$tKey,this.$tValue)),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Dictionary$2:ax","Object",{$tKey:null,$tValue:null,__inner:null,__keys:null,init:function($tKey,$tValue,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0)},init1:function($tKey,$tValue,initNumber,a){this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(1,a);this.__keys=new $.ig.Dictionary(0)},g:null,init2:function($tKey,$tValue,initNumber,a){this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0);this.g=a},count:function(){return this.__inner.count()},item:function(a,b){if(arguments.length===2){this.__inner.item(this.i(a),b);this.__keys.item(this.i(a),a);return b}else{return this.__inner.item(this.i(a))}},length:function(){return this.__inner.length()},containsKey:function(a){return this.__inner.containsKey(this.i(a))},remove:function(a){var b=this.i(a);if(!this.__keys.containsKey(b)){return false}this.__inner.remove(b);this.__keys.remove(b);return true},clear:function(){this.__inner.clear();this.__keys.clear()},_useToString:false,a:false,_needsEnsure:false,j:function(key_){if(!this.a){this.a=true;this._needsEnsure=typeof key_=="object";if(!this._needsEnsure){this._useToString=!key_.getHashCode}}},i:function(key_){this.j(key_);if(this._needsEnsure){$.ig.util.ensureUniqueId(key_)}if(this.g!=null){return this.g.getHashCode(key_).toString()}if(this._useToString){return key_.toString()}else{return key_.getHashCode().toString()}},add:function(a,b){this.__inner.item(this.i(a),b);this.__keys.item(this.i(a),a)},tryGetValue:function(a,b){if(!this.__inner.containsKey(this.i(a))){b=null;return{ret:false,value:b}}b=this.__inner.item(this.i(a));return{ret:true,value:b};return{value:b}},keys:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tKey,$iter)},values:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__inner.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tValue,$iter)},isReadOnly:function(){return false},add1:function(a){this.add(a.key(),a.value())},contains:function(a){return this.containsKey(a.key())},copyTo:function(a,b){throw new $$t.a2},remove1:function(a){this.remove(a.key());return true},f:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=new $$t.a1(this.$tKey,this.$tValue,1,this.$a,this.$this.__inner.item(this.$this.i(this.$a)));this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($$t.$a1.$type.specialize(this.$tKey,this.$tValue),$iter)},getEnumerator:function(){return this.f().getEnumerator()},$type:new $.ig.Type("Dictionary$2",$.ig.$ot,[$.ig.IDictionary$2.prototype.$type.specialize(0,1),$.ig.IDictionary.prototype.$type])},true);$.ig.util.defType("GenericEnumerable$1:a4","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},getEnumerator:function(){return new $$t.a5(this.$t,this.a().getEnumerator())},$type:new $.ig.Type("GenericEnumerable$1",$.ig.$ot,[$$t.$ad.$type.specialize(0)])},true);$.ig.util.defType("IEnumerator$1:ae","Object",{$type:new $.ig.Type("IEnumerator$1",null,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("GenericEnumerator$1:a5","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("GenericEnumerator$1",$.ig.$ot,[$$t.$ae.$type.specialize(0)])},true);$.ig.util.defType("INotifyCollectionChanged:a6","Object",{$type:new $.ig.Type("INotifyCollectionChanged",null)},true);$.ig.util.defType("NotifyCollectionChangedEventArgs:a8","EventArgs",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$a9.init.call(this);this.f=a;this.c=new $$t.al($.ig.$op.$type,0);this.b=new $$t.al($.ig.$op.$type,0)},init1:function(initNumber,a,b,c){var $self=this;$$t.$a9.init.call(this);this.f=a;this.c=new $$t.al($.ig.$op.$type,0);if(this.f==1||this.f==2){this.c.add(b);this.i=c}if(this.f!=1){this.b=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(b);return $ret}()}else{this.b=new $$t.al($.ig.$op.$type,0)}this.h=c},init2:function(initNumber,a,b,c,d){var $self=this;$$t.$a9.init.call(this);this.f=a;this.h=d;this.i=d;this.b=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(b);return $ret}();this.c=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(c);return $ret}()},f:null,action:function(){return this.f},b:null,newItems:function(){return this.b},h:0,newStartingIndex:function(){return this.h},c:null,oldItems:function(){return this.c},i:0,oldStartingIndex:function(){return this.i},$type:new $.ig.Type("NotifyCollectionChangedEventArgs",$$t.$a9.$type)},true);$.ig.util.defType("ObservableCollection$1:bd","List$1",{$t:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init.call(this,this.$t)},init1:function($t,initNumber,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init1.call(this,this.$t,1,a)},init2:function($t,initNumber,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init2.call(this,this.$t,2,a)},o:function(a,b){var c=this.__inner[a];$$t.$al.o.call(this,a,b);if(this.propertyChanged!=null){this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var d=new $$t.a8(2,2,b,c,a);this.s(d)}},h:function(){$$t.$al.h.call(this);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var a=new $$t.a8(0,4);this.s(a)}},j:function(a,b){$$t.$al.j.call(this,a,b);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var c=new $$t.a8(1,0,b,a);this.s(c)}},f:function(a){$$t.$al.f.call(this,a);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var b=new $$t.a8(1,0,a,this.count()-1);this.s(b)}},m:function(a){var b=this.__inner[a];$$t.$al.m.call(this,a);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var c=new $$t.a8(1,1,b,a);this.s(c)}},collectionChanged:null,propertyChanged:null,t:function(a){if(this.propertyChanged!=null){this.propertyChanged(this,a)}},s:function(a){if(this.collectionChanged!=null){this.collectionChanged(this,a)}},$type:new $.ig.Type("ObservableCollection$1",$$t.$al.$type.specialize(0),[$$t.$a6.$type,$$t.$be.$type])},true);$.ig.util.defType("ReadOnlyCollection$1:bj","Object",{$t:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.c={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this)},init1:function($t,initNumber,a){this.c={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},a:null,item:function(a,b){if(arguments.length===2){this.a.item(a,b);return b}else{return this.a.item(a)}},indexOf:function(a){return this.a.indexOf(a)},insert:function(a,b){},removeAt:function(a){},count:function(){return this.a.count()},isReadOnly:function(){return true},add1:function(a){},clear:function(){},contains1:function(a){return this.a.contains(a)},copyTo:function(a,b){this.a.copyTo(a,b)},remove1:function(a){return false},getEnumerator:function(){return this.a.getEnumerator()},isFixedSize:function(){return true},add:function(a){return-1},contains:function(a){return this.a.contains(a)},indexOf1:function(a){return this.a.indexOf(a)},insert1:function(a,b){},remove:function(a){},copyTo1:function(a,b){this.a.copyTo(a,b)},b:function(){return this.a},isSynchronized:function(){return true},c:null,syncRoot:function(){return this.c},$type:new $.ig.Type("ReadOnlyCollection$1",$.ig.$ot,[$$t.$ag.$type.specialize(0),$.ig.IList.prototype.$type])},true);$.ig.util.defType("NameValueCollection:bl","Object",{a:null,init:function(){$.ig.$op.init.call(this);this.a=new $$t.ax(String,String,0)},item:function(a,b){if(arguments.length===2){if(this.a.containsKey(a)){this.a.item(a,b)}else{this.a.add(a,b)}return b}else{if(this.a.containsKey(a)){return this.a.item(a)}else{return null}}},$type:new $.ig.Type("NameValueCollection",$.ig.$ot)},true);$.ig.util.defType("IOrderedEnumerable$1:bu","Object",{$type:new $.ig.Type("IOrderedEnumerable$1",null,[$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Enumerable:bz","Object",{init:function(){$.ig.$op.init.call(this)},where$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=7;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a(this.$b)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$b;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$c.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},where$11:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:0,$c:null,$d:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$b=0;this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=7;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:if(a(this.$c,this.$b)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$c;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$b++;this.$state=7;break;case 7:if(this.$d.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},select$2:function($tSource,$tResult,a){var $self=this;var $iter=function(){return function($tSource,$tResult,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=a(this.$b);this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,a)};return new $.ig.GenericEnumerable$1($tResult,$iter)},selectMany$2:function($tSource,$tResult,a){var $self=this;var $iter=function(){return function($tSource,$tResult,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,$d:null,$e:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=8;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:this.$e=a(this.$b).getEnumerator();this.$state=6;break;case 4:this.$d=this.$e.current();this.$current=this.$d;this.$state=5;return true;case 5:this.$state=6;break;case 6:if(this.$e.moveNext()){this.$state=4}else{this.$state=7}break;case 7:this.$state=8;break;case 8:if(this.$c.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,a)};return new $.ig.GenericEnumerable$1($tResult,$iter)},ofType$1:function($tResult){var $self=this;var $iter=function(){return function($tResult){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.getEnumerator();this.$state=7;break;case 2:this.$a=this.$b.current();this.$state=3;break;case 3:if($.ig.util.cast($tResult,this.$a)!==null){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$a;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$b.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tResult)};return new $.ig.GenericEnumerable$1($tResult,$iter)},last$1:function($tSource){var a=$.ig.util.cast($$t.$ag.$type.specialize($tSource),this);if(a!=null){return a.item(a.count()-1)}var b=null;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();b=c}return b},first$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return a}return null},firstOrDefault$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return a}return null},orderBy$2:function($tSource,$tKey,a){var $self=this;var b=new $$t.b1($tSource,$self);b.sort1(function(c,d){var e=c;var f=d;var g=a(e);var h=a(f);if($.ig.util.cast($$t.$h.$type,g)!==null){return $.ig.util.cast($$t.$h.$type,g).compareTo(h)}else{return g.toString().compareTo(h.toString())}});return b},orderByDescending$2:function($tSource,$tKey,a){var $self=this;var b=new $$t.b1($tSource,$self);b.sort1(function(c,d){var e=d;var f=c;var g=a(e);var h=a(f);if($.ig.util.cast($$t.$h.$type,g)!==null){return $.ig.util.cast($$t.$h.$type,g).compareTo(h)}else{return g.toString().compareTo(h.toString())}});return b},toList$1:function($tSource){var a=new $$t.al($tSource,1,this);return a},d:function(a,b){var $self=this;var $iter=function(){return function(a,b){return{$state:0,$this:$self,$current:null,$c:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=a;this.$state=5;break;case 2:this.$current=this.$c;this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$c++;this.$state=5;break;case 5:if(this.$c<b){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}(a,b)};return new $.ig.GenericEnumerable$1($.ig.Number.prototype.$type,$iter)},concat$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,$d:null,$e:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=this.$b;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=6;break;case 6:this.$e=a.getEnumerator();this.$state=9;break;case 7:this.$d=this.$e.current();this.$current=this.$d;this.$state=8;return true;case 8:this.$state=9;break;case 9:if(this.$e.moveNext()){this.$state=7}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},max:function(){var a=true;var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if(a){a=false;b=c}else{b=Math.max(b,c)}}return b},max$1:function($tSource,a){return this.select$2($tSource,$.ig.Number.prototype.$type,a).max()},min:function(){var a=true;var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if(a){a=false;b=c}else{b=Math.min(b,c)}}return b},min$1:function($tSource,a){return this.select$2($tSource,$.ig.Number.prototype.$type,a).max()},count$1:function($tSource){var a=0;var c=this.getEnumerator();while(c.moveNext()){var b=c.current();a++}return a},reverse$1:function($tSource){var $self=this;var $iter=function(){return function($tSource){return{$state:0,$this:$self,$current:null,$a:null,$b:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$a=new $$t.al($tSource,1,this.$this);this.$state=1;break;case 1:this.$b=this.$a.count()-1;this.$state=5;break;case 2:this.$current=this.$a.__inner[this.$b];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$b--;this.$state=5;break;case 5:if(this.$b>0){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource)};return new $.ig.GenericEnumerable$1($tSource,$iter)},cast$1:function($tResult){if(this==null){throw new $$t.ca("source")}var a=$.ig.util.cast($$t.$ad.$type.specialize($tResult),this);if(a!=null){return a}var b=new $$t.al($tResult,0);var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if($.ig.util.cast($tResult,c)!==null){b.add1(c)}else{b.add1(null)}}return b},take$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=9;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a>0){this.$state=4}else{this.$state=6}break;case 4:a--;this.$current=this.$b;this.$state=5;return true;case 5:this.$state=8;break;case 6:this.$state=-2;return false;case 7:this.$state=8;break;case 8:this.$state=9;break;case 9:if(this.$c.moveNext()){this.$state=2}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},skip$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=8;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a<=0){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$b;this.$state=5;return true;case 5:this.$state=7;break;case 6:a--;this.$state=7;break;case 7:this.$state=8;break;case 8:if(this.$c.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},any$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return true}return false},contains$1:function($tSource,value_){var a=this.getEnumerator();while(a.moveNext()){var item_=a.current();if(item_===value_){return true}}return false},union$1:function($tSource,a){return null},toArray$1:function($tSource){var a=new $$t.al($tSource,1,this);return a.asArrayList()},elementAt$1:function($tSource,a){var b=$.ig.util.cast($$t.$ag.$type.specialize($tSource),this);if(b!=null){return b.item(a)
}return this.skip$1($tSource,a).first$1($tSource)},sum:function(){var a=0;var c=this.getEnumerator();while(c.moveNext()){var b=c.current();a+=b}return a},sum$1:function($tSource,a){return this.select$2($tSource,Number,a).sum()},$type:new $.ig.Type("Enumerable",$.ig.$ot)},true);$.ig.util.defType("SortedList$1:b1","List$1",{$tElement:null,init:function($tElement,a){this.$tElement=$tElement;this.$type=this.$type.specialize(this.$tElement);$$t.$al.init1.call(this,this.$tElement,1,a)},getEnumerator:function(){return $$t.$al.getEnumerator.call(this)},$type:new $.ig.Type("SortedList$1",$$t.$al.$type.specialize(0),[$$t.$bu.$type.specialize(0)])},true);$.ig.util.defType("IArray:ao","Object",{$type:new $.ig.Type("IArray",null)},true);$.ig.util.defType("AggregateException:cn","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$a3.init.call(this)},init1:function(initNumber,a){$$t.$a3.init1.call(this,1,a)},init2:function(initNumber,a,b){$$t.$a3.init2.call(this,2,a,b)},$type:new $.ig.Type("AggregateException",$$t.$a3.$type)},true);$.ig.util.defType("ArgumentException:co","Error",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$a3.init1.call(this,1,a)},init1:function(initNumber,a,b){$$t.$a3.init1.call(this,1,a)},$type:new $.ig.Type("ArgumentException",$$t.$a3.$type)},true);$.ig.util.defType("ArgumentNullException:ca","Error",{init:function(a){$$t.$a3.init1.call(this,1,a+" cannot be null.")},$type:new $.ig.Type("ArgumentNullException",$$t.$a3.$type)},true);$.ig.util.defType("AsyncCompletedEventArgs:cq","EventArgs",{d:null,b:false,f:null,init:function(a,b,c){$$t.$a9.init.call(this);this.b=b;this.d=a;this.f=c},error:function(){return this.d},cancelled:function(){return this.b},userState:function(){return this.f},h:function(){if(this.error()!=null){throw this.error()}},$type:new $.ig.Type("AsyncCompletedEventArgs",$$t.$a9.$type)},true);$.ig.util.defType("Environment:cu","Object",{init:function(){$.ig.$op.init.call(this)},a:function(){return"\n"},$type:new $.ig.Type("Environment",$.ig.$ot)},true);$.ig.util.defType("InvalidOperationException:cv","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$a3.init1.call(this,1,"Invalid operation")},init1:function(initNumber,a){$$t.$a3.init1.call(this,1,a)},$type:new $.ig.Type("InvalidOperationException",$$t.$a3.$type)},true);$.ig.util.defType("Debug:cw","Object",{init:function(){$.ig.$op.init.call(this)},b:function(a,b){},c:function(a){},a:function(a){},$type:new $.ig.Type("Debug",$.ig.$ot)},true);$.ig.util.defType("ICredentials:cz","Object",{$type:new $.ig.Type("ICredentials",null)},true);$.ig.util.defType("NetworkCredential:c0","Object",{init:function(initNumber,a,b){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$c0.init1.call(this,1,a,b,String.empty())},init1:function(initNumber,a,b,c){$.ig.$op.init.call(this);this.c(a);this.b(b);this.a(c)},getCredential:function(a,b){return this},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("NetworkCredential",$.ig.$ot,[$$t.$cz.$type])},true);$.ig.util.defType("UploadStringCompletedEventArgs:c3","AsyncCompletedEventArgs",{i:null,init:function(a,b,c,d){$$t.$cq.init.call(this,b,c,d);this.i=a},result:function(){this.h();return this.i},$type:new $.ig.Type("UploadStringCompletedEventArgs",$$t.$cq.$type)},true);$.ig.util.defType("WebClient:c4","Object",{init:function(){$.ig.$op.init.call(this);this.c(new $$t.c8)},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},uploadStringCompleted:null,h:function(a,b,c,d){var $self=this;$self.e(a,b,c).i(function(e){if($self.uploadStringCompleted!=null){var f=null;var g=null;try{f=e.m()}catch(e_){g=e_}$self.uploadStringCompleted($self,new $$t.c3(f,g,e.g()==6,d))}})},e:function(a,b,c){var url_=a.value();var method_=b;var data_=c;var contentType_=this.c().item("Content-Type");var credentials_=this.a();var d=$.ig.util.ajax(url_,contentType_,data_,method_,credentials_);return new $$t.c9(String,d,null)},g:function(a,b,c,d){a.e(b)},f:function(a,b,c,d){a.d(new $$t.a3(1,d))},$type:new $.ig.Type("WebClient",$.ig.$ot)},true);$.ig.util.defType("WebHeaderCollection:c8","NameValueCollection",{init:function(){$$t.$bl.init.call(this)},$type:new $.ig.Type("WebHeaderCollection",$$t.$bl.$type)},true);$.ig.util.defType("FaultCode:dx","Object",{init:function(a){$.ig.$op.init.call(this);this.a(a)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("FaultCode",$.ig.$ot)},true);$.ig.util.defType("FaultException:dy","Error",{init:function(a,b,c){$$t.$a3.init.call(this);this.reason(a);this.code(b);this.action(c)},_action:null,action:function(value){if(arguments.length===1){this._action=value;return value}else{return this._action}},_code:null,code:function(value){if(arguments.length===1){this._code=value;return value}else{return this._code}},_reason:null,reason:function(value){if(arguments.length===1){this._reason=value;return value}else{return this._reason}},$type:new $.ig.Type("FaultException",$$t.$a3.$type)},true);$.ig.util.defType("FaultException$1:d0","FaultException",{$tDetail:null,init:function($tDetail,a,b,c,d){this.$tDetail=$tDetail;this.$type=this.$type.specialize(this.$tDetail);$$t.$dy.init.call(this,b,c,d);this.detail(a)},_detail:null,detail:function(value){if(arguments.length===1){this._detail=value;return value}else{return this._detail}},$type:new $.ig.Type("FaultException$1",$$t.$dy.$type)},true);$.ig.util.defType("FaultReason:dz","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},toString:function(){return this.a},$type:new $.ig.Type("FaultReason",$.ig.$ot)},true);$.ig.util.defType("StringBuilder:d1","Object",{_internal:null,internal:function(value){if(arguments.length===1){this._internal=value;return value}else{return this._internal}},init:function(){$.ig.$op.init.call(this);this._internal=[]},d:function(str_){this._internal.push(str_);return this},e:function(a){var str_=a.b();this._internal.push(str_);return this},c:function(chr_){this._internal.push(chr_);return this},f:function(str_){this._internal.push(str_+String.fromCharCode(10));return this},g:function(index_,chr_){this._internal.splice(index_,0,chr_);return this},h:function(index_,str_){this._internal.splice(index_,0,str_);return this},i:function(startIndex_,length_){this._internal.splice(startIndex_,length_);return this},b:function(){return this._internal.join("")},$type:new $.ig.Type("StringBuilder",$.ig.$ot)},true);$.ig.util.defType("NotImplementedException:a2","Error",{init:function(){$$t.$a3.init1.call(this,1,"not implemented")},$type:new $.ig.Type("NotImplementedException",$$t.$a3.$type)},true);$.ig.util.defType("Encoding:c5","Object",{init:function(){$.ig.$op.init.call(this)},uTF8:function(){if($$t.$c5.g==null){$$t.$c5.g=new $$t.c6}return $$t.$c5.g},unicode:function(){if($$t.$c5.f==null){$$t.$c5.f=new $$t.c7}return $$t.$c5.f},getString:function(a,b,c){return""},getBytes2:function(a,b,c,d,e){},getBytes:function(a,b,c){var d=new Array(this.getByteCount(a,b,c));this.getBytes2(a,b,c,d,0);return d},getBytes1:function(a){if(a==null){throw new $$t.ca("input")}var b=new Array(a.length);for(var c=0;c<a.length;c++){b[c]=a.charAt(c)}return this.getBytes(b,0,b.length)},getByteCount:function(a,b,c){},$type:new $.ig.Type("Encoding",$.ig.$ot)},true);$.ig.util.defType("UnicodeEncoding:c7","Encoding",{init:function(){$$t.$c5.init.call(this)},getString:function(bytes_,a,b){var c="";for(var i_=a;i_<b;i_=i_+2){if(bytes_[i_]==0){break}if(i_+1>=b){c=c+""}else{var d=bytes_[i_].toString(16);var e=bytes_[i_+1].toString(16);var f=$.ig.Number.prototype.parseInt(e+d,16);c=c+String.fromCharCode(f)}}return c},getByteCount:function(a,b,c){return 0},getBytes2:function(a,b,c,d,e){return 0},getBytes:function(a,b,c){return $$t.$c5.getBytes.call(this,a,b,c)},getBytes1:function(input_){var a=new Array(input_.length*2);for(var i_=0;i_<input_.length;i_++){var hex_=input_.charCodeAt(i_).toString(16).padLeft(4,"0");a[2*i_]=$.ig.Number.prototype.parseInt(hex_.substr(2),16);a[2*i_+1]=$.ig.Number.prototype.parseInt(hex_.substr(0,2),16)}return a},$type:new $.ig.Type("UnicodeEncoding",$$t.$c5.$type)},true);$.ig.util.defType("UTF8Encoding:c6","Encoding",{init:function(){$$t.$c5.init.call(this)},getString:function(bytes_,a,b){var ret_="";for(var i_=a;i_<b;i_++){if(bytes_[i_]==0){break}ret_=ret_+String.fromCharCode(bytes_[i_])}ret_=decodeURIComponent(escape(ret_));return ret_},getByteCount:function(a,b,c){return 0},getBytes2:function(a,b,c,d,e){return 0},getBytes:function(a,b,c){return $$t.$c5.getBytes.call(this,a,b,c)},getBytes1:function(input_){var a=new Array(input_.length);var inputUTF8_=unescape(encodeURIComponent(input_));for(var i_=0;i_<inputUTF8_.length;i_++){a[i_]=inputUTF8_.charCodeAt(i_)}return a},$type:new $.ig.Type("UTF8Encoding",$$t.$c5.$type)},true);$.ig.util.defType("Task:da","Object",{_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:false,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$da.init1.call(this,1,a,null)},init1:function(initNumber,a,b){var $self=this;$.ig.$op.init.call(this);var c=function(){};var d=function(e){if(e==null){$self.b(true)}else{$self.a(new $$t.cn(2,"Exception occurred during task execution",e))}};this.c(a.done(c).fail(d));this.d(b)},g:function(){if(this.b()){return 6}switch(this.c().state()){case"pending":return 0;case"resolved":return 5;case"rejected":return 7;default:return 0}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},e:function(a){var $self=this;var b=function(){return a($self)};var c=function(d){return a($self)};var d=$self.c().done(b).fail(c);return new $$t.da(0,d)},f:function($tNewResult,a){var $self=this;var b=new $$t.de($tNewResult,0);var c=function(){try{var d=a($self);b.e(d)}catch(e_){b.d(e_)}};var d=function(e){return c()};var e=function(f){return c()};$self.c().done(d).fail(e);return b.b()},$type:new $.ig.Type("Task",$.ig.$ot)},true);$.ig.util.defType("Task$1:c9","Task",{$tResult:null,init:function($tResult,a,b){var $self=this;this.h=false;this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$$t.$da.init1.call(this,1,a,b);var c=function(d){var e=d;$self.l=e;$self.h=true};var d=function(e){$self.h=true};this.c().done(c).fail(d)},h:false,l:null,m:function(){if(!this.h){throw"Result is not ready yet"}if(this.a()!=null){throw this.a()}return this.l},i:function(a){var $self=this;return $$t.$da.e.call($self,function(b){return a(b)})},j:function($tNewResult,a){var $self=this;var b=function(c){return a(c)};return $self.k($.ig.$op.$type,b).k($tNewResult,function(c){return c.m()})},k:function($tNewResult,a){return $$t.$da.f.call(this,$tNewResult,a)},$type:new $.ig.Type("Task$1",$$t.$da.$type)},true);$.ig.util.defType("TaskCompletionSource$1:de","Object",{$tResult:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},init:function($tResult,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$$t.$de.init1.call(this,this.$tResult,1,null)},init1:function($tResult,initNumber,a){this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$.ig.$op.init.call(this);this.a($.ig.util.deferred());this.b(new $$t.c9(this.$tResult,this.a().promise(),a))},c:function(){this.a().reject(null)},d:function(a){this.a().reject(a)},e:function(a){this.a().resolve(a)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("TaskCompletionSource$1",$.ig.$ot)},true);$.ig.util.defType("TaskFactory:d4","Object",{init:function(){$.ig.$op.init.call(this)},c:function(a,b){var $self=this;return new $$t.da(0,$self.b($self.a(a)).always(function(){return b(a)}))},d:function($tResult,a,b){var $self=this;var c=new $$t.de($tResult,0);$self.b($self.a(a)).always(function(){try{var d=b(a);c.e(d)}catch(e_){c.d(e_)}});return c.b()},e:function($tAntecedentResult,$tResult,a,b){var $self=this;var c=function(d){return b(d)};return $self.d($.ig.$op.$type,a,c).j($tResult,function(d){return d.m()})},a:function(a){var b=new Array(a.length);for(var c=0;c<a.length;c++){b[c]=a[c].c()}return b},b:function(a){var promises_=a;var b=function(p){function whenAll(){var whenDeffered=$.ig.util.deferred();if(arguments.length===0){whenDeffered.resolve();return whenDeffered}var count=arguments.length;var resolve=true;for(var i=0;i<arguments.length;i++){arguments[i].done(function(){resolve=resolve&&true}).fail(function(){resolve=resolve&&false}).always(function(){count--;if(count<=0){if(resolve){whenDeffered.resolve()}else{whenDeffered.reject()}}})}return whenDeffered}return whenAll.apply($,p)}(promises_);return b},$type:new $.ig.Type("TaskFactory",$.ig.$ot)},true);$.ig.util.defType("Tuple$2:d5","Object",{$t1:null,$t2:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},init:function($t1,$t2,a,b){this.$t1=$t1;this.$t2=$t2;this.$type=this.$type.specialize(this.$t1,this.$t2);$.ig.$op.init.call(this);this.a(a);this.b(b)},$type:new $.ig.Type("Tuple$2",$.ig.$ot)},true);$.ig.util.defType("Uri:c1","Object",{init:function(a){$.ig.$op.init.call(this);this.value(a)},_value:null,value:function(value){if(arguments.length===1){this._value=value;return value}else{return this._value}},$type:new $.ig.Type("Uri",$.ig.$ot)},true);$.ig.util.defType("JavaScriptSerializer:d6","Object",{init:function(){$.ig.$op.init.call(this)},a:function(a){var text_=a;return JSON.parse(text_)},b:function(a){var value_=a;return JSON.stringify(value_)},$type:new $.ig.Type("JavaScriptSerializer",$.ig.$ot)},true);$.ig.util.defType("XObject:f9","Object",{init:function(a){$.ig.$op.init.call(this);this.backingNode(a)},_backingNode:null,backingNode:function(value){if(arguments.length===1){this._backingNode=value;return value}else{return this._backingNode}},c:function(){},toString:function(){if(this.backingNode()!=null){return $$t.$gi.xmlNodeToString(this.backingNode())}else{return""}},$type:new $.ig.Type("XObject",$.ig.$ot)},true);$.ig.util.defType("XAttribute:gj","XObject",{init:function(a){$$t.$f9.init.call(this,a)},e:function(a){this.backingNode(this.backingNode().cloneNode(true));a.setAttributeNode(this.backingNode())},c:function(){return 2},d:function(){return $$t.$gi.b(this.backingNode())},$type:new $.ig.Type("XAttribute",$$t.$f9.$type)},true);$.ig.util.defType("XNode:gk","XObject",{init:function(a){$$t.$f9.init.call(this,a)},$type:new $.ig.Type("XNode",$$t.$f9.$type)},true);$.ig.util.defType("XContainer:gl","XNode",{init:function(a){$$t.$gk.init.call(this,a)},h:function(a){var b=null;var c=this.backingNode();var d=c.childNodes;var e=d.length;var f=a.c();var g=a.d();for(var h=0;h<e;h++){var i=d.item(h);if(i.namespaceURI==g&&i.nodeType==1&&$$t.$gi.d(i)==f){b=i}}if(b==null){return null}else{return new $$t.gm(0,b)}},d:function(){return this.f(null)},e:function(a){return this.f(a)},f:function(a){var b=new $$t.al($$t.$gm.$type,0);for(var c=0;c<this.backingNode().childNodes.length;c++){var d=this.backingNode().childNodes.item(c);if(d.nodeType==1){var e=false;if(a!=null){if($$t.$gi.d(d)==a.c()&&d.namespaceURI==a.d()){e=true}}else{e=true}if(e){b.add1(new $$t.gm(0,d))}}}return b},g:function(a){var b=this.backingNode();var c;if($.ig.util.cast($$t.$gp.$type,this)!==null){c=this.backingNode()}else{c=this.backingNode().ownerDocument}if($.ig.util.cast($$t.$gj.$type,a)!==null){a.e(b)}else if($.ig.util.cast($$t.$gm.$type,a)!==null){a.j(b,c)}},$type:new $.ig.Type("XContainer",$$t.$gk.$type)},true);$.ig.util.defType("XDocument:gp","XContainer",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$gl.init.call(this,a)},init1:function(initNumber){$$t.$gl.init.call(this,$$t.$gi.j())},c:function(){return 9},i:function(a){return new $$t.gp(0,$$t.$gi.n(a))},$type:new $.ig.Type("XDocument",$$t.$gl.$type)},true);$.ig.util.defType("XElement:gm","XContainer",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$gl.init.call(this,a)},init1:function(initNumber,a){$$t.$gm.init2.call(this,2,a,null)},init2:function(initNumber,a,b){$$t.$gl.init.call(this,$$t.$gi.o(a.c(),a.d()));var c=b==null?"":b.toString();this.i(c)},i:function(a){if(arguments.length===1){$$t.$gi.h(this.backingNode(),a);return a}else{return $$t.$gi.c(this.backingNode())}},c:function(){return 1},l:function(){return $$t.$gn.e($$t.$gi.d(this.backingNode()),this.backingNode().namespaceURI)},k:function(a){return new $$t.gj($$t.$gi.i(this.backingNode(),a.c(),a.d()))},j:function(a,b){if(this.backingNode().ownerDocument!=b){this.backingNode($$t.$gi.p(b,this.backingNode()))}a.appendChild(this.backingNode())},$type:new $.ig.Type("XElement",$$t.$gl.$type)},true);$.ig.util.defType("XmlUtils:gi","Object",{init:function(){$.ig.$op.init.call(this)},a:function(){return!!window.DOMParser},m:function(a){var text_=a;return(new DOMParser).parseFromString(text_,"text/xml")},l:function(a){var text_=a;return function(xml){var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=false;xmlDoc.loadXML(xml);return xmlDoc}(text_)},f:function(a){var node_=a;return(new XMLSerializer).serializeToString(node_)},e:function(a){var node_=a;return node_.xml},k:function(){return new ActiveXObject("Microsoft.XMLDOM")},n:function(a){if($$t.$gi.a()){return $$t.$gi.m(a)}else{return $$t.$gi.l(a)}},xmlNodeToString:function(a){if($$t.$gi.a()){return $$t.$gi.f(a)}else{return $$t.$gi.e(a)}},j:function(){var a;if($$t.$gi.a()){a=$$t.$gi.m("<dummy/>");a.removeChild(a.documentElement)}else{a=$$t.$gi.k()}return a},o:function(a,b){var doc_=$$t.$gi.j();if($$t.$gi.a()){return doc_.createElementNS(b,a)}else{var name_=a;var namespaceURI_=b;return doc_.createNode(1,name_,namespaceURI_)}},c:function(a){if($$t.$gi.a()){return a.textContent}else{var node_=a;return node_.text}},h:function(a,b){if($$t.$gi.a()){a.textContent=b}else{var node_=a;var text_=b;node_.text=text_}},p:function(a,b){if($$t.$gi.a()){return a.importNode(b,true)}else{return b}},d:function(a){if($$t.$gi.a()){return a.localName}else{var node_=a;return node_.baseName}},i:function(a,b,c){if($$t.$gi.a()){return a.getAttributeNodeNS(c,b)}else{var elem_=a;var ln_=b;var nn_=c;return elem_.attributes.getQualifiedItem(ln_,nn_)}},b:function(a){if($$t.$gi.a()){return a.nodeValue}else{var attr_=a;return attr_.value}},$type:new $.ig.Type("XmlUtils",$.ig.$ot)},true);$.ig.util.defType("XName:gn","Object",{a:null,b:null,init:function(a,b){$.ig.$op.init.call(this);this.a=a;this.b=b},c:function(){return this.a},d:function(){return this.b},f:function(){return $$t.$go.c(this.b)},e:function(a,b){return new $$t.gn(a,b)},$type:new $.ig.Type("XName",$.ig.$ot)},true);$.ig.util.defType("XNamespace:go","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},c:function(a){return new $$t.go(a)},d:function(){return $$t.$go.c("http://www.w3.org/2000/xmlns/")},b:function(){return this.a},$type:new $.ig.Type("XNamespace",$.ig.$ot)},true);$$t.$dd.created=0;$$t.$dd.ranToCompletion=5;$$t.$dd.canceled=6;$$t.$dd.faulted=7;$$t.$cs.ascending=0;$$t.$cs.descending=1;$$t.$ba.add=0;$$t.$ba.remove=1;$$t.$ba.replace=2;$$t.$ba.reset=4;$$t.$c5.g=null;$$t.$c5.f=null;$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.AbstractEnumerable,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.AbstractEnumerable,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["ofType$1","cast$1"]]])})(jQuery);$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["ICoreOlapElement:a","String:b","Object:c","Type:d","Boolean:e","ValueType:f","Void:g","RuntimeTypeHandle:h","MethodInfo:i","MethodBase:j","MemberInfo:k","ParameterInfo:l","TypeCode:m","Enum:n","Number:o","IComparable:p","Number:q","Single:r","Number:s","ConstructorInfo:t","String:u","Array:v","RegExp:w","Cube:x","CubeType:y","Date:z","Date:aa","Number:ab","Catalog:ac","Dimension:ad","DimensionType:ae","KpiDimension:af","HierarchyOrigin:ai","AggregatorType:aj","CardinalityType:ak","MemberType:al","Hierarchy:am","Kpi:an","Level:ao","Measure:ap","KpiMeasure:aq","MeasureGroup:ar","MeasureGroupDimension:as","Member:at","Nullable$1:au","OlapResult:av","IList$1:aw","ICollection$1:ax","IEnumerable$1:ay","IEnumerable:az","IEnumerator:a0","IEnumerator$1:a1","OlapResultAxis:a2","PositionResolver$2:a3","List$1:a4","IArrayList:a5","Array:a6","ICollection:a7","CompareCallback:a8","MulticastDelegate:a9","IntPtr:ba","IList:bb","IDisposable:bc","IArray:bd","Script:be","Func$3:bf","Action$1:bg","PositionItemInfo$2:bh","Dictionary$2:bi","IDictionary$2:bj","IDictionary:bk","Dictionary:bl","IEqualityComparer$1:bm","KeyValuePair$2:bn","NotImplementedException:bo","Error:bp","IHierarchicalPositionItem$2:bq","IPositionItem$2:br","IPosition$2:bs","Math:bt","Number:bu","Number:bv","Number:bw","Number:bx","Number:by","Number:bz","Number:b0","Enumerable:b1","Func$2:b2","IOrderedEnumerable$1:b3","SortedList$1:b4","ArgumentNullException:b5","EventHandler$1:b6","Delegate:b7","ListSortDirection:b8","OlapResultTuple:b9","ReadOnlyCollection$1:ca","OlapResultAxisMember:cb","OlapResultCell:cc","IConnection:cd","IOlapDataProviderFactory:ce","IOlapDiscoverDataProvider:cf","Task$1:cg","Task:ch","JQueryPromise:ci","Action:cj","AggregateException:ck","TaskStatus:cl","TaskCompletionSource$1:cm","JQueryDeferred:cn","JQuery:co","JQueryObject:cp","Element:cq","ElementAttributeCollection:cr","ElementCollection:cs","WebStyle:ct","ElementNodeType:cu","Document:cv","EventListener:cw","IElementEventHandler:cx","ElementEventHandler:cy","ElementAttribute:cz","JQueryPosition:c0","JQueryCallback:c1","JQueryEvent:c2","JQueryUICallback:c3","IOlapExecuteCommandProvider:c4","HeaderCellsLayoutOrientation:c5","LevelSpanManager:c6","SpanSource:c7","ITableViewHeadersFactory:c8","TableViewHeadersFactory:c9","ArrayListCollection$1:da","INotifyCollectionChanged:db","NotifyCollectionChangedEventHandler:dc","NotifyCollectionChangedEventArgs:dd","EventArgs:de","NotifyCollectionChangedAction:df","TableViewHeaderCellSource:dg","OlapTableViewHeaderCell:dh","TableCompactViewHeadersFactory:di","TableViewImpl:dj","TableViewSettings:dk","ResultHeaderSorter:dl","ResultSorter$1:dm","AxisTupleVisitor:dn","LevelSortDirection:dp","LevelSortBehavior:dq","AxisHeaderSortingVisitor:dr","TupleSortDirection:ds","ResultColumnValueSorter:dt","AxisValueSortingVisitor:du","OlapTableViewResultCell:dv","OlapResultView:dw","InvalidOperationException:dx","ResultViewHelper:dy","IOlapDataSource:dz","OlapMetadataTreeItem:d0","OlapMetadataTreeItemType:d1","MeasureListLocation:d2","MeasureList:d3","OlapDataSource:d4","DataSourceBaseOptions:d5","CubeMetaItemsCache:d6","MeasureGroupMetaItemsCache:d7","Tuple$2:d8","NotSupportedException:d9","PositionInfo:ea","TaskExtensions:eb","AxisElement:ec","AxisDefinitionParser:ed","Debug:ee","TaskFactory:ef","MetaTreeHelper:eg","HierarchyItemPosition:eh","CoreOlapElementParser:el","KeyValueItem:eu","HierarchyFilterView:ev","FilterMember:ew","INotifyPropertyChanged:ex","PropertyChangedEventHandler:ey","PropertyChangedEventArgs:ez","FilterMemberStateChangedEventArgs:e0","DataSourceBase:e1","jQueryUtils:e2","OlapUtilities:e3","OlapTableView:e4","AbstractEnumerable:e5","Func$1:e6","AbstractEnumerator:e7","GenericEnumerable$1:e8","GenericEnumerator$1:e9"]);$.ig.util.defType("LevelSortBehavior","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("LevelSortBehavior",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("OlapMetadataTreeItemType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("OlapMetadataTreeItemType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("MeasureListLocation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MeasureListLocation",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("HeaderCellsLayoutOrientation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HeaderCellsLayoutOrientation",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("MemberType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MemberType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("CardinalityType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CardinalityType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("AggregatorType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("AggregatorType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("HierarchyOrigin","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HierarchyOrigin",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("DimensionType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("DimensionType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("CubeType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CubeType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("ICoreOlapElement","Object",{$type:new $.ig.Type("ICoreOlapElement",null)},true);$.ig.util.defType("Cube","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_cubeType:null,cubeType:function(value){if(arguments.length===1){this._cubeType=value;return value}else{return this._cubeType}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_lastProcessed:null,lastProcessed:function(value){if(arguments.length===1){this._lastProcessed=value;return value}else{return this._lastProcessed}},_lastUpdated:null,lastUpdated:function(value){if(arguments.length===1){this._lastUpdated=value;return value}else{return this._lastUpdated}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},$type:new $.ig.Type("Cube",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Catalog","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},$type:new $.ig.Type("Catalog",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Dimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_dimensionType:null,dimensionType:function(value){if(arguments.length===1){this._dimensionType=value;return value}else{return this._dimensionType}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_defaultHierarchy:null,defaultHierarchy:function(value){if(arguments.length===1){this._defaultHierarchy=value;return value}else{return this._defaultHierarchy}},$type:new $.ig.Type("Dimension",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("KpiDimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},$type:new $.ig.Type("KpiDimension",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Hierarchy","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_defaultHierarchy:null,defaultHierarchy:function(value){if(arguments.length===1){this._defaultHierarchy=value;return value}else{return this._defaultHierarchy}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_defaultMember:null,defaultMember:function(value){if(arguments.length===1){this._defaultMember=value;return value}else{return this._defaultMember}},_allMember:null,allMember:function(value){if(arguments.length===1){this._allMember=value;
return value}else{return this._allMember}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_hierarchyOrigin:null,hierarchyOrigin:function(value){if(arguments.length===1){this._hierarchyOrigin=value;return value}else{return this._hierarchyOrigin}},_hierarchyDisplayFolder:null,hierarchyDisplayFolder:function(value){if(arguments.length===1){this._hierarchyDisplayFolder=value;return value}else{return this._hierarchyDisplayFolder}},$type:new $.ig.Type("Hierarchy",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Kpi","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_kpiDisplayFolder:null,kpiDisplayFolder:function(value){if(arguments.length===1){this._kpiDisplayFolder=value;return value}else{return this._kpiDisplayFolder}},_kpiValue:null,kpiValue:function(value){if(arguments.length===1){this._kpiValue=value;return value}else{return this._kpiValue}},_kpiGoal:null,kpiGoal:function(value){if(arguments.length===1){this._kpiGoal=value;return value}else{return this._kpiGoal}},_kpiStatus:null,kpiStatus:function(value){if(arguments.length===1){this._kpiStatus=value;return value}else{return this._kpiStatus}},_kpiTrend:null,kpiTrend:function(value){if(arguments.length===1){this._kpiTrend=value;return value}else{return this._kpiTrend}},_kpiStatusGraphic:null,kpiStatusGraphic:function(value){if(arguments.length===1){this._kpiStatusGraphic=value;return value}else{return this._kpiStatusGraphic}},_kpiTrendGraphic:null,kpiTrendGraphic:function(value){if(arguments.length===1){this._kpiTrendGraphic=value;return value}else{return this._kpiTrendGraphic}},_kpiWeight:null,kpiWeight:function(value){if(arguments.length===1){this._kpiWeight=value;return value}else{return this._kpiWeight}},_parentKpiName:null,parentKpiName:function(value){if(arguments.length===1){this._parentKpiName=value;return value}else{return this._parentKpiName}},_currentTimeMember:null,currentTimeMember:function(value){if(arguments.length===1){this._currentTimeMember=value;return value}else{return this._currentTimeMember}},$type:new $.ig.Type("Kpi",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Level","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_depth:0,depth:function(value){if(arguments.length===1){this._depth=value;return value}else{return this._depth}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_membersCount:0,membersCount:function(value){if(arguments.length===1){this._membersCount=value;return value}else{return this._membersCount}},_levelOrigin:0,levelOrigin:function(value){if(arguments.length===1){this._levelOrigin=value;return value}else{return this._levelOrigin}},_levelOrderingProperty:null,levelOrderingProperty:function(value){if(arguments.length===1){this._levelOrderingProperty=value;return value}else{return this._levelOrderingProperty}},$type:new $.ig.Type("Level",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Measure","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_aggregatorType:null,aggregatorType:function(value){if(arguments.length===1){this._aggregatorType=value;return value}else{return this._aggregatorType}},_defaultFormatString:null,defaultFormatString:function(value){if(arguments.length===1){this._defaultFormatString=value;return value}else{return this._defaultFormatString}},_measureDisplayFolder:null,measureDisplayFolder:function(value){if(arguments.length===1){this._measureDisplayFolder=value;return value}else{return this._measureDisplayFolder}},$type:new $.ig.Type("Measure",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("KpiMeasure","Measure",{init:function(a,b){$.ig.Measure.prototype.init.call(this);this.uniqueName(a);this.caption(b)},_graphic:null,graphic:function(value){if(arguments.length===1){this._graphic=value;return value}else{return this._graphic}},createKpiValueMeasure:function(a){return new $.ig.KpiMeasure(a.kpiValue(),a.caption()+" Value")},createKpiGoalMeasure:function(a){return new $.ig.KpiMeasure(a.kpiGoal(),a.caption()+" Goal")},createKpiWeightMeasure:function(a){return new $.ig.KpiMeasure(a.kpiWeight(),a.caption()+" Weight")},createKpiStatusMeasure:function(a){var b=new $.ig.KpiMeasure(a.kpiStatus(),a.caption()+" Status");b.graphic(a.kpiStatusGraphic());return b},createKpiTrendMeasure:function(a){var b=new $.ig.KpiMeasure(a.kpiTrend(),a.caption()+" Trend");b.graphic(a.kpiTrendGraphic());return b},$type:new $.ig.Type("KpiMeasure",$.ig.Measure.prototype.$type)},true);$.ig.util.defType("MeasureGroup","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},$type:new $.ig.Type("MeasureGroup",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("MeasureGroupDimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_measureGroupCardinality:null,measureGroupCardinality:function(value){if(arguments.length===1){this._measureGroupCardinality=value;return value}else{return this._measureGroupCardinality}},_dimensionCardinality:null,dimensionCardinality:function(value){if(arguments.length===1){this._dimensionCardinality=value;return value}else{return this._dimensionCardinality}},_isDimensionVisible:false,isDimensionVisible:function(value){if(arguments.length===1){this._isDimensionVisible=value;return value}else{return this._isDimensionVisible}},_isFactDimension:false,isFactDimension:function(value){if(arguments.length===1){this._isFactDimension=value;return value}else{return this._isFactDimension}},_dimensionPath:null,dimensionPath:function(value){if(arguments.length===1){this._dimensionPath=value;return value}else{return this._dimensionPath}},_dimensionGranularity:null,dimensionGranularity:function(value){if(arguments.length===1){this._dimensionGranularity=value;return value}else{return this._dimensionGranularity}},$type:new $.ig.Type("MeasureGroupDimension",$.ig.Object.prototype.$type)},true);$.ig.util.defType("Member","Object",{init:function(){$.ig.Object.prototype.init.call(this);var a=$.ig.util.toNullable($.ig.Number.prototype.$type,null);this.scope(a)},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_levelDepth:0,levelDepth:function(value){if(arguments.length===1){this._levelDepth=value;return value}else{return this._levelDepth}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_memberType:null,memberType:function(value){if(arguments.length===1){this._memberType=value;return value}else{return this._memberType}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_childrenCardinality:0,childrenCardinality:function(value){if(arguments.length===1){this._childrenCardinality=value;return value}else{return this._childrenCardinality}},_parentLevel:0,parentLevel:function(value){if(arguments.length===1){this._parentLevel=value;return value}else{return this._parentLevel}},_parentUniqueName:null,parentUniqueName:function(value){if(arguments.length===1){this._parentUniqueName=value;return value}else{return this._parentUniqueName}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_scope:$.ig.util.toNullable($.ig.Number.prototype.$type,null),scope:function(value){if(arguments.length===1){this._scope=value;return value}else{return this._scope}},$type:new $.ig.Type("Member",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapResult","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_isEmpty:false,isEmpty:function(value){if(arguments.length===1){this._isEmpty=value;return value}else{return this._isEmpty}},_axes:null,axes:function(value){if(arguments.length===1){this._axes=value;return value}else{return this._axes}},_cells:null,cells:function(value){if(arguments.length===1){this._cells=value;return value}else{return this._cells}},$type:new $.ig.Type("OlapResult",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultAxis","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.tuples(a.toList$1($.ig.OlapResultTuple.prototype.$type));this.tupleSize(b);this.positionResolver(new $.ig.PositionResolver$2(String,$.ig.Object.prototype.$type,a,b))},_positionResolver:null,positionResolver:function(value){if(arguments.length===1){this._positionResolver=value;return value}else{return this._positionResolver}},clone:function(){var $self=this;var a=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var c=$self.tuples().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}return function(){var $ret=new $.ig.OlapResultAxis(a,$self.tupleSize());$ret.name($self.name());return $ret}()},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_tupleSize:0,tupleSize:function(value){if(arguments.length===1){this._tupleSize=value;return value}else{return this._tupleSize}},_tuples:null,tuples:function(value){if(arguments.length===1){this._tuples=value;return value}else{return this._tuples}},$type:new $.ig.Type("OlapResultAxis",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IPosition$2","Object",{$type:new $.ig.Type("IPosition$2",null)},true);$.ig.util.defType("OlapResultTuple","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.members(new $.ig.ReadOnlyCollection$1($.ig.OlapResultAxisMember.prototype.$type,1,a))},_members:null,members:function(value){if(arguments.length===1){this._members=value;return value}else{return this._members}},getItems:function(){return this.members()},itemsCount:function(){return this.members().count()},indexOf:function(a){return this.members().indexOf(a)},item:function(a){return this.members().item(a)},isEmpty:function(){return false},clone:function(){var a=new $.ig.List$1($.ig.OlapResultAxisMember.prototype.$type,0);var c=this.members().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}var d=new $.ig.OlapResultTuple(a);var f=a.getEnumerator();while(f.moveNext()){var e=f.current();e.position(d)}return d},$type:new $.ig.Type("OlapResultTuple",$.ig.Object.prototype.$type,[$.ig.IPosition$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("IPositionItem$2","Object",{$type:new $.ig.Type("IPositionItem$2",null)},true);$.ig.util.defType("IHierarchicalPositionItem$2","Object",{$type:new $.ig.Type("IHierarchicalPositionItem$2",null,[$.ig.IPositionItem$2.prototype.$type.specialize(0,1)])},true);$.ig.util.defType("OlapResultAxisMember","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,String,0));this.ordinal(-1)},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_levelNumber:0,levelNumber:function(value){if(arguments.length===1){this._levelNumber=value;return value}else{return this._levelNumber}},_displayInfo:null,displayInfo:function(value){if(arguments.length===1){this._displayInfo=value;return value}else{return this._displayInfo}},e:function(){return this.displayInfo()&~65536&~131072},drilledDown:function(){return(this.displayInfo()&65536)==65536},parentSameAsPrev:function(){return(this.displayInfo()&131072)==131072},_properties:null,properties:function(value){if(arguments.length===1){this._properties=value;return value}else{return this._properties}},_position:null,position:function(value){if(arguments.length===1){this._position=value;return value}else{return this._position}},key:function(){return this.uniqueName()},sortKey:function(){if(this.ordinal()>-1){return this.ordinal()}var a=parseFloat(this.caption());if(!isNaN(a)){return a}return this.caption()},_ordinal:0,ordinal:function(value){if(arguments.length===1){this._ordinal=value;return value}else{return this._ordinal}},hierarchyKey:function(){return this.hierarchyUniqueName()},hierarchyLevelKey:function(){return this.levelUniqueName()},parentKey:function(){var $self=this;var a;(function(){var $ret=$self.properties().tryGetValue("PARENT_UNIQUE_NAME",a);a=$ret.value;return $ret.ret})();return a},depth:function(){return this.levelNumber()},isExpandable:function(){return this.e()>0},clone:function(){var a=new $.ig.OlapResultAxisMember;a.caption(this.caption());a.displayInfo(this.displayInfo());a.hierarchyUniqueName(this.hierarchyUniqueName());a.levelNumber(this.levelNumber());a.levelUniqueName(this.levelUniqueName());a.ordinal(this.ordinal());var c=this.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}a.uniqueName(this.uniqueName());a.position(this.position());return a},$type:new $.ig.Type("OlapResultAxisMember",$.ig.Object.prototype.$type,[$.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("OlapResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,$.ig.Object.prototype.$type,0))},_cellOrdinal:0,cellOrdinal:function(value){if(arguments.length===1){this._cellOrdinal=value;return value}else{return this._cellOrdinal}},_properties:null,properties:function(value){if(arguments.length===1){this._properties=value;return value}else{return this._properties}},clone:function(){var $self=this;var a=function(){var $ret=new $.ig.OlapResultCell;$ret.cellOrdinal($self.cellOrdinal());return $ret}();var c=$self.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}return a},$type:new $.ig.Type("OlapResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IConnection","Object",{$type:new $.ig.Type("IConnection",null)},true);$.ig.util.defType("IOlapDataProviderFactory","Object",{$type:new $.ig.Type("IOlapDataProviderFactory",null)},true);$.ig.util.defType("IOlapDiscoverDataProvider","Object",{$type:new $.ig.Type("IOlapDiscoverDataProvider",null)},true);$.ig.util.defType("IOlapExecuteCommandProvider","Object",{$type:new $.ig.Type("IOlapExecuteCommandProvider",null)},true);$.ig.util.defType("LevelSpanManager","Object",{b:null,init:function(a){$.ig.Object.prototype.init.call(this);this.c(a);this.b=new Array(a)},_c:0,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},a:function(a,b){var $self=this;var c=$self.b[a];if(c==null){c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.SpanSource.prototype.$type,0);$self.b[a]=c}var d;if(!function(){var $ret=c.tryGetValue(b,d);d=$ret.value;return $ret.ret}()){d=new $.ig.SpanSource;if(b>0){var e;if(function(){var $ret=c.tryGetValue(b-1,e);e=$ret.value;return $ret.ret}()){d.a(e);e.e()}}c.add(b,d)}return d},$type:new $.ig.Type("LevelSpanManager",$.ig.Object.prototype.$type)},true);$.ig.util.defType("SpanSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.c=1},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},c:0,d:function(a){if(arguments.length===1){if(this.c!=a){var b=a-this.c;if(this.a()!=null){this.a().d(this.a().d()+b)}this.c=a}return a}else{return this.c}},b:false,e:function(){if(!this.b){this.b=true;this.d(this.d()+1)}},$type:new $.ig.Type("SpanSource",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ITableViewHeadersFactory","Object",{$type:new $.ig.Type("ITableViewHeadersFactory",null)},true);$.ig.util.defType("TableViewHeadersFactory","Object",{_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b);this.c(c);this.d(d);this.e(e)},createHeaderCells:function(){var $self=this;if($self.b().positionResolver().hasUnregisterdPositions()){$self.b().positionResolver().completeRegisterPositions()}var a=$self.b().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableViewHeadersFactory.prototype.createHeaderCells2(a,a.positionItemDepthMin(),b,$self.d(),$self.e());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if($self.c()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.b().d();n=j.a().positionItemDepth()+e;o=j.c().d()}else{n=h;o=j.b().d();l=j.a().positionItemDepth()+e;m=j.c().d()}var p=$self.b().tuples().__inner[j.a().positionIndex()];var q=p.item(j.a().positionItemIndex());var r=$self.b().tuples().__inner[j.k()];if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}var s=$self.a().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.b().name());$ret.hierarchyNumber(j.a().positionItemIndex());$ret.levelNumber(j.a().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.f());$ret.isExpandable(j.e());$ret.tupleIndex(s);$ret.memberIndex(j.a().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.g()){h=h+j.b().d()}i=Math.max(i,j.a().positionItemDepth());d.add(t)}e+=i+1}return d},createHeaderCells2:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(i){return i.positionItemDepth()==b}).getEnumerator();while(h.moveNext()){var g=h.current();var i;var j;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,g,c,f,d,e,i,j);i=$ret.headerCellSource;j=$ret.totalSpan;return $ret.ret})()}},h:function(a,b,c,d,e,f){var $self=this;var g=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(h){return h.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(g.count()>0){var i=g.getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,h,b,c,d,f,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})();e.b().d(e.b().d()+k);if(j.g()){e.b().d(e.b().d()+1)}}e.b().d(e.b().d()-1)}else{f.add(a.positionIndex())}e.k(a.positionIndex())},createHeaderCells1:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.a(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.c(j);$ret.a(b);$ret.e(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(l!=null&&l.count()>0){var m=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.g(true);$ret.a(b);$ret.e(b.isExpandable());return $ret}();i.add(m);var o=l.getEnumerator();while(o.moveNext()){var n=o.current();var p;var q;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,n,c,d,e,f,p,q);p=$ret.headerCellSource;q=$ret.totalSpan;return $ret.ret})();m.b().d(m.b().d()+q);if(p.g()){m.b().d(m.b().d()+1)}}m.b().d(m.b().d()-1);k.f(true);k.e(false);m.f(true);k.d(m);if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,false,k,f)}m.k(k.k());g=m;h=k.b().d()+m.b().d()-1}else{if(b.isExpanded()){k.e(false)}if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,false,k,f)}h=k.b().d()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableCompactViewHeadersFactory","Object",{_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b);this.c(c);this.d(d);this.e(e)},createHeaderCells:function(){var $self=this;if($self.b().positionResolver().hasUnregisterdPositions()){$self.b().positionResolver().completeRegisterPositions()}var a=$self.b().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells2(a,a.positionItemDepthMin(),b,$self.d(),$self.e());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if($self.c()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.b().d();n=e;o=1}else{n=h;o=j.b().d();l=e;m=1}var p=$self.b().tuples().__inner[j.a().positionIndex()];var q=p.item(j.a().positionItemIndex());var r=$self.b().tuples().__inner[j.k()];if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}var s=$self.a().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.b().name());$ret.hierarchyNumber(j.a().positionItemIndex());$ret.levelNumber(j.a().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.f());$ret.isExpandable(j.e());$ret.tupleIndex(s);$ret.memberIndex(j.a().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.g()){h=h+j.b().d()}d.add(t)}e+=i+1}return d},createHeaderCells2:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(i){return i.positionItemDepth()==b}).getEnumerator();while(h.moveNext()){var g=h.current();var i;var j;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,g,c,f,d,e,i,j);i=$ret.headerCellSource;j=$ret.totalSpan;return $ret.ret})()}},h:function(a,b,c,d,e,f){var $self=this;var g=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(h){return h.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(g.count()>0){var i=g.getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,h,b,c,d,f,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})();e.b().d(e.b().d()+k);if(j.d()!=null){e.b().d(e.b().d()+1)}}e.b().d(e.b().d()-1)}else{f.add(a.positionIndex())}e.k(a.positionIndex())},createHeaderCells1:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.a(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.c(j);$ret.a(b);$ret.e(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(l!=null&&l.count()>0){var m=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.g(true);$ret.a(b);$ret.e(b.isExpandable());return $ret}();var o=l.getEnumerator();while(o.moveNext()){var n=o.current();var p;var q;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,n,c,d,e,f,p,q);p=$ret.headerCellSource;q=$ret.totalSpan;return $ret.ret})();m.b().d(m.b().d()+q);if(p.d()!=null){m.b().d(m.b().d()+1)}}m.b().d(m.b().d()-1);k.f(true);k.e(true);k.d(m);if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,false,k,f)}m.k(k.k());h=k.b().d()+m.b().d()-1}else{if(b.isExpanded()){k.e(false)}if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,false,k,f)}h=k.b().d()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableCompactViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableViewHeaderCellSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.b(new $.ig.SpanSource);this.c(new $.ig.SpanSource)},_g:false,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_j:0,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},_h:0,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_k:0,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},_i:0,i:function(value){if(arguments.length===1){this._i=value;return value}else{return this._i}},_f:false,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_e:false,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},$type:new $.ig.Type("TableViewHeaderCellSource",$.ig.Object.prototype.$type)},true);
$.ig.util.defType("TableViewImpl","Object",{init:function(a,b,c,d){var $self=this;$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.originalResult(a);if(d==null){this.viewSettings(new $.ig.TableViewSettings)}else{this.viewSettings(d)}this.hasColumns(b);this.hasRows(c);this.columnSortDirections(new $.ig.ArrayListCollection$1($.ig.TupleSortDirection.prototype.$type));this.columnSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.columnSortDirections().collectionChanged,function(e,f){$self.i(true)});this.levelSortDirections(new $.ig.ArrayListCollection$1($.ig.LevelSortDirection.prototype.$type));this.levelSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.levelSortDirections().collectionChanged,function(e,f){$self.i(true)});this.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));this.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));this.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))},_viewSettings:null,viewSettings:function(value){if(arguments.length===1){this._viewSettings=value;return value}else{return this._viewSettings}},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_originalResult:null,originalResult:function(value){if(arguments.length===1){this._originalResult=value;return value}else{return this._originalResult}},_hasRows:false,hasRows:function(value){if(arguments.length===1){this._hasRows=value;return value}else{return this._hasRows}},_hasColumns:false,hasColumns:function(value){if(arguments.length===1){this._hasColumns=value;return value}else{return this._hasColumns}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_h:false,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_i:false,i:function(value){if(arguments.length===1){this._i=value;return value}else{return this._i}},l:null,k:null,o:null,rowHeaders:function(a){if(arguments.length===1){this.l=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.l}},columnHeaders:function(a){if(arguments.length===1){this.k=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.k}},resultCells:function(a){if(arguments.length===1){this.o=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.o}},_columnSortDirections:null,columnSortDirections:function(value){if(arguments.length===1){this._columnSortDirections=value;return value}else{return this._columnSortDirections}},_levelSortDirections:null,levelSortDirections:function(value){if(arguments.length===1){this._levelSortDirections=value;return value}else{return this._levelSortDirections}},_appliedColumnSortDirections:null,appliedColumnSortDirections:function(value){if(arguments.length===1){this._appliedColumnSortDirections=value;return value}else{return this._appliedColumnSortDirections}},_appliedLevelSortDirections:null,appliedLevelSortDirections:function(value){if(arguments.length===1){this._appliedLevelSortDirections=value;return value}else{return this._appliedLevelSortDirections}},_appliedSortDirectionsMap:null,appliedSortDirectionsMap:function(value){if(arguments.length===1){this._appliedSortDirectionsMap=value;return value}else{return this._appliedSortDirectionsMap}},initialize:function(){var $self=this;$self.d(null);$self.c(null);$self.rowHeaders(null);$self.columnHeaders(null);$self.resultCells(null);$self.result($self.originalResult());if($self.result().isEmpty()){$self.i(false);$self.h(true);return}if($self.levelSortDirections().count()>0){var a=new $.ig.ResultHeaderSorter($self.result(),$self.hasRows(),$self.hasColumns(),$self.levelSortDirections());$self.result(a.b());$self.appliedLevelSortDirections(a.h());$self.appliedSortDirectionsMap(a.g())}else{$self.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));$self.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))}if($self.hasRows()&&$self.columnSortDirections().count()>0){if($self.appliedLevelSortDirections().count()>0){if($self.originalResult().axes().item(0).positionResolver().hasUnregisterdPositions()){$self.originalResult().axes().item(0).positionResolver().completeRegisterPositions()}if($self.result().axes().item(0).positionResolver().hasUnregisterdPositions()){$self.result().axes().item(0).positionResolver().completeRegisterPositions()}var b=new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,2,$self.columnSortDirections().count());var c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,1,$self.appliedColumnSortDirections().count());var e=$self.columnSortDirections().getEnumerator();while(e.moveNext()){var d=e.current();var f=$self.originalResult().axes().item(0).tuples().__inner[d.tupleIndex()];var g=$self.result().axes().item(0).positionResolver().getPositionIndex(f);var h=new $.ig.TupleSortDirection;h.sortDirection(d.sortDirection());h.tupleIndex(g);h.comparer(d.comparer());b.add(h);c.item(g,d.tupleIndex())}var i=new $.ig.ResultColumnValueSorter($self.result(),$self.hasRows(),$self.hasColumns(),b);$self.result(i.b());var k=i.g().getEnumerator();while(k.moveNext()){var j=k.current();j.tupleIndex(c.item(j.tupleIndex()))}$self.appliedColumnSortDirections(i.g())}else{var l=new $.ig.ResultColumnValueSorter($self.result(),$self.hasRows(),$self.hasColumns(),$self.columnSortDirections());$self.result(l.b());$self.appliedColumnSortDirections(l.g())}}else{$self.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0))}var m=0;var n=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var o=1;if($self.hasColumns()){var p=$self.result().axes().item(m);var q=$self.originalResult().axes().item(m);var r=$self.u(p,q);for(var s=0;s<r.count();s++){var t=r.item(s);n.add(t,s)}m++;o=p.tuples().count()}var u=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if($self.hasRows()){var v=$self.result().axes().item(m);var w=$self.originalResult().axes().item(m);var x=$self.v(v,w);for(var y=0;y<x.count();y++){var z=x.item(y);u.add(z,y)}}var aa=new $.ig.ArrayListCollection$1($.ig.OlapTableViewResultCell.prototype.$type);for(var ab=0;ab<$self.result().cells().count();ab++){var ac=$self.result().cells().item(ab);var ad;(function(){var $ret=ac.properties().tryGetValue("Value",ad);ad=$ret.value;return $ret.ret})();var ae;(function(){var $ret=ac.properties().tryGetValue("FmtValue",ae);ae=$ret.value;return $ret.ret})();var af=ac.cellOrdinal();if($self.hasColumns()){var ag=af%o;var ah=n.item(ag);if(ag!=ah){var ai=$.ig.intDivide(af,o);af=ai*o+ah}}if($self.hasRows()){var aj=$.ig.intDivide(af,o);var ak=u.item(aj);if(aj!=ak){var al=af%o;af=ak*o+al}}aa.add(function(){var $ret=new $.ig.OlapTableViewResultCell;$ret.value(ad);$ret.formattedValue(ae);$ret.cellOrdinal(af);$ret.resultCellIndex(ab);return $ret}());$self.resultCells(aa)}$self.i(false);$self.h(true)},u:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().a()){this.c(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().c(),c))}else{this.c(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().c(),c))}this.columnHeaders(this.c().createHeaderCells());return c},v:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().b()){this.d(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().d(),c))}else{this.d(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().d(),c))}this.rowHeaders(this.d().createHeaderCells());return c},$type:new $.ig.Type("TableViewImpl",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableViewSettings","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:false,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_b:false,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("TableViewSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultView","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.visibleResult(b);this.hasColumns(c);this.hasRows(d)},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_visibleResult:null,visibleResult:function(value){if(arguments.length===1){this._visibleResult=value;return value}else{return this._visibleResult}},_hasRows:false,hasRows:function(value){if(arguments.length===1){this._hasRows=value;return value}else{return this._hasRows}},_hasColumns:false,hasColumns:function(value){if(arguments.length===1){this._hasColumns=value;return value}else{return this._hasColumns}},c:function(a,b,c,d,e){var $self=this;var f=0;var g=null;var h=1;if(e){g=a.axes().item(f);h=g.tuples().count();f++}var i=null;var j=1;if(d){i=a.axes().item(f);j=i.tuples().count()}var k=1;if(b!=null){k=b.tuples().count()}var l=1;if(c!=null){l=c.tuples().count()}var m=new Array(k*l);if(a.cells().count()>0){var n=0;var o=a.cells().item(n);for(var p=0;p<j;p++){var q=$.ig.intDivide(o.cellOrdinal(),h);if(q!=p){continue}var r=0;if(b!=null&&i!=null){var s=i.tuples().__inner[p];r=b.positionResolver().getPositionIndex(s)}if(r==-1){while(q==p){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h)}else{break}}continue}var t=o.cellOrdinal()%h;for(var u=0;u<h;u++){if(t!=u){continue}var v=-1;if(c==null||g==null){v=0}else{var w=g.tuples().__inner[u];v=c.positionResolver().getPositionIndex(w)}if(v==-1){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}continue}var x=o.clone();x.cellOrdinal(r*l+v);m[x.cellOrdinal()]=x;n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}}}}var y=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);for(var aa=0;aa<m.length;aa++){var z=m[aa];if(z!=null){y.add(z)}}var ab=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);if(e){ab.add(c)}if(d){ab.add(b)}return function(){var $ret=new $.ig.OlapResult;$ret.axes(ab);$ret.cells(y);$ret.isEmpty(!d&&!e&&y.count()==0);return $ret}()},a:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);if(c){for(var e=0;e<b.count();e++){var f=b.item(e);d.add(a.tuples().__inner[f].clone())}}else{var g=0;var h=b.item(g);for(var i=0;i<a.tuples().count();i++){if(i==h){g++;if(g<b.count()){h=b.item(g)}}else{d.add(a.tuples().__inner[i].clone())}}}var j=function(){var $ret=new $.ig.OlapResultAxis(d,a.tupleSize());$ret.name(a.name());return $ret}();return j},expandTupleMember:function(a,b,c){var $self=this;var d=$self.f(a,b,c,$self.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(d.isExpanded()){return $self}var e=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=a=="Axis0"&&!$self.hasColumns()||a=="Axis1"&&$self.hasRows();var h=e.tuples().__inner[b];var i=f.positionResolver().getPositionIndex(h);var j=$self.l(a,i,c,$self.result());if(j.count()==0){return null}var k=null;var l=null;if(g){k=$self.a(f,j,true);if($self.hasColumns()){l=$self.visibleResult().axes().item(0)}}else{l=$self.a(f,j,true);if($self.hasRows()){k=$self.visibleResult().axes().item(1)}}var m=$self.c($self.result(),k,l,$self.hasRows(),$self.hasColumns());var n=$self.b($self.visibleResult(),m,f.name());return new $.ig.OlapResultView($self.result(),n,$self.hasColumns(),$self.hasRows())},collapseTupleMember:function(a,b,c){var $self=this;var d=$self.f(a,b,c,$self.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(!d.isExpanded()){return $self}var e=$self.l(a,b,c,$self.visibleResult());if(e.count()==0){return null}var f=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=a=="Axis0"&&!$self.hasColumns()||a=="Axis1"&&$self.hasRows();var h=null;var i=null;if(g){h=$self.a(f,e,false);if($self.hasColumns()){i=$self.visibleResult().axes().item(0)}}else{i=$self.a(f,e,false);if($self.hasRows()){h=$self.visibleResult().axes().item(1)}}var j=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(k){return k.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var k=j.tuples().__inner[b];if(j.positionResolver().hasUnregisterdPositions()){j.positionResolver().completeRegisterPositions()}var l=j.positionResolver().getHostPositionItemInfo(k,c);var m=l.item(k.item(c).key());m.isExpanded(false);var n=$self.c($self.visibleResult(),h,i,$self.hasRows(),$self.hasColumns());return new $.ig.OlapResultView($self.result(),n,$self.hasColumns(),$self.hasRows())},extend:function(a,b){var $self=this;var c=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(d){return d.name()==b}).first$1($.ig.OlapResultAxis.prototype.$type);var d=b=="Axis0"&&!$self.hasColumns()||b=="Axis1"&&$self.hasRows();var e=null;var f=null;var g=null;var h=false;if(d){e=c;if($self.hasColumns()){f=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);g=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=f.tuples().count()!=g.tuples().count()}}else{f=c;if($self.hasRows()){e=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);g=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=e.tuples().count()!=g.tuples().count()}}var i=null;var j=null;if(g!=null&&h){var k=$self.c($self.result(),e,f,$self.hasRows(),$self.hasColumns());i=$self.b(k,a,b);j=$self.b(k,a,b)}else{i=$self.b($self.result(),a,b);j=$self.b($self.visibleResult(),a,b)}return new $.ig.OlapResultView(i,j,$self.hasColumns(),$self.hasRows())},b:function(a,b,c){var $self=this;var d=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);if(d==null){return null}var e=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);var f=c=="Axis0"&&!$self.hasColumns()||c=="Axis1"&&$self.hasRows();var g=null;var h=null;if(f){if($self.hasColumns()){g=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);h=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}else{if($self.hasRows()){g=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);h=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}var i=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var k=d.tuples().getEnumerator();while(k.moveNext()){var j=k.current();i.add(j.clone())}var m=e.tuples().getEnumerator();while(m.moveNext()){var l=m.current();i.add(l)}var n=e.tuples().count();var o=h!=null&&h.tuples().count()>0?h.tuples().count():1;var p=d.tuples().count()>0?d.tuples().count():1;var q=g!=null&&g.tuples().count()>0?g.tuples().count():1;var r=p*q;var s=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);if(f){var u=a.cells().getEnumerator();while(u.moveNext()){var t=u.current();s.add(t.clone())}var v=new Array(n*q);var w=p*q;var y=b.cells().getEnumerator();while(y.moveNext()){var x=y.current();var z=x.clone();var aa=$self.m(z.cellOrdinal(),g,h);var ab=$.ig.intDivide(z.cellOrdinal(),o);z.cellOrdinal(ab*q+aa);z.cellOrdinal(z.cellOrdinal()+r);v[z.cellOrdinal()-w]=z}for(var ac=0;ac<v.length;ac++){var ad=v[ac];if(ad!=null){s.add(ad)}}}else{var ae=new Array(q*(p+n));var ag=a.cells().getEnumerator();while(ag.moveNext()){var af=ag.current();var ah=af.clone();var ai=$.ig.intDivide(ah.cellOrdinal(),p);ah.cellOrdinal(ah.cellOrdinal()+ai*n);ae[ah.cellOrdinal()]=ah}var ak=b.cells().getEnumerator();while(ak.moveNext()){var aj=ak.current();var al=aj.clone();var am=$self.n(al.cellOrdinal(),g,h,n);var an=$.ig.intDivide(aj.cellOrdinal(),n);if(am!=an){}var ao=al.cellOrdinal()%n;al.cellOrdinal(am*n+ao);al.cellOrdinal(al.cellOrdinal()+(am+1)*p);ae[al.cellOrdinal()]=al}for(var aq=0;aq<ae.length;aq++){var ap=ae[aq];if(ap!=null){s.add(ap)}}}var ar=new $.ig.OlapResult;ar.axes(new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0));var as=function(){var $ret=new $.ig.OlapResultAxis(i,d.tupleSize());$ret.name(d.name());return $ret}();if(f){if(g!=null){ar.axes().add(g)}ar.axes().add(as)}else{ar.axes().add(as);if(g!=null){ar.axes().add(g)}}ar.cells(s);ar.isEmpty(!$self.hasColumns()&&!$self.hasRows()&&s.count()==0);return ar},m:function(a,b,c){if(c==null){return 0}var d=a%c.tuples().count();var e=c.tuples().__inner[d];var f=b.positionResolver().getPositionIndex(e);return f},n:function(a,b,c,d){if(c==null){return 0}var e=$.ig.intDivide(a,d);var f=c.tuples().__inner[e];var g=b.positionResolver().getPositionIndex(f);return g},l:function(a,b,c,d){var $self=this;var e=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=e.tuples().__inner[b];var g=f.item(c);if(e.positionResolver().hasUnregisterdPositions()){e.positionResolver().completeRegisterPositions()}var h=e.positionResolver().h(g,$.ig.ListSortDirection.prototype.ascending);if(h!=null){return h.toList$1($.ig.Number.prototype.$type)}return null},f:function(a,b,c,d){var $self=this;var e=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=e.tuples().__inner[b];var g=f.item(c);if(e.positionResolver().hasUnregisterdPositions()){e.positionResolver().completeRegisterPositions()}var h=e.positionResolver().getHostPositionItemInfo(f,c);var i;(function(){var $ret=h.tryGetValue(g.key(),i);i=$ret.value;return $ret.ret})();return i},$type:new $.ig.Type("OlapResultView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultViewHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},e:function(a,b,c,d,e){$.ig.ResultViewHelper.prototype.d(a,b,c,true,e.visibleResult());$.ig.ResultViewHelper.prototype.d(a,b,c,true,e.result())},f:function(a,b,c){var $self=this;var d=b.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var e=c.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.b(d.positionResolver(),e.positionResolver());var f=b.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=c.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(h){return h.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.b(f.positionResolver(),g.positionResolver())},d:function(a,b,c,d,e){var $self=this;var f=e.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);if(f.positionResolver().hasUnregisterdPositions()){f.positionResolver().completeRegisterPositions()}$.ig.ResultViewHelper.prototype.c(b,c,d,f.positionResolver())},c:function(a,b,c,d){if(d.hasUnregisterdPositions()){d.completeRegisterPositions()}var e=d.positions().__inner[a];var f=d.getHostPositionItemInfo(e,b);var g=f.item(e.item(b).key());g.isExpanded(c)},b:function(a,b){if(a.hasUnregisterdPositions()){a.completeRegisterPositions()}if(b.hasUnregisterdPositions()){b.completeRegisterPositions()}$.ig.ResultViewHelper.prototype.a(a.rootPositionInfo(),b.rootPositionInfo())},a:function(a,b){var $self=this;var d=a.getEnumerator();while(d.moveNext()){var c=d.current();var e=c.value();var f;if(function(){var $ret=b.tryGetValue(c.key(),f);f=$ret.value;return $ret.ret}()){if(e.isExpanded()!=true){f.isExpanded(false)}if(f.count()>0){$.ig.ResultViewHelper.prototype.a(e,f)}}}},$type:new $.ig.Type("ResultViewHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewHeaderCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.columnSpan(1);this.rowSpan(1)},_id:null,id:function(value){if(arguments.length===1){this._id=value;return value}else{return this._id}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_isExpanded:false,isExpanded:function(value){if(arguments.length===1){this._isExpanded=value;return value}else{return this._isExpanded}},_isExpandable:false,isExpandable:function(value){if(arguments.length===1){this._isExpandable=value;return value}else{return this._isExpandable}},_rowIndex:0,rowIndex:function(value){if(arguments.length===1){this._rowIndex=value;return value}else{return this._rowIndex}},_rowSpan:0,rowSpan:function(value){if(arguments.length===1){this._rowSpan=value;return value}else{return this._rowSpan}},_columnIndex:0,columnIndex:function(value){if(arguments.length===1){this._columnIndex=value;return value}else{return this._columnIndex}},_columnSpan:0,columnSpan:function(value){if(arguments.length===1){this._columnSpan=value;return value}else{return this._columnSpan}},_axisName:null,axisName:function(value){if(arguments.length===1){this._axisName=value;return value}else{return this._axisName}},_tupleIndex:0,tupleIndex:function(value){if(arguments.length===1){this._tupleIndex=value;return value}else{return this._tupleIndex}},_memberIndex:0,memberIndex:function(value){if(arguments.length===1){this._memberIndex=value;return value}else{return this._memberIndex}},_levelNumber:0,levelNumber:function(value){if(arguments.length===1){this._levelNumber=value;return value}else{return this._levelNumber}},_hierarchyNumber:0,hierarchyNumber:function(value){if(arguments.length===1){this._hierarchyNumber=value;return value}else{return this._hierarchyNumber}},toString:function(){return this.caption()},$type:new $.ig.Type("OlapTableViewHeaderCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_value:null,value:function(value){if(arguments.length===1){this._value=value;return value}else{return this._value}},_formattedValue:null,formattedValue:function(value){if(arguments.length===1){this._formattedValue=value;return value}else{return this._formattedValue}},_cellOrdinal:0,cellOrdinal:function(value){if(arguments.length===1){this._cellOrdinal=value;return value}else{return this._cellOrdinal}},_resultCellIndex:0,resultCellIndex:function(value){if(arguments.length===1){this._resultCellIndex=value;return value}else{return this._resultCellIndex}},$type:new $.ig.Type("OlapTableViewResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ArrayListCollection$1","Object",{$t:null,init:function($t){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.inner(new $.ig.Array)},_inner:null,inner:function(value){if(arguments.length===1){this._inner=value;return value}else{return this._inner}},collectionChanged:null,indexOf:function(a){return this.inner().indexOf(a)},insert:function(a,b){this.inner().insert(a,b);this.d(a,b)},removeAt:function(a){var b=this.inner()[a];this.inner().removeAt(a);this.e(a,b)},item:function(a,b){if(arguments.length===2){this.inner()[a]=b;return b}else{return this.inner()[a]}},add:function(a){this.inner().add(a);this.d(this.inner().length-1,a)},clear:function(){this.inner().clear();this.c()},contains:function(a){return this.inner().contains(a)},copyTo:function(a,b){throw new $.ig.NotImplementedException},count:function(){return this.inner().length},isReadOnly:function(){return false},remove:function(a){var b=this.inner().indexOf(a);if(b>=0){this.inner().removeAt(b);this.e(b,a);return true}return false},b:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$a=0;this.$state=5;break;case 2:this.$current=this.$this.inner()[this.$a];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$a++;this.$state=5;break;case 5:if(this.$a<this.$this.inner().length){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$t,$iter)},getEnumerator:function(){return this.b().getEnumerator()},d:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.add,b,a);this.collectionChanged(this,c)}},e:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.remove,b,a);this.collectionChanged(this,c)}},c:function(){if(this.collectionChanged!=null){var a=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.reset,null,-1);this.collectionChanged(this,a)}},$type:new $.ig.Type("ArrayListCollection$1",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize(0),$.ig.INotifyCollectionChanged.prototype.$type])},true);$.ig.util.defType("IOlapDataSource","Object",{$type:new $.ig.Type("IOlapDataSource",null)},true);$.ig.util.defType("MeasureList","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},$type:new $.ig.Type("MeasureList",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapMetadataTreeItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_item:null,item:function(value){if(arguments.length===1){this._item=value;return value}else{return this._item}},_type:null,type:function(value){if(arguments.length===1){this._type=value;return value}else{return this._type}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_children:null,children:function(value){if(arguments.length===1){this._children=value;return value}else{return this._children}},e:function(a){if(this.children()==null){this.children(new Array(1));this.children()[0]=a;return}var b=new Array(this.children().length+1);$.ig.Array.prototype.copy(this.children(),0,b,0,this.children().length);b[this.children().length]=a;this.children(b)},$type:new $.ig.Type("OlapMetadataTreeItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapDataSource","Object",{ac:null,ab:null,ag:0,j:null,g:null,init:function(a){var $self=this;this.ac=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.ab=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.af=new $.ig.List$1(String,0);$.ig.Object.prototype.init.call(this);this.u(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.w(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.v(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.o(false);this.al(null);this.t(false);this.aj(null);this.isInitialized(false);this.m(false);this.s(false);this.n(false);this.r(false);this.q(false);this.p(false);this.catalogs(new $.ig.ArrayListCollection$1($.ig.Catalog.prototype.$type));this.cubes(new $.ig.ArrayListCollection$1($.ig.Cube.prototype.$type));this.measureGroups(new $.ig.ArrayListCollection$1($.ig.MeasureGroup.prototype.$type));this.rowAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.columnAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.filters(new $.ig.ArrayListCollection$1($.ig.Hierarchy.prototype.$type));this.measures(new $.ig.ArrayListCollection$1($.ig.Measure.prototype.$type));this.measureListLocation($.ig.MeasureListLocation.prototype.columns);this.measureListIndex(-1);this.sourceOptions(a);this.result(function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}())},_isInitialized:false,isInitialized:function(value){if(arguments.length===1){this._isInitialized=value;return value}else{return this._isInitialized}},_catalogs:null,catalogs:function(value){if(arguments.length===1){this._catalogs=value;return value}else{return this._catalogs}},_cubes:null,cubes:function(value){if(arguments.length===1){this._cubes=value;return value}else{return this._cubes}},_cube:null,cube:function(value){if(arguments.length===1){this._cube=value;return value}else{return this._cube}},_measureGroup:null,measureGroup:function(value){if(arguments.length===1){this._measureGroup=value;return value}else{return this._measureGroup}},_measureGroups:null,measureGroups:function(value){if(arguments.length===1){this._measureGroups=value;return value}else{return this._measureGroups}},_sourceOptions:null,sourceOptions:function(value){if(arguments.length===1){this._sourceOptions=value;return value}else{return this._sourceOptions}},dataProviderFactory:function(a){if(arguments.length===1){this.g=a;return a}else{if(this.g==null){this.g=this.h()}return this.g}},_metadataTree:null,metadataTree:function(value){if(arguments.length===1){this._metadataTree=value;return value}else{return this._metadataTree}},_rowAxis:null,rowAxis:function(value){if(arguments.length===1){this._rowAxis=value;return value}else{return this._rowAxis}},_columnAxis:null,columnAxis:function(value){if(arguments.length===1){this._columnAxis=value;return value}else{return this._columnAxis}},_filters:null,filters:function(value){if(arguments.length===1){this._filters=value;return value}else{return this._filters}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},measureListIndex:function(a){if(arguments.length===1){if(this.ag!=a){this.p(true);
this.ag=a;this.az();this.p(false)}return a}else{return this.ag}},measureListLocation:function(a){if(arguments.length===1){if(this.j!=a){this.ax();this.j=a;this.az()}return a}else{return this.j}},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_l:null,l:function(value){if(arguments.length===1){this._l=value;return value}else{return this._l}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_u:null,u:function(value){if(arguments.length===1){this._u=value;return value}else{return this._u}},_w:null,w:function(value){if(arguments.length===1){this._w=value;return value}else{return this._w}},_v:null,v:function(value){if(arguments.length===1){this._v=value;return value}else{return this._v}},af:null,_o:false,o:function(value){if(arguments.length===1){this._o=value;return value}else{return this._o}},_al:null,al:function(value){if(arguments.length===1){this._al=value;return value}else{return this._al}},_t:false,t:function(value){if(arguments.length===1){this._t=value;return value}else{return this._t}},_aj:null,aj:function(value){if(arguments.length===1){this._aj=value;return value}else{return this._aj}},_m:false,m:function(value){if(arguments.length===1){this._m=value;return value}else{return this._m}},_s:false,s:function(value){if(arguments.length===1){this._s=value;return value}else{return this._s}},_n:false,n:function(value){if(arguments.length===1){this._n=value;return value}else{return this._n}},_r:false,r:function(value){if(arguments.length===1){this._r=value;return value}else{return this._r}},_q:false,q:function(value){if(arguments.length===1){this._q=value;return value}else{return this._q}},_p:false,p:function(value){if(arguments.length===1){this._p=value;return value}else{return this._p}},getMembersOfLevel:function(a){},getMembersOfHierarchy:function(a){},getMembersOfMember:function(a){},setCube:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.an(a)},setMeasureGroup:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.ao(a)},getCoreElement:function(a,b){if(b==$.ig.MeasureList.prototype.$type){var c;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){c=this.columnAxis()}else{c=this.rowAxis()}var d=null;var f=c.getEnumerator();while(f.moveNext()){var e=f.current();d=$.ig.util.cast($.ig.MeasureList.prototype.$type,e);if(d!=null){break}}return d}else{return this.getCoreElements(a,b).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type)}},getCoreElements:function(a,b){var $self=this;if(b==$.ig.Dimension.prototype.$type){return $self.a($.ig.Dimension.prototype.$type,$self.c().t().where$1($.ig.Dimension.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Hierarchy.prototype.$type){return $self.a($.ig.Hierarchy.prototype.$type,$self.c().u().where$1($.ig.Hierarchy.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Level.prototype.$type){return $self.a($.ig.Level.prototype.$type,$self.c().x().where$1($.ig.Level.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Measure.prototype.$type){return $self.a($.ig.Measure.prototype.$type,$self.c().y().where$1($.ig.Measure.prototype.$type,function(c){return a(c)}))}if(b==$.ig.KpiMeasure.prototype.$type){return $self.a($.ig.KpiMeasure.prototype.$type,$self.c().w().where$1($.ig.KpiMeasure.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Kpi.prototype.$type){return $self.a($.ig.Kpi.prototype.$type,$self.c().v().where$1($.ig.Kpi.prototype.$type,function(c){return a(c)}))}throw new $.ig.NotSupportedException(0,"Supported types are Dimension, Hierarchy, Level and Measure")},expandTupleMember:function(a,b,c){var $self=this;var d=$self.d(a,$self.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var e=$self.ac.where$1($.ig.PositionInfo.prototype.$type,function(f){return f.c()==a&&f.b()==b&&f.a()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(e==null){e=function(){var $ret=new $.ig.PositionInfo;$ret.c(a);$ret.a(c);$ret.b(b);return $ret}();$self.ac.add(e)}else{$self.ac.remove(e)}},collapseTupleMember:function(a,b,c){var $self=this;var d=$self.d(a,$self.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var e=$self.ac.where$1($.ig.PositionInfo.prototype.$type,function(f){return f.c()==a&&f.b()==b&&f.a()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(e==null){e=function(){var $ret=new $.ig.PositionInfo;$ret.c(a);$ret.a(c);$ret.b(b);return $ret}();$self.ab.add(e)}else{$self.ac.remove(e)}},clearPendingChanges:function(){this.ab.clear();this.ac.clear()},update:function(){var $self=this;if($self.t()){return $self.aj()}$self.t(true);if($self.ac.count()>0){var a=$self.as($self.ac);$self.aj(a.continueWithTask$1($.ig.OlapResult.prototype.$type,function(b){return $self.ai()}))}else{$self.aj($self.ai())}var b=$self.aj();$self.aj().i(function(c){$self.t(false);$self.aj(null)});return b},initialize:function(){var $self=this;if($self.o()){return $self.al()}$self.o(true);$self.al($self.am());var a=$self.al();$self.al().i(function(b){$self.o(false);$self.al(null)});return a},addFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.b(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){d=new $.ig.AxisElement(a,function(){var $ret=new $.ig.ArrayListCollection$1(String);$ret.add(b);return $ret}());c.add(d)}else{if(!d.a().contains(b)){d.a().add(b);if($self.af.contains(b)){$self.af.remove(b)}else{$self.af.add(b)}}}},getFilterMemberNames:function(a){var $self=this;var b;var c=function(){var $ret=$self.b(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c!=null){return $self.a(String,c.a())}return new $.ig.ArrayListCollection$1(String)},removeFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.b(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){return}if(d.a().remove(b)){if($self.af.contains(b)){$self.af.remove(b)}else{$self.af.add(b)}}},removeAllFilterMembers:function(a){var $self=this;var b;var c=function(){var $ret=$self.b(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c==null){return}for(var d=c.a().count()-1;d>=0;d--){var e=c.a().item(d);c.a().removeAt(d);if($self.af.contains(e)){$self.af.remove(e)}else{$self.af.add(e)}}},getProviderDefaultProperties:function(){var a=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);return a},getProviderDefaultRestrictions:function(){var a=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);return a},tryGetMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c().h(a,b);b=$ret.member;return $ret.ret}(),member:b};return{member:b}},tryGetMembersForLevel:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c().j(a,b);b=$ret.members;return $ret.ret}(),members:b};return{members:b}},am:function(){},ai:function(){},h:function(){},ah:function(){},an:function(a){var $self=this;if(String.isNullOrEmpty(a)){if(a==null){throw new $.ig.ArgumentNullException("cubeName")}throw new $.ig.InvalidOperationException(1,"cubeName cannot be empty.")}var b=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.cube()!=null){if($self.cube().name()==a){b.e($self.metadataTree());return b.b()}$self.au()}var d=$self.cubes().getEnumerator();while(d.moveNext()){var c=d.current();if(c.name()==a){$self.cube(c);break}}var e=$self.ah();if(!$self.isInitialized()){var f=$self.sourceOptions().measureGroup();if(!String.isNullOrEmpty(f)){return e.continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.ao(f)})}}return e.continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.ao(null)})},ak:function(){var $self=this;var a=null;var b=null;var c=null;var d=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);if(!String.isNullOrEmpty($self.sourceOptions().columns())){var e=new $.ig.AxisDefinitionParser($self.sourceOptions().columns());a=e.c()}if(!String.isNullOrEmpty($self.sourceOptions().rows())){var f=new $.ig.AxisDefinitionParser($self.sourceOptions().rows());b=f.c()}if(!String.isNullOrEmpty($self.sourceOptions().filters())){var g=new $.ig.AxisDefinitionParser($self.sourceOptions().filters());c=g.c()}if(a!=null&&a.count()>0){var i=a.getEnumerator();while(i.moveNext()){var h=i.current();$self.at($.ig.ICoreOlapElement.prototype.$type,h.b(),$self.columnAxis(),$.ig.Hierarchy.prototype.$type);$self.u().add(h);if(h.a().count()>0){d.add(h);var k=h.a().getEnumerator();while(k.moveNext()){var j=k.current();$self.af.add(j)}}}}if(b!=null&&b.count()>0){var m=b.getEnumerator();while(m.moveNext()){var l=m.current();$self.at($.ig.ICoreOlapElement.prototype.$type,l.b(),$self.rowAxis(),$.ig.Hierarchy.prototype.$type);$self.w().add(l);if(l.a().count()>0){d.add(l);var o=l.a().getEnumerator();while(o.moveNext()){var n=o.current();$self.af.add(n)}}}}if(c!=null&&c.count()>0){var q=c.getEnumerator();while(q.moveNext()){var p=q.current();$self.at($.ig.Hierarchy.prototype.$type,p.b(),$self.filters(),$.ig.Hierarchy.prototype.$type);$self.v().add(p);if(p.a().count()>0){d.add(p);var s=p.a().getEnumerator();while(s.moveNext()){var r=s.current();$self.af.add(r)}}}}var t=null;if(!String.isNullOrEmpty($self.sourceOptions().measures())){var u=new $.ig.AxisDefinitionParser($self.sourceOptions().measures());t=u.c()}if(t!=null&&t.count()>0){var w=t.getEnumerator();while(w.moveNext()){var v=w.current();$self.at($.ig.Measure.prototype.$type,v.b(),$self.measures(),$.ig.Measure.prototype.$type)}}if($self.m()||$self.s()||$self.n()||$self.r()||$self.p()){if(d.count()>0){var x=new Array(d.count());for(var y=0;y<d.count();y++){var z=d.item(y).b();x[y]=$self.getMembersOfHierarchy(z)}var aa=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var ab=new $.ig.TaskFactory;ab.c(x,function(ac){$self.ai().i(function(ad){$self.aw();aa.e($self.metadataTree())})});return aa.b()}return $self.ai().continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ac){$self.aw();var ad=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ad.e($self.metadataTree());return ad.b()})}$self.aw();var ac=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ac.e($self.metadataTree());return ac.b()},aq:function(a){var $self=this;var b=$self.dataProviderFactory().createDataProvider();var c=$self.getProviderDefaultRestrictions();var d=$self.getProviderDefaultProperties();var e=b.discoverCubesAsync(d,c).j($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),function(f){$self.cubes($self.a($.ig.Cube.prototype.$type,f.m()));return $self.cubes()});return e},ar:function(){var $self=this;var a=$self.dataProviderFactory().createDataProvider();var b=$self.getProviderDefaultRestrictions();var c=$self.getProviderDefaultProperties();var d=a.discoverMeasureGroupsAsync(c,b).j($.ig.IList$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type),function(e){$self.measureGroups($self.a($.ig.MeasureGroup.prototype.$type,e.m()));return $self.measureGroups()});return d},aw:function(){this.isInitialized(true)},au:function(){this.cube(null);this.measureGroups(new $.ig.ArrayListCollection$1($.ig.MeasureGroup.prototype.$type));this.filters().clear();this.rowAxis().clear();this.columnAxis().clear();this.measures().clear();this.c(null);this.av()},av:function(){this.measureGroup(null);this.metadataTree(null)},ao:function(a){var $self=this;if($self.cube()==null){throw new $.ig.InvalidOperationException(1,"Data source has no Cube set.")}var b=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.measureGroup()!=null){if($self.measureGroup().name()==a){b.e($self.metadataTree());return b.b()}$self.av()}if(!String.isNullOrEmpty(a)&&$self.measureGroups().count()==0){var c=$self.ar().continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(d){if($self.measureGroups().count()==0){return $self.ao(null)}return $self.ao(a)});return c}var e=$self.measureGroups().getEnumerator();while(e.moveNext()){var d=e.current();if(d.name()==a){$self.measureGroup(d);break}}$self.metadataTree($self.k(a));b.e($self.metadataTree());return b.b()},k:function(a){var $self=this;var b=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.cube);$ret.caption($self.cube().caption());$ret.item($self.cube());return $ret}();var c;var d;var e;var f=true;if(String.isNullOrEmpty(a)||$self.measureGroups()==null){c=$self.c().t();d=$self.c().y();e=$self.c().v()}else{f=false;c=$self.c().a().getMeasureGroupDimensions(a);d=$self.c().a().getMeasureGroupMeasures(a);e=$self.c().a().getMeasureGroupKpis(a)}var g=$.ig.MetaTreeHelper.prototype.getDimensionMetaItems(c,d,e,$self.c().u(),$self.c().x(),f,$self.c());$.ig.MetaTreeHelper.prototype.setMetaItemChildren(b,g);return b},d:function(a,b){var $self=this;if(b!=null&&b.axes().count()>0){return b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(c){return c.name()==a}).firstOrDefault$1($.ig.OlapResultAxis.prototype.$type)}return null},ay:function(a,b){var $self=this;switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var d=a.newItems().getEnumerator();while(d.moveNext()){var c=d.current();var e=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(e!=null){if($self.isInitialized()){b.add(new $.ig.AxisElement(e.uniqueName(),new $.ig.ArrayListCollection$1(String)))}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var g=a.oldItems().getEnumerator();while(g.moveNext()){var f=g.current();var h=$.ig.util.cast($.ig.Hierarchy.prototype.$type,f);if(h!=null){var i=b.where$1($.ig.AxisElement.prototype.$type,function(j){return j.b()==h.uniqueName()}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(i!=null){var j=new $.ig.List$1(String,0);for(var k=0;k<i.a().count();k++){j.add(i.a().item(k))}for(var l=0;l<j.count();l++){var m=j.item(l);$self.removeFilterMember(i.b(),m)}b.remove(i)}}else{var n=$.ig.util.cast($.ig.MeasureList.prototype.$type,f);if(n!=null){if(!$self.r()&&!$self.q()&&!$self.p()){$self.measures().clear()}}}}break}},a0:function(a,b){var $self=this;switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var d=a.newItems().getEnumerator();while(d.moveNext()){var c=d.current();var e=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(e!=null){var f=$.ig.util.cast($.ig.MeasureList.prototype.$type,b.where$1($.ig.ICoreOlapElement.prototype.$type,function(g){return $.ig.util.cast($.ig.MeasureList.prototype.$type,g)!==null}).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type));if(f!=null&&$self.measureListIndex()>=a.newStartingIndex()){$self.measureListIndex($self.measureListIndex()+1)}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var h=a.oldItems().getEnumerator();while(h.moveNext()){var g=h.current();var i=$.ig.util.cast($.ig.Hierarchy.prototype.$type,g);if(i!=null){var j=$.ig.util.cast($.ig.MeasureList.prototype.$type,b.where$1($.ig.ICoreOlapElement.prototype.$type,function(k){return $.ig.util.cast($.ig.MeasureList.prototype.$type,k)!==null}).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type));if(j!=null&&$self.measureListIndex()>a.oldStartingIndex()){$self.measureListIndex($self.measureListIndex()-1)}}}break}},az:function(){var $self=this;var a;if($self.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=$self.columnAxis()}else{a=$self.rowAxis()}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if($self.measures().count()>1){if(b==null){b=function(){var $ret=new $.ig.MeasureList;$ret.measures($self.measures());return $ret}();if($self.measureListIndex()<0||$self.measureListIndex()>a.count()){$self.ag=a.count();a.add(b)}else{a.insert($self.measureListIndex(),b)}}else{if(c!=$self.measureListIndex()){a.removeAt(c);if($self.measureListIndex()>a.count()){$self.ag=a.count();a.add(b)}else{a.insert($self.measureListIndex(),b)}}}}else{if(b!=null){a.removeAt(c)}}},ae:function(){return this.ac},ad:function(){return this.ab},at:function($tItem,a,b,c){var $self=this;var d=function(e){return e.uniqueName()==a};var e=$self.getCoreElement(d,c);if(e!=null&&!b.contains($.ig.Object.prototype.$type,e)){b.add(e)}},as:function(a){var $self=this;var b=new $.ig.List$1(String,0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();var e=$self.d(c.c(),$self.result()).tuples().__inner[c.b()].members().item(c.a());var f=$self.getCoreElement(function(g){return g.hierarchyUniqueName()==e.hierarchyUniqueName()&&g.depth()==e.levelNumber()+1},$.ig.Level.prototype.$type);if(f!=null&&!$self.c().c(f.uniqueName())&&!b.contains(f.uniqueName())){b.add(f.uniqueName())}}if(b.count()>0){var g=new Array(b.count());for(var h=0;h<b.count();h++){g[h]=$self.getMembersOfLevel(b.item(h))}return(new $.ig.TaskFactory).d($.ig.Array.prototype.$type,g,function(i){return i})}var i=new $.ig.TaskCompletionSource$1($.ig.Array.prototype.$type,0);i.e(new Array(0));return i.b()},ax:function(){var a;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=this.columnAxis()}else{a=this.rowAxis()}if(a==null){return}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if(b!=null){this.q(true);a.removeAt(c)}},a:function($t,a){var b=new $.ig.ArrayListCollection$1($t);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},b:function(a,b){var $self=this;var c=$self.u().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.u();return{ret:c,filtersCollection:b}}c=$self.w().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.w();return{ret:c,filtersCollection:b}}c=$self.v().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.v();return{ret:c,filtersCollection:b}}b=null;return{ret:null,filtersCollection:b};return{filtersCollection:b}},$type:new $.ig.Type("OlapDataSource",$.ig.Object.prototype.$type,[$.ig.IOlapDataSource.prototype.$type])},true);$.ig.util.defType("PositionInfo","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:0,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:0,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("PositionInfo",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeMetaItemsCache","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.s=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.Member.prototype.$type),0);this.l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,0);this.q=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);this.r=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);this.n=new $.ig.Dictionary$2(String,$.ig.Measure.prototype.$type,0);this.m=new $.ig.Dictionary$2(String,$.ig.KpiMeasure.prototype.$type,0);this.p=new $.ig.Dictionary$2(String,$.ig.Boolean.prototype.$type,0);this.o=new $.ig.Dictionary$2(String,$.ig.Boolean.prototype.$type,0)},s:null,l:null,q:null,r:null,n:null,m:null,p:null,o:null,_y:null,y:function(value){if(arguments.length===1){this._y=value;return value}else{return this._y}},_w:null,w:function(value){if(arguments.length===1){this._w=value;return value}else{return this._w}},_t:null,t:function(value){if(arguments.length===1){this._t=value;return value}else{return this._t}},_u:null,u:function(value){if(arguments.length===1){this._u=value;return value}else{return this._u}},_x:null,x:function(value){if(arguments.length===1){this._x=value;return value}else{return this._x}},_v:null,v:function(value){if(arguments.length===1){this._v=value;return value}else{return this._v}},_z:null,z:function(value){if(arguments.length===1){this._z=value;return value}else{return this._z}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},c:function(a){var $self=this;var b;if(!function(){var $ret=$self.p.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){return false}return b},ac:function(a){this.p.item(a,true)},b:function(a){var $self=this;var b;if(!function(){var $ret=$self.o.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){return false}return b},ab:function(a){var $self=this;$self.o.item(a,true);var c=$self.x().where$1($.ig.Level.prototype.$type,function(d){return d.hierarchyUniqueName()==a}).getEnumerator();while(c.moveNext()){var b=c.current();$self.ac(b.uniqueName())}},d:function(a){return this.r.containsKey(a)},aa:function(a){var $self=this;var b;if(!function(){var $ret=$self.s.tryGetValue(a.uniqueName(),b);b=$ret.value;return $ret.ret}()){var c=$self.s.count();b=new $.ig.Tuple$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,c,a);$self.s.item(a.uniqueName(),b);$self.l.item(c,a);var d;if(!function(){var $ret=$self.q.tryGetValue(a.levelUniqueName(),d);d=$ret.value;return $ret.ret}()){d=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);$self.q.item(a.levelUniqueName(),d)}if(!String.isNullOrEmpty(a.parentUniqueName())){var e;if(!function(){var $ret=$self.r.tryGetValue(a.parentUniqueName(),e);e=$ret.value;return $ret.ret}()){e=new $.ig.List$1($.ig.Member.prototype.$type,0);$self.r.item(a.parentUniqueName(),e)}e.add(a)}d.add(a)}return b.a()},i:function(a,b){var $self=this;var c;if(function(){var $ret=$self.s.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.a();return{ret:true,memberOrdinal:b}}b=-1;return{ret:false,memberOrdinal:b};return{memberOrdinal:b}},h:function(a,b){var $self=this;var c;if(function(){var $ret=$self.s.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.b();return{ret:true,member:b}}b=null;return{ret:false,member:b};return{member:b}},g:function(a,b){var $self=this;return{ret:function(){var $ret=$self.l.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),member:b};return{member:b}},k:function(a,b){var $self=this;return{ret:function(){var $ret=$self.r.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),members:b};return{members:b}},j:function(a,b){var $self=this;return{ret:function(){var $ret=$self.q.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),members:b};return{members:b}},f:function(a,b){var $self=this;if(!function(){var $ret=$self.n.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){b=$self.y().where$1($.ig.Measure.prototype.$type,function(c){return c.uniqueName()==a}).firstOrDefault$1($.ig.Measure.prototype.$type);if(b==null){return{ret:false,measure:b}}$self.n.add(a,b)}return{ret:true,measure:b};return{measure:b}},e:function(a,b){var $self=this;if(!function(){var $ret=$self.m.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){b=$self.w().where$1($.ig.KpiMeasure.prototype.$type,function(c){return c.uniqueName()==a}).firstOrDefault$1($.ig.KpiMeasure.prototype.$type);if(b==null){return{ret:false,measure:b}}$self.m.add(a,b)}return{ret:true,measure:b};return{measure:b}},$type:new $.ig.Type("CubeMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MetaTreeHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},getDimensionMetaItems:function(a,b,c,d,e,f,g){var $self=this;var h=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var i=new $.ig.HierarchyItemPosition;i.a(0);i.b(0);var j=new $.ig.List$1($.ig.Hierarchy.prototype.$type,0);var l=d.getEnumerator();while(l.moveNext()){var k=l.current();j.add(k)}var m=new $.ig.List$1($.ig.Level.prototype.$type,0);var o=e.getEnumerator();while(o.moveNext()){var n=o.current();m.add(n)}var q=a.getEnumerator();while(q.moveNext()){var p=q.current();var r=$.ig.MetaTreeHelper.prototype.e(j,m,p,i);if(p.dimensionType()!=$.ig.DimensionType.prototype.measure){var s=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.dimension);$ret.caption(p.caption());$ret.item(p);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(s,r);h.add(s)}else{var t=$.ig.MetaTreeHelper.prototype.b(b,p);h.insert(0,t);if(c.count$1($.ig.Kpi.prototype.$type)>0){var u=function(){var $ret=new $.ig.KpiDimension;$ret.caption("Kpis");return $ret}();var v=$.ig.MetaTreeHelper.prototype.a(c,u,g);v.type($.ig.OlapMetadataTreeItemType.prototype.kpiRoot);h.insert(1,v)}}}return h},setMetaItemChildren:function(a,b){var $self=this;if(b.count()>0){var c=b.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(d){return d.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(d){return d.caption()}).toArray$1($.ig.OlapMetadataTreeItem.prototype.$type);var d=b.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(e){return e.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).toArray$1($.ig.OlapMetadataTreeItem.prototype.$type);var e=new Array(c.length+d.length);for(var f=0;f<c.length;f++){e[f]=c[f]}for(var g=0;g<d.length;g++){e[c.length+g]=d[g]}a.children(e)}},e:function(a,b,c,d){var $self=this;var e=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var f=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var g=a.item(d.a());while(g.dimensionUniqueName()!=c.uniqueName()){d.a(d.a()+1);g=a.item(d.a())}while(g.dimensionUniqueName()==c.uniqueName()){var h=null;if(!String.isNullOrEmpty(g.hierarchyDisplayFolder())){var i=String.empty();var j=$.ig.MetaTreeHelper.prototype.c(g.hierarchyDisplayFolder());for(var k=0;k<j.length;k++){var l=j[k];i+=l+"\\";var m;if(!function(){var $ret=e.tryGetValue(i,m);m=$ret.value;return $ret.ret}()){var n=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(l);return $ret}();m=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),n,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));e.add(i,m);if(h!=null){h.b().add(n)}else{f.add(n)}}h=m}}var o;switch(g.hierarchyOrigin()){case $.ig.HierarchyOrigin.prototype.systemEnabled:o=$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy;break;case $.ig.HierarchyOrigin.prototype.userDefined:o=$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy;break;default:o=$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy;break}var p=$.ig.MetaTreeHelper.prototype.f(b,g,d);var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(o);$ret.caption(g.caption());$ret.item(g);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(q,p);if(h!=null){h.b().add(q)}else{f.add(q)}if(d.a()+1>=a.count()){break}d.a(d.a()+1);g=a.item(d.a())}var s=e.values().getEnumerator();while(s.moveNext()){var r=s.current();var t=r.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(t,r.b())}return f},f:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if(a==null||a.count()==0){return d}var e=a.item(c.b());while(e.hierarchyUniqueName()!=b.uniqueName()){c.b(c.b()+1);e=a.item(c.b())}while(e.hierarchyUniqueName()==b.uniqueName()){var f;switch(e.depth()){case 0:case 1:f=$.ig.OlapMetadataTreeItemType.prototype.level1;break;case 2:f=$.ig.OlapMetadataTreeItemType.prototype.level2;break;case 3:f=$.ig.OlapMetadataTreeItemType.prototype.level3;break;case 4:f=$.ig.OlapMetadataTreeItemType.prototype.level4;break;default:f=$.ig.OlapMetadataTreeItemType.prototype.level5;break}var g=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(f);$ret.caption(e.caption());$ret.item(e);return $ret}();d.add(g);if(c.b()+1>=a.count()){break}c.b(c.b()+1);e=a.item(c.b())}return d},b:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var d=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(b.caption());$ret.item(b);return $ret}();var e=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),d,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));var g=a.getEnumerator();while(g.moveNext()){var f=g.current();if($.ig.util.cast($.ig.KpiMeasure.prototype.$type,f)!==null){continue}var h=e;if(!String.isNullOrEmpty(f.measureGroupName())){if(!function(){var $ret=c.tryGetValue(f.measureGroupName(),h);h=$ret.value;return $ret.ret}()){var i=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(f.measureGroupName());return $ret}();h=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),i,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));c.add(f.measureGroupName(),h);e.b().add(h.a())}}var j=h;if(!String.isNullOrEmpty(f.measureDisplayFolder())){var k=f.measureGroupName();var l=$.ig.MetaTreeHelper.prototype.c(f.measureDisplayFolder());for(var m=0;m<l.length;m++){var n=l[m];k+="\\"+n;var o;if(!function(){var $ret=c.tryGetValue(k,o);o=$ret.value;return $ret.ret}()){var p=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(n);return $ret}();o=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),p,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));c.add(k,o);j.b().add(p)}j=o}}var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(f.caption());$ret.item(f);return $ret}();j.b().add(q)}var r=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var t=e.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(u){return u.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(u){return u.caption()}).getEnumerator();while(t.moveNext()){var s=t.current();r.add(s)}var v=e.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(w){return w.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(w){return w.caption()}).getEnumerator();while(v.moveNext()){var u=v.current();r.add(u)}$.ig.MetaTreeHelper.prototype.setMetaItemChildren(d,r);var x=c.values().getEnumerator();while(x.moveNext()){var w=x.current();var y=w.b();var z=y.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(aa){return aa.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(aa){return aa.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var aa=y.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ab){return ab.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ab){return ab.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var ab=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);for(var ac=0;ac<z.count();ac++){ab.add(z.item(ac))}for(var ad=0;ad<aa.count();ad++){ab.add(aa.item(ad))
}var ae=w.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(ae,ab)}return d},a:function(a,b,c){var $self=this;var d=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var e=c.y().toList$1($.ig.Measure.prototype.$type);c.y(e);var f=new $.ig.List$1($.ig.KpiMeasure.prototype.$type,0);c.w(f);var g=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiRoot);$ret.caption(b.caption());$ret.item(b);return $ret}();var h=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),g,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));var j=a.getEnumerator();while(j.moveNext()){var i=j.current();var k=h;if(!String.isNullOrEmpty(i.kpiDisplayFolder())){var l=String.empty();var m=$.ig.MetaTreeHelper.prototype.c(i.kpiDisplayFolder());for(var n=0;n<m.length;n++){var o=m[n];l+="\\"+o;var p;if(!function(){var $ret=d.tryGetValue(l,p);p=$ret.value;return $ret.ret}()){var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(o);return $ret}();p=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),q,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));d.add(l,p);k.b().add(q)}k=p}}var r=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpi);$ret.caption(i.caption());$ret.item(i);return $ret}();if(!String.isNullOrEmpty(i.kpiValue())){var s=null;var t=$.ig.OlapMetadataTreeItemType.prototype.measure;var u="Value";if(!function(){var $ret=c.f(i.kpiValue(),s);s=$ret.measure;return $ret.ret}()){t=$.ig.OlapMetadataTreeItemType.prototype.kpiValue;s=$.ig.KpiMeasure.prototype.createKpiValueMeasure(i);e.add(s);f.add(s)}else{u+=" ("+s.caption()+")"}r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption(u);$ret.item(s);$ret.type(t);return $ret}())}if(!String.isNullOrEmpty(i.kpiGoal())){var v=null;var w=$.ig.OlapMetadataTreeItemType.prototype.measure;var x="Goal";if(!function(){var $ret=c.f(i.kpiGoal(),v);v=$ret.measure;return $ret.ret}()){w=$.ig.OlapMetadataTreeItemType.prototype.kpiGoal;v=$.ig.KpiMeasure.prototype.createKpiGoalMeasure(i);e.add(v);f.add(v)}else{x+=" ("+v.caption()+")"}r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption(x);$ret.item(v);$ret.type(w);return $ret}())}if(!String.isNullOrEmpty(i.kpiStatus())){var y=$.ig.KpiMeasure.prototype.createKpiStatusMeasure(i);e.add(y);f.add(y);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Status");$ret.item(y);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiStatus);return $ret}())}if(!String.isNullOrEmpty(i.kpiTrend())){var z=$.ig.KpiMeasure.prototype.createKpiTrendMeasure(i);e.add(z);f.add(z);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Trend");$ret.item(z);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiTrend);return $ret}())}if(!String.isNullOrEmpty(i.kpiWeight())){var aa=$.ig.KpiMeasure.prototype.createKpiWeightMeasure(i);e.add(aa);f.add(aa);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Weight");$ret.item(aa);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiWeight);return $ret}())}k.b().add(r)}var ab=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var ad=h.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ae){return ae.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ae){return ae.caption()}).getEnumerator();while(ad.moveNext()){var ac=ad.current();ab.add(ac)}var af=h.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ag){return ag.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ag){return ag.caption()}).getEnumerator();while(af.moveNext()){var ae=af.current();ab.add(ae)}$.ig.MetaTreeHelper.prototype.setMetaItemChildren(g,ab);var ah=d.values().getEnumerator();while(ah.moveNext()){var ag=ah.current();var ai=ag.b();var aj=ai.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ak){return ak.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ak){return ak.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var ak=ai.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(al){return al.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(al){return al.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var al=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);for(var am=0;am<aj.count();am++){al.add(aj.item(am))}for(var an=0;an<ak.count();an++){al.add(ak.item(an))}var ao=ag.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(ao,al)}return g},c:function(a){var b=a.split("\\");return b},$type:new $.ig.Type("MetaTreeHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyItemPosition","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:0,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:0,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("HierarchyItemPosition",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBaseOptions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cube:null,cube:function(value){if(arguments.length===1){this._cube=value;return value}else{return this._cube}},_measureGroup:null,measureGroup:function(value){if(arguments.length===1){this._measureGroup=value;return value}else{return this._measureGroup}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},_filters:null,filters:function(value){if(arguments.length===1){this._filters=value;return value}else{return this._filters}},_columns:null,columns:function(value){if(arguments.length===1){this._columns=value;return value}else{return this._columns}},_rows:null,rows:function(value){if(arguments.length===1){this._rows=value;return value}else{return this._rows}},$type:new $.ig.Type("DataSourceBaseOptions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisDefinitionParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.d(-1);this.k(a)},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_d:0,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_k:null,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},b:function(){if(this.d()==this.k().length-1){return false}var a=-1;var b=-1;var c=false;while(this.d()+1<this.k().length){this.d(this.d()+1);var d=this.k().substr(this.d(),1);switch(d){case $.ig.AxisDefinitionParser.prototype.e:if(a==-1){a=this.d()}break;case $.ig.AxisDefinitionParser.prototype.f:b=this.d();while(this.d()+1<this.k().length){d=this.k().substr(this.d()+1,1);switch(d){case $.ig.AxisDefinitionParser.prototype.f:b=this.d()+1;break;case $.ig.AxisDefinitionParser.prototype.h:if($.ig.AxisDefinitionParser.prototype.f==this.k().substr(this.d(),1)){c=true}break;case $.ig.AxisDefinitionParser.prototype.i:case $.ig.AxisDefinitionParser.prototype.j:c=true;break}if(c){break}this.d(this.d()+1)}c=true;break;case $.ig.AxisDefinitionParser.prototype.h:c=true;break;case $.ig.AxisDefinitionParser.prototype.i:this.a(true);break;case $.ig.AxisDefinitionParser.prototype.j:$.ig.Debug.prototype.a(this.a());c=true;this.a(false);break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.d()==this.k().length-1){if(b==-1||a==-1){return false}}var e=this.k().substr(a,b-a+1).trim();this.g(e);return true},c:function(){var a=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var b=null;while(this.b()){if(!this.a()){b=new $.ig.ArrayListCollection$1(String);var c=new $.ig.AxisElement(this.g(),b);a.add(c)}else if(b!=null){b.add(this.g())}}return a},$type:new $.ig.Type("AxisDefinitionParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CoreOlapElementParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.c(-1);this.h(a)},_f:null,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_c:0,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_h:null,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},a:function(){if(this.c()==this.h().length-1){return false}var a=-1;var b=-1;var c=false;while(this.c()+1<this.h().length){this.c(this.c()+1);var d=this.h().substr(this.c(),1);switch(d){case $.ig.CoreOlapElementParser.prototype.d:if(a==-1){a=this.c()}break;case $.ig.CoreOlapElementParser.prototype.e:b=this.c();while(this.c()+1<this.h().length){d=this.h().substr(this.c()+1,1);switch(d){case $.ig.CoreOlapElementParser.prototype.e:b=this.c()+1;break;case $.ig.CoreOlapElementParser.prototype.g:c=true;break}if(c){break}this.c(this.c()+1)}break;case $.ig.CoreOlapElementParser.prototype.g:c=true;break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.c()==this.h().length-1){if(b==-1||a==-1){return false}}var e=this.h().substr(a,b-a+1).trim();this.f(e);return true},b:function(){var a=new $.ig.List$1(String,0);while(this.a()){a.add(this.f())}return a},$type:new $.ig.Type("CoreOlapElementParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KeyValueItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("KeyValueItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisElement","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("AxisElement",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupMetaItemsCache","Object",{a:null,c:null,b:null,j:null,d:null,h:null,f:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.a=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),0);this.c=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),0);this.b=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Kpi.prototype.$type),0);this.j=d;this.d=a;this.h=b;this.f=c},getMeasureGroupDimensions:function(a){var $self=this;var b;if(!function(){var $ret=$self.a.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1(String,0);var e=$self.j.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d.dimensionUniqueName())}}var f=new $.ig.List$1($.ig.Dimension.prototype.$type,0);var h=$self.d.getEnumerator();while(h.moveNext()){var g=h.current();if(c.contains(g.uniqueName())||g.dimensionType()==$.ig.DimensionType.prototype.measure){f.add(g)}}$self.a.add(a,f);b=f}return b},getMeasureGroupMeasures:function(a){var $self=this;var b;if(!function(){var $ret=$self.c.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1($.ig.Measure.prototype.$type,0);var e=$self.h.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d)}}$self.c.add(a,c);b=c}return b},getMeasureGroupKpis:function(a){var $self=this;var b;if(!function(){var $ret=$self.b.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1($.ig.Kpi.prototype.$type,0);var e=$self.f.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d)}}$self.b.add(a,c);b=c}return b},$type:new $.ig.Type("MeasureGroupMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("PositionItemInfo$2","Dictionary$2",{$tKey:null,$tSortKey:null,init:function($tKey,$tSortKey,a,b,c,d){this.q=new $.ig.Dictionary$2(this.$tKey,$.ig.Object.prototype.$type,0);this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Dictionary$2.prototype.init.call(this,this.$tKey,$.ig.PositionItemInfo$2.prototype.$type.specialize(this.$tKey,this.$tSortKey));this.positionItem(a);this.positionIndex(b);this.positionItemIndex(c);this.positionItemDepth(0);this.positionItemDepthMin(-1);this.positionItemDepthMax(Number.MAX_VALUE);this.positionSize(d);if(a!=null){this.positionItemDepth(this.positionItem().depth());this.key(this.positionItem().key());this.parentKey(this.positionItem().parentKey());this.hierarchyKey(this.positionItem().hierarchyKey());this.hierarchyLevelKey(this.positionItem().hierarchyLevelKey());this.sortKey(this.positionItem().sortKey());this.caption(this.positionItem().caption())}},l:function(a,b,c,d){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,a,b,c,d)},_positionItemDepthMin:0,positionItemDepthMin:function(value){if(arguments.length===1){this._positionItemDepthMin=value;return value}else{return this._positionItemDepthMin}},_positionItemDepthMax:0,positionItemDepthMax:function(value){if(arguments.length===1){this._positionItemDepthMax=value;return value}else{return this._positionItemDepthMax}},_positionItem:null,positionItem:function(value){if(arguments.length===1){this._positionItem=value;return value}else{return this._positionItem}},_positionIndex:0,positionIndex:function(value){if(arguments.length===1){this._positionIndex=value;return value}else{return this._positionIndex}},_positionItemDepth:0,positionItemDepth:function(value){if(arguments.length===1){this._positionItemDepth=value;return value}else{return this._positionItemDepth}},_positionItemIndex:0,positionItemIndex:function(value){if(arguments.length===1){this._positionItemIndex=value;return value}else{return this._positionItemIndex}},_positionSize:0,positionSize:function(value){if(arguments.length===1){this._positionSize=value;return value}else{return this._positionSize}},_key:null,key:function(value){if(arguments.length===1){this._key=value;return value}else{return this._key}},_parentKey:null,parentKey:function(value){if(arguments.length===1){this._parentKey=value;return value}else{return this._parentKey}},_hierarchyKey:null,hierarchyKey:function(value){if(arguments.length===1){this._hierarchyKey=value;return value}else{return this._hierarchyKey}},_hierarchyLevelKey:null,hierarchyLevelKey:function(value){if(arguments.length===1){this._hierarchyLevelKey=value;return value}else{return this._hierarchyLevelKey}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_sortKey:null,sortKey:function(value){if(arguments.length===1){this._sortKey=value;return value}else{return this._sortKey}},_isExpandable:false,isExpandable:function(value){if(arguments.length===1){this._isExpandable=value;return value}else{return this._isExpandable}},_isExpanded:false,isExpanded:function(value){if(arguments.length===1){this._isExpanded=value;return value}else{return this._isExpanded}},m:function(a,b,c){var d=false;if(this.positionItemIndex()==-1){d=true}else{if(c!=null){if(a.item(this.positionItemIndex()).key()!=null){var e=c.item(this.positionItemIndex());d=a.item(this.positionItemIndex()).key().equals(e.key())}}}if(this.positionItemIndex()+1==this.positionSize()){return d}var f=this.n(a,b,this.positionItemIndex()+1,c);return d&&f},ab:function(a,b){},q:null,n:function(a,b,c,d){var $self=this;var e;var f=a.item(c);if(!$self.containsKey(f.key())){var g=$self.l(f,b,c,$self.positionSize());g.isExpandable(f.isExpandable());if($self.q.containsKey(g.key())){$self.q.remove(g.key());g.isExpanded(true)}if(f.parentKey()!=null){var h=null;if(function(){var $ret=$self.tryGetValue(f.parentKey(),h);h=$ret.value;return $ret.ret}()){h.isExpanded(true)}else{if(!$self.q.containsKey(f.parentKey())){$self.q.add(f.parentKey(),null)}}}e=g.m(a,b,d);$self.add(f.key(),g);if($self.positionItemDepthMin()==-1){$self.positionItemDepthMin(f.depth())}else{$self.positionItemDepthMin(Math.min($self.positionItemDepthMin(),f.depth()))}if($self.positionItemDepthMax()==Number.MAX_VALUE){$self.positionItemDepthMax(f.depth())}else{$self.positionItemDepthMax(Math.max($self.positionItemDepthMax(),f.depth()))}$self.ab(a,g)}else{var i=$self.item(f.key());e=i.m(a,b,d)}return e},getIndex2:function(a){var b=new Array(a.count());for(var c=0;c<b.length;c++){b[c]=a.item(c).key()}return this.getIndex(b)},getIndex:function(a){return this.s(a,a.length)},s:function(a,b){var $self=this;if($self.positionItemIndex()==b-1){return $self.positionIndex()}var c;if(!function(){var $ret=$self.tryGetValue(a[$self.positionItemIndex()+1],c);c=$ret.value;return $ret.ret}()){return-1}if(c.count()==0){return c.positionIndex()}return c.s(a,b)},$type:new $.ig.Type("PositionItemInfo$2",$.ig.Dictionary$2.prototype.$type.specialize(0,1))},true);$.ig.util.defType("PositionResolver$2","Object",{$tKey:null,$tSortKey:null,k:0,b:null,t:null,u:null,init:function($tKey,$tSortKey,a,b){this.k=0;this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Object.prototype.init.call(this);this.positions(a.toList$1($.ig.IPosition$2.prototype.$type.specialize(this.$tKey,this.$tSortKey)));this.positionSize(b)},getPositionIndexCompleted:null,_positions:null,positions:function(value){if(arguments.length===1){this._positions=value;return value}else{return this._positions}},_positionSize:0,positionSize:function(value){if(arguments.length===1){this._positionSize=value;return value}else{return this._positionSize}},rootPositionInfo:function(){if(this.b==null){this.b=this.d(this.positionSize())}return this.b},d:function(a){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,null,-1,-1,a)},hasUnregisterdPositions:function(){return this.k<this.positions().count()},completeRegisterPositions:function(){if(this.hasUnregisterdPositions()){this.o(null)}},resolveParentPositionItem:function(a,b){b=-1;var c=$.ig.util.cast($.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(this.$tKey,this.$tSortKey),a);if(c==null||c.parentKey()==null){return{ret:null,parentPositionIndex:b}}var d=c.position().indexOf(c);var e=new Array(c.position().itemsCount());for(var f=0;f<c.position().itemsCount();f++){e[f]=c.position().item(f).key()}e[d]=c.parentKey();b=this.rootPositionInfo().getIndex(e);if(b==-1){return{ret:null,parentPositionIndex:b}}var g=this.positions().__inner[b];var h=g.item(d);return{ret:h,parentPositionIndex:b};return{parentPositionIndex:b}},getHostPositionItemInfo:function(a,b){var $self=this;var c=$self.rootPositionInfo();var d=a.item(b);for(var e=0;e<b;e++){var f;if(function(){var $ret=c.tryGetValue(a.item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(d.key())){return null}return c},h:function(a,b){var $self=this;if($self.rootPositionInfo().count()==0){return null}var c=$self.rootPositionInfo();var d=a.position().indexOf(a);for(var e=0;e<d;e++){var f;if(function(){var $ret=c.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(a.key())){return null}var g=new $.ig.List$1($.ig.Number.prototype.$type,0);$self.s(a.key(),c,g);if(b==$.ig.ListSortDirection.prototype.descending){g.sort1(function(h,i){if(h==i){return 0}if(h>i){return-1}return 1});return g}g.sort1(function(h,i){if(h==i){return 0}if(h>i){return 1}return-1});return g},s:function(a,b,c){var $self=this;var e=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(f){return a.equals(f.parentKey())}).getEnumerator();while(e.moveNext()){var d=e.current();if(d.count()==0){c.add(d.positionIndex())}else{$self.r(d,c)}if(!d.isExpanded()){continue}if(d.positionItemDepth()<b.positionItemDepthMax()){$self.s(d.key(),b,c)}}},r:function(a,b){var $self=this;var d=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(e){return e.parentKey()==null}).getEnumerator();while(d.moveNext()){var c=d.current();if(c.count()==0){b.add(c.positionIndex())}else{$self.r(c,b)}if(!c.isExpanded()){continue}if(c.positionItemDepth()<a.positionItemDepthMax()){$self.s(c.key(),a,b)}}},getChildren:function(a,b){var $self=this;if($self.hasUnregisterdPositions()){$self.completeRegisterPositions()}var c=$self.getHostPositionItemInfo(a,b);var d=a.item(b);return c.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(e){return d.key().equals(e.parentKey())})},isMemberExpanded:function(a){var $self=this;if($self.hasUnregisterdPositions()){$self.completeRegisterPositions()}var b=$self.getPositionIndex(a.position());if(b==-1||$self.rootPositionInfo().count()==0){return $.ig.util.toNullable(Boolean,null)}var c=a.position().indexOf(a);var d=$self.rootPositionInfo();for(var e=0;e<c;e++){var f;if(function(){var $ret=d.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){d=f}else{d=null;break}}if(d==null){return $.ig.util.toNullable(Boolean,null)}if(!d.containsKey(a.key())){return $.ig.util.toNullable(Boolean,null)}var g=null;var h=d.values().getEnumerator();while(h.moveNext()){if(a.key().equals(h.current().parentKey())){g=h.current();break}}return $.ig.util.toNullable(Boolean,g!=null)},getPositionIndex:function(a){if(a==null){return-1}if(a.itemsCount()!=this.positionSize()){return-1}if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}if(this.k>0){var b=this.m(a);if(b>-1){return b}if(this.k==this.positions().count()){return-1}}return this.o(a)},m:function(a){if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}return this.rootPositionInfo().getIndex2(a.getItems().toList$1($.ig.IPositionItem$2.prototype.$type.specialize(this.$tKey,this.$tSortKey)))},o:function(a){var b=a==null;var c=-1;for(var d=this.k;d<this.positions().count();d++){var e=this.positions().__inner[d];var f=this.rootPositionInfo().m(e,d,a);this.k++;if(c==-1&&f){c=d;if(!b){break}}}return c},$type:new $.ig.Type("PositionResolver$2",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.sortBehavior($.ig.LevelSortBehavior.prototype.system)},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_sortDirection:null,sortDirection:function(value){if(arguments.length===1){this._sortDirection=value;return value}else{return this._sortDirection}},_sortBehavior:null,sortBehavior:function(value){if(arguments.length===1){this._sortBehavior=value;return value}else{return this._sortBehavior}},$type:new $.ig.Type("LevelSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TaskExtensions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},continueWithTask$1:function($tResult,a){var $self=this;var b=new $.ig.TaskCompletionSource$1($tResult,0);$self.e(function(c){if(c.a()==null){try{a(c).i(function(d){if(d.a()==null){b.e(d.m());return}b.d(d.a())})}catch(e_){var d;d=e_;b.d(d)}}else{b.d(c.a())}});return b.b()},continueWithTask$2:function($tResult1,$tResult2,a){var $self=this;return $self.continueWithTask$1($tResult2,function(b){return a(b)})},$type:new $.ig.Type("TaskExtensions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyFilterView","Object",{d:null,c:null,e:null,init:function(a){this.e=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0);$.ig.Object.prototype.init.call(this);this.hierarchy(a);this.c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.FilterMember.prototype.$type),0);this.d=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0)},filterMemberExpansionChanged:null,filterMemberSelectionChanged:null,_hierarchy:null,hierarchy:function(value){if(arguments.length===1){this._hierarchy=value;return value}else{return this._hierarchy}},addFiltersForMembers:function(a){var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.addFilterForMember(b)}},addFilterForMember:function(a){var $self=this;if(!$self.d.containsKey(a.uniqueName())){var b=new $.ig.FilterMember(a);b.propertyChanged=$.ig.Delegate.prototype.combine(b.propertyChanged,$self.o.runOn($self));b.selectionChanged=$.ig.Delegate.prototype.combine(b.selectionChanged,$self.p.runOn($self));var c;if(!function(){var $ret=$self.c.tryGetValue(a.levelDepth(),c);c=$ret.value;return $ret.ret}()){c=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);$self.c.add(a.levelDepth(),c)}$self.d.add(a.uniqueName(),b);$self.e.add(a.uniqueName(),b);c.add(b);$self.j(b);$self.m(b)}},tryGetFilterMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.d.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),filterMember:b};return{filterMember:b}},getRootFilterMembers:function(){var a=-1;var c=this.c.keys().getEnumerator();while(c.moveNext()){var b=c.current();if(a==-1){a=b}else{a=Math.min(b,a)}}if(a==-1){return null}return this.c.item(a)},getSelectedFilterItems:function(){var a=this.getRootFilterMembers();var b=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();if(d.isSelected().hasValue()==true&&d.isSelected().value()==true){c++}}if(c==a.count()){return b}var g=a.getEnumerator();while(g.moveNext()){var f=g.current();if(f.isSelected().hasValue()==false){this.n(f,b)}else if(f.isSelected().hasValue()==true&&f.isSelected().value()==true){b.add(f)}}return b},p:function(a,b){if(this.filterMemberSelectionChanged!=null){this.filterMemberSelectionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}},o:function(a,b){if(b.propertyName()=="IsExpanded"){if(this.filterMemberExpansionChanged!=null){this.filterMemberExpansionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}}},n:function(a,b){if(a.isSelected().hasValue()==true&&a.isSelected().value()==true){b.add(a)}else{if(a.children()==null){return}var d=a.children().getEnumerator();while(d.moveNext()){var c=d.current();this.n(c,b)}}},m:function(a){var $self=this;var b=a.member().parentUniqueName();if(String.isNullOrEmpty(b)){return}var c;if(function(){var $ret=$self.d.tryGetValue(b,c);c=$ret.value;return $ret.ret}()){c.n(a);if(c.isSelected().hasValue()==true&&c.isSelected().value()==false){a.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}}},j:function(a){var $self=this;var b=a.member().levelDepth();var c;if(function(){var $ret=$self.c.tryGetValue(b+1,c);c=$ret.value;return $ret.ret}()){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();if(d.member().parentUniqueName()==a.member().uniqueName()){a.n(d)}}}},$type:new $.ig.Type("HierarchyFilterView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FilterMember","Object",{l:$.ig.util.toNullable($.ig.Boolean.prototype.$type,null),c:false,e:false,d:false,init:function(a){this.e=false;this.d=false;$.ig.Object.prototype.init.call(this);var b=$.ig.util.toNullable($.ig.Boolean.prototype.$type,true);this.l=b;this.member(a);this.k(0);this.j(0)},selectionChanged:null,propertyChanged:null,_parent:null,parent:function(value){if(arguments.length===1){this._parent=value;return value}else{return this._parent}},_member:null,member:function(value){if(arguments.length===1){this._member=value;return value}else{return this._member}},isExpandable:function(){return this.member().childrenCardinality()>0},isExpanded:function(a){if(arguments.length===1){if(this.c!=a){this.c=a;this.o("IsExpanded")}return a}else{return this.c}},isSelected:function(a){if(arguments.length===1){var b=a;var c=$.ig.util.toNullable($.ig.Boolean.prototype.$type,null);if($.ig.util.nullableEquals(this.l,b)==false){var d=this.l;this.l=a;if(!this.d){if(this.l.hasValue()==true){if(this.children()!=null){var f=this.children().getEnumerator();while(f.moveNext()){var e=f.current();e.e=true;e.isSelected(this.l);e.e=false}}}}if(this.parent()!=null){if(d.hasValue()==true&&d.value()==false){if(this.l.hasValue()==false){this.p(true)}this.q(false)}else if(d.hasValue()==false){if(this.l.hasValue()==true&&this.l.value()==false){this.q(true)}this.p(false)}else{if(this.l.hasValue()==true&&this.l.value()==false){this.q(true)}else if(this.l.hasValue()==false){this.p(true)}}if(!this.e){this.parent().d=true;var g=this.parent().k();var h=this.parent().j();var i=this.parent().children().count();if(h==0){if(g==0){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,true))}else if(g==i){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}else{this.parent().isSelected(c)}}else{this.parent().isSelected(c)}this.parent().d=false}}this.o("IsSelected");if(!this.e&&!this.d){if(this.selectionChanged!=null){this.selectionChanged(this,$.ig.EventArgs.prototype.empty)}}}return a}else{return this.l}},q:function(a){if(a){this.parent().k(this.parent().k()+1)}else{this.parent().k(this.parent().k()-1)}},p:function(a){if(a){this.parent().j(this.parent().j()+1)}else{this.parent().j(this.parent().j()-1)}},_children:null,children:function(value){if(arguments.length===1){this._children=value;return value}else{return this._children}},n:function(a){if(this.children()==null){this.children(new $.ig.List$1($.ig.FilterMember.prototype.$type,0))}a.parent(this);this.children().add(a);this.o("Children")},_k:0,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},_j:0,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},o:function(a){if(this.propertyChanged!=null){this.propertyChanged(this,new $.ig.PropertyChangedEventArgs(a))}},$type:new $.ig.Type("FilterMember",$.ig.Object.prototype.$type,[$.ig.INotifyPropertyChanged.prototype.$type])},true);$.ig.util.defType("FilterMemberStateChangedEventArgs","EventArgs",{init:function(a){$.ig.EventArgs.prototype.init.call(this);this.filterMember(a)},_filterMember:null,filterMember:function(value){if(arguments.length===1){this._filterMember=value;return value}else{return this._filterMember}},$type:new $.ig.Type("FilterMemberStateChangedEventArgs",$.ig.EventArgs.prototype.$type)},true);$.ig.util.defType("ResultSorter$1","Object",{$t:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:false,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},init:function($t,a,b,c){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.a(a);this.d(b);this.c(c)},b:function(){},e:function(a,b,c){a.e();var d=a.d();var e=new Array(d.count());for(var f=0;f<d.count();f++){var g=d.item(f);c.add(g,f)}for(var h=0;h<d.count();h++){var i=d.item(h);var j=b.tuples().__inner[i];e[h]=j}return new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,1,e)},$type:new $.ig.Type("ResultSorter$1",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultHeaderSorter","ResultSorter$1",{f:null,_h:null,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_g:null,g:function(value){if(arguments.length===1){this._g=value;
return value}else{return this._g}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisHeaderSortingVisitor.prototype.$type,a,b,c);this.f=new $.ig.Dictionary$2(String,$.ig.LevelSortDirection.prototype.$type,1,d.count());var f=d.getEnumerator();while(f.moveNext()){var e=f.current();this.f.item(e.levelUniqueName(),e)}},b:function(){var $self=this;$self.h(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));$self.g(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0));if($self.a().isEmpty()){return $self.a()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=1;var d=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var e=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if($self.c()){var f=$self.a().axes().item(b);var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var h=new $.ig.AxisHeaderSortingVisitor(f,$self.f,$self.h(),g);var i=$self.e(h,f,d);var j=function(){var $ret=new $.ig.OlapResultAxis(i,f.tupleSize());$ret.name(f.name());return $ret}();a.add(j);$self.g().item(f.name(),g);c=f.tuples().count();b++}if($self.d()){var k=$self.a().axes().item(b);var l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var m=new $.ig.AxisHeaderSortingVisitor(k,$self.f,$self.h(),l);var n=$self.e(m,k,e);var o=function(){var $ret=new $.ig.OlapResultAxis(n,k.tupleSize());$ret.name(k.name());return $ret}();a.add(o);$self.g().item(k.name(),l)}var p=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,$self.a().cells().count());var r=$self.a().cells().getEnumerator();while(r.moveNext()){var q=r.current();var s=q.clone();var t=s.cellOrdinal();if($self.c()){var u=t%c;var v=d.item(u);if(u!=v){var w=$.ig.intDivide(t,c);t=w*c+v}}if($self.d()){var x=$.ig.intDivide(t,c);var y=e.item(x);if(x!=y){var z=t%c;t=y*c+z}}s.cellOrdinal(t);p.add(s)}var aa=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.a().isEmpty());$ret.axes(a);$ret.cells(p);return $ret}();return aa},$type:new $.ig.Type("ResultHeaderSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisHeaderSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisTupleVisitor","Object",{_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},init:function(a){$.ig.Object.prototype.init.call(this);this.a(a)},e:function(){var $self=this;if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}$self.d(new $.ig.List$1($.ig.Number.prototype.$type,2,$self.a().tuples().count()));var a=$self.a().positionResolver().rootPositionInfo();var b=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(c){return c.positionItemDepth()==a.positionItemDepthMin()});var d=$self.c(a,b).getEnumerator();while(d.moveNext()){var c=d.current();$self.f(a,c)}},b:function(a,b){},c:function(a,b){},f:function(a,b){var $self=this;var c=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.positionItemDepth()==b.positionItemDepthMin()});if(c.count$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))>0){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();$self.f(b,d)}}else{$self.d().add(b.positionIndex())}var f=$self.b(a,b);var h=f.getEnumerator();while(h.moveNext()){var g=h.current();$self.f(a,g)}},$type:new $.ig.Type("AxisTupleVisitor",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisHeaderSortingVisitor","AxisTupleVisitor",{h:null,i:null,g:null,init:function(a,b,c,d){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.h=b;this.i=c;this.g=d},b:function(a,b){var $self=this;var c=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(c.count()>0){var d=c.item(0);var e;if(function(){var $ret=$self.h.tryGetValue(d.hierarchyLevelKey(),e);e=$ret.value;return $ret.ret}()){if(e.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}else{c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(!$self.i.select$2($.ig.LevelSortDirection.prototype.$type,String,function(f){return f.levelUniqueName()}).contains$1(String,e.levelUniqueName())){$self.i.add(e)}var f;if(!function(){var $ret=$self.g.tryGetValue(d.positionItemIndex(),f);f=$ret.value;return $ret.ret}()){f=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);$self.g.add(b.positionItemIndex(),f)}f.item(b.positionItemDepth(),e.sortDirection())}}return c},c:function(a,b){var $self=this;var c=b.toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(c.count()>0){var d=c.item(0);var e;if(d.hierarchyLevelKey()!=null&&function(){var $ret=$self.h.tryGetValue(d.hierarchyLevelKey(),e);e=$ret.value;return $ret.ret}()){if(e.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}else{c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}$self.i.add(e);var f;if(!function(){var $ret=$self.g.tryGetValue(d.positionItemIndex(),f);f=$ret.value;return $ret.ret}()){f=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);$self.g.add(a.positionItemIndex(),f)}f.item(a.positionItemDepth(),e.sortDirection())}}return c},$type:new $.ig.Type("AxisHeaderSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("ResultColumnValueSorter","ResultSorter$1",{f:null,_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisValueSortingVisitor.prototype.$type,a,b,c);this.f=d},b:function(){var $self=this;$self.g(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));if(!$self.d()||$self.a().isEmpty()){return $self.a()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=null;var d=1;if($self.c()){c=$self.a().axes().item(b);d=c.tuples().count();a.add(c.clone());b++}var e=$self.a().axes().item(b);var f=$self.a().axes().item(b).tuples().count();var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Object.prototype.$type,1,$self.a().cells().count());var i=$self.a().cells().getEnumerator();while(i.moveNext()){var h=i.current();var j=null;if(function(){var $ret=h.properties().tryGetValue("Value",j);j=$ret.value;return $ret.ret}()){g.item(h.cellOrdinal(),j)}else{(function(){var $ret=h.properties().tryGetValue("FmtValue",j);j=$ret.value;return $ret.ret})();g.item(h.cellOrdinal(),j)}}var k=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type),2,$self.f.count());var m=$self.f.getEnumerator();while(m.moveNext()){var l=m.current();var n;if(c!=null&&l.memberNames()!=null){if(c.positionResolver().hasUnregisterdPositions()){c.positionResolver().completeRegisterPositions()}n=c.positionResolver().rootPositionInfo().getIndex(l.memberNames());l.tupleIndex(n)}else{n=l.tupleIndex()}if(n>-1&&n<d){var o=new Array(f);for(var p=0;p<f;p++){var q=null;(function(){var $ret=g.tryGetValue(p*d+n,q);q=$ret.value;return $ret.ret})();o[p]=q}k.add(new $.ig.KeyValuePair$2($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type,1,l,o));$self.g().add(l)}}var r=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var s=new $.ig.AxisValueSortingVisitor(e,k);var t=$self.e(s,e,r);var u=function(){var $ret=new $.ig.OlapResultAxis(t,e.tupleSize());$ret.name(e.name());return $ret}();a.add(u);var v=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,$self.a().cells().count());var x=$self.a().cells().getEnumerator();while(x.moveNext()){var w=x.current();var y=w.clone();var z=y.cellOrdinal();var aa=$.ig.intDivide(z,d);var ab=r.item(aa);if(aa!=ab){var ac=z%d;z=ab*d+ac}y.cellOrdinal(z);v.add(y)}var ad=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.a().isEmpty());$ret.axes(a);$ret.cells(v);return $ret}();return ad},$type:new $.ig.Type("ResultColumnValueSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisValueSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisValueSortingVisitor","AxisTupleVisitor",{g:null,init:function(a,b){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.g=b},b:function(a,b){var $self=this;var c=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.parentKey()==b.key()});return $self.c(a,c)},c:function(a,b){var positionItemInfos_=b.toArray$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(positionItemInfos_.length>0){var tupleSortDirections_=this.g.toArray$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type));var sortFunction=function(tupleSortDirections){var compareCells=function(comparer,cell1,cell2){var result=comparer(cell1,cell2);if(result<0){return-1}if(result>0){return 1}return!isNaN(parseFloat(result))&&isFinite(result)?result:0};return function(o1,o2){var i,length,tupleSortDirection,cells,direction,cell1,cell2,arr1=[],arr2=[];for(i=0;i<tupleSortDirections.length;i++){tupleSortDirection=tupleSortDirections[i].key();cells=tupleSortDirections[i].value();if(tupleSortDirection.sortDirection()===$.ig.ListSortDirection.prototype.ascending){direction=1}else{direction=-1}comparer=tupleSortDirection.comparer();cell1=cells[o1.positionIndex()];cell2=cells[o2.positionIndex()];if(tupleSortDirections.length===1){arr1=direction*compareCells(comparer,cell1,cell2);arr2=direction*compareCells(comparer,cell2,cell1)}else{arr1.push(direction*compareCells(comparer,cell1,cell2));arr2.push(direction*compareCells(comparer,cell2,cell1))}}if(arr1<arr2){return-1}if(arr1>arr2){return 1}return 0}};positionItemInfos_.sort(sortFunction(tupleSortDirections_))}return positionItemInfos_},$type:new $.ig.Type("AxisValueSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("TupleSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_tupleIndex:0,tupleIndex:function(value){if(arguments.length===1){this._tupleIndex=value;return value}else{return this._tupleIndex}},_memberNames:null,memberNames:function(value){if(arguments.length===1){this._memberNames=value;return value}else{return this._memberNames}},_sortDirection:null,sortDirection:function(value){if(arguments.length===1){this._sortDirection=value;return value}else{return this._sortDirection}},_comparer:null,comparer:function(value){if(arguments.length===1){this._comparer=value;return value}else{return this._comparer}},$type:new $.ig.Type("TupleSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBase","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_dataSource:null,dataSource:function(value){if(arguments.length===1){this._dataSource=value;return value}else{return this._dataSource}},isInitialized:function(){return this.dataSource().isInitialized()},_isModified:false,isModified:function(value){if(arguments.length===1){this._isModified=value;return value}else{return this._isModified}},_isUpdating:false,isUpdating:function(value){if(arguments.length===1){this._isUpdating=value;return value}else{return this._isUpdating}},initialize:function(){var promise_=this.dataSource().initialize().c();var $this=this;if(!this._isInitializedAttached){this._isInitializedAttached=true;promise_.always(function(result){var args={error:null,metadataTreeRoot:null};if(this.state()==="rejected"){args.error=result}else{args.metadataTreeRoot=result}$($this).trigger("initialized",args);$this._isInitializedAttached=false})}return promise_},cubes:function(){return this.dataSource().cubes().inner()},cube:function(){return this.dataSource().cube()},setCube:function(a){var $self=this;return $self.dataSource().setCube(a).j($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return b.m()}).c()},metadataTree:function(){return this.dataSource().metadataTree()},addRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().rowAxis().add(a);this.isModified(true)}},insertRowItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().rowAxis().insert(a,b);this.isModified(true)}},removeRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().rowAxis().remove(a);this.isModified(true)}},addColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().columnAxis().add(a);this.isModified(true)}},insertColumnItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().columnAxis().insert(a,b);this.isModified(true)}},removeColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().columnAxis().remove(a);this.isModified(true)}},addFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().add(a);this.isModified(true)}},insertFilterItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().filters().insert(a,b);this.isModified(true)}},removeFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().remove(a);this.isModified(true)}},addMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().add(a);this.isModified(true)}},insertMeasureItem:function(a,b){if($.ig.util.cast($.ig.Measure.prototype.$type,b)!==null){this.dataSource().measures().insert(a,b);this.isModified(true)}},removeMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().remove(a);this.isModified(true)}},setMeasureListIndex:function(a){this.dataSource().measureListIndex(a);this.isModified(true)},setMeasureListLocation:function(a){switch(a){case"rows":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.rows);break;case"columns":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.columns);break;default:break}this.isModified(true)},getMeasureListLocation:function(){switch(this.dataSource().measureListLocation()){case $.ig.MeasureListLocation.prototype.rows:return"rows";break;case $.ig.MeasureListLocation.prototype.columns:return"columns";break;default:return null;break}},expandTupleMember:function(a,b,c){this.dataSource().expandTupleMember(a,b,c)},collapseTupleMember:function(a,b,c){this.dataSource().collapseTupleMember(a,b,c)},rowAxis:function(){return this.dataSource().rowAxis().inner()},columnAxis:function(){return this.dataSource().columnAxis().inner()},filters:function(){return this.dataSource().filters().inner()},measures:function(){return this.dataSource().measures().inner()},result:function(){return this.dataSource().result()},bindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();var attachCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.combine(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){attachCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){attachCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){attachCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){attachCollectionChanged(ds_._measures,options_["measures"])}},unbindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();unbindCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.remove(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){unbindCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){unbindCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){unbindCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){unbindCollectionChanged(ds_._measures,options_["measures"])}},clearPendingChanges:function(){this.dataSource().clearPendingChanges()},update:function(){var promise_=this.dataSource().update().c();var $this=this;if(!this.isUpdating()){this.isUpdating(true);promise_.always(function(result){var args={error:null,result:null};if(this.state()==="rejected"){args.error=result}else{args.result=result}$this.isUpdating(false);$this.isModified(false);$($this).trigger("updated",args)})}return promise_},getCoreElement:function(a,b){return this.dataSource().getCoreElement(a,b)},getCoreElements:function(a,b){return this.dataSource().getCoreElements(a,b).inner()},getMembersOfHierarchy:function(a){return this.dataSource().getMembersOfHierarchy(a).c()},getMembersOfLevel:function(a){return this.dataSource().getMembersOfLevel(a).c()},tryGetMember:function(a){var $self=this;var b;if(function(){var $ret=$self.dataSource().tryGetMember(a,b);b=$ret.member;return $ret.ret}()){return b}return null},tryGetMembersForLevel:function(a){var $self=this;var b=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);var c=function(){var $ret=$self.dataSource().tryGetMembersForLevel(a,b);b=$ret.members;return $ret.ret}();return c?b.inner():new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type).inner()},getMembersOfMember:function(a){return this.dataSource().getMembersOfMember(a).c()},addFilterMember:function(a,b){this.dataSource().addFilterMember(a,b);this.isModified(true)},removeAllFilterMembers:function(a){this.dataSource().removeAllFilterMembers(a);this.isModified(true)},getFilterMemberNames:function(a){return this.dataSource().getFilterMemberNames(a).inner()},getDimension:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Dimension.prototype.$type)},getHierarchy:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Hierarchy.prototype.$type)},getLevel:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Level.prototype.$type)},getMeasure:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Measure.prototype.$type)},getMeasureList:function(){return this.dataSource().getCoreElement(null,$.ig.MeasureList.prototype.$type)},$type:new $.ig.Type("DataSourceBase",$.ig.Object.prototype.$type)},true);$.ig.util.defType("jQueryUtils","Object",{init:function(){$.ig.Object.prototype.init.call(this)},c:function($t,a){if(a==null){return null}var jsObject_=a;var dict_=new $.ig.Dictionary$2(String,$t,0);(function(obj,dict){var tempDict=$.ig.Dictionary.prototype.getDictionary(obj);var keys=tempDict.keys();while(keys.moveNext()){var key=keys.current();var value=tempDict.item(key);dict.add(key,value)}})(jsObject_,dict_);return dict_},i:function($t,a){if(a==null){return null}var dict_=a;return dict_.__inner.proxy},convertToObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.c($.ig.Object.prototype.$type,a)},convertToStringDictionary:function(a){return $.ig.jQueryUtils.prototype.c(String,a)},convertFromObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.i($.ig.Object.prototype.$type,a)},convertFromStringDictionary:function(a){return $.ig.jQueryUtils.prototype.i(String,a)},createJavascriptObject:function(){return{}},getJavascriptObjectProperty:function(a,b){var jsObject_=a;var property_=b;return jsObject_[property_]},setJavascriptObjectProperty:function(a,b,c){var jsObject_=a;var property_=b;var value_=c;jsObject_[property_]=value_},getJavascriptObjectMethodResult:function(a,b,c){c=Array.prototype.slice.call(arguments,2);var jsObject_=a;var method_=b;var args_=c;return jsObject_[method_].call(jsObject_,args_)},$type:new $.ig.Type("jQueryUtils",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapUtilities","Object",{init:function(){$.ig.Object.prototype.init.call(this)},dateMemberProvider:function(a,b,c,d){if(String.isNullOrEmpty(a)||String.isNullOrEmpty(b)){return null}var propName_=b;var datePartFormat_=d;var format_=c;var yearProvider_;var semesterProvider_;var quarterProvider_;var monthProvider_;a=a.toLowerCase();switch(a){case"year":if(datePartFormat_==null){datePartFormat_="yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}return function(item){return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_))};case"semester":if(format_==null){format_="H{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);return function(item){var year=yearProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/6)+1).replace("{1}",year)};case"quarter":if(format_==null){format_="Q{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/3)+1).replace("{1}",semester).replace("{2}",year)};case"month":if(datePartFormat_==null){datePartFormat_="MMMM"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",quarter).replace("{2}",semester).replace("{3}",year)};case"date":if(datePartFormat_==null){datePartFormat_="MM/dd/yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);monthProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("month",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);var month=monthProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",month).replace("{2}",quarter).replace("{3}",semester).replace("{4}",year)}}return null},getDateHierarchy:function(a,b,c,d,e,f){var $self=this;if(String.isNullOrEmpty(a)){return null}if(b==null||b.length==0){b=function(){var $ret=new Array;$ret.add("year");$ret.add("quarter");$ret.add("month");$ret.add("date");return $ret}()}else{for(var g=0;g<b.length;g++){b[g]=b[g].toLowerCase()}}if(c==null){c="Dates"}if(d==null){d=c}var res_=null;var name_=c;var caption_=d;var rootCaption_=f;var dateParts_=b;if(e==null){e=new Array(b.length);for(var h=0;h<e.length;h++){var i=b[h];e[h]=i.substr(0,1).toUpperCase()+i.substr(1,i.length)+"s"}}var captions_=e;var memberProviders_=new Array(b.length);for(var j=0;j<b.length;j++){var k=b[j];memberProviders_[j]=$.ig.OlapUtilities.prototype.dateMemberProvider(k,a,null,null)}var levelsMetadata=[];var levelOffset=0;if(rootCaption_!=null&&rootCaption_!=""){levelOffset=1;levelsMetadata[0]={name:rootCaption_,caption:rootCaption_,memberProvider:function(item){return rootCaption_}}}for(var i=0;i<memberProviders_.length;i++){levelsMetadata[i+levelOffset]={name:dateParts_[i],caption:captions_[i],memberProvider:memberProviders_[i]}}res_={name:name_,caption:caption_,levels:levelsMetadata};return res_},sumAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){var sum=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value}}if(areAllNullOrUndefined)return null;if(precision_!=null){return sum.toFixed(precision_)}return sum}},avgAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){if(precision_==null){precision_=2}var sum=0,count=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value;count++}}if(areAllNullOrUndefined)return null;return(sum/count).toFixed(precision_)}},minAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.min(result,items[i][propName_])}return result}},maxAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.max(result,items[i][propName_])}return result}},countAggregator:function(){return function(items,cellMetadata){return items.length}},$type:new $.ig.Type("OlapUtilities",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableView","Object",{a:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);var e=this.b(d);this.a=new $.ig.TableViewImpl(a,b,c,e)},rowHeaders:function(){if(this.a.rowHeaders()==null){return null}return this.a.rowHeaders().inner()},columnHeaders:function(){if(this.a.columnHeaders()==null){return null}return this.a.columnHeaders().inner()},resultCells:function(){if(this.a.resultCells()==null){return null}return this.a.resultCells().inner()},columnSortDirections:function(a){if(arguments.length===1){this.a.columnSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.d(b);this.a.columnSortDirections().add(d)}return a}else{var a=new $.ig.Array;var c=this.a.columnSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.n(b))}return a}},appliedColumnSortDirections:function(){var a=new $.ig.Array;var c=this.a.appliedColumnSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.n(b))}return a},levelSortDirections:function(a){if(arguments.length===1){this.a.levelSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.c(b);this.a.levelSortDirections().add(d)}return a}else{var a=new $.ig.Array;var c=this.a.levelSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.m(b))}return a}},appliedLevelSortDirections:function(){var a=new $.ig.Array;var c=this.a.appliedLevelSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.m(b))}return a},appliedSortDirectionsMap:function(){var resultMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var a=this.a.appliedSortDirectionsMap().getEnumerator();while(a.moveNext()){var i_=a.current();var axisMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var b=i_.value().getEnumerator();while(b.moveNext()){var j_=b.current();var hierarchyMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var c=j_.value().getEnumerator();while(c.moveNext()){var k_=c.current();var sortDirection_=k_.value()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending";hierarchyMap_[k_.key()]=sortDirection_}axisMap_[j_.key()]=hierarchyMap_}resultMap_[i_.key()]=axisMap_}return resultMap_},initialize:function(){this.a.initialize()},b:function(a){var $self=this;var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForColumns");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForRows");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactColumnHeaders");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactRowHeaders");return function(){var $ret=new $.ig.TableViewSettings;$ret.c(b);$ret.d(c);$ret.a(d);$ret.b(e);return $ret}()},d:function(o_){var $self=this;var a=$.ig.util.cast($.ig.Array.prototype.$type,$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"memberNames"));var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"tupleIndex");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"sortDirection");var d=$.ig.ListSortDirection.prototype.ascending;if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){d=$.ig.ListSortDirection.prototype.descending}}var comparer_=null;if($.isFunction(o_.comparer)){comparer_=o_.comparer}else{comparer_=function(o1,o2){return parseFloat(o1||-Infinity)-parseFloat(o2||-Infinity)}}return function(){var $ret=new $.ig.TupleSortDirection;$ret.memberNames(a);$ret.tupleIndex(b);$ret.sortDirection(d);$ret.comparer(comparer_);return $ret}()},n:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();
$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"memberNames",a.memberNames());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"tupleIndex",a.tupleIndex());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");if(a.comparer()!=null){$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"comparer",a.comparer())}return b},c:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"levelUniqueName");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortDirection");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortBehavior");if(!String.isNullOrEmpty(b)){var e=new $.ig.LevelSortDirection;e.sortDirection($.ig.ListSortDirection.prototype.ascending);e.sortBehavior($.ig.LevelSortBehavior.prototype.system);e.levelUniqueName(b);if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){e.sortDirection($.ig.ListSortDirection.prototype.descending)}}if(!String.isNullOrEmpty(d)){d=d.toLowerCase();if(d=="alphabetical"){e.sortBehavior($.ig.LevelSortBehavior.prototype.alphabetical)}}return e}else{return null}},m:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"levelUniqueName",a.levelUniqueName());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");return b},$type:new $.ig.Type("OlapTableView",$.ig.Object.prototype.$type)},true);$.ig.LevelSortBehavior.prototype.alphabetical=0;$.ig.LevelSortBehavior.prototype.system=1;$.ig.OlapMetadataTreeItemType.prototype.cube=0;$.ig.OlapMetadataTreeItemType.prototype.dimension=1;$.ig.OlapMetadataTreeItemType.prototype.group=2;$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy=3;$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy=4;$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy=5;$.ig.OlapMetadataTreeItemType.prototype.measure=6;$.ig.OlapMetadataTreeItemType.prototype.level1=7;$.ig.OlapMetadataTreeItemType.prototype.level2=8;$.ig.OlapMetadataTreeItemType.prototype.level3=9;$.ig.OlapMetadataTreeItemType.prototype.level4=10;$.ig.OlapMetadataTreeItemType.prototype.level5=11;$.ig.OlapMetadataTreeItemType.prototype.kpiRoot=12;$.ig.OlapMetadataTreeItemType.prototype.kpi=13;$.ig.OlapMetadataTreeItemType.prototype.kpiValue=14;$.ig.OlapMetadataTreeItemType.prototype.kpiGoal=15;$.ig.OlapMetadataTreeItemType.prototype.kpiStatus=16;$.ig.OlapMetadataTreeItemType.prototype.kpiTrend=17;$.ig.OlapMetadataTreeItemType.prototype.kpiWeight=18;$.ig.MeasureListLocation.prototype.rows=0;$.ig.MeasureListLocation.prototype.columns=1;$.ig.HeaderCellsLayoutOrientation.prototype.horizontal=0;$.ig.HeaderCellsLayoutOrientation.prototype.vertical=1;$.ig.MemberType.prototype.unknown=0;$.ig.MemberType.prototype.regular=1;$.ig.MemberType.prototype.all=2;$.ig.MemberType.prototype.measure=3;$.ig.MemberType.prototype.formula=4;$.ig.CardinalityType.prototype.one=0;$.ig.CardinalityType.prototype.many=1;$.ig.AggregatorType.prototype.unknown=0;$.ig.AggregatorType.prototype.sum=1;$.ig.AggregatorType.prototype.count=2;$.ig.AggregatorType.prototype.min=3;$.ig.AggregatorType.prototype.max=4;$.ig.AggregatorType.prototype.average=5;$.ig.AggregatorType.prototype.variance=6;$.ig.AggregatorType.prototype.std=7;$.ig.AggregatorType.prototype.distinctCount=8;$.ig.AggregatorType.prototype.none=9;$.ig.AggregatorType.prototype.averageOfChildren=10;$.ig.AggregatorType.prototype.firstNonEmpty=13;$.ig.AggregatorType.prototype.lastNonEmpty=14;$.ig.AggregatorType.prototype.byAccount=15;$.ig.AggregatorType.prototype.calculated=127;$.ig.HierarchyOrigin.prototype.userDefined=1;$.ig.HierarchyOrigin.prototype.systemEnabled=2;$.ig.HierarchyOrigin.prototype.systemInternal=4;$.ig.DimensionType.prototype.unknown=0;$.ig.DimensionType.prototype.time=1;$.ig.DimensionType.prototype.measure=2;$.ig.DimensionType.prototype.other=3;$.ig.DimensionType.prototype.quantitative=5;$.ig.DimensionType.prototype.accounts=6;$.ig.DimensionType.prototype.customers=7;$.ig.DimensionType.prototype.products=8;$.ig.DimensionType.prototype.scenario=9;$.ig.DimensionType.prototype.utility=10;$.ig.DimensionType.prototype.currency=11;$.ig.DimensionType.prototype.rates=12;$.ig.DimensionType.prototype.channel=13;$.ig.DimensionType.prototype.promotion=14;$.ig.DimensionType.prototype.organization=15;$.ig.DimensionType.prototype.billOfMaterials=16;$.ig.DimensionType.prototype.geography=17;$.ig.CubeType.prototype.cube=0;$.ig.CubeType.prototype.dimension=1;$.ig.CubeType.prototype.unknown=2;$.ig.AxisDefinitionParser.prototype.e="[";$.ig.AxisDefinitionParser.prototype.f="]";$.ig.AxisDefinitionParser.prototype.i="{";$.ig.AxisDefinitionParser.prototype.j="}";$.ig.AxisDefinitionParser.prototype.h=",";$.ig.CoreOlapElementParser.prototype.d="[";$.ig.CoreOlapElementParser.prototype.e="]";$.ig.CoreOlapElementParser.prototype.g=".";$.ig.CoreOlapElementParser.prototype.i="&";$.ig.util.extCopy($.ig.TaskExtensions,[[[$.ig.Task,$.ig.Task$1],["continueWithTask$1","continueWithTask$2"]]]);$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["ofType$1","cast$1"]]])})(jQuery);$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["IXmlaDataProvider:a","IOlapDiscoverDataProvider:b","Task$1:c","Task:d","Object:e","Type:f","Boolean:g","ValueType:h","Void:i","String:j","IComparable:k","Number:l","Number:m","Single:n","Number:o","String:p","Array:q","RegExp:r","RuntimeTypeHandle:s","MethodInfo:t","MethodBase:u","MemberInfo:v","ParameterInfo:w","TypeCode:x","Enum:y","ConstructorInfo:z","JQueryPromise:aa","Action:ab","MulticastDelegate:ac","IntPtr:ad","Action$1:ae","AggregateException:af","Error:ag","TaskStatus:ah","Func$2:ai","TaskCompletionSource$1:aj","JQueryDeferred:ak","JQuery:al","JQueryObject:am","Element:an","ElementAttributeCollection:ao","ElementCollection:ap","WebStyle:aq","ElementNodeType:ar","Document:as","EventListener:at","IElementEventHandler:au","ElementEventHandler:av","ElementAttribute:aw","JQueryPosition:ax","JQueryCallback:ay","JQueryEvent:az","JQueryUICallback:a0","Script:a1","IEnumerable$1:a2","IEnumerable:a3","IEnumerator:a4","IEnumerator$1:a5","IOlapExecuteCommandProvider:a6","MdxDataSourceImpl:a7","OlapDataSource:a8","IOlapDataSource:a9","OlapMetadataTreeItem:ba","ICoreOlapElement:bb","OlapMetadataTreeItemType:bc","IList$1:bd","ICollection$1:be","MeasureListLocation:bf","OlapResult:bg","ArrayListCollection$1:bh","INotifyCollectionChanged:bi","NotifyCollectionChangedEventHandler:bj","NotifyCollectionChangedEventArgs:bk","EventArgs:bl","NotifyCollectionChangedAction:bm","IList:bn","ICollection:bo","List$1:bp","IArrayList:bq","Array:br","CompareCallback:bs","IDisposable:bt","IArray:bu","Date:bv","Date:bw","Number:bx","Func$3:by","Delegate:bz","NotImplementedException:b0","Cube:b1","CubeType:b2","Member:b3","MemberType:b4","Nullable$1:b5","MeasureGroup:b6","DataSourceBaseOptions:b7","IOlapDataProviderFactory:b8","OlapResultView:b9","ArgumentNullException:ca","OlapResultAxis:cb","PositionResolver$2:cc","PositionItemInfo$2:cd","Dictionary$2:ce","IDictionary$2:cf","IDictionary:cg","Dictionary:ch","IEqualityComparer$1:ci","KeyValuePair$2:cj","IHierarchicalPositionItem$2:ck","IPositionItem$2:cl","IPosition$2:cm","Math:cn","Number:co","Number:cp","Number:cq","Number:cr","Number:cs","Number:ct","Number:cu","Enumerable:cv","IOrderedEnumerable$1:cw","SortedList$1:cx","EventHandler$1:cy","ListSortDirection:cz","OlapResultTuple:c0","ReadOnlyCollection$1:c1","OlapResultAxisMember:c2","OlapResultCell:c3","InvalidOperationException:c4","CubeMetaItemsCache:c5","MeasureGroupMetaItemsCache:c6","MeasureGroupDimension:c7","CardinalityType:c8","Dimension:c9","DimensionType:da","Measure:db","AggregatorType:dc","Kpi:dd","Level:de","Tuple$2:df","KpiMeasure:dg","MeasureList:dh","Hierarchy:di","HierarchyOrigin:dj","NotSupportedException:dk","PositionInfo:dl","TaskExtensions:dm","AxisElement:dn","AxisDefinitionParser:dp","Debug:dq","TaskFactory:dr","MetaTreeHelper:ds","HierarchyItemPosition:dt","KpiDimension:du","MdxDataSourceOptions:dv","MdxSettings:dw","MdxDimensionAxisSettings:dx","MdxAxisSettings:dy","MdxSetSettings:dz","MdxSlicerAxisSettings:d0","ObservableCollection$1:d1","INotifyPropertyChanged:d2","PropertyChangedEventHandler:d3","PropertyChangedEventArgs:d4","Catalog:d5","MdxSlicerAxisProvider:d6","IMdxAxisProvider:d7","IMdxAxis:d8","IMdxExpression:d9","IMdxSet:ea","IMdxElement:eb","MdxElementType:ec","MdxSlicerAxis:ed","MdxAxis:ee","StringBuilder:ef","Environment:eg","IMdxSlicerAxis:eh","IMdxExtendedFilterInfo:ei","IMdxFilterInfo:ej","IAxisFilterElement:ek","IMdxCollectionElement:el","MdxSlicerAxisBuilder:em","MdxAxisFilterElement:en","MdxElementCollectionElement:eo","MdxSingleElement:ep","MdxElement:eq","IMdxItemElement:er","ArgumentException:es","MdxSlicerSet:et","MdxSet:eu","MdxLevelMembersElement:ev","MdxChildrenCollectionElement:ew","MdxDimensionMember:ex","KeyValueItem:ey","MdxDimensionAxisProvider:ez","IMdxDimensionAxisProvider:e0","ResultViewHelper:e1","MdxQueryBuilder:e2","MdxCalculatedMembersCache:e3","XmlaDataProvider:e4","ICoreXmlaConnection:e5","IConnection:e6","XmlaSoapWebClient$1:e7","XmlaSoapWebClient:e8","ICredentials:e9","NetworkCredential:fa","Uri:fb","Encoding:fc","UTF8Encoding:fd","UnicodeEncoding:fe","WebClient:ff","WebHeaderCollection:fg","NameValueCollection:fh","UploadStringCompletedEventHandler:fi","UploadStringCompletedEventArgs:fj","AsyncCompletedEventArgs:fk","IXmlaSoapMethod:fl","XmlaPropertiesCollection:fm","XmlaQueryProperty:fn","XNamespace:fo","XmlaSoapMessageBuilder:fp","XElement:fq","XContainer:fr","XNode:fs","XObject:ft","XmlNode:fu","XmlNodeList:fv","XmlNamedNodeMap:fw","XmlNodeType:fx","XmlDocument:fy","XmlElement:fz","XmlLinkedNode:f0","XmlAttribute:f1","XmlUtils:f2","XName:f3","XDocument:f4","XAttribute:f5","RequestCompletedEventArgs$1:f6","XmlaSoapFaultXmlTypeSerializer:f7","IXmlTypeSerializer$1:f8","XmlaSoapFault:f9","FaultDetail:ga","FaultError:gb","SerializerUtils:gc","ErrorXmlTypeSerializer:gd","FaultReason:ge","FaultCode:gf","FaultException$1:gg","FaultException:gh","DiscoverResponseResult:gi","XmlaSoapMethodResult:gj","IXmlaMethodResult:gk","ExecuteResponseResult:gl","DatabaseXmlTypeSerializer:gm","CubeXmlTypeSerializer:gn","DimensionXmlTypeSerializer:go","HierarchyXmlTypeSerializer:gp","LevelXmlTypeSerializer:gq","MeasureXmlTypeSerializer:gr","MeasureGroupXmlTypeSerializer:gs","MeasureGroupDimensionXmlTypeSerializer:gt","MemberXmlTypeSerializer:gu","KpiXmlTypeSerializer:gv","ResultXmlTypeSerializer:gw","ArraySerializer:gx","AxisXmlTypeSerializer:gy","TupleXmlTypeSerializer:gz","AxisMemberXmlTypeSerializer:g0","CellXmlTypeSerializer:g1","XmlaSoapMethodExecute:g2","XmlaSoapMethod:g3","XmlaSoapMethodDiscover:g4","XmlaSoapMessageHeader:g5","CatalogConstants:g6","DbSchemaConstants:ha","CubeConstants:hf","DimensionConstants:hg","HierarchyConstants:hh","InstanceConstants:hi","KpiConstants:hj","LevelConstants:hk","MeasureConstants:hl","MeasureGroupConstants:hm","MeasureGroupDimensionConstants:hn","MemberConstants:ho","OlapSchemaConstants:hp","CubeRestrictions:hq","DimensionRestrictions:hr","HierarchyRestrictions:hs","KpiRestrictions:ht","LevelRestrictions:hu","MeasureRestrictions:hv","MeasureGroupRestrictions:hw","MeasureGroupDimensionRestrictions:hx","MemberRestrictions:hy","XmlaConstants:hz","XmlaNamespace:h0","IXmlaDataProviderFactory:h6","DefaultXmlaDataProviderFactory:h7","XmlaConnection:h8","RemoteXmlaDataProviderFactory:h9","JsonRemoteRequestSerializer:ia","IRemoteRequestSerializer:ib","RemoteRequest:ic","RemoteRequestType:id","JavaScriptSerializer:ie","RemoteRequestJsonTypeSeriazlier:ig","JsonTypeSeriazlierBase$1:ih","IJsonTypeSerializer$1:ii","JsonSerializerUtils:ij","jQueryUtils:ik","JsonRemoteResponseSerializer:il","IRemoteResponseSerializer:im","ArrayJsonSerializer:io","CatalogJsonTypeSeriazlier:ip","CubeJsonTypeSeriazlier:iq","DimensionJsonTypeSeriazlier:ir","HierarchyJsonTypeSeriazlier:is","LevelJsonTypeSeriazlier:it","MeasureJsonTypeSeriazlier:iu","MeasureGroupJsonTypeSeriazlier:iv","MeasureGroupDimensionJsonTypeSeriazlier:iw","MemberJsonTypeSeriazlier:ix","KpiJsonTypeSeriazlier:iy","ResultJsonTypeSeriazlier:iz","AxisJsonTypeSeriazlier:i0","TupleJsonTypeSeriazlier:i1","AxisMemberJsonTypeSeriazlier:i2","CellJsonTypeSeriazlier:i3","RemoteXmlaDataProvder:i4","XmlaDataSourceImpl:i5","XmlaDataSourceOptions:i6","RequestOptions:i7","XmlaDiscoverProperties:i8","CustomRemoteXmlaRequestSerializer:ja","CustomRemoteXmlaResponseSerializer:jb","OlapXmlaDataSource:jc","DataSourceBase:jd","AbstractEnumerable:je","Func$1:jf","AbstractEnumerator:jg","GenericEnumerable$1:jh","GenericEnumerator$1:ji"]);$.ig.util.defType("RemoteRequestType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("RemoteRequestType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("MdxElementType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MdxElementType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("XmlaSoapMessageHeader","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("XmlaSoapMessageHeader",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("IXmlaDataProvider","Object",{$type:new $.ig.Type("IXmlaDataProvider",null,[$.ig.IOlapDiscoverDataProvider.prototype.$type,$.ig.IOlapExecuteCommandProvider.prototype.$type])},true);$.ig.util.defType("MdxDataSourceImpl","OlapDataSource",{bb:null,a9:false,init:function(a){this.bb=new $.ig.List$1($.ig.MdxDimensionAxisProvider.prototype.$type,0);$.ig.OlapDataSource.prototype.init.call(this,a);this.mdxSettings(a.mdxSettings());this.mdxSourceOptions(a);this.dataProviderFactory(a.dataProviderFactory());this.a9=true;if(this.mdxSourceOptions()!=null){this.a9=this.mdxSourceOptions().enableResultCache()==true}},_mdxSourceOptions:null,mdxSourceOptions:function(value){if(arguments.length===1){this._mdxSourceOptions=value;return value}else{return this._mdxSourceOptions}},_mdxSettings:null,mdxSettings:function(value){if(arguments.length===1){this._mdxSettings=value;return value}else{return this._mdxSettings}},_catalog:null,catalog:function(value){if(arguments.length===1){this._catalog=value;return value}else{return this._catalog}},setCatalog:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.be(a)},bm:function(a,b){if(a.positionItemIndex()==b){a.clear()}else{var d=a.values().getEnumerator();while(d.moveNext()){var c=d.current();this.bm(c,b)}}},a8:function(a,b,c,d){var $self=this;var e=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var g=c.getEnumerator();while(g.moveNext()){var f=g.current();var h=new $.ig.AxisElement(f.b(),new $.ig.List$1(String,0));for(var i=0;i<f.a().count();i++){var j=f.a().item(i);var k;if(function(){var $ret=$self.c().h(j,k);k=$ret.member;return $ret.ret}()){if(k.scope().hasValue()==false){h.a().add(j)}}}e.add(h)}var l=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var n=b.getEnumerator();while(n.moveNext()){var m=n.current();var o=new $.ig.AxisElement(m.b(),new $.ig.List$1(String,0));for(var p=0;p<m.a().count();p++){var q=m.a().item(p);var r;if(function(){var $ret=$self.c().h(q,r);r=$ret.member;return $ret.ret}()){if(r.scope().hasValue()==false){o.a().add(q)}}}l.add(o)}var s=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var u=a.getEnumerator();while(u.moveNext()){var t=u.current();var v=new $.ig.AxisElement(t.b(),new $.ig.List$1(String,0));for(var w=0;w<t.a().count();w++){var x=t.a().item(w);var y;if(function(){var $ret=$self.c().h(x,y);y=$ret.member;return $ret.ret}()){if(y.scope().hasValue()==false){v.a().add(x)}}}s.add(v)}return new $.ig.MdxSlicerAxisProvider($self,s,l,e,d)},getMembersOfLevel:function(a){var $self=this;var b=a;var c=$self.getProviderDefaultProperties();var d=$self.getProviderDefaultRestrictions();if(d!=null){d.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.MemberRestrictions.prototype.g);$ret.b(a);return $ret}())}var e=$self.dataProviderFactory().createDataProvider();var f=e.discoverMembersAsync(c,d);f.i(function(g){var i=g.m().getEnumerator();while(i.moveNext()){var h=i.current();$self.c().aa(h)}$self.c().ac(b)});return f},getMembersOfHierarchy:function(a){var $self=this;var b=a;var c=$self.getProviderDefaultProperties();var d=$self.getProviderDefaultRestrictions();if(d!=null){d.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.MemberRestrictions.prototype.e);$ret.b(a);return $ret}())}var e=$self.dataProviderFactory().createDataProvider();var f=e.discoverMembersAsync(c,d);f.i(function(g){var i=g.m().getEnumerator();while(i.moveNext()){var h=i.current();$self.c().aa(h)}$self.c().ab(b)});return f},getMembersOfMember:function(a){var $self=this;var b=$self.getProviderDefaultProperties();var c=$self.getProviderDefaultRestrictions();if(c!=null){c.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.MemberRestrictions.prototype.j);$ret.b(a);return $ret}());c.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.MemberRestrictions.prototype.l);$ret.b("1");return $ret}())}var d=$self.dataProviderFactory().createDataProvider();var e=d.discoverMembersAsync(b,c);e.continueWithTask$2($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),function(f){return $self.bd(f.m())});return e},bd:function(a){var $self=this;var b=new $.ig.List$1($.ig.Member.prototype.$type,0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c);break}if(b.count()>0){var e=b.item(0).levelUniqueName();if(!$self.c().c(e)){return $self.getMembersOfLevel(e).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),function(f){return a})}}var f=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);f.e(a);return f.b()},bp:function(a){var $self=this;if(a.isEmpty()){return}var c=a.axes().getEnumerator();while(c.moveNext()){var b=c.current();var d=b.tuples();for(var e=0;e<d.count();e++){var f=d.__inner[e].members();for(var g=0;g<f.count();g++){var h=f.item(g);var i;if(function(){var $ret=$self.c().i(h.uniqueName(),i);i=$ret.memberOrdinal;return $ret.ret}()){h.ordinal(i)}}}}},br:function(a,b){var c=0;var d=this.measureListIndex();if(a){var e=this.a6(c);if(e!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){if(d>-1){var f=e.d();if(f!=null){this.bm(f,d-1)}e.q()}}c++}if(b){var g=this.a6(c);if(g!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.rows){if(d>-1){var h=g.d();if(h!=null){this.bm(h,d-1)}g.q()}}}},bq:function(a,b,c){var d=0;if(c){var e=d<a.axes().count()?a.axes().item(d):null;var f=e!=null?this.a6(d):null;if(f!=null){f.d(e.positionResolver().rootPositionInfo());f.q()}d++}if(b){var g=d<a.axes().count()?a.axes().item(d):null;var h=g!=null?this.a6(d):null;if(h!=null){h.d(g.positionResolver().rootPositionInfo());h.q()}d++}},ba:function(a,b,c,d){var $self=this;$self.bh(a,b,c);var e=new $.ig.Dictionary$2(String,$.ig.Boolean.prototype.$type,0);var f=$self.ae();d=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);for(var g=0;g<f.count();g++){var h=f.item(g);var i;if(!function(){var $ret=d.tryGetValue(h.c(),i);i=$ret.value;return $ret.ret}()){i=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);d.add(h.c(),i)}i.add(h);if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),a,b))}var j=$self.l().expandTupleMember(h.c(),h.b(),h.a());if(j==null){e.item(h.c(),true)}else{var k=$self.l();$self.l(j);$.ig.ResultViewHelper.prototype.f(h.c(),k,$self.l());$.ig.ResultViewHelper.prototype.e(h.c(),h.b(),h.a(),true,$self.l());$self.result($self.l().visibleResult());$self.bp($self.result());$self.bq($self.l().visibleResult(),b,a)}}var l=new $.ig.List$1($.ig.IMdxAxis.prototype.$type,0);var n=d.getEnumerator();while(n.moveNext()){var m=n.current();var o=$self.a2(m.key());if(o==null){continue}if(o.positionResolver().hasUnregisterdPositions()){o.positionResolver().completeRegisterPositions()}var p=new $.ig.List$1($.ig.IPositionItem$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),0);var r=m.value().getEnumerator();while(r.moveNext()){var q=r.current();if(q.b()<o.tuples().count()){var s=o.tuples().__inner[q.b()];var t=s.item(q.a());p.add(t)}}if(p.count()>0){var u=$self.result().axes().indexOf(o);var v=$self.a6(u);var w=v.createAxis(u);var x=false;if(function(){var $ret=e.tryGetValue(o.name(),x);x=$ret.value;return $ret.ret}()&&x){v=new $.ig.MdxDimensionAxisProvider(1,o,v.g(),p);var y=v.extendAxis(w,w.axisIndex());l.add(y)}}}$self.ae().clear();return{ret:l,axisPositionsMap:d};return{axisPositionsMap:d}},a4:function(a,b,c){var d=null;if(a.count()>0){d=this.a6(c);if(b){var e=null;if(d!=null){e=d.d()}var f=c==0?this.mdxSettings().a():this.mdxSettings().b();d=new $.ig.MdxDimensionAxisProvider(0,this,f,a,e);this.bo(c,d)}}if(d!=null){return d.createAxis(c)}return null},bh:function(a,b,c){var $self=this;if($self.result()!=null){var d=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);var e=$self.ad();for(var f=0;f<e.count();f++){var g=e.item(f);var h;if(!function(){var $ret=d.tryGetValue(g.c(),h);h=$ret.value;return $ret.ret}()){h=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);d.add(g.c(),h)}h.add(g);if(c){if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),a,b))}else{$self.l($self.l().collapseTupleMember(g.c(),g.b(),g.a()));$self.result($self.l().visibleResult());$self.bp($self.result());$self.bq($self.l().visibleResult(),b,a)}}}var i=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var k=d.getEnumerator();while(k.moveNext()){var j=k.current();var l=$self.a2(j.key());if(l==null){continue}if(l.positionResolver().hasUnregisterdPositions()){l.positionResolver().completeRegisterPositions()}if(!i.contains(l)){i.add(l)}if(!c){var n=j.value().getEnumerator();while(n.moveNext()){var m=n.current();if(m.b()<l.tuples().count()){var o=l.tuples().__inner[m.b()];var p=o.item(m.a());var q=l.positionResolver().getHostPositionItemInfo(o,m.a());var r=q.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(s){return s.key()==p.key()}).firstOrDefault$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(r!=null){r.isExpanded(false)}}}}}if(i.count()>0){if(!c&&!$self.result().isEmpty()){$self.bq($self.result(),b,a)}var t=i.getEnumerator();while(t.moveNext()){var s=t.current();var u=b&&s.name()=="Axis1"?1:0;var v=$self.a6(u);v.q()}}$self.ad().clear()}},bg:function(){this.catalog(null);this.cubes(new $.ig.ArrayListCollection$1($.ig.Cube.prototype.$type));this.au()},bc:function(){var $self=this;var a=$self.dataProviderFactory().createDataProvider();var b=$self.getProviderDefaultProperties();var c=a.discoverCatalogsAsync(b,null).continueWithTask$2($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Catalog.prototype.$type),$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Catalog.prototype.$type),function(d){$self.catalogs($self.a1($.ig.Catalog.prototype.$type,d.m()));return d});return c},be:function(a){var $self=this;if(String.isNullOrEmpty(a)){if(a==null){throw new $.ig.ArgumentNullException("catalogName")}throw new $.ig.InvalidOperationException(1,"catalogName cannot be empty.")}var b=new $.ig.TaskCompletionSource$1($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),0);if($self.catalog()!=null){if($self.catalog().name()==a){b.e($self.cubes());return b.b()}$self.bg()}var d=$self.catalogs().getEnumerator();while(d.moveNext()){var c=d.current();if(c.name()==a){$self.catalog(c);break}}if($self.cubes()==null||$self.cubes().count()==0){$self.aq(a).i(function(e){if(e.a()==null){b.e(e.m());return}b.d(e.a())})}else{b.e($self.cubes())}return b.b()},am:function(){var $self=this;var a=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.isInitialized()){a.e($self.metadataTree());return a.b()}var b=$self.mdxSourceOptions().catalog();var c=$self.mdxSourceOptions().cube();$self.columnAxis().collectionChanged=$.ig.Delegate.prototype.combine($self.columnAxis().collectionChanged,$self.bi.runOn($self));$self.rowAxis().collectionChanged=$.ig.Delegate.prototype.combine($self.rowAxis().collectionChanged,$self.bn.runOn($self));$self.filters().collectionChanged=$.ig.Delegate.prototype.combine($self.filters().collectionChanged,$self.bk.runOn($self));$self.measures().collectionChanged=$.ig.Delegate.prototype.combine($self.measures().collectionChanged,$self.bl.runOn($self));var d=$self.bc();if(String.isNullOrEmpty(b)){d.i(function(e){if(e.a()==null){$self.aw();var f=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();$self.l(new $.ig.OlapResultView(f,f,false,false));$self.result(f);a.e(null);return}a.d(e.a())});return a.b()}var e=d.continueWithTask$1($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),function(f){if(f.a()==null){return $self.be(b)}var g=new $.ig.TaskCompletionSource$1($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),0);g.d(f.a());return g.b()});if(String.isNullOrEmpty(c)){e.i(function(f){if(f.a()==null){$self.aw();var g=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();$self.l(new $.ig.OlapResultView(g,g,false,false));$self.result(g);a.e(null);return}a.d(f.a())});return a.b()}var f=e.continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.an(c)}).continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.ak()});return f},ai:function(){var $self=this;var a=$self.m();var b=$self.s();var c=$self.r();var d=$self.n();var e=$self.ae().count()>0;var f=$self.ad().count()>0;var g=$self.af.count()>0;if(!a&&!b&&!c&&!d&&!e&&!f&&!g){var h=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);h.e($self.result());return h.b()}var i=$self.columnAxis().count()>0;var j=$self.rowAxis().count()>0;if($self.rowAxis().count()==0&&$self.columnAxis().count()==0&&$self.measures().count()==0){var k=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();var l=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);l.e(k);$self.l(new $.ig.OlapResultView(k,k,false,false));$self.result(k);$self.bp(k);$self.bq($self.l().visibleResult(),j,i);$self.clearPendingChanges();return l.b()}if($self.r()){$self.br(i,j)}$self.r(false);$self.n(false);$self.q(false);var m=false;if($self.a9&&!$self.m()&&!$self.s()){m=true}var n=null;var o=null;var p=0;n=$self.a4($self.columnAxis(),$self.m(),p);$self.m(false);if(n!=null){p++}o=$self.a4($self.rowAxis(),$self.s(),p);$self.s(false);if(o!=null){o.axisIndex(p);p++}var q;var r=function(){var $ret=$self.ba(i,j,m,q);q=$ret.axisPositionsMap;return $ret.ret}();var s=$self.a8($self.u(),$self.w(),$self.v(),$self.mdxSettings());var t=s.createAxis(p);var u=new $.ig.MdxQueryBuilder(1,$self.mdxSettings());var v=$self.getProviderDefaultProperties();var w=$self.getProviderDefaultRestrictions();var x=$self.dataProviderFactory().createDataProvider();if(m&&!g&&(e||f)){var y=null;if(n!=null){var z=r.where$1($.ig.IMdxAxis.prototype.$type,function(aa){return aa.axisIndex()==n.axisIndex()}).firstOrDefault$1($.ig.IMdxAxis.prototype.$type);var aa;(function(){var $ret=q.tryGetValue("Axis0",aa);aa=$ret.value;return $ret.ret})();if(z!=null){var ab=u.c(z,o,t,new $.ig.MdxCalculatedMembersCache,$self.cube().name());y=x.executeStatementAsync(ab,v,w);y=y.continueWithTask$2($.ig.OlapResult.prototype.$type,$.ig.OlapResult.prototype.$type,function(ac){if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),i,j))}var ad=$self.l();$self.l($self.l().extend(ac.m(),"Axis0"));$self.result($self.l().visibleResult());$self.bp($self.result());$.ig.ResultViewHelper.prototype.f("Axis0",ad,$self.l());var af=aa.getEnumerator();while(af.moveNext()){var ae=af.current();$.ig.ResultViewHelper.prototype.e(ae.c(),ae.b(),ae.a(),true,$self.l())}var ag=j;var ah=i;$self.bq($self.l().visibleResult(),ag,ah);var ai=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);ai.e($self.l().visibleResult());return ai.b()})}}if(o!=null){var ac=r.where$1($.ig.IMdxAxis.prototype.$type,function(ad){return ad.axisIndex()==o.axisIndex()}).firstOrDefault$1($.ig.IMdxAxis.prototype.$type);var ad=$self.l().hasColumns()?"Axis1":"Axis0";var ae;(function(){var $ret=q.tryGetValue(ad,ae);ae=$ret.value;return $ret.ret})();if(ac!=null){if(y!=null){y=y.continueWithTask$1($.ig.OlapResult.prototype.$type,function(af){n=$self.a4($self.columnAxis(),false,0);var ag=u.c(n,ac,t,new $.ig.MdxCalculatedMembersCache,$self.cube().name());return x.executeStatementAsync(ag,v,w)})}else{var af=u.c(n,ac,t,new $.ig.MdxCalculatedMembersCache,$self.cube().name());y=x.executeStatementAsync(af,v,w)}y=y.continueWithTask$2($.ig.OlapResult.prototype.$type,$.ig.OlapResult.prototype.$type,function(ag){if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),i,j))}var ah=$self.l();$self.l($self.l().extend(ag.m(),ad));$self.result($self.l().visibleResult());$self.bp($self.result());$.ig.ResultViewHelper.prototype.f(ad,ah,$self.l());var aj=ae.getEnumerator();while(aj.moveNext()){var ai=aj.current();$.ig.ResultViewHelper.prototype.e(ai.c(),ai.b(),ai.a(),true,$self.l())}var ak=j;var al=i;$self.bq($self.l().visibleResult(),ak,al);var am=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);am.e($self.l().visibleResult());return am.b()})}}if(y!=null){return y}var ag=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);ag.e($self.result());return ag.b()}else{if(g){$self.af.clear()}p=0;n=$self.a4($self.columnAxis(),$self.m(),p);if(n!=null){p++}o=$self.a4($self.rowAxis(),$self.s(),p);var ah=u.c(n,o,t,new $.ig.MdxCalculatedMembersCache,$self.cube().name());return x.executeStatementAsync(ah,v,w).j($.ig.OlapResult.prototype.$type,function(ai){$self.l(new $.ig.OlapResultView(ai.m(),ai.m(),i,j));$self.result($self.l().visibleResult());$self.bp($self.result());var aj=j;var ak=i;$self.bq($self.l().visibleResult(),aj,ak);$self.clearPendingChanges();return $self.result()})}},an:function(a){if(this.catalog()==null){throw new $.ig.InvalidOperationException(1,"Data source has no Catalog set.")}return $.ig.OlapDataSource.prototype.an.call(this,a)},ao:function(a){if(this.catalog()==null){throw new $.ig.InvalidOperationException(1,"Data source has no Catalog set.")}return $.ig.OlapDataSource.prototype.ao.call(this,a)},ah:function(){var $self=this;var a=new $.ig.List$1($.ig.Task.prototype.$type,0);var b=$self.getProviderDefaultProperties();var c=$self.getProviderDefaultRestrictions();var d=$self.dataProviderFactory().createDataProvider();a.add(d.discoverMeasuresAsync(b,c));a.add(d.discoverKpisAsync(b,c));a.add(d.discoverDimensionsAsync(b,c));a.add(d.discoverHierarchiesAsync(b,c));a.add(d.discoverLevelsAsync(b,c));a.add(d.discoverMeasureGroupDimensionsAsync(b,c));a.add($self.ar());var e=new Array(a.count());a.copyTo(e,0);var f=new $.ig.TaskFactory;var g=new $.ig.CubeMetaItemsCache;$self.c(g);return f.c(e,function(h){var i=h[0];var j=h[1];var k=h[2];var l=h[3];var m=h[4];var n=h[5];g.y(i.m());g.t(k.m());g.u(l.m());g.x(m.m());g.v(j.m());if($self.measureGroups()!=null){g.z(n.m());
g.a(new $.ig.MeasureGroupMetaItemsCache(g.t(),g.y(),g.v(),g.z()))}})},a1:function($t,a){var b=new $.ig.ArrayListCollection$1($t);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},getProviderDefaultRestrictions:function(){var $self=this;var a=$.ig.OlapDataSource.prototype.getProviderDefaultRestrictions.call($self);if($self.catalog()!=null){a.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.CubeRestrictions.prototype.a);$ret.b($self.catalog().name());return $ret}());if($self.cube()!=null){a.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a($.ig.CubeRestrictions.prototype.b);$ret.b($self.cube().name());return $ret}())}}return a},bi:function(a,b){this.m(true);this.bt(0,this.columnAxis(),this.rowAxis());this.ay(b,this.u());this.a0(b,this.columnAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.columnAxis()!=null){var c=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bs("Axis0",c)}},bn:function(a,b){this.s(true);this.bt(1,this.rowAxis(),this.columnAxis());this.ay(b,this.w());this.a0(b,this.rowAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.rowAxis()!=null){var c=this.columnAxis()==null?"Axis0":"Axis1";var d=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bs(c,d)}},bs:function(a,b){var c=this.ad();for(var d=c.count()-1;d>=0;d--){var e=c.item(d);if(e.c()==a&&e.a()>=b){c.removeAt(d)}}var f=this.ae();for(var g=f.count()-1;g>=0;g--){var h=f.item(g);if(h.c()==a&&h.a()>=b){f.removeAt(g)}}},bt:function(a,b,c){if(b.count()>0){if(c.count()>0){if(this.bb.count()<2){this.bb.insert(a,null)}}else{if(this.bb.count()==0){this.bb.insert(0,null)}}}else{if(this.bb.count()>0){if(this.bb.count()>1){this.bb.removeAt(a)}else{this.bb.removeAt(0)}}}},bk:function(a,b){this.n(true);this.ay(b,this.v())},bl:function(a,b){this.r(true);this.az()},bj:function(a,b,c){var $self=this;var d=null;var f=a.getEnumerator();while(f.moveNext()){var e=f.current();if(e.a()==b){d=e;break}}if(d==null){a.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a(b);$ret.b(c);return $ret}())}},a2:function(a){var $self=this;if($self.result()!=null&&$self.result().axes().count()>0){return $self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(b){return b.name()==a}).firstOrDefault$1($.ig.OlapResultAxis.prototype.$type)}return null},a6:function(a){if(a<this.bb.count()){return this.bb.item(a)}return null},bo:function(a,b){this.bb.item(a,b)},$type:new $.ig.Type("MdxDataSourceImpl",$.ig.OlapDataSource.prototype.$type)},true);$.ig.util.defType("MdxDataSourceOptions","DataSourceBaseOptions",{init:function(){$.ig.DataSourceBaseOptions.prototype.init.call(this)},_catalog:null,catalog:function(value){if(arguments.length===1){this._catalog=value;return value}else{return this._catalog}},_discoverProperties:null,discoverProperties:function(value){if(arguments.length===1){this._discoverProperties=value;return value}else{return this._discoverProperties}},_executeProperties:null,executeProperties:function(value){if(arguments.length===1){this._executeProperties=value;return value}else{return this._executeProperties}},_dataProviderFactory:null,dataProviderFactory:function(value){if(arguments.length===1){this._dataProviderFactory=value;return value}else{return this._dataProviderFactory}},_enableResultCache:false,enableResultCache:function(value){if(arguments.length===1){this._enableResultCache=value;return value}else{return this._enableResultCache}},_mdxSettings:null,mdxSettings:function(value){if(arguments.length===1){this._mdxSettings=value;return value}else{return this._mdxSettings}},$type:new $.ig.Type("MdxDataSourceOptions",$.ig.DataSourceBaseOptions.prototype.$type)},true);$.ig.util.defType("XmlaDataProvider","Object",{a:null,b:null,init:function(a,b){$.ig.Object.prototype.init.call(this);this.a=a;this.b=b},discoverCatalogsAsync:function(a,b){return this.c($.ig.Catalog.prototype.$type,new $.ig.DatabaseXmlTypeSerializer,$.ig.DbSchemaConstants.prototype.a,a,b)},discoverCubesAsync:function(a,b){return this.c($.ig.Cube.prototype.$type,new $.ig.CubeXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.a,a,b)},discoverDimensionsAsync:function(a,b){return this.c($.ig.Dimension.prototype.$type,new $.ig.DimensionXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.b,a,b)},discoverHierarchiesAsync:function(a,b){return this.c($.ig.Hierarchy.prototype.$type,new $.ig.HierarchyXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.c,a,b)},discoverLevelsAsync:function(a,b){return this.c($.ig.Level.prototype.$type,new $.ig.LevelXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.e,a,b)},discoverMeasuresAsync:function(a,b){return this.c($.ig.Measure.prototype.$type,new $.ig.MeasureXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.h,a,b)},discoverMeasureGroupsAsync:function(a,b){return this.c($.ig.MeasureGroup.prototype.$type,new $.ig.MeasureGroupXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.g,a,b)},discoverMeasureGroupDimensionsAsync:function(a,b){return this.c($.ig.MeasureGroupDimension.prototype.$type,new $.ig.MeasureGroupDimensionXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.f,a,b)},discoverMembersAsync:function(a,b){return this.c($.ig.Member.prototype.$type,new $.ig.MemberXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.i,a,b)},discoverKpisAsync:function(a,b){return this.c($.ig.Kpi.prototype.$type,new $.ig.KpiXmlTypeSerializer,$.ig.OlapSchemaConstants.prototype.d,a,b)},executeStatementAsync:function(a,b,c){var $self=this;var d=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);var e=$self.a.getXmlaSoapWebClient$1($.ig.ExecuteResponseResult.prototype.$type);var f=new $.ig.ResultXmlTypeSerializer;e.requestCompleted=$.ig.Delegate.prototype.combine(e.requestCompleted,function(g,h){return $self.e($.ig.OlapResult.prototype.$type,f,h,d)});var g=new $.ig.XmlaSoapMethodExecute(a);$self.g(g,b,c);e.j(g);return d.b()},c:function($t,a,b,c,d){var $self=this;var e=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($t),0);var f=$self.a.getXmlaSoapWebClient$1($.ig.DiscoverResponseResult.prototype.$type);f.requestCompleted=$.ig.Delegate.prototype.combine(f.requestCompleted,function(g,h){return $self.d($t,a,h,e)});var g=new $.ig.XmlaSoapMethodDiscover(b);$self.f(g,c,d);f.j(g);return e.b()},f:function(a,b,c){if(c!=null){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();a.l().add(d.a(),d.b())}}if(b!=null){var g=b.getEnumerator();while(g.moveNext()){var f=g.current();a.properties().add(new $.ig.XmlaQueryProperty(1,f.a(),f.b()))}}if(this.b!=null){this.b(a)}},g:function(a,b,c){if(c!=null){var e=c.getEnumerator();while(e.moveNext()){var d=e.current()}}if(b!=null){var g=b.getEnumerator();while(g.moveNext()){var f=g.current();a.properties().add(new $.ig.XmlaQueryProperty(1,f.a(),f.b()))}}if(this.b!=null){this.b(a)}},d:function($t,a,b,c){if(b.error()!=null){c.d(b.error())}else if(b.cancelled()){c.c()}else{var d=b.result();if(d!=null){var e=new $.ig.ArraySerializer;var f=e.a($t,b.result().returnElement(),$.ig.XName.prototype.e("row",$.ig.XmlaNamespace.prototype.e),a);c.e(f)}}},e:function($t,a,b,c){if(b.error()!=null){c.d(b.error())}else if(b.cancelled()){c.c()}else{var d=b.result();if(d!=null){var e=a.deserialize(b.result().returnElement());c.e(e)}}},$type:new $.ig.Type("XmlaDataProvider",$.ig.Object.prototype.$type,[$.ig.IXmlaDataProvider.prototype.$type])},true);$.ig.util.defType("CatalogConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("CatalogConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DbSchemaConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("DbSchemaConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("CubeConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DimensionConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("DimensionConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("HierarchyConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("InstanceConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("InstanceConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KpiConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("KpiConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("LevelConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureGroupConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupDimensionConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureGroupDimensionConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MemberConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MemberConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapSchemaConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("OlapSchemaConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("CubeRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DimensionRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("DimensionRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("HierarchyRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KpiRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("KpiRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("LevelRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureGroupRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupDimensionRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MeasureGroupDimensionRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MemberRestrictions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MemberRestrictions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ICoreXmlaConnection","Object",{$type:new $.ig.Type("ICoreXmlaConnection",null,[$.ig.IConnection.prototype.$type])},true);$.ig.util.defType("ArraySerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},a:function($t,a,b,c){var d=new $.ig.List$1($t,0);var f=a.e(b).getEnumerator();while(f.moveNext()){var e=f.current();d.add(c.deserialize(e))}return d},$type:new $.ig.Type("ArraySerializer",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IXmlTypeSerializer$1","Object",{$type:new $.ig.Type("IXmlTypeSerializer$1",null)},true);$.ig.util.defType("AxisXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.AxisXmlTypeSerializer.prototype.a!=null){return}$.ig.AxisXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.AxisXmlTypeSerializer.prototype.a.item("0",$.ig.XName.prototype.e("Tuple",$.ig.XmlaNamespace.prototype.d));$.ig.AxisXmlTypeSerializer.prototype.a.item("1",$.ig.XName.prototype.e("Tuples",$.ig.XmlaNamespace.prototype.d))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.e(b.k($.ig.XName.prototype.e("name","")));var d=b.h($.ig.AxisXmlTypeSerializer.prototype.a.item("1"));var e=new $.ig.ArraySerializer;var f=e.a($.ig.OlapResultTuple.prototype.$type,d,$.ig.AxisXmlTypeSerializer.prototype.a.item("0"),new $.ig.TupleXmlTypeSerializer);var g=0;if(f.count()>0){g=f.__inner[0].members().count()}return function(){var $ret=new $.ig.OlapResultAxis(f,g);$ret.name(c);return $ret}()},$type:new $.ig.Type("AxisXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.OlapResultAxis.prototype.$type)])},true);$.ig.util.defType("TupleXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.TupleXmlTypeSerializer.prototype.a!=null){return}$.ig.TupleXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.TupleXmlTypeSerializer.prototype.a.item("0",$.ig.XName.prototype.e("Member",$.ig.XmlaNamespace.prototype.d))},deserialize:function(a){if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=new $.ig.ArraySerializer;var d=c.a($.ig.OlapResultAxisMember.prototype.$type,b,$.ig.TupleXmlTypeSerializer.prototype.a.item("0"),new $.ig.AxisMemberXmlTypeSerializer);var e=new $.ig.OlapResultTuple(d);var g=d.getEnumerator();while(g.moveNext()){var f=g.current();f.position(e)}return e},$type:new $.ig.Type("TupleXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type)])},true);$.ig.util.defType("AxisMemberXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.AxisMemberXmlTypeSerializer.prototype.a!=null){return}$.ig.AxisMemberXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.AxisMemberXmlTypeSerializer.prototype.a.item("0",$.ig.XName.prototype.e("UName",$.ig.XmlaNamespace.prototype.d));$.ig.AxisMemberXmlTypeSerializer.prototype.a.item("1",$.ig.XName.prototype.e("LName",$.ig.XmlaNamespace.prototype.d));$.ig.AxisMemberXmlTypeSerializer.prototype.a.item("2",$.ig.XName.prototype.e("Caption",$.ig.XmlaNamespace.prototype.d));$.ig.AxisMemberXmlTypeSerializer.prototype.a.item("3",$.ig.XName.prototype.e("LNum",$.ig.XmlaNamespace.prototype.d));$.ig.AxisMemberXmlTypeSerializer.prototype.a.item("4",$.ig.XName.prototype.e("DisplayInfo",$.ig.XmlaNamespace.prototype.d))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.AxisMemberXmlTypeSerializer.prototype.a.item("0")));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.AxisMemberXmlTypeSerializer.prototype.a.item("1")));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.AxisMemberXmlTypeSerializer.prototype.a.item("2")));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.AxisMemberXmlTypeSerializer.prototype.a.item("3")));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.AxisMemberXmlTypeSerializer.prototype.a.item("4")));var h=b.k($.ig.XName.prototype.e("Hierarchy","")).d();var i=function(){var $ret=new $.ig.OlapResultAxisMember;$ret.hierarchyUniqueName(h);$ret.levelUniqueName(d);$ret.levelNumber($.ig.Number.prototype.parseInt(f));$ret.uniqueName(c);$ret.caption(e);$ret.displayInfo(String.isNullOrEmpty(g)?0:$.ig.Number.prototype.parseInt(g));return $ret}();var k=b.d().getEnumerator();while(k.moveNext()){var j=k.current();switch(j.l().c()){case"UName":case"LName":case"Caption":case"LNum":case"DisplayInfo":continue;default:i.properties().add(j.l().c(),j.i());break}}return i},$type:new $.ig.Type("AxisMemberXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.OlapResultAxisMember.prototype.$type)])},true);$.ig.util.defType("CellXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=b.k($.ig.XName.prototype.e("CellOrdinal","")).d();var d=function(){var $ret=new $.ig.OlapResultCell;$ret.cellOrdinal($.ig.Number.prototype.parseInt(c));return $ret}();var f=b.d().getEnumerator();while(f.moveNext()){var e=f.current();d.properties().add(e.l().c(),e.i())}return d},$type:new $.ig.Type("CellXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.OlapResultCell.prototype.$type)])},true);$.ig.util.defType("CubeXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.e,$.ig.XmlaNamespace.prototype.e)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.d,$.ig.XmlaNamespace.prototype.e)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.g,$.ig.XmlaNamespace.prototype.e)));var f;var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.f,$.ig.XmlaNamespace.prototype.e)));switch(g){case $.ig.XmlaConstants.prototype.d:f=$.ig.CubeType.prototype.cube;break;case $.ig.XmlaConstants.prototype.k:f=$.ig.CubeType.prototype.dimension;break;default:f=$.ig.CubeType.prototype.unknown;break}var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.c,$.ig.XmlaNamespace.prototype.e)));var i=$.ig.SerializerUtils.prototype.b(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.l,$.ig.XmlaNamespace.prototype.e)));var j=$.ig.SerializerUtils.prototype.b(b.h($.ig.XName.prototype.e($.ig.CubeConstants.prototype.m,$.ig.XmlaNamespace.prototype.e)));return function(){var $ret=new $.ig.Cube;$ret.name(c);$ret.caption(d);$ret.description(e);$ret.cubeType(f);$ret.catalogName(h);$ret.lastProcessed(i);$ret.lastUpdated(j);return $ret}()},$type:new $.ig.Type("CubeXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Cube.prototype.$type)])},true);$.ig.util.defType("DatabaseXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CatalogConstants.prototype.a,$.ig.XmlaNamespace.prototype.e)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.CatalogConstants.prototype.c,$.ig.XmlaNamespace.prototype.e)));return function(){var $ret=new $.ig.Catalog;$ret.name(c);$ret.caption(c);$ret.uniqueName(c);$ret.description(d);return $ret}()},$type:new $.ig.Type("DatabaseXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Catalog.prototype.$type)])},true);$.ig.util.defType("DimensionXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.DimensionXmlTypeSerializer.prototype.a!=null){return}$.ig.DimensionXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.i,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.i,$.ig.XmlaNamespace.prototype.e));$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.l,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.l,$.ig.XmlaNamespace.prototype.e));$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.e,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.d,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.d,$.ig.XmlaNamespace.prototype.e));$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.k,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.k,$.ig.XmlaNamespace.prototype.e));$.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.c,$.ig.XName.prototype.e($.ig.DimensionConstants.prototype.c,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.i)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.l)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.e)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.d)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.k)));var h=$.ig.Number.prototype.parseInt(g);var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.DimensionXmlTypeSerializer.prototype.a.item($.ig.DimensionConstants.prototype.c)));return function(){var $ret=new $.ig.Dimension;$ret.name(c);$ret.uniqueName(d);$ret.caption(e);$ret.description(f);$ret.dimensionType(h);$ret.defaultHierarchy(i);return $ret}()},$type:new $.ig.Type("DimensionXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Dimension.prototype.$type)])},true);$.ig.util.defType("FaultError","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_errorCode:null,errorCode:function(value){if(arguments.length===1){this._errorCode=value;return value}else{return this._errorCode}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_source:null,source:function(value){if(arguments.length===1){this._source=value;return value}else{return this._source}},_helpFile:null,helpFile:function(value){if(arguments.length===1){this._helpFile=value;return value}else{return this._helpFile}},_severity:null,severity:function(value){if(arguments.length===1){this._severity=value;return value}else{return this._severity}},$type:new $.ig.Type("FaultError",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ErrorXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var b=new $.ig.FaultError;var c=a;b.errorCode($.ig.SerializerUtils.prototype.e(c.k($.ig.XName.prototype.e("ErrorCode",""))));b.description($.ig.SerializerUtils.prototype.e(c.k($.ig.XName.prototype.e("Description",""))));b.source($.ig.SerializerUtils.prototype.e(c.k($.ig.XName.prototype.e("Source",""))));b.helpFile($.ig.SerializerUtils.prototype.e(c.k($.ig.XName.prototype.e("HelpFile",""))));b.severity($.ig.SerializerUtils.prototype.e(c.k($.ig.XName.prototype.e("Severity",""))));return b},$type:new $.ig.Type("ErrorXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.FaultError.prototype.$type)])},true);$.ig.util.defType("HierarchyXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.HierarchyXmlTypeSerializer.prototype.a!=null){return}$.ig.HierarchyXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.q,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.q,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.t,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.t,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.m,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.m,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.e,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.d,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.d,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.a,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.a,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.j,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.j,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.o,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.o,$.ig.XmlaNamespace.prototype.e));$.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.s,$.ig.XName.prototype.e($.ig.HierarchyConstants.prototype.s,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.q)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.t)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.m)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.e)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.d)));var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.a)));var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.j)));var j=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.o)));var k=$.ig.SerializerUtils.prototype.f(b.h($.ig.HierarchyXmlTypeSerializer.prototype.a.item($.ig.HierarchyConstants.prototype.s)));var l=k==null?1:$.ig.Number.prototype.parseInt(k);return function(){var $ret=new $.ig.Hierarchy;$ret.name(c);$ret.uniqueName(d);$ret.caption(e);$ret.description(f);$ret.defaultMember(g);$ret.allMember(h);$ret.dimensionUniqueName(i);$ret.hierarchyDisplayFolder(j);$ret.hierarchyOrigin(l);return $ret}()},$type:new $.ig.Type("HierarchyXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Hierarchy.prototype.$type)])},true);$.ig.util.defType("KpiXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.h,$.ig.XmlaNamespace.prototype.e)));var d=c;var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.c,$.ig.XmlaNamespace.prototype.e)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.e,$.ig.XmlaNamespace.prototype.e)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.p,$.ig.XmlaNamespace.prototype.e)));var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.f,$.ig.XmlaNamespace.prototype.e)));var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.n,$.ig.XmlaNamespace.prototype.e)));var j=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.g,$.ig.XmlaNamespace.prototype.e)));var k=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.j,$.ig.XmlaNamespace.prototype.e)));var l=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.l,$.ig.XmlaNamespace.prototype.e)));var m=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.o,$.ig.XmlaNamespace.prototype.e)));var n=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.k,$.ig.XmlaNamespace.prototype.e)));var o=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.m,$.ig.XmlaNamespace.prototype.e)));var p=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.i,$.ig.XmlaNamespace.prototype.e)));var q=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.KpiConstants.prototype.d,$.ig.XmlaNamespace.prototype.e)));return function(){var $ret=new $.ig.Kpi;$ret.name(c);$ret.uniqueName(d);$ret.caption(e);$ret.description(f);$ret.measureGroupName(g);$ret.kpiDisplayFolder(h);$ret.kpiValue(i);$ret.kpiGoal(j);$ret.kpiStatus(k);$ret.kpiTrend(l);$ret.kpiStatusGraphic(n);$ret.kpiTrendGraphic(o);$ret.kpiWeight(m);$ret.parentKpiName(p);$ret.currentTimeMember(q);return $ret}()},$type:new $.ig.Type("KpiXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Kpi.prototype.$type)])},true);$.ig.util.defType("LevelXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.l,$.ig.XmlaNamespace.prototype.e)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.q,$.ig.XmlaNamespace.prototype.e)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.g,$.ig.XmlaNamespace.prototype.e)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.d,$.ig.XmlaNamespace.prototype.e)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.e,$.ig.XmlaNamespace.prototype.e)));var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.f,$.ig.XmlaNamespace.prototype.e)));var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.m,$.ig.XmlaNamespace.prototype.e)));var j=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.h,$.ig.XmlaNamespace.prototype.e)));var k=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.o,$.ig.XmlaNamespace.prototype.e)));var l=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.LevelConstants.prototype.n,$.ig.XmlaNamespace.prototype.e)));return function(){var $ret=new $.ig.Level;$ret.name(c);$ret.uniqueName(d);$ret.caption(e);$ret.description(f);$ret.dimensionUniqueName(g);$ret.hierarchyUniqueName(h);$ret.depth($.ig.Number.prototype.parseInt(i));$ret.membersCount($.ig.Number.prototype.parseInt(j));$ret.levelOrigin(String.isNullOrEmpty(k)?0:$.ig.Number.prototype.parseInt(k));$ret.levelOrderingProperty(l);return $ret}()},$type:new $.ig.Type("LevelXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Level.prototype.$type)])},true);$.ig.util.defType("MeasureGroupDimensionXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);
if($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a!=null){return}$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.a,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.a,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.b,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.b,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.j,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.j,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.h,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.h,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.i,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.i,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.c,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.c,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.f,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.f,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.e,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.g,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.g,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.d,$.ig.XName.prototype.e($.ig.MeasureGroupDimensionConstants.prototype.d,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.a)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.b)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.j)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.h)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.i)));var h=g=="ONE"?$.ig.CardinalityType.prototype.one:$.ig.CardinalityType.prototype.many;var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.c)));var j=i=="ONE"?$.ig.CardinalityType.prototype.one:$.ig.CardinalityType.prototype.many;var k=$.ig.SerializerUtils.prototype.a(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.f)));var l=$.ig.SerializerUtils.prototype.a(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.e)));var m=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.g)));var n=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupDimensionConstants.prototype.d)));return function(){var $ret=new $.ig.MeasureGroupDimension;$ret.catalogName(c);$ret.cubeName(d);$ret.measureGroupName(e);$ret.dimensionUniqueName(f);$ret.measureGroupCardinality(h);$ret.dimensionCardinality(j);$ret.isDimensionVisible(k);$ret.isFactDimension(l);$ret.dimensionPath(m);$ret.dimensionGranularity(n);return $ret}()},$type:new $.ig.Type("MeasureGroupDimensionXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.MeasureGroupDimension.prototype.$type)])},true);$.ig.util.defType("MeasureGroupXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.MeasureGroupXmlTypeSerializer.prototype.a!=null){return}$.ig.MeasureGroupXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.a,$.ig.XName.prototype.e($.ig.MeasureGroupConstants.prototype.a,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.b,$.ig.XName.prototype.e($.ig.MeasureGroupConstants.prototype.b,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.e,$.ig.XName.prototype.e($.ig.MeasureGroupConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.d,$.ig.XName.prototype.e($.ig.MeasureGroupConstants.prototype.d,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.c,$.ig.XName.prototype.e($.ig.MeasureGroupConstants.prototype.c,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.a)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.b)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.e)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.d)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureGroupXmlTypeSerializer.prototype.a.item($.ig.MeasureGroupConstants.prototype.c)));return function(){var $ret=new $.ig.MeasureGroup;$ret.catalogName(c);$ret.cubeName(d);$ret.name(e);$ret.caption(f);$ret.description(g);return $ret}()},$type:new $.ig.Type("MeasureGroupXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type)])},true);$.ig.util.defType("MeasureXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.MeasureXmlTypeSerializer.prototype.a!=null){return}$.ig.MeasureXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.l,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.l,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.n,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.n,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.h,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.h,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.e,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.d,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.d,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.j,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.j,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.g,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.g,$.ig.XmlaNamespace.prototype.e));$.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.i,$.ig.XName.prototype.e($.ig.MeasureConstants.prototype.i,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.l)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.n)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.h)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.e)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.d)));var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.j)));var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.g)));var j=$.ig.Number.prototype.parseInt(i);var k=$.ig.SerializerUtils.prototype.f(b.h($.ig.MeasureXmlTypeSerializer.prototype.a.item($.ig.MeasureConstants.prototype.i)));return function(){var $ret=new $.ig.Measure;$ret.name(c);$ret.uniqueName(d);$ret.caption(e);$ret.description(f);$ret.defaultFormatString(g);$ret.measureGroupName(h);$ret.aggregatorType(j);$ret.measureDisplayFolder(k);return $ret}()},$type:new $.ig.Type("MeasureXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Measure.prototype.$type)])},true);$.ig.util.defType("MemberXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this);if($.ig.MemberXmlTypeSerializer.prototype.a!=null){return}$.ig.MemberXmlTypeSerializer.prototype.a=new $.ig.Dictionary$2(String,$.ig.XName.prototype.$type,0);$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.a,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.a,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.c,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.c,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.o,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.o,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.q,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.q,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.p,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.p,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.e,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.e,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.g,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.g,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.k,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.k,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.l,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.l,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.d,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.d,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.j,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.j,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.b,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.b,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.t,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.t,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.v,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.v,$.ig.XmlaNamespace.prototype.e));$.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.s,$.ig.XName.prototype.e($.ig.MemberConstants.prototype.s,$.ig.XmlaNamespace.prototype.e))},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.a)));var d=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.c)));var e=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.o)));var f=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.q)));var g=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.p)));var h=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.e)));var i=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.g)));var j=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.k)));var k=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.l)));var l=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.d)));var m=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.j)));var n=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.b)));var o=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.t)));var p=$.ig.SerializerUtils.prototype.f(b.h($.ig.MemberXmlTypeSerializer.prototype.a.item($.ig.MemberConstants.prototype.v)));var q=$.ig.SerializerUtils.prototype.f(b.h($.ig.XName.prototype.e($.ig.MemberConstants.prototype.s,$.ig.XmlaNamespace.prototype.e)));var r=$.ig.util.toNullable($.ig.Number.prototype.$type,null);return function(){var $ret=new $.ig.Member;$ret.catalogName(c);$ret.cubeName(d);$ret.dimensionUniqueName(h);$ret.hierarchyUniqueName(i);$ret.levelUniqueName(j);$ret.levelDepth($.ig.Number.prototype.parseInt(m));$ret.name(e);$ret.uniqueName(f);$ret.memberType($.ig.Number.prototype.parseInt(g));$ret.caption(k);$ret.childrenCardinality($.ig.Number.prototype.parseInt(n));$ret.description(l);$ret.parentUniqueName(o);$ret.scope(p==null?r:$.ig.Number.prototype.parseInt(p));$ret.parentLevel(String.isNullOrEmpty(q)?0:$.ig.Number.prototype.parseInt(q));return $ret}()},$type:new $.ig.Type("MemberXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.Member.prototype.$type)])},true);$.ig.util.defType("ResultXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;if(a.c()!=$.ig.XmlNodeType.prototype.element){return null}var b=a;var c=b.l().d();switch(c){case $.ig.XmlaNamespace.prototype.b:return function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();case $.ig.XmlaNamespace.prototype.d:var d=b.h($.ig.XName.prototype.e("OlapInfo",$.ig.XmlaNamespace.prototype.d));var e=b.h($.ig.XName.prototype.e("Axes",$.ig.XmlaNamespace.prototype.d));var f=new $.ig.ArraySerializer;var g=f.a($.ig.OlapResultAxis.prototype.$type,e,$.ig.XName.prototype.e("Axis",$.ig.XmlaNamespace.prototype.d),new $.ig.AxisXmlTypeSerializer);var h=b.h($.ig.XName.prototype.e("CellData",$.ig.XmlaNamespace.prototype.d));var i=f.a($.ig.OlapResultCell.prototype.$type,h,$.ig.XName.prototype.e("Cell",$.ig.XmlaNamespace.prototype.d),new $.ig.CellXmlTypeSerializer);return function(){var $ret=new $.ig.OlapResult;$ret.axes(g);$ret.cells(i);return $ret}()}return null},$type:new $.ig.Type("ResultXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.OlapResult.prototype.$type)])},true);$.ig.util.defType("SerializerUtils","Object",{init:function(){$.ig.Object.prototype.init.call(this)},f:function(a){if(a!=null){return a.i()}else{return null}},e:function(a){if(a!=null){return a.d()}else{return null}},a:function(a){var b=$.ig.SerializerUtils.prototype.f(a).toLowerCase();return b=="true"},b:function(a){if(a!=null&&!String.isNullOrEmpty(a.i())){return $.ig.SerializerUtils.prototype.d(a.i())}else{return $.ig.SerializerUtils.prototype.c()}},d:function(a){var dateString_=a;var b;b=function(text){var match=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.*)$/.exec(text);if(!match){throw"Invalid textual date representation."}var year=parseInt(match[1],10);var month=parseInt(match[2],10)-1;var day=parseInt(match[3],10);var hours=parseInt(match[4],10);var minutes=parseInt(match[5],10);var seconds=parseInt(match[6],10);return new Date(year,month,day,hours,minutes,seconds)}(dateString_);return b},c:function(){var a;a=new Date(2e3,0,1);return a},$type:new $.ig.Type("SerializerUtils",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaConstants","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("XmlaConstants",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaSoapFault","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("XmlaSoapFault",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaSoapFaultXmlTypeSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},deserialize:function(a){var $self=this;var b=a;var c=new $.ig.XmlaSoapFault;var e=b.d().getEnumerator();while(e.moveNext()){var d=e.current();switch(d.l().c()){case"faultcode":c.c($.ig.SerializerUtils.prototype.f(d));break;case"faultstring":c.d($.ig.SerializerUtils.prototype.f(d));break;case"faultactor":c.b($.ig.SerializerUtils.prototype.f(d));break}}var f=b.h($.ig.XName.prototype.e("detail",""));if(f!=null){var g=f.e($.ig.XName.prototype.e("Error",""));var h=new $.ig.List$1($.ig.FaultError.prototype.$type,0);var i=new $.ig.ErrorXmlTypeSerializer;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l=i.deserialize(j);h.add(l)}c.a(function(){var $ret=new $.ig.FaultDetail;$ret.a(h.toArray());return $ret}())}return c},$type:new $.ig.Type("XmlaSoapFaultXmlTypeSerializer",$.ig.Object.prototype.$type,[$.ig.IXmlTypeSerializer$1.prototype.$type.specialize($.ig.XmlaSoapFault.prototype.$type)])},true);$.ig.util.defType("IXmlaMethodResult","Object",{$type:new $.ig.Type("IXmlaMethodResult",null)},true);$.ig.util.defType("XmlaSoapMethodResult","Object",{init:function(){$.ig.Object.prototype.init.call(this)},b:null,returnElement:function(a){if(arguments.length===1){this.b=a;return a}else{return this.b}},_sessionId:null,sessionId:function(value){if(arguments.length===1){this._sessionId=value;return value}else{return this._sessionId}},$type:new $.ig.Type("XmlaSoapMethodResult",$.ig.Object.prototype.$type,[$.ig.IXmlaMethodResult.prototype.$type])},true);$.ig.util.defType("DiscoverResponseResult","XmlaSoapMethodResult",{init:function(){$.ig.XmlaSoapMethodResult.prototype.init.call(this)},$type:new $.ig.Type("DiscoverResponseResult",$.ig.XmlaSoapMethodResult.prototype.$type)},true);$.ig.util.defType("RequestCompletedEventArgs$1","AsyncCompletedEventArgs",{$t:null,i:null,init:function($t,a,b,c,d){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.AsyncCompletedEventArgs.prototype.init.call(this,b,c,d);this.i=a},result:function(){$.ig.AsyncCompletedEventArgs.prototype.h.call(this);return this.i},$type:new $.ig.Type("RequestCompletedEventArgs$1",$.ig.AsyncCompletedEventArgs.prototype.$type)},true);$.ig.util.defType("ExecuteResponseResult","XmlaSoapMethodResult",{init:function(){$.ig.XmlaSoapMethodResult.prototype.init.call(this)},$type:new $.ig.Type("ExecuteResponseResult",$.ig.XmlaSoapMethodResult.prototype.$type)},true);$.ig.util.defType("FaultDetail","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("FaultDetail",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IXmlaSoapMethod","Object",{$type:new $.ig.Type("IXmlaSoapMethod",null)},true);$.ig.util.defType("XmlaNamespace","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("XmlaNamespace",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaQueryProperty","Object",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.Object.prototype.init.call(this)},init1:function(initNumber,a,b){$.ig.Object.prototype.init.call(this);this.a(a);this.c(b)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},toString:function(){return String.concat(this.a()," = ",this.c())},$type:new $.ig.Type("XmlaQueryProperty",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaPropertiesCollection","Object",{c:null,d:null,e:null,init:function(){$.ig.Object.prototype.init.call(this);this.c=new $.ig.Dictionary$2(String,$.ig.XmlaQueryProperty.prototype.$type,0);this.d=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);this.e=new $.ig.List$1($.ig.XmlaQueryProperty.prototype.$type,0)},tryGetValue:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),value:b};return{value:b}},contains1:function(a){return this.c.containsKey(a)},indexOf:function(a){return this.e.indexOf(a)},insert:function(a,b){this.c.add(b.a(),b);this.e.insert(a,b)},removeAt:function(a){if(a<this.e.count()){var b=this.e.item(a);if(this.c.remove(b.a())){this.e.removeAt(a)}}},item:function(a,b){if(arguments.length===2){var c=this.e.item(a);this.c.remove(c.a());this.c.add(b.a(),b);this.e.item(a,b);return b}else{return this.e.item(a)}},add:function(a){this.c.add(a.a(),a);this.e.add(a)},clear:function(){this.e.clear();this.c.clear()},contains:function(a){return this.e.contains(a)},copyTo:function(a,b){this.e.copyTo(a,b)},count:function(){return this.e.count()},isReadOnly:function(){return this.e.isReadOnly()},remove:function(a){if(this.e.remove(a)){return this.c.remove(a.a())}return false},getEnumerator:function(){return this.e.getEnumerator()},isFixedSize:function(){return false},isSynchronized:function(){return this.e.isSynchronized()},syncRoot:function(){return this.e.syncRoot()},$type:new $.ig.Type("XmlaPropertiesCollection",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize($.ig.XmlaQueryProperty.prototype.$type),$.ig.IList.prototype.$type])},true);$.ig.util.defType("XmlaSoapMessageBuilder","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},c:function(){if(this.a()==null){throw new $.ig.InvalidOperationException(1,"XmlaMethod is not specified.")}var a=$.ig.XNamespace.prototype.c($.ig.XmlaSoapMessageBuilder.prototype.g);this.a().construct(a);var b=this.j();return b.toString()},j:function(){var a=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMessageBuilder.prototype.d,$.ig.XmlaSoapMessageBuilder.prototype.g));this.i(a);this.h(a);return a},i:function(a){var b=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMessageBuilder.prototype.e,a.l().f().b()));a.g(b);var d=this.a().headers().getEnumerator();while(d.moveNext()){var c=d.current();b.g(c)}},h:function(a){var b=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMessageBuilder.prototype.b,a.l().f().b()));a.g(b);var c=new $.ig.XElement(1,$.ig.XName.prototype.e(this.a().name(),$.ig.XmlaNamespace.prototype.a));b.g(c);var e=this.a().parameters().getEnumerator();while(e.moveNext()){var d=e.current();c.g(d)}},$type:new $.ig.Type("XmlaSoapMessageBuilder",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaSoapMethod","Object",{g:null,f:null,c:null,b:null,a:null,init:function(){$.ig.Object.prototype.init.call(this);this.c=new $.ig.List$1($.ig.XElement.prototype.$type,0);this.b=new $.ig.List$1($.ig.XElement.prototype.$type,0);this.g=new $.ig.ReadOnlyCollection$1($.ig.XElement.prototype.$type,1,this.c);this.f=new $.ig.ReadOnlyCollection$1($.ig.XElement.prototype.$type,1,this.b);this.a=new $.ig.XmlaPropertiesCollection},properties:function(){return this.a},name:function(){},parameters:function(){return this.g},headers:function(){return this.f},e:function(){return this.c},d:function(){return this.b},construct:function(a){},mergeProperties:function(a){var $self=this;if(a==null){return}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d;if(function(){var $ret=$self.properties().tryGetValue(b.a(),d);d=$ret.value;return $ret.ret}()){d.c(b.c())}else{$self.properties().add(b)}}},$type:new $.ig.Type("XmlaSoapMethod",$.ig.Object.prototype.$type,[$.ig.IXmlaSoapMethod.prototype.$type])},true);$.ig.util.defType("XmlaSoapMethodDiscover","XmlaSoapMethod",{k:null,init:function(a){$.ig.XmlaSoapMethod.prototype.init.call(this);this.j($.ig.XmlaSoapMessageHeader.prototype.none);this.n(a);this.k=new $.ig.Dictionary$2(String,$.ig.Object.prototype.$type,0)},l:function(){return this.k},_n:null,n:function(value){if(arguments.length===1){this._n=value;return value}else{return this._n}},name:function(){return $.ig.XmlaSoapMethodDiscover.prototype.m},_j:null,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},_r:null,r:function(value){if(arguments.length===1){this._r=value;return value}else{return this._r}},construct:function(a){var b=$.ig.XNamespace.prototype.c($.ig.XmlaNamespace.prototype.a);var c=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethodDiscover.prototype.o,b.b()));c.i(this.n());var d=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethod.prototype.h,$.ig.XmlaNamespace.prototype.a));var e=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethod.prototype.i,d.l().f().b()));d.g(e);var f=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethodDiscover.prototype.q,$.ig.XmlaNamespace.prototype.a));var g=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethodDiscover.prototype.p,f.l().f().b()));f.g(g);var i=this.properties().getEnumerator();while(i.moveNext()){var h=i.current();e.g(new $.ig.XElement(2,$.ig.XName.prototype.e(h.a(),$.ig.XmlaNamespace.prototype.a),h.c()))}var k=this.k.getEnumerator();while(k.moveNext()){var j=k.current();g.g(new $.ig.XElement(2,$.ig.XName.prototype.e(j.key(),""),j.value()))}this.e().add(c);this.e().add(f);this.e().add(d)},$type:new $.ig.Type("XmlaSoapMethodDiscover",$.ig.XmlaSoapMethod.prototype.$type)},true);$.ig.util.defType("XmlaSoapMethodExecute","XmlaSoapMethod",{init:function(a){$.ig.XmlaSoapMethod.prototype.init.call(this);this.l(a)},name:function(){return $.ig.XmlaSoapMethodExecute.prototype.k},_l:null,l:function(value){if(arguments.length===1){this._l=value;return value}else{return this._l}},construct:function(a){var b=$.ig.XNamespace.prototype.c($.ig.XmlaNamespace.prototype.a);var c=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethodExecute.prototype.j,b.b()));var d=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethodExecute.prototype.m,b.b()));d.i(this.l());c.g(d);var e=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethod.prototype.h,$.ig.XmlaNamespace.prototype.a));var f=new $.ig.XElement(1,$.ig.XName.prototype.e($.ig.XmlaSoapMethod.prototype.i,e.l().f().b()));e.g(f);var h=this.properties().getEnumerator();while(h.moveNext()){var g=h.current();f.g(new $.ig.XElement(2,$.ig.XName.prototype.e(g.a(),$.ig.XmlaNamespace.prototype.a),g.c()))}this.e().add(c);this.e().add(e)},$type:new $.ig.Type("XmlaSoapMethodExecute",$.ig.XmlaSoapMethod.prototype.$type)},true);$.ig.util.defType("XmlaSoapWebClient","Object",{staticInit:function(){$.ig.XmlaSoapWebClient.prototype.a=new $.ig.List$1(String,0)},$type:new $.ig.Type("XmlaSoapWebClient",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaSoapWebClient$1","XmlaSoapWebClient",{$t:null,f:null,b:false,init:function($t,a,b){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.XmlaSoapWebClient.prototype.init.call(this);this.f=new $.ig.WebClient;this.f.d(b);this.f.uploadStringCompleted=$.ig.Delegate.prototype.combine(this.f.uploadStringCompleted,this.l.runOn(this));this.g(a)},requestCompleted:null,_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},c:function(){return this.b},j:function(a){this.k(a,null)},k:function(a,b){var c=new $.ig.XmlaSoapMessageBuilder;c.a(a);var d=c.c();if(this.e()!=null){this.f.a(this.e())}else{this.f.a(null)}this.f.c().item("Content-Type","text/xml");this.f.h(this.g(),"POST",d,b)},h:function(a){if(this.requestCompleted!=null){this.requestCompleted(this,a)}},l:function(a,b){this.b=true;this.i(b)},i:function(a){var b=null;var c=null;var d=null;if(!a.cancelled()&&a.error()==null){try{var e=$.ig.XDocument.prototype.i(a.result());var f=e.h($.ig.XName.prototype.e("Envelope","http://schemas.xmlsoap.org/soap/envelope/"));var g=f.h($.ig.XName.prototype.e("Body","http://schemas.xmlsoap.org/soap/envelope/"));var h=g.h($.ig.XName.prototype.e("Fault","http://schemas.xmlsoap.org/soap/envelope/"));if(h!=null){var i=new $.ig.XmlaSoapFaultXmlTypeSerializer;var j=i.deserialize(h);c=new $.ig.FaultException$1($.ig.XmlaSoapFault.prototype.$type,j,new $.ig.FaultReason(j.d()),new $.ig.FaultCode(j.c()),null)}else{if(this.$t==$.ig.DiscoverResponseResult.prototype.$type){var k=g.h($.ig.XName.prototype.e("DiscoverResponse",$.ig.XmlaNamespace.prototype.a));var l=k.h($.ig.XName.prototype.e("return",$.ig.XmlaNamespace.prototype.a));var m=l.h($.ig.XName.prototype.e("root",$.ig.XmlaNamespace.prototype.e));var n=new $.ig.DiscoverResponseResult;n.returnElement(m);b=n}if(this.$t==$.ig.ExecuteResponseResult.prototype.$type){var o=g.h($.ig.XName.prototype.e("ExecuteResponse",$.ig.XmlaNamespace.prototype.a));var p=o.h($.ig.XName.prototype.e("return",$.ig.XmlaNamespace.prototype.a));var q=p.h($.ig.XName.prototype.e("root",$.ig.XmlaNamespace.prototype.d));var r=new $.ig.ExecuteResponseResult;r.returnElement(q);b=r}}}catch(e_){d=e_}}if(d==null){d=a.error()!=null?a.error():c}var s=new $.ig.RequestCompletedEventArgs$1(this.$t,b,d,a.cancelled(),a.userState());this.h(s)},$type:new $.ig.Type("XmlaSoapWebClient$1",$.ig.XmlaSoapWebClient.prototype.$type)},true);$.ig.util.defType("XmlaSoapWebClient","Object",{staticInit:function(){$.ig.XmlaSoapWebClient.prototype.a=new $.ig.List$1(String,0)
},$type:new $.ig.Type("XmlaSoapWebClient",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaSoapWebClient$1","XmlaSoapWebClient",{$t:null,f:null,b:false,init:function($t,a,b){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.XmlaSoapWebClient.prototype.init.call(this);this.f=new $.ig.WebClient;this.f.d(b);this.f.uploadStringCompleted=$.ig.Delegate.prototype.combine(this.f.uploadStringCompleted,this.l.runOn(this));this.g(a)},requestCompleted:null,_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},c:function(){return this.b},j:function(a){this.k(a,null)},k:function(a,b){var c=new $.ig.XmlaSoapMessageBuilder;c.a(a);var d=c.c();if(this.e()!=null){this.f.a(this.e())}else{this.f.a(null)}this.f.c().item("Content-Type","text/xml");this.f.h(this.g(),"POST",d,b)},h:function(a){if(this.requestCompleted!=null){this.requestCompleted(this,a)}},l:function(a,b){this.b=true;this.i(b)},i:function(a){var b=null;var c=null;var d=null;if(!a.cancelled()&&a.error()==null){try{var e=$.ig.XDocument.prototype.i(a.result());var f=e.h($.ig.XName.prototype.e("Envelope","http://schemas.xmlsoap.org/soap/envelope/"));var g=f.h($.ig.XName.prototype.e("Body","http://schemas.xmlsoap.org/soap/envelope/"));var h=g.h($.ig.XName.prototype.e("Fault","http://schemas.xmlsoap.org/soap/envelope/"));if(h!=null){var i=new $.ig.XmlaSoapFaultXmlTypeSerializer;var j=i.deserialize(h);c=new $.ig.FaultException$1($.ig.XmlaSoapFault.prototype.$type,j,new $.ig.FaultReason(j.d()),new $.ig.FaultCode(j.c()),null)}else{if(this.$t==$.ig.DiscoverResponseResult.prototype.$type){var k=g.h($.ig.XName.prototype.e("DiscoverResponse",$.ig.XmlaNamespace.prototype.a));var l=k.h($.ig.XName.prototype.e("return",$.ig.XmlaNamespace.prototype.a));var m=l.h($.ig.XName.prototype.e("root",$.ig.XmlaNamespace.prototype.e));var n=new $.ig.DiscoverResponseResult;n.returnElement(m);b=n}if(this.$t==$.ig.ExecuteResponseResult.prototype.$type){var o=g.h($.ig.XName.prototype.e("ExecuteResponse",$.ig.XmlaNamespace.prototype.a));var p=o.h($.ig.XName.prototype.e("return",$.ig.XmlaNamespace.prototype.a));var q=p.h($.ig.XName.prototype.e("root",$.ig.XmlaNamespace.prototype.d));var r=new $.ig.ExecuteResponseResult;r.returnElement(q);b=r}}}catch(e_){d=e_}}if(d==null){d=a.error()!=null?a.error():c}var s=new $.ig.RequestCompletedEventArgs$1(this.$t,b,d,a.cancelled(),a.userState());this.h(s)},$type:new $.ig.Type("XmlaSoapWebClient$1",$.ig.XmlaSoapWebClient.prototype.$type)},true);$.ig.util.defType("IMdxExpression","Object",{$type:new $.ig.Type("IMdxExpression",null)},true);$.ig.util.defType("IMdxElement","Object",{$type:new $.ig.Type("IMdxElement",null,[$.ig.IMdxExpression.prototype.$type])},true);$.ig.util.defType("IAxisFilterElement","Object",{$type:new $.ig.Type("IAxisFilterElement",null,[$.ig.IMdxElement.prototype.$type])},true);$.ig.util.defType("IMdxAxis","Object",{$type:new $.ig.Type("IMdxAxis",null,[$.ig.IMdxExpression.prototype.$type])},true);$.ig.util.defType("IMdxAxisProvider","Object",{$type:new $.ig.Type("IMdxAxisProvider",null)},true);$.ig.util.defType("IMdxCollectionElement","Object",{$type:new $.ig.Type("IMdxCollectionElement",null,[$.ig.IMdxElement.prototype.$type])},true);$.ig.util.defType("IMdxDimensionAxisProvider","Object",{$type:new $.ig.Type("IMdxDimensionAxisProvider",null,[$.ig.IMdxAxisProvider.prototype.$type])},true);$.ig.util.defType("IMdxFilterInfo","Object",{$type:new $.ig.Type("IMdxFilterInfo",null)},true);$.ig.util.defType("IMdxExtendedFilterInfo","Object",{$type:new $.ig.Type("IMdxExtendedFilterInfo",null,[$.ig.IMdxFilterInfo.prototype.$type])},true);$.ig.util.defType("IMdxItemElement","Object",{$type:new $.ig.Type("IMdxItemElement",null,[$.ig.IMdxElement.prototype.$type])},true);$.ig.util.defType("IMdxSet","Object",{$type:new $.ig.Type("IMdxSet",null,[$.ig.IMdxExpression.prototype.$type])},true);$.ig.util.defType("MdxAxis","Object",{e:null,f:null,d:false,i:null,h:0,c:null,init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.c=function(){var $ret=new Array;$ret.add("COLUMNS");$ret.add("ROWS");$ret.add("PAGES");return $ret}();$.ig.MdxAxis.prototype.init1.call(this,1,a,new $.ig.MdxDimensionAxisSettings)},init1:function(initNumber,a,b){this.c=function(){var $ret=new Array;$ret.add("COLUMNS");$ret.add("ROWS");$ret.add("PAGES");return $ret}();$.ig.Object.prototype.init.call(this);this.axisIndex(a);this.a(b!=null?b:new $.ig.MdxDimensionAxisSettings);this.e=new $.ig.List$1($.ig.IMdxSet.prototype.$type,0);this.f=new $.ig.ReadOnlyCollection$1($.ig.IMdxSet.prototype.$type,1,this.e)},axisIndex:function(a){if(arguments.length===1){if(this.h!=a){this.h=a;this.d=false}return a}else{return this.h}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},b:function(){return $.ig.util.cast($.ig.MdxDimensionAxisSettings.prototype.$type,this.a())},g:function(){return this.f},mdxExpression:function(){if(!this.d){this.i=this.j();this.d=true}return this.i},rebuildExpression:function(){this.i=this.j();this.d=true},getMdxSets:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$a=this.$this.f.getEnumerator();this.$state=1;break;case 1:this.$state=4;break;case 2:this.$current=this.$a.current();this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$a.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($.ig.IMdxSet.prototype.$type,$iter)},addSet:function(a){this.e.add(a);this.d=false},j:function(){var a=new $.ig.StringBuilder;var b=false;var d=this.g().getEnumerator();while(d.moveNext()){var c=d.current();if(!c.isEnabled()){continue}if(b){a.d(",");a.d($.ig.Environment.prototype.a())}a.d(c.mdxExpression());b=true}if(this.g().count()>1){a.h(0,"{");a.d("}")}this.m(a,this.b());this.n(a,this.b());this.l(a,this.b());this.k(a);return a.b()},m:function(a,b){if(b.f()){a.h(0,"Distinct(");a.d(")")}},n:function(a,b){if(b.h()){a.h(0,$.ig.Environment.prototype.a());a.h(0,"NON EMPTY")}},l:function(a,b){if(b.e()){a.d($.ig.Environment.prototype.a());a.d("DIMENSION PROPERTIES");var c=b.j();var d=false;var f=c.getEnumerator();while(f.moveNext()){var e=f.current();a.d($.ig.Environment.prototype.a());if(d){a.d(",")}a.d(e);d=true}}},k:function(a){if(this.axisIndex()<2){a.d($.ig.Environment.prototype.a());a.d(String.concat("ON ",this.c[this.axisIndex()]))}},$type:new $.ig.Type("MdxAxis",$.ig.Object.prototype.$type,[$.ig.IMdxAxis.prototype.$type])},true);$.ig.util.defType("MdxAxisFilterElement","Object",{a:null,b:null,init:function(){$.ig.Object.prototype.init.call(this);this.b=new $.ig.List$1($.ig.IMdxElement.prototype.$type,0);this.singleFilterElements(new $.ig.ReadOnlyCollection$1($.ig.IMdxElement.prototype.$type,1,this.b));this.a=new $.ig.MdxElementCollectionElement},mdxExpression:function(){var $self=this;if($self.a.collectionElements().count()>1){$self.a.b(function(){var $ret=new Array;$ret.add("(");$ret.add(")");return $ret}())}return $self.a.mdxExpression()},_singleFilterElements:null,singleFilterElements:function(value){if(arguments.length===1){this._singleFilterElements=value;return value}else{return this._singleFilterElements}},filterCollection:function(){return this.a.collectionElements()},rebuildExpression:function(){this.a.rebuildExpression()},addFilterPart:function(a,b){if(a.collectionElements().count()>0){if(a.collectionElements().count()==1&&b){this.b.add(a.collectionElements().item(0));return}this.a.addElement(a)}},elementType:function(){return $.ig.MdxElementType.prototype.filter},$type:new $.ig.Type("MdxAxisFilterElement",$.ig.Object.prototype.$type,[$.ig.IAxisFilterElement.prototype.$type])},true);$.ig.util.defType("MdxCalculatedMembersCache","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.d=new $.ig.List$1(String,0);this.b=new $.ig.Dictionary$2(String,String,0)},d:null,b:null,e:function(a){var b=new $.ig.StringBuilder;var d=a.c().getEnumerator();while(d.moveNext()){var c=d.current();$.ig.MdxCalculatedMembersCache.prototype.f(b,c.key(),c.value())}return b.b()},g:function(a,b,c){if(!this.d.contains(a)){this.d.add(a)}if(!this.b.containsKey(b)){this.b.add(b,c)}},c:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$a=this.$this.b.getEnumerator();this.$state=1;break;case 1:this.$state=4;break;case 2:this.$current=this.$a.current();this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$a.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,String),$iter)},a:function(a){return this.d.contains(a)},f:function(a,b,c){a.d(String.concat("MEMBER ",b," AS",$.ig.Environment.prototype.a()));a.d(c);a.d($.ig.Environment.prototype.a())},$type:new $.ig.Type("MdxCalculatedMembersCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MdxElement","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.elementType($.ig.MdxElementType.prototype.userDefined)},mdxExpression:function(){},_elementType:null,elementType:function(value){if(arguments.length===1){this._elementType=value;return value}else{return this._elementType}},_sourceItemExpression:null,sourceItemExpression:function(value){if(arguments.length===1){this._sourceItemExpression=value;return value}else{return this._sourceItemExpression}},rebuildExpression:function(){},$type:new $.ig.Type("MdxElement",$.ig.Object.prototype.$type,[$.ig.IMdxItemElement.prototype.$type])},true);$.ig.util.defType("MdxSingleElement","MdxElement",{init:function(initNumber,a,b,c){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.MdxSingleElement.prototype.init1.call(this,1,a,b,c,$.ig.MdxElementType.prototype.member)},init1:function(initNumber,a,b,c,d){$.ig.MdxElement.prototype.init.call(this);this.a(c);switch(d){case $.ig.MdxElementType.prototype.member:case $.ig.MdxElementType.prototype.calculated:this.sourceItemExpression(a);this.b(b);this.elementType(d);break;default:throw new $.ig.ArgumentException(1,"Element type could be MdxElementType.Member or MdxElementType.Calculated","elementType")}},mdxExpression:function(){return this.sourceItemExpression()},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:0,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("MdxSingleElement",$.ig.MdxElement.prototype.$type)},true);$.ig.util.defType("MdxDimensionMember","MdxSingleElement",{init:function(a,b,c,d,e){$.ig.MdxSingleElement.prototype.init.call(this,a,b,c);this.d(d);this.c(e)},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},$type:new $.ig.Type("MdxDimensionMember",$.ig.MdxSingleElement.prototype.$type)},true);$.ig.util.defType("MdxChildrenCollectionElement","MdxDimensionMember",{init:function(a,b,c,d,e){$.ig.MdxDimensionMember.prototype.init.call(this,a,b,c,d,e)},mdxExpression:function(){return String.concat(this.sourceItemExpression(),".Children")},$type:new $.ig.Type("MdxChildrenCollectionElement",$.ig.MdxDimensionMember.prototype.$type)},true);$.ig.util.defType("MdxElementCollectionElement","Object",{d:null,c:false,e:null,a:null,init:function(){$.ig.Object.prototype.init.call(this);this.d=new $.ig.List$1($.ig.IMdxElement.prototype.$type,0);this.collectionElements(new $.ig.ReadOnlyCollection$1($.ig.IMdxElement.prototype.$type,1,this.d))},b:function(a){if(arguments.length===1){if(this.a!=a){this.c=false;this.a=a}return a}else{return this.a}},_collectionElements:null,collectionElements:function(value){if(arguments.length===1){this._collectionElements=value;return value}else{return this._collectionElements}},elementType:function(){return $.ig.MdxElementType.prototype.collection},mdxExpression:function(){if(!this.c){this.e=this.f();this.c=true}return this.e},rebuildExpression:function(){this.e=this.f();this.c=true},addElement:function(a){var $self=this;$self.d.add(a);if($self.collectionElements().count()>1){$self.b(function(){var $ret=new Array;$ret.add("{");$ret.add("}");return $ret}())}$self.c=false},f:function(){if(this.collectionElements().count()==0){return String.empty()}var a=new $.ig.StringBuilder;var b=false;var d=this.collectionElements().getEnumerator();while(d.moveNext()){var c=d.current();if(b){a.d(",");a.d($.ig.Environment.prototype.a())}a.d(c.mdxExpression());b=true}if(this.b()!=null&&this.b().length==2){a.h(0,this.b()[0]);a.d(this.b()[1])}return a.b()},$type:new $.ig.Type("MdxElementCollectionElement",$.ig.Object.prototype.$type,[$.ig.IMdxCollectionElement.prototype.$type])},true);$.ig.util.defType("MdxLevelMembersElement","MdxSingleElement",{init:function(a,b,c){$.ig.MdxSingleElement.prototype.init.call(this,a,b,c)},mdxExpression:function(){return String.concat(this.sourceItemExpression(),".MEMBERS")},$type:new $.ig.Type("MdxLevelMembersElement",$.ig.MdxSingleElement.prototype.$type)},true);$.ig.util.defType("MdxQueryBuilder","Object",{a:null,init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.MdxQueryBuilder.prototype.init1.call(this,1,new $.ig.MdxSettings)},init1:function(initNumber,a){$.ig.Object.prototype.init.call(this);this.b(a)},b:function(a){if(arguments.length===1){this.a=a;return a}else{if(this.a==null){this.a=new $.ig.MdxSettings}return this.a}},c:function(a,b,c,d,e){var f=c;var g=this.d(a,b,f,d);var h=this.h(f);var i=this.g(f,e);var j=new $.ig.StringBuilder;if(!String.isNullOrEmpty(g)){j.d(String.concat("WITH",$.ig.Environment.prototype.a()))}j.d(g);j.d("SELECT");j.d($.ig.Environment.prototype.a());if(a!=null){j.d(a.mdxExpression())}if(b!=null){if(a==null){b.axisIndex(0)}else{j.d(String.concat(",",$.ig.Environment.prototype.a()))}j.d(b.mdxExpression())}j.d($.ig.Environment.prototype.a());j.d(i);if(!String.isNullOrEmpty(h)){j.d($.ig.Environment.prototype.a());j.d(h)}var k=j.b();return k},d:function(a,b,c,d){return $.ig.MdxCalculatedMembersCache.prototype.e(d)},g:function(a,b){var c=String.concat("FROM ","[",b,"]");var d=$.ig.util.cast($.ig.IMdxExtendedFilterInfo.prototype.$type,a);c=this.f(c,a.filtersFilter());if(a.columnsFilter()!=null){c=this.f(c,a.columnsFilter(),a.rowsFilter())}else{c=this.f(c,a.rowsFilter())}if(d!=null){c=this.e(c,d)}return c},e:function(a,b){if(b.filterElements()!=null&&b.filterElements().count()>0){var d=b.filterElements().getEnumerator();while(d.moveNext()){var c=d.current();var e=new $.ig.StringBuilder;e.h(0,String.concat("FROM",$.ig.Environment.prototype.a(),"(",$.ig.Environment.prototype.a(),"SELECT",$.ig.Environment.prototype.a()));e.d(String.concat(c.mdxExpression()," ON COLUMNS",$.ig.Environment.prototype.a()));e.d(a);e.d(this.h(b));e.d(String.concat(")",$.ig.Environment.prototype.a()));a=e.b()}}return a},f:function(a,b,c){if(b==null||b.filterCollection().count()==0){return a}var d=new $.ig.StringBuilder;d.d("FROM");d.d($.ig.Environment.prototype.a());d.d("(");d.d($.ig.Environment.prototype.a());d.d("SELECT");d.d($.ig.Environment.prototype.a());d.d(b.mdxExpression());d.d(" ON COLUMNS");if(c!=null&&c.filterCollection().count()>0){d.d($.ig.Environment.prototype.a());d.d(", ");d.d(c.mdxExpression());d.d(" ON ROWS")}d.d($.ig.Environment.prototype.a());d.d(a);d.d($.ig.Environment.prototype.a());d.d(")");return d.b()},h:function(a){var $self=this;var b=new $.ig.MdxElementCollectionElement;if(a.measureFilter()!=null&&a.measureFilter().singleFilterElements().count()==1){b.addElement(a.measureFilter().singleFilterElements().item(0))}if(a.filtersFilter()!=null){var d=a.filtersFilter().singleFilterElements().getEnumerator();while(d.moveNext()){var c=d.current();b.addElement(c)}}if(b.collectionElements().count()==0){return String.empty()}b.b(function(){var $ret=new Array;$ret.add("(");$ret.add(")");return $ret}());return String.concat("WHERE ",b.mdxExpression())},$type:new $.ig.Type("MdxQueryBuilder",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MdxSet","Object",{d:null,e:null,b:false,g:null,init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.MdxSet.prototype.init1.call(this,1,new $.ig.MdxSetSettings);this.d=new $.ig.List$1($.ig.IMdxElement.prototype.$type,0);this.e=new $.ig.ReadOnlyCollection$1($.ig.IMdxElement.prototype.$type,1,this.d);this.isEnabled(true)},init1:function(initNumber,a){$.ig.Object.prototype.init.call(this);this.d=new $.ig.List$1($.ig.IMdxElement.prototype.$type,0);this.e=new $.ig.ReadOnlyCollection$1($.ig.IMdxElement.prototype.$type,1,this.d);this.isEnabled(true);this.a(a!=null?a:new $.ig.MdxSetSettings)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_isEnabled:false,isEnabled:function(value){if(arguments.length===1){this._isEnabled=value;return value}else{return this._isEnabled}},f:function(){return this.e},mdxExpression:function(){if(!this.b){this.g=this.h();this.b=true}return this.g},rebuildExpression:function(){this.g=this.h();this.b=true},addElement:function(a){if(this.c(a)){this.d.add(a);this.b=false}},getMdxElements:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$a=this.$this.d.getEnumerator();this.$state=1;break;case 1:this.$state=4;break;case 2:this.$current=this.$a.current();this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$a.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($.ig.IMdxElement.prototype.$type,$iter)},c:function(a){switch(a.elementType()){case $.ig.MdxElementType.prototype.memberTree:case $.ig.MdxElementType.prototype.member:case $.ig.MdxElementType.prototype.calculated:case $.ig.MdxElementType.prototype.collection:return true}return false},h:function(){$.ig.Debug.prototype.b(this.f().count()>0,"MdxSet.Elements collection is empty.");var a=new $.ig.StringBuilder;var b=this.f().item(0);this.j(a,b);for(var c=1;c<this.f().count();c++){a.h(0,"CrossJoin(");a.h(10,$.ig.Environment.prototype.a());a.d(",");a.d($.ig.Environment.prototype.a());var d=this.f().item(c);this.j(a,d);a.d(")")}return a.b()},j:function(a,b){var c=new $.ig.StringBuilder;switch(b.elementType()){case $.ig.MdxElementType.prototype.calculated:var d=b;var e=d.b();c.d("{");c.d(e);c.d("}");break;case $.ig.MdxElementType.prototype.member:c.d("{");c.d(b.mdxExpression());c.d("}");break;case $.ig.MdxElementType.prototype.collection:case $.ig.MdxElementType.prototype.memberTree:c.d(b.mdxExpression());break}if($.ig.util.cast($.ig.MdxLevelMembersElement.prototype.$type,b)!==null||$.ig.util.cast($.ig.MdxChildrenCollectionElement.prototype.$type,b)!==null){this.i(c,b)}switch(b.elementType()){case $.ig.MdxElementType.prototype.memberTree:case $.ig.MdxElementType.prototype.member:this.k(c,b);break}a.e(c)},k:function(a,b){},i:function(a,b){if(this.a().a()){a.h(0,"AddCalculatedMembers(");a.d(")")}},clone:function(){var a=new $.ig.MdxSet(1,this.a());var c=this.f().getEnumerator();while(c.moveNext()){var b=c.current();a.addElement(b)}return a},$type:new $.ig.Type("MdxSet",$.ig.Object.prototype.$type,[$.ig.IMdxSet.prototype.$type])},true);$.ig.util.defType("MdxSettings","Object",{i:false,h:false,e:false,d:false,m:false,l:false,k:false,j:false,o:false,n:false,g:false,f:false,init:function(){$.ig.Object.prototype.init.call(this);this.a(new $.ig.MdxDimensionAxisSettings);this.b(new $.ig.MdxDimensionAxisSettings);this.c(new $.ig.MdxSlicerAxisSettings);this.y(true);this.x(true);var a=new $.ig.ObservableCollection$1(String,0);a.collectionChanged=$.ig.Delegate.prototype.combine(a.collectionChanged,this.ae.runOn(this));this.ac(a);var b=new $.ig.ObservableCollection$1(String,0);b.collectionChanged=$.ig.Delegate.prototype.combine(b.collectionChanged,this.ad.runOn(this));this.ab(b);this.s(true);this.r(true);this.q(true);this.p(true);this.ag(this.ac());this.ag(this.ab())},ae:function(a,b){this.b().j().clear();var d=this.ac().getEnumerator();while(d.moveNext()){var c=d.current();this.b().j().add(c)}},ad:function(a,b){this.a().j().clear();var d=this.ab().getEnumerator();while(d.moveNext()){var c=d.current();this.a().j().add(c)}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},aa:function(a){if(arguments.length===1){if(this.i!=a){this.i=a;this.b().i(a)}return a}else{return this.i}},z:function(a){if(arguments.length===1){if(this.h!=a){this.h=a;this.a().i(a)}return a}else{return this.h}},q:function(a){if(arguments.length===1){if(this.e!=a){this.e=a;this.b().d(a)}return a}else{return this.e}},p:function(a){if(arguments.length===1){if(this.d!=a){this.d=a;this.a().d(a)}return a}else{return this.d}},w:function(a){if(arguments.length===1){if(this.m!=a){this.m=a;this.b().g(a)}return a}else{return this.m}},v:function(a){if(arguments.length===1){if(this.l!=a){this.l=a;this.a().g(a)}return a}else{return this.l}},u:function(a){if(arguments.length===1){if(this.k!=a){this.k=a;this.b().f(a)}return a}else{return this.k}},t:function(a){if(arguments.length===1){if(this.j!=a){this.j=a;this.a().f(a)}return a}else{return this.j}},y:function(a){if(arguments.length===1){if(this.o!=a){this.o=a;this.b().h(a)}return a}else{return this.o}},x:function(a){if(arguments.length===1){if(this.n!=a){this.n=a;this.a().h(a)}return a}else{return this.n}},s:function(a){if(arguments.length===1){if(this.g!=a){this.g=a;this.b().e(a)}return a}else{return this.g}},r:function(a){if(arguments.length===1){if(this.f!=a){this.f=a;this.a().e(a)}return a}else{return this.f}},_ac:null,ac:function(value){if(arguments.length===1){this._ac=value;return value}else{return this._ac}},_ab:null,ab:function(value){if(arguments.length===1){this._ab=value;return value}else{return this._ab}},af:function(a){this.ag(a)},ag:function(a){a.clear();a.add("CHILDREN_CARDINALITY");a.add("PARENT_UNIQUE_NAME")},$type:new $.ig.Type("MdxSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MdxAxisSettings","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("MdxAxisSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MdxSlicerAxisSettings","MdxAxisSettings",{init:function(){$.ig.MdxAxisSettings.prototype.init.call(this)},$type:new $.ig.Type("MdxSlicerAxisSettings",$.ig.MdxAxisSettings.prototype.$type)},true);$.ig.util.defType("MdxDimensionAxisSettings","MdxAxisSettings",{c:false,b:false,init:function(){$.ig.MdxAxisSettings.prototype.init.call(this);this.j(new $.ig.List$1(String,0));this.a(new $.ig.MdxSetSettings)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_g:false,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_f:false,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_h:false,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_e:false,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},i:function(a){if(arguments.length===1){if(this.c!=a){this.c=a;this.a().b(a)}return a}else{return this.c}},d:function(a){if(arguments.length===1){if(this.b!=a){this.b=a;this.a().a(a)}return a}else{return this.b}},_j:null,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},$type:new $.ig.Type("MdxDimensionAxisSettings",$.ig.MdxAxisSettings.prototype.$type)},true);$.ig.util.defType("MdxSetSettings","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_b:false,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("MdxSetSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IMdxSlicerAxis","Object",{$type:new $.ig.Type("IMdxSlicerAxis",null,[$.ig.IMdxExtendedFilterInfo.prototype.$type])},true);$.ig.util.defType("MdxSlicerAxis","MdxAxis",{init:function(a){$.ig.MdxAxis.prototype.init1.call(this,1,2,a)},_columnsFilter:null,columnsFilter:function(value){if(arguments.length===1){this._columnsFilter=value;return value}else{return this._columnsFilter}},_rowsFilter:null,rowsFilter:function(value){if(arguments.length===1){this._rowsFilter=value;return value}else{return this._rowsFilter}},_filtersFilter:null,filtersFilter:function(value){if(arguments.length===1){this._filtersFilter=value;return value}else{return this._filtersFilter}},_measureFilter:null,measureFilter:function(value){if(arguments.length===1){this._measureFilter=value;return value}else{return this._measureFilter}},_filterElements:null,filterElements:function(value){if(arguments.length===1){this._filterElements=value;return value}else{return this._filterElements}},$type:new $.ig.Type("MdxSlicerAxis",$.ig.MdxAxis.prototype.$type,[$.ig.IMdxSlicerAxis.prototype.$type])},true);$.ig.util.defType("MdxSlicerSet","MdxSet",{init:function(){$.ig.MdxSet.prototype.init.call(this)},c:function(a){return $.ig.util.cast($.ig.IAxisFilterElement.prototype.$type,a)!==null},$type:new $.ig.Type("MdxSlicerSet",$.ig.MdxSet.prototype.$type)},true);$.ig.util.defType("MdxDimensionAxisProvider","Object",{h:null,k:null,l:0,init:function(initNumber,a,b,c,d){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.h=new $.ig.Dictionary$2(String,$.ig.MdxElementCollectionElement.prototype.$type,0);this.k=new $.ig.List$1(String,0);this.l=-1;$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("xmlaDataSource")}this.b(a);this.g(b);this.i(c);this.d(d)},init1:function(initNumber,a,b,c){this.h=new $.ig.Dictionary$2(String,$.ig.MdxElementCollectionElement.prototype.$type,0);this.k=new $.ig.List$1(String,0);this.l=-1;$.ig.Object.prototype.init.call(this);this.g(b);this.a(a);this.j(c)},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},c:null,d:function(a){if(arguments.length===1){this.c=a;return a}else{return this.c}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_i:null,i:function(value){if(arguments.length===1){this._i=value;return value}else{return this._i}},_j:null,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},q:function(){this.e(null)},extendAxis:function(a,b){var $self=this;var c=a;var d=$self.j();var e=$self.a().positionResolver();var f=new $.ig.MdxAxis(1,a.axisIndex(),$self.g());var h=d.getEnumerator();while(h.moveNext()){var g=h.current();var i=new $.ig.MdxSet(1,c.a().a());var j=new $.ig.List$1($.ig.IMdxSet.prototype.$type,0);var k=e.getHostPositionItemInfo(g.position(),g.position().indexOf(g));var m=g.position().getItems().getEnumerator();while(m.moveNext()){var l=m.current();var n;if(l==g){n=new $.ig.MdxChildrenCollectionElement(l.key(),l.key(),-1,null,null);i.addElement(n);break}n=new $.ig.MdxSingleElement(0,l.key(),l.key(),l.depth());i.addElement(n)}var o=k.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(p){return p.key()==g.key()}).firstOrDefault$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(o!=null){if(o.count()==0){j.add(i)}else{$self.p(o,i,j,false,true,false)}var q=j.getEnumerator();while(q.moveNext()){var p=q.current();a.addSet(p);f.addSet(p)}}}return f},t:function(a,b){if(this.l!=0){var c=new $.ig.MdxSet(1,this.g().a());if(this.l==-1){b.add(c)}this.s(a,c,b);this.p(a,new $.ig.MdxSet(1,this.g().a()),b,true,false,true)}else{this.p(a,new $.ig.MdxSet(1,this.g().a()),b,false,false,true)}},s:function(a,b,c){var $self=this;var d=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(e){return e.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(d.count()==0){return}if($self.l==a.positionItemIndex()+1){var f=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(g){return g.positionItemDepth()==0}).getEnumerator();while(f.moveNext()){var e=f.current();var g=b.clone();var h=new $.ig.MdxSingleElement(0,e.positionItem().key(),e.positionItem().key(),0);g.addElement(h);c.add(g);$self.u(e);if(e.count()==0){$self.n($self.i(),e.positionItemIndex()+1,g)}else{$self.s(e,g,c)}}}else{var i=d.item(0);var j=new $.ig.MdxLevelMembersElement(i.hierarchyLevelKey(),i.hierarchyLevelKey(),a.positionItemDepthMin());b.addElement(j);$self.u(i);if(i.count()==0){if($self.l!=-1){c.add(b)}$self.n($self.i(),i.positionItemIndex()+1,b)}else{$self.s(i,b,c)}}},createAxis:function(a){if(this.e()!=null){return this.e()}if(this.d()==null){this.e(this.createAxis1(a,this.i()));return this.e()}this.r(a);this.u(this.d());if(this.d().count()==0){this.e(this.createAxis1(a,this.i()));return this.e()}var b=new $.ig.List$1($.ig.IMdxSet.prototype.$type,0);this.t(this.d(),b);var c=new $.ig.MdxAxis(1,a,this.g());var e=b.getEnumerator();while(e.moveNext()){var d=e.current();c.addSet(d)}this.e(c);return c},r:function(a){var b=this.b().columnAxis().count()>0;var c=this.b().rowAxis().count()>0;var d=this.b().measures().count()>1;if(d){if(a==0){if(b){if(this.b().measureListLocation()==$.ig.MeasureListLocation.prototype.columns){this.l=this.b().measureListIndex()}}else if(c&&this.b().measureListLocation()==$.ig.MeasureListLocation.prototype.rows){this.l=this.b().measureListIndex()}}else if(a==1&&c&&this.b().measureListLocation()==$.ig.MeasureListLocation.prototype.rows){this.l=this.b().measureListIndex()}}var f=this.b().measures().getEnumerator();while(f.moveNext()){var e=f.current();this.k.add(e.uniqueName())}},u:function(a){if(this.i()!=null){var b=a.positionItemIndex()+1;if(b<this.i().count()){var c=this.i().item(b);var d=$.ig.util.cast($.ig.MeasureList.prototype.$type,c);if(d!=null){var e=a.values().toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));var g=e.getEnumerator();while(g.moveNext()){var f=g.current();if(!this.k.contains(f.key())){a.remove(f.key())}}}var h=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(h!=null){var i=a.values().firstOrDefault$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(i!=null){if(i.hierarchyKey()!=h.uniqueName()){a.clear()}}}}else{a.clear()}}},createAxis1:function(a,b){var c=new $.ig.MdxSet(1,this.g().a());this.n(b,0,c);var d=new $.ig.MdxAxis(1,a,this.g());
d.addSet(c);return d},n:function(a,b,c){var $self=this;if(a==null){return}for(var d=b;d<a.count();d++){var e=a.item(d);var f=$.ig.util.cast($.ig.Hierarchy.prototype.$type,e);if(f!=null){if(f.allMember()==null){var g=$self.b().getCoreElements(function(h){return h.hierarchyUniqueName()==f.uniqueName()},$.ig.Level.prototype.$type).toList$1($.ig.ICoreOlapElement.prototype.$type);var h=g.item(0);c.addElement(new $.ig.MdxLevelMembersElement(h.uniqueName(),h.uniqueName(),0))}else{c.addElement(new $.ig.MdxSingleElement(0,f.defaultMember(),f.defaultMember(),0))}continue}var i=$.ig.util.cast($.ig.Level.prototype.$type,e);if(i!=null){var j;if(!function(){var $ret=$self.h.tryGetValue(i.hierarchyUniqueName(),j);j=$ret.value;return $ret.ret}()){j=new $.ig.MdxElementCollectionElement;c.addElement(j);$self.h.add(i.hierarchyUniqueName(),j)}j.addElement(new $.ig.MdxLevelMembersElement(i.uniqueName(),i.uniqueName(),i.depth()));continue}var k=$.ig.util.cast($.ig.MeasureList.prototype.$type,e);if(k!=null){var l=new $.ig.MdxElementCollectionElement;var n=k.measures().getEnumerator();while(n.moveNext()){var m=n.current();l.addElement(new $.ig.MdxSingleElement(0,m.uniqueName(),m.uniqueName(),0))}c.addElement(l)}}},o:function(a,b,c,d,e,f,g){var h=c.clone();h.addElement(new $.ig.MdxSingleElement(0,b.key(),b.key(),b.positionItemDepth()));this.u(b);if(b.count()==0){if(e){if(f){d.add(h);this.n(this.i(),b.positionItemIndex()+1,h)}}else{d.add(h);this.n(this.i(),b.positionItemIndex()+1,h)}}else{this.p(b,h,d,e,f,g)}if(g&&b.isExpanded()){this.m(b,d,a,c)}},m:function(a,b,c,d){var $self=this;var e=c.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(f){return f.parentKey()==a.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(e.count()>0){var f=d.clone();f.addElement(new $.ig.MdxChildrenCollectionElement(a.key(),a.key(),a.positionItemDepth(),null,null));$self.u(a);if(a.count()==0){b.add(f);$self.n($self.i(),a.positionItemIndex()+1,f)}else{$self.p(a,f,b,true,true,false)}}var h=e.getEnumerator();while(h.moveNext()){var g=h.current();var i=d.clone();i.addElement(new $.ig.MdxSingleElement(0,g.key(),g.key(),g.positionItemDepth()));$self.u(g);if(g.isExpanded()){$self.m(g,b,c,d)}$self.p(g,i,b,true,false,true)}},p:function(a,b,c,d,e,f){var $self=this;var g=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(h){return h.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(g.count()==0){return}var i=g.getEnumerator();while(i.moveNext()){var h=i.current();$self.o(a,h,b,c,d,e,f)}},$type:new $.ig.Type("MdxDimensionAxisProvider",$.ig.Object.prototype.$type,[$.ig.IMdxDimensionAxisProvider.prototype.$type])},true);$.ig.util.defType("MdxSlicerAxisProvider","Object",{c:null,e:null,d:null,init:function(a,b,c,d,e){this.c=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);this.e=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);this.d=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);$.ig.Object.prototype.init.call(this);this.a(a);this.b(e);this.c=b;this.e=c;this.d=d},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},createAxis:function(a){var b=new $.ig.MdxSlicerAxis(this.b().c());b.axisIndex(a);b.columnsFilter($.ig.MdxSlicerAxisBuilder.prototype.a(this.c,b));b.rowsFilter($.ig.MdxSlicerAxisBuilder.prototype.a(this.e,b));b.filtersFilter($.ig.MdxSlicerAxisBuilder.prototype.a(this.d,b));b.measureFilter($.ig.MdxSlicerAxisBuilder.prototype.b(this.a().measures(),b));return b},$type:new $.ig.Type("MdxSlicerAxisProvider",$.ig.Object.prototype.$type,[$.ig.IMdxAxisProvider.prototype.$type])},true);$.ig.util.defType("MdxSlicerAxisBuilder","Object",{init:function(){$.ig.Object.prototype.init.call(this)},b:function(a,b){if(a.count$1($.ig.Measure.prototype.$type)==0){return null}var c=new $.ig.MdxAxisFilterElement;var d=new $.ig.MdxElementCollectionElement;var f=a.getEnumerator();while(f.moveNext()){var e=f.current();var g=new $.ig.MdxSingleElement(0,e.uniqueName(),e.uniqueName(),0);d.addElement(g)}var h=new $.ig.MdxSlicerSet;h.addElement(c);b.addSet(h);c.addFilterPart(d,true);return c},a:function(a,b){var $self=this;var c=new $.ig.MdxAxisFilterElement;for(var d=0;d<a.count();d++){var e=a.item(d);var f=new $.ig.MdxElementCollectionElement;var g=new $.ig.Dictionary$2(String,$.ig.MdxSingleElement.prototype.$type,0);var i=e.a().getEnumerator();while(i.moveNext()){var h=i.current();var j;if(!function(){var $ret=g.tryGetValue(h,j);j=$ret.value;return $ret.ret}()){j=new $.ig.MdxSingleElement(0,h,h,-1);g.add(h,j)}f.addElement(j)}c.addFilterPart(f,false)}if(c.filterCollection().count()==0&&c.singleFilterElements().count()==0){return null}var k=new $.ig.MdxSlicerSet;k.addElement(c);b.addSet(k);return c},$type:new $.ig.Type("MdxSlicerAxisBuilder",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IXmlaDataProviderFactory","Object",{$type:new $.ig.Type("IXmlaDataProviderFactory",null,[$.ig.IOlapDataProviderFactory.prototype.$type])},true);$.ig.util.defType("DefaultXmlaDataProviderFactory","Object",{b:null,a:null,init:function(a,b){$.ig.Object.prototype.init.call(this);this.b=a;this.a=b},createDataProvider:function(){return new $.ig.XmlaDataProvider(new $.ig.XmlaConnection(new $.ig.Uri(this.b),this.a),null)},$type:new $.ig.Type("DefaultXmlaDataProviderFactory",$.ig.Object.prototype.$type,[$.ig.IXmlaDataProviderFactory.prototype.$type])},true);$.ig.util.defType("RemoteXmlaDataProviderFactory","Object",{a:null,b:null,d:null,c:null,init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$.ig.Object.prototype.init.call(this);this.a=new $.ig.JsonRemoteRequestSerializer;this.b=new $.ig.JsonRemoteResponseSerializer},init1:function(initNumber,a,b){$.ig.Object.prototype.init.call(this);this.a=new $.ig.JsonRemoteRequestSerializer;this.b=new $.ig.JsonRemoteResponseSerializer;this.d=a;this.c=b},init2:function(initNumber,a,b){$.ig.Object.prototype.init.call(this);this.a=a;this.b=b},createDataProvider:function(){return new $.ig.RemoteXmlaDataProvder(this.d,this.c,this.a,this.b)},$type:new $.ig.Type("RemoteXmlaDataProviderFactory",$.ig.Object.prototype.$type,[$.ig.IXmlaDataProviderFactory.prototype.$type])},true);$.ig.util.defType("IRemoteRequestSerializer","Object",{$type:new $.ig.Type("IRemoteRequestSerializer",null)},true);$.ig.util.defType("IRemoteResponseSerializer","Object",{$type:new $.ig.Type("IRemoteResponseSerializer",null)},true);$.ig.util.defType("JsonRemoteRequestSerializer","Object",{a:null,init:function(){$.ig.Object.prototype.init.call(this);this.a=new $.ig.JavaScriptSerializer},serializeRequest:function(a){return $.ig.RemoteRequestJsonTypeSeriazlier.prototype.b().serialize(a,this.a)},deserializeRequest:function(a){return $.ig.RemoteRequestJsonTypeSeriazlier.prototype.b().deserialize(a,this.a)},$type:new $.ig.Type("JsonRemoteRequestSerializer",$.ig.Object.prototype.$type,[$.ig.IRemoteRequestSerializer.prototype.$type])},true);$.ig.util.defType("JsonRemoteResponseSerializer","Object",{a:null,init:function(){$.ig.Object.prototype.init.call(this);this.a=new $.ig.JavaScriptSerializer},serializeResponse:function(a,b){switch(b){case $.ig.RemoteRequestType.prototype.discoverCatalogs:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Catalog.prototype.$type,a,$.ig.CatalogJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverCubes:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Cube.prototype.$type,a,$.ig.CubeJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverDimensions:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Dimension.prototype.$type,a,$.ig.DimensionJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverHierarchies:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Hierarchy.prototype.$type,a,$.ig.HierarchyJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverLevels:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Level.prototype.$type,a,$.ig.LevelJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasures:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Measure.prototype.$type,a,$.ig.MeasureJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasureGroups:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.MeasureGroup.prototype.$type,a,$.ig.MeasureGroupJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasureGroupDimensions:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.MeasureGroupDimension.prototype.$type,a,$.ig.MeasureGroupDimensionJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMembers:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Member.prototype.$type,a,$.ig.MemberJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverKpis:return $.ig.ArrayJsonSerializer.prototype.b().f($.ig.Kpi.prototype.$type,a,$.ig.KpiJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.executeStatement:return $.ig.ResultJsonTypeSeriazlier.prototype.b().serialize(a,this.a);default:throw new $.ig.Error(1,"Unknown RemoteXmlaRequestType.")}},deserializeResponse:function(a,b){switch(b){case $.ig.RemoteRequestType.prototype.discoverCatalogs:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Catalog.prototype.$type,a,$.ig.CatalogJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverCubes:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Cube.prototype.$type,a,$.ig.CubeJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverDimensions:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Dimension.prototype.$type,a,$.ig.DimensionJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverHierarchies:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Hierarchy.prototype.$type,a,$.ig.HierarchyJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverLevels:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Level.prototype.$type,a,$.ig.LevelJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasures:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Measure.prototype.$type,a,$.ig.MeasureJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasureGroups:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.MeasureGroup.prototype.$type,a,$.ig.MeasureGroupJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMeasureGroupDimensions:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.MeasureGroupDimension.prototype.$type,a,$.ig.MeasureGroupDimensionJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverMembers:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Member.prototype.$type,a,$.ig.MemberJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.discoverKpis:return $.ig.ArrayJsonSerializer.prototype.b().d($.ig.Kpi.prototype.$type,a,$.ig.KpiJsonTypeSeriazlier.prototype.b(),this.a);case $.ig.RemoteRequestType.prototype.executeStatement:return $.ig.ResultJsonTypeSeriazlier.prototype.b().deserialize(a,this.a);default:throw new $.ig.Error(1,"Unknown RemoteXmlaRequestType.")}},$type:new $.ig.Type("JsonRemoteResponseSerializer",$.ig.Object.prototype.$type,[$.ig.IRemoteResponseSerializer.prototype.$type])},true);$.ig.util.defType("ArrayJsonSerializer","Object",{init:function(){$.ig.Object.prototype.init.call(this)},b:function(){return $.ig.ArrayJsonSerializer.prototype.a},d:function($t,a,b,c){var d=c.a(a);return this.e($t,d,b)},f:function($t,a,b,c){var d=this.c($t,a,b);return c.b(d)},e:function($t,a,b){var c=new $.ig.List$1($t,0);for(var d=0;d<a.length;d++){var e=a[d];c.add(b.fromJsonObject(e))}return c},c:function($t,a,b){var c=a.toArray$1($t);var d=new Array(c.length);for(var e=0;e<c.length;e++){d[e]=b.toJsonObject(c[e])}return d},$type:new $.ig.Type("ArrayJsonSerializer",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IJsonTypeSerializer$1","Object",{$type:new $.ig.Type("IJsonTypeSerializer$1",null)},true);$.ig.util.defType("JsonTypeSeriazlierBase$1","Object",{$t:null,init:function($t){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this)},deserialize:function(a,b){return this.fromJsonObject(b.a(a))},serialize:function(a,b){return b.b(this.toJsonObject(a))},fromJsonObject:function(a){},toJsonObject:function(a){},$type:new $.ig.Type("JsonTypeSeriazlierBase$1",$.ig.Object.prototype.$type,[$.ig.IJsonTypeSerializer$1.prototype.$type.specialize(0)])},true);$.ig.util.defType("AxisJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.OlapResultAxis.prototype.$type)},b:function(){return $.ig.AxisJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;var b=$.ig.JsonSerializerUtils.prototype.d(a,"n");var c=$.ig.ArrayJsonSerializer.prototype.b().e($.ig.OlapResultTuple.prototype.$type,$.ig.JsonSerializerUtils.prototype.d(a,"t"),$.ig.TupleJsonTypeSeriazlier.prototype.b());var d=0;if(c.count()>0){d=c.item(0).members().count()}return function(){var $ret=new $.ig.OlapResultAxis(c,d);$ret.name(b);return $ret}()},toJsonObject:function(a){var b=$.ig.ArrayJsonSerializer.prototype.b().c($.ig.OlapResultTuple.prototype.$type,a.tuples(),$.ig.TupleJsonTypeSeriazlier.prototype.b());var c=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(c,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(c,"t",b);return c},$type:new $.ig.Type("AxisJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.OlapResultAxis.prototype.$type))},true);$.ig.util.defType("AxisMemberJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.OlapResultAxisMember.prototype.$type)},b:function(){return $.ig.AxisMemberJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.OlapResultAxisMember;$ret.hierarchyUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"hun"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.levelUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"lun"));$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.levelNumber($.ig.JsonSerializerUtils.prototype.d(a,"ln"));$ret.displayInfo($.ig.JsonSerializerUtils.prototype.d(a,"di"));$ret.properties($.ig.JsonSerializerUtils.prototype.b(a,"p"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"hun",a.hierarchyUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"lun",a.levelUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"ln",a.levelNumber());$.ig.JsonSerializerUtils.prototype.f(b,"di",a.displayInfo());$.ig.JsonSerializerUtils.prototype.g(b,"p",a.properties());return b},$type:new $.ig.Type("AxisMemberJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.OlapResultAxisMember.prototype.$type))},true);$.ig.util.defType("CatalogJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Catalog.prototype.$type)},b:function(){return $.ig.CatalogJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Catalog;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());return b},$type:new $.ig.Type("CatalogJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Catalog.prototype.$type))},true);$.ig.util.defType("CellJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.OlapResultCell.prototype.$type)},b:function(){return $.ig.CellJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.OlapResultCell;$ret.cellOrdinal($.ig.JsonSerializerUtils.prototype.d(a,"co"));$ret.properties($.ig.JsonSerializerUtils.prototype.a(a,"p"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"co",a.cellOrdinal());$.ig.JsonSerializerUtils.prototype.e(b,"p",a.properties());return b},$type:new $.ig.Type("CellJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.OlapResultCell.prototype.$type))},true);$.ig.util.defType("CubeJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Cube.prototype.$type)},b:function(){return $.ig.CubeJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Cube;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.catalogName($.ig.JsonSerializerUtils.prototype.d(a,"cn"));$ret.cubeType($.ig.JsonSerializerUtils.prototype.d(a,"ct"));$ret.lastProcessed($.ig.JsonSerializerUtils.prototype.d(a,"lp"));$ret.lastUpdated($.ig.JsonSerializerUtils.prototype.d(a,"lu"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"cn",a.catalogName());$.ig.JsonSerializerUtils.prototype.f(b,"ct",a.cubeType());$.ig.JsonSerializerUtils.prototype.f(b,"lp",a.lastProcessed());$.ig.JsonSerializerUtils.prototype.f(b,"lu",a.lastUpdated());return b},$type:new $.ig.Type("CubeJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Cube.prototype.$type))},true);$.ig.util.defType("DimensionJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Dimension.prototype.$type)},b:function(){return $.ig.DimensionJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Dimension;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.dimensionType($.ig.JsonSerializerUtils.prototype.d(a,"dt"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"dt",a.dimensionType());return b},$type:new $.ig.Type("DimensionJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Dimension.prototype.$type))},true);$.ig.util.defType("HierarchyJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Hierarchy.prototype.$type)},b:function(){return $.ig.HierarchyJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Hierarchy;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.allMember($.ig.JsonSerializerUtils.prototype.d(a,"am"));$ret.defaultMember($.ig.JsonSerializerUtils.prototype.d(a,"dm"));$ret.dimensionUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"dun"));$ret.hierarchyDisplayFolder($.ig.JsonSerializerUtils.prototype.d(a,"hdf"));$ret.hierarchyOrigin($.ig.JsonSerializerUtils.prototype.d(a,"ho"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"am",a.allMember());$.ig.JsonSerializerUtils.prototype.f(b,"dm",a.defaultMember());$.ig.JsonSerializerUtils.prototype.f(b,"dun",a.dimensionUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"hdf",a.hierarchyDisplayFolder());$.ig.JsonSerializerUtils.prototype.f(b,"ho",a.hierarchyOrigin());return b},$type:new $.ig.Type("HierarchyJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Hierarchy.prototype.$type))},true);$.ig.util.defType("JsonSerializerUtils","Object",{init:function(){$.ig.Object.prototype.init.call(this)},c:function(){return $.ig.jQueryUtils.prototype.createJavascriptObject()},d:function(a,b){return $.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,b)},f:function(a,b,c){$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(a,b,c)},a:function(a,b){return $.ig.jQueryUtils.prototype.convertToObjectDictionary($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,b))},e:function(a,b,c){var d=$.ig.jQueryUtils.prototype.convertFromObjectDictionary(c);$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(a,b,d)},b:function(a,b){return $.ig.jQueryUtils.prototype.convertToStringDictionary($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,b))},g:function(a,b,c){var d=$.ig.jQueryUtils.prototype.convertFromStringDictionary(c);$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(a,b,d)},$type:new $.ig.Type("JsonSerializerUtils",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KpiJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Kpi.prototype.$type)},b:function(){return $.ig.KpiJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Kpi;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.kpiDisplayFolder($.ig.JsonSerializerUtils.prototype.d(a,"kdf"));$ret.measureGroupName($.ig.JsonSerializerUtils.prototype.d(a,"mgn"));$ret.kpiStatusGraphic($.ig.JsonSerializerUtils.prototype.d(a,"ksg"));$ret.kpiTrendGraphic($.ig.JsonSerializerUtils.prototype.d(a,"ktg"));$ret.parentKpiName($.ig.JsonSerializerUtils.prototype.d(a,"pkn"));$ret.kpiGoal($.ig.JsonSerializerUtils.prototype.d(a,"kg"));$ret.kpiStatus($.ig.JsonSerializerUtils.prototype.d(a,"ks"));$ret.kpiTrend($.ig.JsonSerializerUtils.prototype.d(a,"kt"));$ret.kpiValue($.ig.JsonSerializerUtils.prototype.d(a,"kv"));$ret.kpiWeight($.ig.JsonSerializerUtils.prototype.d(a,"kw"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"kdf",a.kpiDisplayFolder());$.ig.JsonSerializerUtils.prototype.f(b,"mgn",a.measureGroupName());$.ig.JsonSerializerUtils.prototype.f(b,"ksg",a.kpiStatusGraphic());$.ig.JsonSerializerUtils.prototype.f(b,"ktg",a.kpiTrendGraphic());$.ig.JsonSerializerUtils.prototype.f(b,"pkn",a.parentKpiName());$.ig.JsonSerializerUtils.prototype.f(b,"kg",a.kpiGoal());$.ig.JsonSerializerUtils.prototype.f(b,"ks",a.kpiStatus());$.ig.JsonSerializerUtils.prototype.f(b,"kt",a.kpiTrend());$.ig.JsonSerializerUtils.prototype.f(b,"kv",a.kpiValue());$.ig.JsonSerializerUtils.prototype.f(b,"kw",a.kpiWeight());return b},$type:new $.ig.Type("KpiJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Kpi.prototype.$type))},true);$.ig.util.defType("LevelJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Level.prototype.$type)},b:function(){return $.ig.LevelJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Level;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.depth($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.dimensionUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"dun"));$ret.hierarchyUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"hun"));$ret.levelOrderingProperty($.ig.JsonSerializerUtils.prototype.d(a,"lop"));$ret.levelOrigin($.ig.JsonSerializerUtils.prototype.d(a,"lo"));$ret.membersCount($.ig.JsonSerializerUtils.prototype.d(a,"mc"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.depth());$.ig.JsonSerializerUtils.prototype.f(b,"dun",a.dimensionUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"hun",a.hierarchyUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"lop",a.levelOrderingProperty());$.ig.JsonSerializerUtils.prototype.f(b,"lo",a.levelOrigin());$.ig.JsonSerializerUtils.prototype.f(b,"mc",a.membersCount());return b},$type:new $.ig.Type("LevelJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Level.prototype.$type))},true);$.ig.util.defType("MeasureGroupDimensionJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.MeasureGroupDimension.prototype.$type)},b:function(){return $.ig.MeasureGroupDimensionJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.MeasureGroupDimension;$ret.catalogName($.ig.JsonSerializerUtils.prototype.d(a,"cn"));$ret.cubeName($.ig.JsonSerializerUtils.prototype.d(a,"cbn"));$ret.dimensionCardinality($.ig.JsonSerializerUtils.prototype.d(a,"dc"));$ret.dimensionGranularity($.ig.JsonSerializerUtils.prototype.d(a,"dg"));$ret.dimensionPath($.ig.JsonSerializerUtils.prototype.d(a,"dap"));$ret.dimensionUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"dun"));$ret.isDimensionVisible($.ig.JsonSerializerUtils.prototype.d(a,"idv"));$ret.isFactDimension($.ig.JsonSerializerUtils.prototype.d(a,"iafd"));$ret.measureGroupCardinality($.ig.JsonSerializerUtils.prototype.d(a,"mgc"));$ret.measureGroupName($.ig.JsonSerializerUtils.prototype.d(a,"mgn"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"cn",a.catalogName());$.ig.JsonSerializerUtils.prototype.f(b,"cbn",a.cubeName());$.ig.JsonSerializerUtils.prototype.f(b,"dc",a.dimensionCardinality());$.ig.JsonSerializerUtils.prototype.f(b,"dg",a.dimensionGranularity());$.ig.JsonSerializerUtils.prototype.f(b,"dap",a.dimensionPath());$.ig.JsonSerializerUtils.prototype.f(b,"dun",a.dimensionUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"idv",a.isDimensionVisible());$.ig.JsonSerializerUtils.prototype.f(b,"iafd",a.isFactDimension());$.ig.JsonSerializerUtils.prototype.f(b,"mgc",a.measureGroupCardinality());$.ig.JsonSerializerUtils.prototype.f(b,"mgn",a.measureGroupName());return b},$type:new $.ig.Type("MeasureGroupDimensionJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.MeasureGroupDimension.prototype.$type))},true);$.ig.util.defType("MeasureGroupJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.MeasureGroup.prototype.$type)},b:function(){return $.ig.MeasureGroupJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.MeasureGroup;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.catalogName($.ig.JsonSerializerUtils.prototype.d(a,"cn"));$ret.cubeName($.ig.JsonSerializerUtils.prototype.d(a,"cbn"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"cn",a.catalogName());$.ig.JsonSerializerUtils.prototype.f(b,"cbn",a.cubeName());return b},$type:new $.ig.Type("MeasureGroupJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type))},true);$.ig.util.defType("MeasureJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Measure.prototype.$type)},b:function(){return $.ig.MeasureJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.Measure;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.aggregatorType($.ig.JsonSerializerUtils.prototype.d(a,"at"));$ret.defaultFormatString($.ig.JsonSerializerUtils.prototype.d(a,"dfs"));$ret.measureDisplayFolder($.ig.JsonSerializerUtils.prototype.d(a,"mdf"));$ret.measureGroupName($.ig.JsonSerializerUtils.prototype.d(a,"mgn"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"at",a.aggregatorType());$.ig.JsonSerializerUtils.prototype.f(b,"dfs",a.defaultFormatString());$.ig.JsonSerializerUtils.prototype.f(b,"mdf",a.measureDisplayFolder());$.ig.JsonSerializerUtils.prototype.f(b,"mgn",a.measureGroupName());return b},$type:new $.ig.Type("MeasureJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Measure.prototype.$type))},true);$.ig.util.defType("MemberJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.Member.prototype.$type)},b:function(){return $.ig.MemberJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;var b=$.ig.util.toNullable($.ig.Number.prototype.$type,null);
var c=$.ig.JsonSerializerUtils.prototype.d(a,"s");return function(){var $ret=new $.ig.Member;$ret.caption($.ig.JsonSerializerUtils.prototype.d(a,"c"));$ret.description($.ig.JsonSerializerUtils.prototype.d(a,"d"));$ret.name($.ig.JsonSerializerUtils.prototype.d(a,"n"));$ret.uniqueName($.ig.JsonSerializerUtils.prototype.d(a,"un"));$ret.catalogName($.ig.JsonSerializerUtils.prototype.d(a,"cn"));$ret.childrenCardinality($.ig.JsonSerializerUtils.prototype.d(a,"cc"));$ret.cubeName($.ig.JsonSerializerUtils.prototype.d(a,"cbn"));$ret.dimensionUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"dun"));$ret.hierarchyUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"hun"));$ret.levelDepth($.ig.JsonSerializerUtils.prototype.d(a,"ld"));$ret.levelUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"lun"));$ret.memberType($.ig.JsonSerializerUtils.prototype.d(a,"mt"));$ret.parentLevel($.ig.JsonSerializerUtils.prototype.d(a,"pl"));$ret.parentUniqueName($.ig.JsonSerializerUtils.prototype.d(a,"pun"));$ret.scope(c==null?b:$.ig.Number.prototype.parseInt(c));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"c",a.caption());$.ig.JsonSerializerUtils.prototype.f(b,"d",a.description());$.ig.JsonSerializerUtils.prototype.f(b,"n",a.name());$.ig.JsonSerializerUtils.prototype.f(b,"un",a.uniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"cn",a.catalogName());$.ig.JsonSerializerUtils.prototype.f(b,"cc",a.childrenCardinality());$.ig.JsonSerializerUtils.prototype.f(b,"cbn",a.cubeName());$.ig.JsonSerializerUtils.prototype.f(b,"dun",a.dimensionUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"hun",a.hierarchyUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"ld",a.levelDepth());$.ig.JsonSerializerUtils.prototype.f(b,"lun",a.levelUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"mt",a.memberType());$.ig.JsonSerializerUtils.prototype.f(b,"pl",a.parentLevel());$.ig.JsonSerializerUtils.prototype.f(b,"pun",a.parentUniqueName());$.ig.JsonSerializerUtils.prototype.f(b,"s",a.scope());return b},$type:new $.ig.Type("MemberJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.Member.prototype.$type))},true);$.ig.util.defType("RemoteRequest","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},$type:new $.ig.Type("RemoteRequest",$.ig.Object.prototype.$type)},true);$.ig.util.defType("RemoteRequestJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.RemoteRequest.prototype.$type)},b:function(){return $.ig.RemoteRequestJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;return function(){var $ret=new $.ig.RemoteRequest;$ret.a($.ig.JsonSerializerUtils.prototype.d(a,"t"));$ret.c($.ig.JsonSerializerUtils.prototype.b(a,"p"));$ret.d($.ig.JsonSerializerUtils.prototype.b(a,"r"));$ret.b($.ig.JsonSerializerUtils.prototype.b(a,"par"));$ret.e($.ig.JsonSerializerUtils.prototype.d(a,"s"));return $ret}()},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"t",a.a());$.ig.JsonSerializerUtils.prototype.g(b,"p",a.c());$.ig.JsonSerializerUtils.prototype.g(b,"r",a.d());$.ig.JsonSerializerUtils.prototype.g(b,"par",a.b());$.ig.JsonSerializerUtils.prototype.f(b,"s",a.e());return b},$type:new $.ig.Type("RemoteRequestJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.RemoteRequest.prototype.$type))},true);$.ig.util.defType("ResultJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.OlapResult.prototype.$type)},b:function(){return $.ig.ResultJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var $self=this;var b=$.ig.JsonSerializerUtils.prototype.d(a,"ie");if(b){return function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}()}else{var c=$.ig.ArrayJsonSerializer.prototype.b().e($.ig.OlapResultAxis.prototype.$type,$.ig.JsonSerializerUtils.prototype.d(a,"a"),$.ig.AxisJsonTypeSeriazlier.prototype.b());var d=$.ig.ArrayJsonSerializer.prototype.b().e($.ig.OlapResultCell.prototype.$type,$.ig.JsonSerializerUtils.prototype.d(a,"c"),$.ig.CellJsonTypeSeriazlier.prototype.b());return function(){var $ret=new $.ig.OlapResult;$ret.axes(c);$ret.cells(d);return $ret}()}},toJsonObject:function(a){var b=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(b,"ie",a.isEmpty());if(!a.isEmpty()){var c=$.ig.ArrayJsonSerializer.prototype.b().c($.ig.OlapResultAxis.prototype.$type,a.axes(),$.ig.AxisJsonTypeSeriazlier.prototype.b());var d=$.ig.ArrayJsonSerializer.prototype.b().c($.ig.OlapResultCell.prototype.$type,a.cells(),$.ig.CellJsonTypeSeriazlier.prototype.b());$.ig.JsonSerializerUtils.prototype.f(b,"a",c);$.ig.JsonSerializerUtils.prototype.f(b,"c",d)}return b},$type:new $.ig.Type("ResultJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.OlapResult.prototype.$type))},true);$.ig.util.defType("TupleJsonTypeSeriazlier","JsonTypeSeriazlierBase$1",{init:function(){$.ig.JsonTypeSeriazlierBase$1.prototype.init.call(this,$.ig.OlapResultTuple.prototype.$type)},b:function(){return $.ig.TupleJsonTypeSeriazlier.prototype.a},fromJsonObject:function(a){var b=$.ig.ArrayJsonSerializer.prototype.b().e($.ig.OlapResultAxisMember.prototype.$type,$.ig.JsonSerializerUtils.prototype.d(a,"m"),$.ig.AxisMemberJsonTypeSeriazlier.prototype.b());var c=new $.ig.OlapResultTuple(b);var e=b.getEnumerator();while(e.moveNext()){var d=e.current();d.position(c)}return c},toJsonObject:function(a){var b=$.ig.ArrayJsonSerializer.prototype.b().c($.ig.OlapResultAxisMember.prototype.$type,a.members(),$.ig.AxisMemberJsonTypeSeriazlier.prototype.b());var c=$.ig.JsonSerializerUtils.prototype.c();$.ig.JsonSerializerUtils.prototype.f(c,"m",b);return c},$type:new $.ig.Type("TupleJsonTypeSeriazlier",$.ig.JsonTypeSeriazlierBase$1.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type))},true);$.ig.util.defType("RemoteXmlaDataProvder","Object",{e:null,d:null,a:null,b:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.e=a;this.d=b;this.a=c;this.b=d},discoverCatalogsAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverCatalogs,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Catalog.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverCatalogs)})},discoverCubesAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverCubes,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Cube.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverCubes)})},discoverDimensionsAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverDimensions,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverDimensions)})},discoverHierarchiesAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverHierarchies,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Hierarchy.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverHierarchies)})},discoverLevelsAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverLevels,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Level.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverLevels)})},discoverMeasuresAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverMeasures,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverMeasures)})},discoverMeasureGroupsAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverMeasureGroups,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverMeasureGroups)})},discoverMeasureGroupDimensionsAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverMeasureGroupDimensions,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.MeasureGroupDimension.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverMeasureGroupDimensions)})},discoverMembersAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverMembers,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverMembers)})},discoverKpisAsync:function(a,b){var $self=this;var c=$self.b;return $self.f($.ig.RemoteRequestType.prototype.discoverKpis,a,b,null,null).j($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Kpi.prototype.$type),function(d){return c.deserializeResponse(d.m(),$.ig.RemoteRequestType.prototype.discoverKpis)})},executeStatementAsync:function(a,b,c){var $self=this;var d=$self.b;return $self.f($.ig.RemoteRequestType.prototype.executeStatement,b,null,c,a).j($.ig.OlapResult.prototype.$type,function(e){return d.deserializeResponse(e.m(),$.ig.RemoteRequestType.prototype.executeStatement)})},f:function(a,b,c,d,e){var $self=this;var f=function(){var $ret=new $.ig.WebClient;$ret.a($self.d);return $ret}();var g=$self.a.serializeRequest(function(){var $ret=new $.ig.RemoteRequest;$ret.a(a);$ret.c($self.c(b));$ret.d($self.c(c));$ret.b($self.c(d));$ret.e(e);return $ret}());var h=new $.ig.TaskCompletionSource$1(String,0);f.uploadStringCompleted=$.ig.Delegate.prototype.combine(f.uploadStringCompleted,$self.g.runOn($self));f.h(new $.ig.Uri($self.e),"POST",g,h);return h.b()},g:function(a,b){var c=b.userState();if(b.cancelled()){c.c()}else if(b.error()!=null){c.d(b.error())}else{c.e(b.result())}},c:function(a){if(a==null){return null}var b=new $.ig.Dictionary$2(String,String,0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c.a(),c.b())}return b},$type:new $.ig.Type("RemoteXmlaDataProvder",$.ig.Object.prototype.$type,[$.ig.IXmlaDataProvider.prototype.$type])},true);$.ig.util.defType("XmlaConnection","Object",{b:null,a:null,init:function(a,b){$.ig.Object.prototype.init.call(this);this.b=a;this.a=b},getXmlaSoapWebClient$1:function($t){var a=new $.ig.XmlaSoapWebClient$1($t,this.b,$.ig.Encoding.prototype.uTF8());a.e(this.a);return a},$type:new $.ig.Type("XmlaConnection",$.ig.Object.prototype.$type,[$.ig.ICoreXmlaConnection.prototype.$type])},true);$.ig.util.defType("XmlaDataSourceImpl","MdxDataSourceImpl",{init:function(a){$.ig.MdxDataSourceImpl.prototype.init.call(this,a);this.xmlaSourceOptions(a)},_xmlaSourceOptions:null,xmlaSourceOptions:function(value){if(arguments.length===1){this._xmlaSourceOptions=value;return value}else{return this._xmlaSourceOptions}},aq:function(a){var $self=this;var b=$self.dataProviderFactory().createDataProvider();var c=$self.getProviderDefaultRestrictions();$self.bj(c,$.ig.CubeRestrictions.prototype.a,a);var d=$self.getProviderDefaultProperties();$self.bj(d,$.ig.XmlaDiscoverProperties.prototype.a,a);var e=b.discoverCubesAsync(d,c).j($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),function(f){$self.cubes($self.a1($.ig.Cube.prototype.$type,f.m()));return $self.cubes()});return e},ar:function(){var $self=this;var a=$self.catalog().name();var b=$self.cube().name();var c=$self.dataProviderFactory().createDataProvider();var d=$self.getProviderDefaultRestrictions();$self.bj(d,$.ig.MeasureGroupRestrictions.prototype.a,a);$self.bj(d,$.ig.MeasureGroupRestrictions.prototype.b,b);var e=$self.getProviderDefaultProperties();$self.bj(e,$.ig.XmlaDiscoverProperties.prototype.a,a);var f=c.discoverMeasureGroupsAsync(e,d).j($.ig.IList$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type),function(g){$self.measureGroups($self.a1($.ig.MeasureGroup.prototype.$type,g.m()));return $self.measureGroups()});return f},h:function(){return new $.ig.DefaultXmlaDataProviderFactory(this.xmlaSourceOptions().serverUrl(),this.xmlaSourceOptions().requestOptions())},getProviderDefaultProperties:function(){var $self=this;var a=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);if($self.mdxSourceOptions().discoverProperties()!=null){var c=$self.mdxSourceOptions().discoverProperties().getEnumerator();while(c.moveNext()){var b=c.current();var d=new $.ig.XmlaQueryProperty(1,b.key(),b.value());a.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a(d.a());$ret.b(d.c());return $ret}())}}if($self.catalog()!=null){$self.bj(a,$.ig.XmlaDiscoverProperties.prototype.a,$self.catalog().name())}return a},$type:new $.ig.Type("XmlaDataSourceImpl",$.ig.MdxDataSourceImpl.prototype.$type)},true);$.ig.util.defType("XmlaDiscoverProperties","Object",{init:function(){$.ig.Object.prototype.init.call(this)},$type:new $.ig.Type("XmlaDiscoverProperties",$.ig.Object.prototype.$type)},true);$.ig.util.defType("XmlaDataSourceOptions","MdxDataSourceOptions",{init:function(){$.ig.MdxDataSourceOptions.prototype.init.call(this)},_serverUrl:null,serverUrl:function(value){if(arguments.length===1){this._serverUrl=value;return value}else{return this._serverUrl}},_requestOptions:null,requestOptions:function(value){if(arguments.length===1){this._requestOptions=value;return value}else{return this._requestOptions}},$type:new $.ig.Type("XmlaDataSourceOptions",$.ig.MdxDataSourceOptions.prototype.$type)},true);$.ig.util.defType("RequestOptions","NetworkCredential",{init:function(initNumber,a,b){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$.ig.RequestOptions.prototype.init1.call(this,1,a,b,String.empty())},init1:function(initNumber,a,b,c){$.ig.NetworkCredential.prototype.init1.call(this,1,a,b,c)},$type:new $.ig.Type("RequestOptions",$.ig.NetworkCredential.prototype.$type)},true);$.ig.util.defType("CustomRemoteXmlaRequestSerializer","Object",{a:null,init:function(a){$.ig.Object.prototype.init.call(this);this.a=a},serializeRequest:function(a){return this.a(a)},deserializeRequest:function(a){throw new $.ig.NotSupportedException(1)},$type:new $.ig.Type("CustomRemoteXmlaRequestSerializer",$.ig.Object.prototype.$type,[$.ig.IRemoteRequestSerializer.prototype.$type])},true);$.ig.util.defType("CustomRemoteXmlaResponseSerializer","Object",{a:null,init:function(a){$.ig.Object.prototype.init.call(this);this.a=a},serializeResponse:function(a,b){throw new $.ig.NotSupportedException(1)},deserializeResponse:function(a,b){return this.a(a,b)},$type:new $.ig.Type("CustomRemoteXmlaResponseSerializer",$.ig.Object.prototype.$type,[$.ig.IRemoteResponseSerializer.prototype.$type])},true);$.ig.util.defType("OlapXmlaDataSource","DataSourceBase",{staticInit:function(){$.ig.OlapXmlaDataSource.prototype.a5()},init:function(a){var $self=this;$.ig.DataSourceBase.prototype.init.call(this);var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"serverUrl");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"catalog");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"cube");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measures");var f=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measureGroup");var g=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"filters");var h=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"columns");var i=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"rows");var j=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"requestOptions");var k=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"enableResultCache");var l=true;if(k!=null){l=k}var m=$.ig.jQueryUtils.prototype.convertToStringDictionary($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"discoverProperties"));var n=$.ig.jQueryUtils.prototype.convertToStringDictionary($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"executeProperties"));var o=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isRemote");if(o){if(j==null){j={}}var ro_=j;ro_.isCrossDomain=false}var p=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"serializeRequest");var q=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"deserializeResponse");var r=this.a0(a);var s=function(){var $ret=new $.ig.XmlaDataSourceOptions;$ret.serverUrl(b);$ret.requestOptions(j);$ret.catalog(c);$ret.cube(d);$ret.measures(e);$ret.measureGroup(f);$ret.filters(g);$ret.columns(h);$ret.rows(i);$ret.discoverProperties(m);$ret.executeProperties(n);$ret.enableResultCache(l);$ret.mdxSettings(r);return $ret}();if(o){var t=null;var u=null;if(p!=null){t=new $.ig.CustomRemoteXmlaRequestSerializer(p)}if(q!=null){u=new $.ig.CustomRemoteXmlaResponseSerializer(q)}var v=new $.ig.RemoteXmlaDataProviderFactory(1,b,j);s.dataProviderFactory(v)}this.dataSource(new $.ig.XmlaDataSourceImpl(s))},catalogs:function(){return this.dataSource().catalogs().inner()},catalog:function(){return this.dataSource().catalog()},setCatalog:function(a){var $self=this;return $self.dataSource().setCatalog(a).j($.ig.Array.prototype.$type,function(b){return b.m().inner()}).c()},measureGroups:function(){return this.dataSource().measureGroups().inner()},measureGroup:function(){return this.dataSource().measureGroup()},setMeasureGroup:function(a){var $self=this;return $self.dataSource().setMeasureGroup(a).j($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return b.m()}).c()},a0:function(a){var b=new $.ig.MdxSettings;var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"mdxSettings");if(c==null){return b}var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"nonEmptyOnRows");if(d!=null){b.y(d)}var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"nonEmptyOnColumns");if(e!=null){b.x(e)}var f=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"addCalculatedMembersOnRows");if(f!=null){b.q(f)}var g=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"addCalculatedMembersOnColumns");if(g!=null){b.p(g)}var h=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"dimensionPropertiesOnRows");if(h!=null){for(var i=0;i<h.count();i++){b.ac().add(h.item(i))}}var j=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(c,"dimensionPropertiesOnColumns");if(j!=null){for(var k=0;k<j.count();k++){b.ab().add(j.item(k))}}return b},a5:function(){$.ig.StringBuilder.prototype.toString=function(){return this._internal.join("")};$.ig.XObject.prototype.toString=function(){if(this.backingNode()!=null){return $.ig.XmlUtils.prototype.xmlNodeToString(this.backingNode())}else{return""}}},$type:new $.ig.Type("OlapXmlaDataSource",$.ig.DataSourceBase.prototype.$type)},true);$.ig.RemoteRequestType.prototype.discoverCatalogs=0;$.ig.RemoteRequestType.prototype.discoverCubes=1;$.ig.RemoteRequestType.prototype.discoverDimensions=2;$.ig.RemoteRequestType.prototype.discoverHierarchies=3;$.ig.RemoteRequestType.prototype.discoverLevels=4;$.ig.RemoteRequestType.prototype.discoverMeasures=5;$.ig.RemoteRequestType.prototype.discoverMeasureGroups=6;$.ig.RemoteRequestType.prototype.discoverMeasureGroupDimensions=7;$.ig.RemoteRequestType.prototype.discoverMembers=8;$.ig.RemoteRequestType.prototype.discoverKpis=9;$.ig.RemoteRequestType.prototype.executeStatement=10;$.ig.MdxElementType.prototype.member=0;$.ig.MdxElementType.prototype.memberTree=1;$.ig.MdxElementType.prototype.calculated=2;$.ig.MdxElementType.prototype.filter=3;$.ig.MdxElementType.prototype.collection=4;$.ig.MdxElementType.prototype.userDefined=5;$.ig.XmlaSoapMessageHeader.prototype.none=0;$.ig.XmlaSoapMessageHeader.prototype.session=1;$.ig.XmlaSoapMessageHeader.prototype.beginSession=2;$.ig.XmlaSoapMessageHeader.prototype.endSession=3;$.ig.CatalogConstants.prototype.a="CATALOG_NAME";$.ig.CatalogConstants.prototype.c="DESCRIPTION";$.ig.CatalogConstants.prototype.d="ROLES";$.ig.CatalogConstants.prototype.b="DATE_MODIFIED";$.ig.DbSchemaConstants.prototype.a="DBSCHEMA_CATALOGS";$.ig.DbSchemaConstants.prototype.b="DBSCHEMA_COLUMNS";$.ig.DbSchemaConstants.prototype.d="DBSCHEMA_TABLES";$.ig.DbSchemaConstants.prototype.c="DBSCHEMA_PROVIDER_TYPES";$.ig.CubeConstants.prototype.c="CATALOG_NAME";$.ig.CubeConstants.prototype.n="SCHEMA_NAME";$.ig.CubeConstants.prototype.e="CUBE_NAME";$.ig.CubeConstants.prototype.f="CUBE_TYPE";$.ig.CubeConstants.prototype.m="LAST_SCHEMA_UPDATE";$.ig.CubeConstants.prototype.l="LAST_DATA_UPDATE";$.ig.CubeConstants.prototype.g="DESCRIPTION";$.ig.CubeConstants.prototype.h="IS_DRILLTHROUGH_ENABLED";$.ig.CubeConstants.prototype.i="IS_LINKABLE";$.ig.CubeConstants.prototype.k="IS_WRITE_ENABLED";$.ig.CubeConstants.prototype.j="IS_SQL_ENABLED";$.ig.CubeConstants.prototype.d="CUBE_CAPTION";$.ig.CubeConstants.prototype.b="BASE_CUBE_NAME";$.ig.CubeConstants.prototype.a="ANNOTATIONS";$.ig.DimensionConstants.prototype.a="CATALOG_NAME";$.ig.DimensionConstants.prototype.p="SCHEMA_NAME";$.ig.DimensionConstants.prototype.b="CUBE_NAME";$.ig.DimensionConstants.prototype.i="DIMENSION_NAME";$.ig.DimensionConstants.prototype.l="DIMENSION_UNIQUE_NAME";$.ig.DimensionConstants.prototype.e="DIMENSION_CAPTION";$.ig.DimensionConstants.prototype.j="DIMENSION_ORDINAL";$.ig.DimensionConstants.prototype.k="DIMENSION_TYPE";$.ig.DimensionConstants.prototype.f="DIMENSION_CARDINALITY";$.ig.DimensionConstants.prototype.c="DEFAULT_HIERARCHY";$.ig.DimensionConstants.prototype.d="DESCRIPTION";$.ig.DimensionConstants.prototype.o="IS_VIRTUAL";$.ig.DimensionConstants.prototype.n="IS_READWRITE";$.ig.DimensionConstants.prototype.m="DIMENSION_UNIQUE_SETTINGS";$.ig.DimensionConstants.prototype.h="DIMENSION_MASTER_NAME";$.ig.DimensionConstants.prototype.g="DIMENSION_IS_VISIBLE";$.ig.HierarchyConstants.prototype.b="CATALOG_NAME";$.ig.HierarchyConstants.prototype.c="CUBE_NAME";$.ig.HierarchyConstants.prototype.j="DIMENSION_UNIQUE_NAME";$.ig.HierarchyConstants.prototype.q="HIERARCHY_NAME";$.ig.HierarchyConstants.prototype.t="HIERARCHY_UNIQUE_NAME";$.ig.HierarchyConstants.prototype.m="HIERARCHY_CAPTION";$.ig.HierarchyConstants.prototype.i="DIMENSION_TYPE";$.ig.HierarchyConstants.prototype.n="HIERARCHY_CARDINALITY";$.ig.HierarchyConstants.prototype.d="DEFAULT_MEMBER";$.ig.HierarchyConstants.prototype.a="ALL_MEMBER";$.ig.HierarchyConstants.prototype.e="DESCRIPTION";$.ig.HierarchyConstants.prototype.w="IS_VIRTUAL";$.ig.HierarchyConstants.prototype.v="IS_READWRITE";$.ig.HierarchyConstants.prototype.k="DIMENSION_UNIQUE_SETTINGS";$.ig.HierarchyConstants.prototype.g="DIMENSION_IS_VISIBLE";$.ig.HierarchyConstants.prototype.h="DIMENSION_MASTER_UNIQUE_NAME";$.ig.HierarchyConstants.prototype.r="HIERARCHY_ORDINAL";$.ig.HierarchyConstants.prototype.f="DIMENSION_IS_SHARED";$.ig.HierarchyConstants.prototype.p="HIERARCHY_IS_VISIBLE";$.ig.HierarchyConstants.prototype.s="HIERARCHY_ORIGIN";$.ig.HierarchyConstants.prototype.o="HIERARCHY_DISPLAY_FOLDER";$.ig.HierarchyConstants.prototype.u="INSTANCE_SELECTION";$.ig.HierarchyConstants.prototype.l="GROUPING_BEHAVIOR";$.ig.HierarchyConstants.prototype.x="STRUCTURE_TYPE";$.ig.InstanceConstants.prototype.a="INSTANCE_NAME";$.ig.InstanceConstants.prototype.b="INSTANCE_PORT_NUMBER";$.ig.InstanceConstants.prototype.c="INSTANCE_STATE";$.ig.KpiConstants.prototype.a="CATALOG_NAME";$.ig.KpiConstants.prototype.q="SCHEMA_NAME";$.ig.KpiConstants.prototype.b="CUBE_NAME";$.ig.KpiConstants.prototype.p="MEASUREGROUP_NAME";$.ig.KpiConstants.prototype.h="KPI_NAME";$.ig.KpiConstants.prototype.c="KPI_CAPTION";$.ig.KpiConstants.prototype.e="KPI_DESCRIPTION";$.ig.KpiConstants.prototype.f="KPI_DISPLAY_FOLDER";$.ig.KpiConstants.prototype.n="KPI_VALUE";$.ig.KpiConstants.prototype.g="KPI_GOAL";$.ig.KpiConstants.prototype.j="KPI_STATUS";$.ig.KpiConstants.prototype.l="KPI_TREND";$.ig.KpiConstants.prototype.k="KPI_STATUS_GRAPHIC";$.ig.KpiConstants.prototype.m="KPI_TREND_GRAPHIC";$.ig.KpiConstants.prototype.o="KPI_WEIGHT";$.ig.KpiConstants.prototype.d="KPI_CURRENT_TIME_MEMBER";$.ig.KpiConstants.prototype.i="KPI_PARENT_KPI_NAME";$.ig.LevelConstants.prototype.a="CATALOG_NAME";$.ig.LevelConstants.prototype.b="CUBE_NAME";$.ig.LevelConstants.prototype.e="DIMENSION_UNIQUE_NAME";$.ig.LevelConstants.prototype.f="HIERARCHY_UNIQUE_NAME";$.ig.LevelConstants.prototype.l="LEVEL_NAME";$.ig.LevelConstants.prototype.q="LEVEL_UNIQUE_NAME";$.ig.LevelConstants.prototype.g="LEVEL_CAPTION";$.ig.LevelConstants.prototype.m="LEVEL_NUMBER";$.ig.LevelConstants.prototype.h="LEVEL_CARDINALITY";$.ig.LevelConstants.prototype.p="LEVEL_TYPE";$.ig.LevelConstants.prototype.d="DESCRIPTION";$.ig.LevelConstants.prototype.c="CUSTOM_ROLLUP_SETTINGS";$.ig.LevelConstants.prototype.r="LEVEL_UNIQUE_SETTINGS";$.ig.LevelConstants.prototype.j="LEVEL_IS_VISIBLE";$.ig.LevelConstants.prototype.n="LEVEL_ORDERING_PROPERTY";$.ig.LevelConstants.prototype.i="LEVEL_DBTYPE";$.ig.LevelConstants.prototype.k="LEVEL_KEY_CARDINALITY";$.ig.LevelConstants.prototype.o="LEVEL_ORIGIN";$.ig.MeasureConstants.prototype.a="CATALOG_NAME";$.ig.MeasureConstants.prototype.r="SCHEMA_NAME";$.ig.MeasureConstants.prototype.b="CUBE_NAME";$.ig.MeasureConstants.prototype.l="MEASURE_NAME";$.ig.MeasureConstants.prototype.n="MEASURE_UNIQUE_NAME";$.ig.MeasureConstants.prototype.h="MEASURE_CAPTION";$.ig.MeasureConstants.prototype.g="MEASURE_AGGREGATOR";$.ig.MeasureConstants.prototype.c="DATA_TYPE";$.ig.MeasureConstants.prototype.p="NUMERIC_PRECISION";$.ig.MeasureConstants.prototype.q="NUMERIC_SCALE";$.ig.MeasureConstants.prototype.f="EXPRESSION";$.ig.MeasureConstants.prototype.e="DESCRIPTION";$.ig.MeasureConstants.prototype.k="MEASURE_IS_VISIBLE";$.ig.MeasureConstants.prototype.m="MEASURE_NAME_SQL_COLUMN_NAME";$.ig.MeasureConstants.prototype.o="MEASURE_UNQUALIFIED_CAPTION";$.ig.MeasureConstants.prototype.j="MEASUREGROUP_NAME";$.ig.MeasureConstants.prototype.i="MEASURE_DISPLAY_FOLDER";$.ig.MeasureConstants.prototype.d="DEFAULT_FORMAT_STRING";$.ig.MeasureGroupConstants.prototype.a="CATALOG_NAME";$.ig.MeasureGroupConstants.prototype.f="SCHEMA_NAME";$.ig.MeasureGroupConstants.prototype.b="CUBE_NAME";$.ig.MeasureGroupConstants.prototype.e="MEASUREGROUP_NAME";$.ig.MeasureGroupConstants.prototype.c="DESCRIPTION";$.ig.MeasureGroupConstants.prototype.d="MEASUREGROUP_CAPTION";$.ig.MeasureGroupDimensionConstants.prototype.a="CATALOG_NAME";$.ig.MeasureGroupDimensionConstants.prototype.k="SCHEMA_NAME";$.ig.MeasureGroupDimensionConstants.prototype.b="CUBE_NAME";$.ig.MeasureGroupDimensionConstants.prototype.j="MEASUREGROUP_NAME";$.ig.MeasureGroupDimensionConstants.prototype.i="MEASUREGROUP_CARDINALITY";$.ig.MeasureGroupDimensionConstants.prototype.h="DIMENSION_UNIQUE_NAME";$.ig.MeasureGroupDimensionConstants.prototype.c="DIMENSION_CARDINALITY";$.ig.MeasureGroupDimensionConstants.prototype.f="DIMENSION_IS_VISIBLE";$.ig.MeasureGroupDimensionConstants.prototype.e="DIMENSION_IS_FACT_DIMENSION";$.ig.MeasureGroupDimensionConstants.prototype.g="DIMENSION_PATH";$.ig.MeasureGroupDimensionConstants.prototype.d="DIMENSION_GRANULARITY";$.ig.MemberConstants.prototype.a="CATALOG_NAME";$.ig.MemberConstants.prototype.u="SCHEMA_NAME";$.ig.MemberConstants.prototype.c="CUBE_NAME";$.ig.MemberConstants.prototype.e="DIMENSION_UNIQUE_NAME";$.ig.MemberConstants.prototype.g="HIERARCHY_UNIQUE_NAME";$.ig.MemberConstants.prototype.k="LEVEL_UNIQUE_NAME";$.ig.MemberConstants.prototype.j="LEVEL_NUMBER";$.ig.MemberConstants.prototype.o="MEMBER_NAME";$.ig.MemberConstants.prototype.q="MEMBER_UNIQUE_NAME";$.ig.MemberConstants.prototype.p="MEMBER_TYPE";$.ig.MemberConstants.prototype.m="MEMBER_GUID";$.ig.MemberConstants.prototype.l="MEMBER_CAPTION";$.ig.MemberConstants.prototype.b="CHILDREN_CARDINALITY";$.ig.MemberConstants.prototype.s="PARENT_LEVEL";$.ig.MemberConstants.prototype.t="PARENT_UNIQUE_NAME";$.ig.MemberConstants.prototype.r="PARENT_COUNT";$.ig.MemberConstants.prototype.d="DESCRIPTION";$.ig.MemberConstants.prototype.f="EXPRESSION";$.ig.MemberConstants.prototype.n="MEMBER_KEY";$.ig.MemberConstants.prototype.i="IS_PLACEHOLDERMEMBER";$.ig.MemberConstants.prototype.h="IS_DATAMEMBER";$.ig.MemberConstants.prototype.v="SCOPE";$.ig.OlapSchemaConstants.prototype.a="MDSCHEMA_CUBES";$.ig.OlapSchemaConstants.prototype.b="MDSCHEMA_DIMENSIONS";$.ig.OlapSchemaConstants.prototype.g="MDSCHEMA_MEASUREGROUPS";$.ig.OlapSchemaConstants.prototype.f="MDSCHEMA_MEASUREGROUP_DIMENSIONS";$.ig.OlapSchemaConstants.prototype.h="MDSCHEMA_MEASURES";$.ig.OlapSchemaConstants.prototype.c="MDSCHEMA_HIERARCHIES";$.ig.OlapSchemaConstants.prototype.e="MDSCHEMA_LEVELS";$.ig.OlapSchemaConstants.prototype.i="MDSCHEMA_MEMBERS";$.ig.OlapSchemaConstants.prototype.d="MDSCHEMA_KPIS";$.ig.CubeRestrictions.prototype.a="CATALOG_NAME";$.ig.CubeRestrictions.prototype.d="SCHEMA_NAME";$.ig.CubeRestrictions.prototype.b="CUBE_NAME";$.ig.CubeRestrictions.prototype.c="CUBE_SOURCE";$.ig.DimensionRestrictions.prototype.a="CATALOG_NAME";$.ig.DimensionRestrictions.prototype.g="SCHEMA_NAME";$.ig.DimensionRestrictions.prototype.b="CUBE_NAME";$.ig.DimensionRestrictions.prototype.d="DIMENSION_NAME";$.ig.DimensionRestrictions.prototype.e="DIMENSION_UNIQUE_NAME";$.ig.DimensionRestrictions.prototype.c="CUBE_SOURCE";$.ig.DimensionRestrictions.prototype.f="DIMENSION_VISIBILITY";$.ig.HierarchyRestrictions.prototype.a="CATALOG_NAME";$.ig.HierarchyRestrictions.prototype.i="SCHEMA_NAME";$.ig.HierarchyRestrictions.prototype.b="CUBE_NAME";$.ig.HierarchyRestrictions.prototype.d="DIMENSION_UNIQUE_NAME";$.ig.HierarchyRestrictions.prototype.e="HIERARCHY_NAME";$.ig.HierarchyRestrictions.prototype.g="HIERARCHY_UNIQUE_NAME";$.ig.HierarchyRestrictions.prototype.f="HIERARCHY_ORIGIN";$.ig.HierarchyRestrictions.prototype.c="CUBE_SOURCE";$.ig.HierarchyRestrictions.prototype.h="HIERARCHY_VISIBILITY";$.ig.KpiRestrictions.prototype.a="CATALOG_NAME";$.ig.KpiRestrictions.prototype.e="SCHEMA_NAME";$.ig.KpiRestrictions.prototype.b="CUBE_NAME";$.ig.KpiRestrictions.prototype.d="KPI_NAME";$.ig.KpiRestrictions.prototype.c="CUBE_SOURCE";$.ig.LevelRestrictions.prototype.a="CATALOG_NAME";$.ig.LevelRestrictions.prototype.j="SCHEMA_NAME";$.ig.LevelRestrictions.prototype.b="CUBE_NAME";$.ig.LevelRestrictions.prototype.d="DIMENSION_UNIQUE_NAME";$.ig.LevelRestrictions.prototype.e="HIERARCHY_UNIQUE_NAME";$.ig.LevelRestrictions.prototype.f="LEVEL_NAME";$.ig.LevelRestrictions.prototype.h="LEVEL_UNIQUE_NAME";$.ig.LevelRestrictions.prototype.g="LEVEL_ORIGIN";$.ig.LevelRestrictions.prototype.c="CUBE_SOURCE";$.ig.LevelRestrictions.prototype.i="LEVEL_VISIBILITY";$.ig.MeasureRestrictions.prototype.a="CATALOG_NAME";$.ig.MeasureRestrictions.prototype.h="SCHEMA_NAME";$.ig.MeasureRestrictions.prototype.b="CUBE_NAME";$.ig.MeasureRestrictions.prototype.e="MEASURE_NAME";$.ig.MeasureRestrictions.prototype.f="MEASURE_UNIQUE_NAME";$.ig.MeasureRestrictions.prototype.d="MEASUREGROUP_NAME";$.ig.MeasureRestrictions.prototype.c="CUBE_SOURCE";$.ig.MeasureRestrictions.prototype.g="MEASURE_VISIBILITY";$.ig.MeasureGroupRestrictions.prototype.a="CATALOG_NAME";$.ig.MeasureGroupRestrictions.prototype.d="SCHEMA_NAME";$.ig.MeasureGroupRestrictions.prototype.b="CUBE_NAME";$.ig.MeasureGroupRestrictions.prototype.c="MEASUREGROUP_NAME";$.ig.MeasureGroupDimensionRestrictions.prototype.a="CATALOG_NAME";
$.ig.MeasureGroupDimensionRestrictions.prototype.f="SCHEMA_NAME";$.ig.MeasureGroupDimensionRestrictions.prototype.b="CUBE_NAME";$.ig.MeasureGroupDimensionRestrictions.prototype.e="MEASUREGROUP_NAME";$.ig.MeasureGroupDimensionRestrictions.prototype.c="DIMENSION_UNIQUE_NAME";$.ig.MeasureGroupDimensionRestrictions.prototype.d="DIMENSION_VISIBILITY";$.ig.MemberRestrictions.prototype.a="CATALOG_NAME";$.ig.MemberRestrictions.prototype.k="SCHEMA_NAME";$.ig.MemberRestrictions.prototype.b="CUBE_NAME";$.ig.MemberRestrictions.prototype.d="DIMENSION_UNIQUE_NAME";$.ig.MemberRestrictions.prototype.e="HIERARCHY_UNIQUE_NAME";$.ig.MemberRestrictions.prototype.g="LEVEL_UNIQUE_NAME";$.ig.MemberRestrictions.prototype.f="LEVEL_NUMBER";$.ig.MemberRestrictions.prototype.h="MEMBER_NAME";$.ig.MemberRestrictions.prototype.j="MEMBER_UNIQUE_NAME";$.ig.MemberRestrictions.prototype.i="MEMBER_TYPE";$.ig.MemberRestrictions.prototype.l="TREE_OP";$.ig.MemberRestrictions.prototype.c="CUBE_SOURCE";$.ig.AxisXmlTypeSerializer.prototype.a=null;$.ig.TupleXmlTypeSerializer.prototype.a=null;$.ig.AxisMemberXmlTypeSerializer.prototype.a=null;$.ig.DimensionXmlTypeSerializer.prototype.a=null;$.ig.HierarchyXmlTypeSerializer.prototype.a=null;$.ig.MeasureGroupDimensionXmlTypeSerializer.prototype.a=null;$.ig.MeasureGroupXmlTypeSerializer.prototype.a=null;$.ig.MeasureXmlTypeSerializer.prototype.a=null;$.ig.MemberXmlTypeSerializer.prototype.a=null;$.ig.XmlaConstants.prototype.ak="DBSCHEMA_CATALOGS";$.ig.XmlaConstants.prototype.al="MDSCHEMA_CUBES";$.ig.XmlaConstants.prototype.ai="RestrictionList";$.ig.XmlaConstants.prototype.ah="PropertyList";$.ig.XmlaConstants.prototype.e="DataSourceInfo";$.ig.XmlaConstants.prototype.b="Catalog";$.ig.XmlaConstants.prototype.at="SCHEMA_NAME";$.ig.XmlaConstants.prototype.aj="row";$.ig.XmlaConstants.prototype.h="DESCRIPTION";$.ig.XmlaConstants.prototype.d="CUBE";$.ig.XmlaConstants.prototype.k="DIMENSION";$.ig.XmlaConstants.prototype.am="MDSCHEMA_DIMENSIONS";$.ig.XmlaConstants.prototype.aq="MDSCHEMA_MEASUREGROUPS";$.ig.XmlaConstants.prototype.aa="MEASUREGROUP_NAME";$.ig.XmlaConstants.prototype.z="MEASUREGROUP_CAPTION";$.ig.XmlaConstants.prototype.ap="MDSCHEMA_MEASUREGROUP_DIMENSIONS";$.ig.XmlaConstants.prototype.j="DIMENSION_NAME";$.ig.XmlaConstants.prototype.m="DIMENSION_UNIQUE_NAME";$.ig.XmlaConstants.prototype.i="DIMENSION_CAPTION";$.ig.XmlaConstants.prototype.ar="MDSCHEMA_MEASURES";$.ig.XmlaConstants.prototype.ab="MEASURE_NAME";$.ig.XmlaConstants.prototype.ac="MEASURE_UNIQUE_NAME";$.ig.XmlaConstants.prototype.y="MEASURE_CAPTION";$.ig.XmlaConstants.prototype.x="MEASURE_AGGREGATOR";$.ig.XmlaConstants.prototype.l="DIMENSION_TYPE";$.ig.XmlaConstants.prototype.an="MDSCHEMA_HIERARCHIES";$.ig.XmlaConstants.prototype.p="HIERARCHY_NAME";$.ig.XmlaConstants.prototype.r="HIERARCHY_UNIQUE_NAME";$.ig.XmlaConstants.prototype.n="HIERARCHY_CAPTION";$.ig.XmlaConstants.prototype.q="HIERARCHY_ORIGIN";$.ig.XmlaConstants.prototype.g="DEFAULT_MEMBER";$.ig.XmlaConstants.prototype.a="ALL_MEMBER";$.ig.XmlaConstants.prototype.u="LEVEL_NAME";$.ig.XmlaConstants.prototype.s="LEVEL_CAPTION";$.ig.XmlaConstants.prototype.w="LEVEL_UNIQUE_NAME";$.ig.XmlaConstants.prototype.v="LEVEL_NUMBER";$.ig.XmlaConstants.prototype.t="LEVEL_CARDINALITY";$.ig.XmlaConstants.prototype.ao="MDSCHEMA_LEVELS";$.ig.XmlaConstants.prototype.as="MDSCHEMA_MEMBERS";$.ig.XmlaConstants.prototype.av="TREE_OP";$.ig.XmlaConstants.prototype.ae="MEMBER_NAME";$.ig.XmlaConstants.prototype.af="MEMBER_UNIQUE_NAME";$.ig.XmlaConstants.prototype.ad="MEMBER_CAPTION";$.ig.XmlaConstants.prototype.ag="PARENT_UNIQUE_NAME";$.ig.XmlaConstants.prototype.c="CHILDREN_CARDINALITY";$.ig.XmlaConstants.prototype.f="DEFAULT_FORMAT_STRING";$.ig.XmlaConstants.prototype.o="HIERARCHY_DISPLAY_FOLDER";$.ig.XmlaConstants.prototype.au="SCOPE";$.ig.XmlaSoapMethodResult.prototype.a="return";$.ig.XmlaNamespace.prototype.f="urn:schemas-microsoft-com:xml-sql";$.ig.XmlaNamespace.prototype.a="urn:schemas-microsoft-com:xml-analysis";$.ig.XmlaNamespace.prototype.d="urn:schemas-microsoft-com:xml-analysis:mddataset";$.ig.XmlaNamespace.prototype.e="urn:schemas-microsoft-com:xml-analysis:rowset";$.ig.XmlaNamespace.prototype.b="urn:schemas-microsoft-com:xml-analysis:empty";$.ig.XmlaNamespace.prototype.c="urn:schemas-microsoft-com:xml-analysis:exception";$.ig.XmlaSoapMessageBuilder.prototype.d="Envelope";$.ig.XmlaSoapMessageBuilder.prototype.e="Header";$.ig.XmlaSoapMessageBuilder.prototype.b="Body";$.ig.XmlaSoapMessageBuilder.prototype.f="soap";$.ig.XmlaSoapMessageBuilder.prototype.g="http://schemas.xmlsoap.org/soap/envelope/";$.ig.XmlaSoapMethod.prototype.h="Properties";$.ig.XmlaSoapMethod.prototype.i="PropertyList";$.ig.XmlaSoapMethodDiscover.prototype.m="Discover";$.ig.XmlaSoapMethodDiscover.prototype.o="RequestType";$.ig.XmlaSoapMethodDiscover.prototype.q="Restrictions";$.ig.XmlaSoapMethodDiscover.prototype.p="RestrictionList";$.ig.XmlaSoapMethodDiscover.prototype.s="SessionId";$.ig.XmlaSoapMethodExecute.prototype.k="Execute";$.ig.XmlaSoapMethodExecute.prototype.j="Command";$.ig.XmlaSoapMethodExecute.prototype.m="Statement";$.ig.XmlaSoapWebClient.prototype.a=null;if($.ig.XmlaSoapWebClient.prototype.staticInit&&!$.ig.XmlaSoapWebClient.prototype.xmlaSoapWebClientStaticInitCalled){$.ig.XmlaSoapWebClient.prototype.staticInit();$.ig.XmlaSoapWebClient.prototype.xmlaSoapWebClientStaticInitCalled=true}$.ig.XmlaSoapWebClient.prototype.a=null;if($.ig.XmlaSoapWebClient.prototype.staticInit&&!$.ig.XmlaSoapWebClient.prototype.xmlaSoapWebClientStaticInitCalled){$.ig.XmlaSoapWebClient.prototype.staticInit();$.ig.XmlaSoapWebClient.prototype.xmlaSoapWebClientStaticInitCalled=true}$.ig.ArrayJsonSerializer.prototype.a=new $.ig.ArrayJsonSerializer;$.ig.AxisJsonTypeSeriazlier.prototype.a=new $.ig.AxisJsonTypeSeriazlier;$.ig.AxisMemberJsonTypeSeriazlier.prototype.a=new $.ig.AxisMemberJsonTypeSeriazlier;$.ig.CatalogJsonTypeSeriazlier.prototype.a=new $.ig.CatalogJsonTypeSeriazlier;$.ig.CellJsonTypeSeriazlier.prototype.a=new $.ig.CellJsonTypeSeriazlier;$.ig.CubeJsonTypeSeriazlier.prototype.a=new $.ig.CubeJsonTypeSeriazlier;$.ig.DimensionJsonTypeSeriazlier.prototype.a=new $.ig.DimensionJsonTypeSeriazlier;$.ig.HierarchyJsonTypeSeriazlier.prototype.a=new $.ig.HierarchyJsonTypeSeriazlier;$.ig.KpiJsonTypeSeriazlier.prototype.a=new $.ig.KpiJsonTypeSeriazlier;$.ig.LevelJsonTypeSeriazlier.prototype.a=new $.ig.LevelJsonTypeSeriazlier;$.ig.MeasureGroupDimensionJsonTypeSeriazlier.prototype.a=new $.ig.MeasureGroupDimensionJsonTypeSeriazlier;$.ig.MeasureGroupJsonTypeSeriazlier.prototype.a=new $.ig.MeasureGroupJsonTypeSeriazlier;$.ig.MeasureJsonTypeSeriazlier.prototype.a=new $.ig.MeasureJsonTypeSeriazlier;$.ig.MemberJsonTypeSeriazlier.prototype.a=new $.ig.MemberJsonTypeSeriazlier;$.ig.RemoteRequestJsonTypeSeriazlier.prototype.a=new $.ig.RemoteRequestJsonTypeSeriazlier;$.ig.ResultJsonTypeSeriazlier.prototype.a=new $.ig.ResultJsonTypeSeriazlier;$.ig.TupleJsonTypeSeriazlier.prototype.a=new $.ig.TupleJsonTypeSeriazlier;$.ig.XmlaDiscoverProperties.prototype.a="Catalog";$.ig.util.extCopy($.ig.TaskExtensions,[[[$.ig.Task,$.ig.Task$1],["continueWithTask$1","continueWithTask$2"]]]);$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.XmlaPropertiesCollection],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.XmlaPropertiesCollection],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.XmlaPropertiesCollection],["ofType$1","cast$1"]]])})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI infragistics.olapflatdatasource.js 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends:
*     jquery-1.4.4.js
*     jquery.ui.core.js
*     jquery.ui.widget.js
*     infragistics.util.js
*/
$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["AbstractEnumerable:a","Object:b","Type:c","Boolean:d","ValueType:e","Void:f","String:g","IComparable:h","Number:i","Number:j","Single:k","Number:l","String:m","Array:n","RegExp:o","RuntimeTypeHandle:p","MethodInfo:q","MethodBase:r","MemberInfo:s","ParameterInfo:t","TypeCode:u","Enum:v","ConstructorInfo:w","IEnumerable:x","IEnumerator:y","Func$1:z","MulticastDelegate:aa","IntPtr:ab","AbstractEnumerator:ac","IEnumerable$1:ad","IEnumerator$1:ae","ICollection$1:af","IList$1:ag","IArrayList:ah","Array:ai","ICollection:aj","CompareCallback:ak","List$1:al","IList:am","IDisposable:an","IArray:ao","Script:ap","Date:aq","Date:ar","Number:as","Func$3:at","Action$1:au","IDictionary$2:aw","Dictionary$2:ax","IDictionary:ay","Dictionary:az","IEqualityComparer$1:a0","KeyValuePair$2:a1","NotImplementedException:a2","Error:a3","GenericEnumerable$1:a4","GenericEnumerator$1:a5","INotifyCollectionChanged:a6","NotifyCollectionChangedEventHandler:a7","NotifyCollectionChangedEventArgs:a8","EventArgs:a9","NotifyCollectionChangedAction:ba","ObservableCollection$1:bd","INotifyPropertyChanged:be","PropertyChangedEventHandler:bf","PropertyChangedEventArgs:bg","Delegate:bh","ReadOnlyCollection$1:bj","NameValueCollection:bl","IOrderedEnumerable$1:bu","Enumerable:bz","Func$2:b0","SortedList$1:b1","Math:b2","Number:b3","Number:b4","Number:b5","Number:b6","Number:b7","Number:b8","Number:b9","ArgumentNullException:ca","AggregateException:cn","ArgumentException:co","AsyncCompletedEventArgs:cq","ListSortDirection:cs","Environment:cu","InvalidOperationException:cv","Debug:cw","ICredentials:cz","NetworkCredential:c0","Uri:c1","UploadStringCompletedEventHandler:c2","UploadStringCompletedEventArgs:c3","WebClient:c4","Encoding:c5","UTF8Encoding:c6","UnicodeEncoding:c7","WebHeaderCollection:c8","Task$1:c9","Task:da","JQueryPromise:db","Action:dc","TaskStatus:dd","TaskCompletionSource$1:de","JQueryDeferred:df","JQuery:dg","JQueryObject:dh","Element:di","ElementAttributeCollection:dj","ElementCollection:dk","WebStyle:dl","ElementNodeType:dm","Document:dn","EventListener:dp","IElementEventHandler:dq","ElementEventHandler:dr","ElementAttribute:ds","JQueryPosition:dt","JQueryCallback:du","JQueryEvent:dv","JQueryUICallback:dw","FaultCode:dx","FaultException:dy","FaultReason:dz","FaultException$1:d0","StringBuilder:d1","TaskFactory:d4","Tuple$2:d5","JavaScriptSerializer:d6","XObject:f9","XmlNode:ga","XmlNodeList:gb","XmlNamedNodeMap:gc","XmlNodeType:gd","XmlDocument:ge","XmlElement:gf","XmlLinkedNode:gg","XmlAttribute:gh","XmlUtils:gi","XAttribute:gj","XNode:gk","XContainer:gl","XElement:gm","XName:gn","XNamespace:go","XDocument:gp"]);$.ig.util.defType("TaskStatus:dd","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("TaskStatus",$.ig.$ep.$type)},true);$.ig.util.defType("ListSortDirection:cs","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("ListSortDirection",$.ig.$ep.$type)},true);$.ig.util.defType("NotifyCollectionChangedAction:ba","Enum",{init:function(){$.ig.$ep.init.call(this)},$type:new $.ig.Type("NotifyCollectionChangedAction",$.ig.$ep.$type)},true);$.ig.util.defType("AbstractEnumerable:a","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},getEnumerator:function(){return new $$t.ac(this.a().getEnumerator())},$type:new $.ig.Type("AbstractEnumerable",$.ig.$ot,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("AbstractEnumerator:ac","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("AbstractEnumerator",$.ig.$ot,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("IEnumerable$1:ad","Object",{$type:new $.ig.Type("IEnumerable$1",null,[$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("ICollection$1:af","Object",{$type:new $.ig.Type("ICollection$1",null,[$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IList$1:ag","Object",{$type:new $.ig.Type("IList$1",null,[$$t.$af.$type.specialize(0),$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("IArrayList:ah","Object",{$type:new $.ig.Type("IArrayList",null)},true);$.ig.util.defType("List$1:al","Object",{$t:null,__inner:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array},init1:function($t,initNumber,a){this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array;if(this.b(0,a)){return}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.add1(b)}},init2:function($t,initNumber,a){this.e={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.__inner=new $.ig.Array},o:function(a,b){this.__inner[a]=b},j:function(a,b){this.__inner.insert(a,b)},f:function(a){this.__inner.add(a)},m:function(a){this.__inner.removeAt(a)},h:function(){this.__inner.clear()},item:function(a,b){if(arguments.length===2){this.o(a,b);return b}else{return this.__inner[a]}},indexOf:function(a){return this.__inner.indexOf(a)},insert:function(a,b){this.j(a,b)},removeAt:function(a){this.m(a)},count:function(){return this.__inner.length},isReadOnly:function(){return false},add1:function(a){this.f(a)},clear:function(){this.h()},contains1:function(a){return this.__inner.contains(a)},copyTo:function(a,b){for(var c=0;c<this.__inner.length;c++){a[b+c]=this.__inner[c]}},remove1:function(a){var b=this.indexOf(a);if(b<0){return false}this.m(b);return true},getEnumerator:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__inner.getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerator$1(this.$t,$iter())},asArrayList:function(){return this.__inner},b:function(a,collection_){var b=$.ig.util.cast($$t.$ah.$type,collection_);if(b!=null){this.__inner.insertRange1(a,b.asArrayList());return true}var c=$.ig.util.cast($$t.$ao.$type,collection_);if(c!=null){this.__inner.insertRange(a,c.asArray());return true}var d=$.ig.util.cast($$t.$ag.$type.specialize(this.$t),collection_);if(d!=null){for(var e=0;e<d.count();e++){this.__inner.insert(a+e,d.item(e))}return true}var f=$.isArray(collection_)?collection_:null;if(f!=null){this.__inner.insertRange(a,f);return true}return false},insertRange1:function(a,b){if(this.b(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},insertRange:function(a,b){if(this.b(a,b)){return}var c=0;var e=b.getEnumerator();while(e.moveNext()){var d=e.current();this.__inner.insert(a+c,d);c++}},removeRange:function(a,b){this.__inner.splice(a,b)},copyTo1:function(a,b){this.__inner.copyTo(a,b)},isFixedSize:function(){return false},add:function(a){this.f(a);return this.__inner.length-1},contains:function(a){return this.__inner.contains(a)},indexOf1:function(a){return this.__inner.indexOf(a)},insert1:function(a,b){this.j(a,b)},remove:function(a){var b=this.indexOf1(a);this.m(b)},sort:function(){var $self=this;var a=null;if($self.$t==Number){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$.ig.Single.prototype.$type){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$.ig.Number.prototype.$type){a=function(b,c){var d=b;var e=c;if(d<e){return-1}if(d==e){return 0}return 1}}else if($self.$t==$$t.$aq.$type){a=function(b,c){var d=b;var e=c;if(d.getTime()<e.getTime()){return-1}if(d.getTime()==e.getTime()){return 0}return 1}}else{a=function(b,c){return b.compareTo(c)}}$self.r(a)},r:function(a){this.__inner.sort(a)},sort1:function(a){var $self=this;$self.__inner.sort(function(b,c){var d=b;var e=c;return a(d,e)})},_capacity:0,capacity:function(value){if(arguments.length===1){this._capacity=value;return value}else{return this._capacity}},addRange:function(a){var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.__inner.add(b)}},toArray:function(){return this.__inner.slice(0)},forEach:function(a){},isSynchronized:function(){return true},e:null,syncRoot:function(){return this.e},$type:new $.ig.Type("List$1",$.ig.$ot,[$$t.$ag.$type.specialize(0),$$t.$ah.$type,$.ig.IList.prototype.$type])},true);$.ig.util.defType("KeyValuePair$2:a1","ValueType",{$tKey:null,$tValue:null,init:function($tKey,$tValue,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.ValueType.prototype.init.call(this)},a:null,c:null,init1:function($tKey,$tValue,initNumber,a,b){this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.ValueType.prototype.init.call(this);this.a=a;this.c=b},key:function(){return this.a},value:function(){return this.c},$type:new $.ig.Type("KeyValuePair$2",$.ig.ValueType.prototype.$type)},true);$.ig.util.defType("IDictionary$2:aw","Object",{$type:new $.ig.Type("IDictionary$2",null,[$$t.$af.$type.specialize($$t.$a1.$type.specialize(this.$tKey,this.$tValue)),$$t.$ad.$type.specialize($$t.$a1.$type.specialize(this.$tKey,this.$tValue)),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Dictionary$2:ax","Object",{$tKey:null,$tValue:null,__inner:null,__keys:null,init:function($tKey,$tValue,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0)},init1:function($tKey,$tValue,initNumber,a){this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(1,a);this.__keys=new $.ig.Dictionary(0)},g:null,init2:function($tKey,$tValue,initNumber,a){this.g=null;this._useToString=false;this.a=false;this._needsEnsure=false;this.$tKey=$tKey;this.$tValue=$tValue;this.$type=this.$type.specialize(this.$tKey,this.$tValue);$.ig.$op.init.call(this);this.__inner=new $.ig.Dictionary(0);this.__keys=new $.ig.Dictionary(0);this.g=a},count:function(){return this.__inner.count()},item:function(a,b){if(arguments.length===2){this.__inner.item(this.i(a),b);this.__keys.item(this.i(a),a);return b}else{return this.__inner.item(this.i(a))}},length:function(){return this.__inner.length()},containsKey:function(a){return this.__inner.containsKey(this.i(a))},remove:function(a){var b=this.i(a);if(!this.__keys.containsKey(b)){return false}this.__inner.remove(b);this.__keys.remove(b);return true},clear:function(){this.__inner.clear();this.__keys.clear()},_useToString:false,a:false,_needsEnsure:false,j:function(key_){if(!this.a){this.a=true;this._needsEnsure=typeof key_=="object";if(!this._needsEnsure){this._useToString=!key_.getHashCode}}},i:function(key_){this.j(key_);if(this._needsEnsure){$.ig.util.ensureUniqueId(key_)}if(this.g!=null){return this.g.getHashCode(key_).toString()}if(this._useToString){return key_.toString()}else{return key_.getHashCode().toString()}},add:function(a,b){this.__inner.item(this.i(a),b);this.__keys.item(this.i(a),a)},tryGetValue:function(a,b){if(!this.__inner.containsKey(this.i(a))){b=null;return{ret:false,value:b}}b=this.__inner.item(this.i(a));return{ret:true,value:b};return{value:b}},keys:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tKey,$iter)},values:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__inner.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=this.$a;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$tValue,$iter)},isReadOnly:function(){return false},add1:function(a){this.add(a.key(),a.value())},contains:function(a){return this.containsKey(a.key())},copyTo:function(a,b){throw new $$t.a2},remove1:function(a){this.remove(a.key());return true},f:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.__keys.values().getEnumerator();this.$state=4;break;case 2:this.$a=this.$b.current();this.$current=new $$t.a1(this.$tKey,this.$tValue,1,this.$a,this.$this.__inner.item(this.$this.i(this.$a)));this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$b.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1($$t.$a1.$type.specialize(this.$tKey,this.$tValue),$iter)},getEnumerator:function(){return this.f().getEnumerator()},$type:new $.ig.Type("Dictionary$2",$.ig.$ot,[$.ig.IDictionary$2.prototype.$type.specialize(0,1),$.ig.IDictionary.prototype.$type])},true);$.ig.util.defType("GenericEnumerable$1:a4","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},getEnumerator:function(){return new $$t.a5(this.$t,this.a().getEnumerator())},$type:new $.ig.Type("GenericEnumerable$1",$.ig.$ot,[$$t.$ad.$type.specialize(0)])},true);$.ig.util.defType("IEnumerator$1:ae","Object",{$type:new $.ig.Type("IEnumerator$1",null,[$.ig.IEnumerator.prototype.$type])},true);$.ig.util.defType("GenericEnumerator$1:a5","Object",{$t:null,a:null,init:function($t,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new $.ig.Type("GenericEnumerator$1",$.ig.$ot,[$$t.$ae.$type.specialize(0)])},true);$.ig.util.defType("INotifyCollectionChanged:a6","Object",{$type:new $.ig.Type("INotifyCollectionChanged",null)},true);$.ig.util.defType("NotifyCollectionChangedEventArgs:a8","EventArgs",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$a9.init.call(this);this.f=a;this.c=new $$t.al($.ig.$op.$type,0);this.b=new $$t.al($.ig.$op.$type,0)},init1:function(initNumber,a,b,c){var $self=this;$$t.$a9.init.call(this);this.f=a;this.c=new $$t.al($.ig.$op.$type,0);if(this.f==1||this.f==2){this.c.add(b);this.i=c}if(this.f!=1){this.b=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(b);return $ret}()}else{this.b=new $$t.al($.ig.$op.$type,0)}this.h=c},init2:function(initNumber,a,b,c,d){var $self=this;$$t.$a9.init.call(this);this.f=a;this.h=d;this.i=d;this.b=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(b);return $ret}();this.c=function(){var $ret=new $$t.al($.ig.$op.$type,0);$ret.add(c);return $ret}()},f:null,action:function(){return this.f},b:null,newItems:function(){return this.b},h:0,newStartingIndex:function(){return this.h},c:null,oldItems:function(){return this.c},i:0,oldStartingIndex:function(){return this.i},$type:new $.ig.Type("NotifyCollectionChangedEventArgs",$$t.$a9.$type)},true);$.ig.util.defType("ObservableCollection$1:bd","List$1",{$t:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init.call(this,this.$t)},init1:function($t,initNumber,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init1.call(this,this.$t,1,a)},init2:function($t,initNumber,a){this.$t=$t;this.$type=this.$type.specialize(this.$t);$$t.$al.init2.call(this,this.$t,2,a)},o:function(a,b){var c=this.__inner[a];$$t.$al.o.call(this,a,b);if(this.propertyChanged!=null){this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var d=new $$t.a8(2,2,b,c,a);this.s(d)}},h:function(){$$t.$al.h.call(this);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var a=new $$t.a8(0,4);this.s(a)}},j:function(a,b){$$t.$al.j.call(this,a,b);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var c=new $$t.a8(1,0,b,a);this.s(c)}},f:function(a){$$t.$al.f.call(this,a);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var b=new $$t.a8(1,0,a,this.count()-1);this.s(b)}},m:function(a){var b=this.__inner[a];$$t.$al.m.call(this,a);if(this.propertyChanged!=null){this.t(new $$t.bg("Count"));this.t(new $$t.bg("Item[]"))}if(this.collectionChanged!=null){var c=new $$t.a8(1,1,b,a);this.s(c)}},collectionChanged:null,propertyChanged:null,t:function(a){if(this.propertyChanged!=null){this.propertyChanged(this,a)}},s:function(a){if(this.collectionChanged!=null){this.collectionChanged(this,a)}},$type:new $.ig.Type("ObservableCollection$1",$$t.$al.$type.specialize(0),[$$t.$a6.$type,$$t.$be.$type])},true);$.ig.util.defType("ReadOnlyCollection$1:bj","Object",{$t:null,init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.c={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this)},init1:function($t,initNumber,a){this.c={};this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.$op.init.call(this);this.a=a},a:null,item:function(a,b){if(arguments.length===2){this.a.item(a,b);return b}else{return this.a.item(a)}},indexOf:function(a){return this.a.indexOf(a)},insert:function(a,b){},removeAt:function(a){},count:function(){return this.a.count()},isReadOnly:function(){return true},add1:function(a){},clear:function(){},contains1:function(a){return this.a.contains(a)},copyTo:function(a,b){this.a.copyTo(a,b)},remove1:function(a){return false},getEnumerator:function(){return this.a.getEnumerator()},isFixedSize:function(){return true},add:function(a){return-1},contains:function(a){return this.a.contains(a)},indexOf1:function(a){return this.a.indexOf(a)},insert1:function(a,b){},remove:function(a){},copyTo1:function(a,b){this.a.copyTo(a,b)},b:function(){return this.a},isSynchronized:function(){return true},c:null,syncRoot:function(){return this.c},$type:new $.ig.Type("ReadOnlyCollection$1",$.ig.$ot,[$$t.$ag.$type.specialize(0),$.ig.IList.prototype.$type])},true);$.ig.util.defType("NameValueCollection:bl","Object",{a:null,init:function(){$.ig.$op.init.call(this);this.a=new $$t.ax(String,String,0)},item:function(a,b){if(arguments.length===2){if(this.a.containsKey(a)){this.a.item(a,b)}else{this.a.add(a,b)}return b}else{if(this.a.containsKey(a)){return this.a.item(a)}else{return null}}},$type:new $.ig.Type("NameValueCollection",$.ig.$ot)},true);$.ig.util.defType("IOrderedEnumerable$1:bu","Object",{$type:new $.ig.Type("IOrderedEnumerable$1",null,[$$t.$ad.$type.specialize(0),$.ig.IEnumerable.prototype.$type])},true);$.ig.util.defType("Enumerable:bz","Object",{init:function(){$.ig.$op.init.call(this)},where$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=7;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a(this.$b)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$b;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$c.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},where$11:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:0,$c:null,$d:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$b=0;this.$state=1;break;case 1:this.$d=this.$this.getEnumerator();this.$state=7;break;case 2:this.$c=this.$d.current();this.$state=3;break;case 3:if(a(this.$c,this.$b)){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$c;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$b++;this.$state=7;break;case 7:if(this.$d.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},select$2:function($tSource,$tResult,a){var $self=this;var $iter=function(){return function($tSource,$tResult,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=a(this.$b);this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,a)};return new $.ig.GenericEnumerable$1($tResult,$iter)},selectMany$2:function($tSource,$tResult,a){var $self=this;var $iter=function(){return function($tSource,$tResult,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,$d:null,$e:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=8;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:this.$e=a(this.$b).getEnumerator();this.$state=6;break;case 4:this.$d=this.$e.current();this.$current=this.$d;this.$state=5;return true;case 5:this.$state=6;break;case 6:if(this.$e.moveNext()){this.$state=4}else{this.$state=7}break;case 7:this.$state=8;break;case 8:if(this.$c.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,$tResult,a)};return new $.ig.GenericEnumerable$1($tResult,$iter)},ofType$1:function($tResult){var $self=this;var $iter=function(){return function($tResult){return{$state:0,$this:$self,$current:null,$a:null,$b:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$b=this.$this.getEnumerator();this.$state=7;break;case 2:this.$a=this.$b.current();this.$state=3;break;case 3:if($.ig.util.cast($tResult,this.$a)!==null){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$a;this.$state=5;return true;case 5:this.$state=6;break;case 6:this.$state=7;break;case 7:if(this.$b.moveNext()){this.$state=2}else{this.$state=8}break;case 8:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tResult)};return new $.ig.GenericEnumerable$1($tResult,$iter)},last$1:function($tSource){var a=$.ig.util.cast($$t.$ag.$type.specialize($tSource),this);if(a!=null){return a.item(a.count()-1)}var b=null;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();b=c}return b},first$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return a}return null},firstOrDefault$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return a}return null},orderBy$2:function($tSource,$tKey,a){var $self=this;var b=new $$t.b1($tSource,$self);b.sort1(function(c,d){var e=c;var f=d;var g=a(e);var h=a(f);if($.ig.util.cast($$t.$h.$type,g)!==null){return $.ig.util.cast($$t.$h.$type,g).compareTo(h)}else{return g.toString().compareTo(h.toString())}});return b},orderByDescending$2:function($tSource,$tKey,a){var $self=this;var b=new $$t.b1($tSource,$self);b.sort1(function(c,d){var e=d;var f=c;var g=a(e);var h=a(f);if($.ig.util.cast($$t.$h.$type,g)!==null){return $.ig.util.cast($$t.$h.$type,g).compareTo(h)}else{return g.toString().compareTo(h.toString())}});return b},toList$1:function($tSource){var a=new $$t.al($tSource,1,this);return a},d:function(a,b){var $self=this;var $iter=function(){return function(a,b){return{$state:0,$this:$self,$current:null,$c:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=a;this.$state=5;break;case 2:this.$current=this.$c;this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$c++;this.$state=5;break;case 5:if(this.$c<b){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}(a,b)};return new $.ig.GenericEnumerable$1($.ig.Number.prototype.$type,$iter)},concat$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,$d:null,$e:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=4;break;case 2:this.$b=this.$c.current();this.$current=this.$b;this.$state=3;return true;case 3:this.$state=4;break;case 4:if(this.$c.moveNext()){this.$state=2}else{this.$state=5}break;case 5:this.$state=6;break;case 6:this.$e=a.getEnumerator();this.$state=9;break;case 7:this.$d=this.$e.current();this.$current=this.$d;this.$state=8;return true;case 8:this.$state=9;break;case 9:if(this.$e.moveNext()){this.$state=7}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},max:function(){var a=true;var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if(a){a=false;b=c}else{b=Math.max(b,c)}}return b},max$1:function($tSource,a){return this.select$2($tSource,$.ig.Number.prototype.$type,a).max()},min:function(){var a=true;var b=0;var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if(a){a=false;b=c}else{b=Math.min(b,c)}}return b},min$1:function($tSource,a){return this.select$2($tSource,$.ig.Number.prototype.$type,a).max()},count$1:function($tSource){var a=0;var c=this.getEnumerator();while(c.moveNext()){var b=c.current();a++}return a},reverse$1:function($tSource){var $self=this;var $iter=function(){return function($tSource){return{$state:0,$this:$self,$current:null,$a:null,$b:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$a=new $$t.al($tSource,1,this.$this);this.$state=1;break;case 1:this.$b=this.$a.count()-1;this.$state=5;break;case 2:this.$current=this.$a.__inner[this.$b];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$b--;this.$state=5;break;case 5:if(this.$b>0){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource)};return new $.ig.GenericEnumerable$1($tSource,$iter)},cast$1:function($tResult){if(this==null){throw new $$t.ca("source")}var a=$.ig.util.cast($$t.$ad.$type.specialize($tResult),this);if(a!=null){return a}var b=new $$t.al($tResult,0);var d=this.getEnumerator();while(d.moveNext()){var c=d.current();if($.ig.util.cast($tResult,c)!==null){b.add1(c)}else{b.add1(null)}}return b},take$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=9;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a>0){this.$state=4}else{this.$state=6}break;case 4:a--;this.$current=this.$b;this.$state=5;return true;case 5:this.$state=8;break;case 6:this.$state=-2;return false;case 7:this.$state=8;break;case 8:this.$state=9;break;case 9:if(this.$c.moveNext()){this.$state=2}else{this.$state=10}break;case 10:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},skip$1:function($tSource,a){var $self=this;var $iter=function(){return function($tSource,a){return{$state:0,$this:$self,$current:null,$b:null,$c:null,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$c=this.$this.getEnumerator();this.$state=8;break;case 2:this.$b=this.$c.current();this.$state=3;break;case 3:if(a<=0){this.$state=4}else{this.$state=6}break;case 4:this.$current=this.$b;this.$state=5;return true;case 5:this.$state=7;break;case 6:a--;this.$state=7;break;case 7:this.$state=8;break;case 8:if(this.$c.moveNext()){this.$state=2}else{this.$state=9}break;case 9:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}($tSource,a)};return new $.ig.GenericEnumerable$1($tSource,$iter)},any$1:function($tSource){var b=this.getEnumerator();while(b.moveNext()){var a=b.current();return true}return false},contains$1:function($tSource,value_){var a=this.getEnumerator();while(a.moveNext()){var item_=a.current();if(item_===value_){return true}}return false},union$1:function($tSource,a){return null},toArray$1:function($tSource){var a=new $$t.al($tSource,1,this);return a.asArrayList()},elementAt$1:function($tSource,a){var b=$.ig.util.cast($$t.$ag.$type.specialize($tSource),this);if(b!=null){return b.item(a)
}return this.skip$1($tSource,a).first$1($tSource)},sum:function(){var a=0;var c=this.getEnumerator();while(c.moveNext()){var b=c.current();a+=b}return a},sum$1:function($tSource,a){return this.select$2($tSource,Number,a).sum()},$type:new $.ig.Type("Enumerable",$.ig.$ot)},true);$.ig.util.defType("SortedList$1:b1","List$1",{$tElement:null,init:function($tElement,a){this.$tElement=$tElement;this.$type=this.$type.specialize(this.$tElement);$$t.$al.init1.call(this,this.$tElement,1,a)},getEnumerator:function(){return $$t.$al.getEnumerator.call(this)},$type:new $.ig.Type("SortedList$1",$$t.$al.$type.specialize(0),[$$t.$bu.$type.specialize(0)])},true);$.ig.util.defType("IArray:ao","Object",{$type:new $.ig.Type("IArray",null)},true);$.ig.util.defType("AggregateException:cn","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$a3.init.call(this)},init1:function(initNumber,a){$$t.$a3.init1.call(this,1,a)},init2:function(initNumber,a,b){$$t.$a3.init2.call(this,2,a,b)},$type:new $.ig.Type("AggregateException",$$t.$a3.$type)},true);$.ig.util.defType("ArgumentException:co","Error",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$a3.init1.call(this,1,a)},init1:function(initNumber,a,b){$$t.$a3.init1.call(this,1,a)},$type:new $.ig.Type("ArgumentException",$$t.$a3.$type)},true);$.ig.util.defType("ArgumentNullException:ca","Error",{init:function(a){$$t.$a3.init1.call(this,1,a+" cannot be null.")},$type:new $.ig.Type("ArgumentNullException",$$t.$a3.$type)},true);$.ig.util.defType("AsyncCompletedEventArgs:cq","EventArgs",{d:null,b:false,f:null,init:function(a,b,c){$$t.$a9.init.call(this);this.b=b;this.d=a;this.f=c},error:function(){return this.d},cancelled:function(){return this.b},userState:function(){return this.f},h:function(){if(this.error()!=null){throw this.error()}},$type:new $.ig.Type("AsyncCompletedEventArgs",$$t.$a9.$type)},true);$.ig.util.defType("Environment:cu","Object",{init:function(){$.ig.$op.init.call(this)},a:function(){return"\n"},$type:new $.ig.Type("Environment",$.ig.$ot)},true);$.ig.util.defType("InvalidOperationException:cv","Error",{init:function(initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$a3.init1.call(this,1,"Invalid operation")},init1:function(initNumber,a){$$t.$a3.init1.call(this,1,a)},$type:new $.ig.Type("InvalidOperationException",$$t.$a3.$type)},true);$.ig.util.defType("Debug:cw","Object",{init:function(){$.ig.$op.init.call(this)},b:function(a,b){},c:function(a){},a:function(a){},$type:new $.ig.Type("Debug",$.ig.$ot)},true);$.ig.util.defType("ICredentials:cz","Object",{$type:new $.ig.Type("ICredentials",null)},true);$.ig.util.defType("NetworkCredential:c0","Object",{init:function(initNumber,a,b){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$c0.init1.call(this,1,a,b,String.empty())},init1:function(initNumber,a,b,c){$.ig.$op.init.call(this);this.c(a);this.b(b);this.a(c)},getCredential:function(a,b){return this},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("NetworkCredential",$.ig.$ot,[$$t.$cz.$type])},true);$.ig.util.defType("UploadStringCompletedEventArgs:c3","AsyncCompletedEventArgs",{i:null,init:function(a,b,c,d){$$t.$cq.init.call(this,b,c,d);this.i=a},result:function(){this.h();return this.i},$type:new $.ig.Type("UploadStringCompletedEventArgs",$$t.$cq.$type)},true);$.ig.util.defType("WebClient:c4","Object",{init:function(){$.ig.$op.init.call(this);this.c(new $$t.c8)},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},uploadStringCompleted:null,h:function(a,b,c,d){var $self=this;$self.e(a,b,c).i(function(e){if($self.uploadStringCompleted!=null){var f=null;var g=null;try{f=e.m()}catch(e_){g=e_}$self.uploadStringCompleted($self,new $$t.c3(f,g,e.g()==6,d))}})},e:function(a,b,c){var url_=a.value();var method_=b;var data_=c;var contentType_=this.c().item("Content-Type");var credentials_=this.a();var d=$.ig.util.ajax(url_,contentType_,data_,method_,credentials_);return new $$t.c9(String,d,null)},g:function(a,b,c,d){a.e(b)},f:function(a,b,c,d){a.d(new $$t.a3(1,d))},$type:new $.ig.Type("WebClient",$.ig.$ot)},true);$.ig.util.defType("WebHeaderCollection:c8","NameValueCollection",{init:function(){$$t.$bl.init.call(this)},$type:new $.ig.Type("WebHeaderCollection",$$t.$bl.$type)},true);$.ig.util.defType("FaultCode:dx","Object",{init:function(a){$.ig.$op.init.call(this);this.a(a)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("FaultCode",$.ig.$ot)},true);$.ig.util.defType("FaultException:dy","Error",{init:function(a,b,c){$$t.$a3.init.call(this);this.reason(a);this.code(b);this.action(c)},_action:null,action:function(value){if(arguments.length===1){this._action=value;return value}else{return this._action}},_code:null,code:function(value){if(arguments.length===1){this._code=value;return value}else{return this._code}},_reason:null,reason:function(value){if(arguments.length===1){this._reason=value;return value}else{return this._reason}},$type:new $.ig.Type("FaultException",$$t.$a3.$type)},true);$.ig.util.defType("FaultException$1:d0","FaultException",{$tDetail:null,init:function($tDetail,a,b,c,d){this.$tDetail=$tDetail;this.$type=this.$type.specialize(this.$tDetail);$$t.$dy.init.call(this,b,c,d);this.detail(a)},_detail:null,detail:function(value){if(arguments.length===1){this._detail=value;return value}else{return this._detail}},$type:new $.ig.Type("FaultException$1",$$t.$dy.$type)},true);$.ig.util.defType("FaultReason:dz","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},toString:function(){return this.a},$type:new $.ig.Type("FaultReason",$.ig.$ot)},true);$.ig.util.defType("StringBuilder:d1","Object",{_internal:null,internal:function(value){if(arguments.length===1){this._internal=value;return value}else{return this._internal}},init:function(){$.ig.$op.init.call(this);this._internal=[]},d:function(str_){this._internal.push(str_);return this},e:function(a){var str_=a.b();this._internal.push(str_);return this},c:function(chr_){this._internal.push(chr_);return this},f:function(str_){this._internal.push(str_+String.fromCharCode(10));return this},g:function(index_,chr_){this._internal.splice(index_,0,chr_);return this},h:function(index_,str_){this._internal.splice(index_,0,str_);return this},i:function(startIndex_,length_){this._internal.splice(startIndex_,length_);return this},b:function(){return this._internal.join("")},$type:new $.ig.Type("StringBuilder",$.ig.$ot)},true);$.ig.util.defType("NotImplementedException:a2","Error",{init:function(){$$t.$a3.init1.call(this,1,"not implemented")},$type:new $.ig.Type("NotImplementedException",$$t.$a3.$type)},true);$.ig.util.defType("Encoding:c5","Object",{init:function(){$.ig.$op.init.call(this)},uTF8:function(){if($$t.$c5.g==null){$$t.$c5.g=new $$t.c6}return $$t.$c5.g},unicode:function(){if($$t.$c5.f==null){$$t.$c5.f=new $$t.c7}return $$t.$c5.f},getString:function(a,b,c){return""},getBytes2:function(a,b,c,d,e){},getBytes:function(a,b,c){var d=new Array(this.getByteCount(a,b,c));this.getBytes2(a,b,c,d,0);return d},getBytes1:function(a){if(a==null){throw new $$t.ca("input")}var b=new Array(a.length);for(var c=0;c<a.length;c++){b[c]=a.charAt(c)}return this.getBytes(b,0,b.length)},getByteCount:function(a,b,c){},$type:new $.ig.Type("Encoding",$.ig.$ot)},true);$.ig.util.defType("UnicodeEncoding:c7","Encoding",{init:function(){$$t.$c5.init.call(this)},getString:function(bytes_,a,b){var c="";for(var i_=a;i_<b;i_=i_+2){if(bytes_[i_]==0){break}if(i_+1>=b){c=c+""}else{var d=bytes_[i_].toString(16);var e=bytes_[i_+1].toString(16);var f=$.ig.Number.prototype.parseInt(e+d,16);c=c+String.fromCharCode(f)}}return c},getByteCount:function(a,b,c){return 0},getBytes2:function(a,b,c,d,e){return 0},getBytes:function(a,b,c){return $$t.$c5.getBytes.call(this,a,b,c)},getBytes1:function(input_){var a=new Array(input_.length*2);for(var i_=0;i_<input_.length;i_++){var hex_=input_.charCodeAt(i_).toString(16).padLeft(4,"0");a[2*i_]=$.ig.Number.prototype.parseInt(hex_.substr(2),16);a[2*i_+1]=$.ig.Number.prototype.parseInt(hex_.substr(0,2),16)}return a},$type:new $.ig.Type("UnicodeEncoding",$$t.$c5.$type)},true);$.ig.util.defType("UTF8Encoding:c6","Encoding",{init:function(){$$t.$c5.init.call(this)},getString:function(bytes_,a,b){var ret_="";for(var i_=a;i_<b;i_++){if(bytes_[i_]==0){break}ret_=ret_+String.fromCharCode(bytes_[i_])}ret_=decodeURIComponent(escape(ret_));return ret_},getByteCount:function(a,b,c){return 0},getBytes2:function(a,b,c,d,e){return 0},getBytes:function(a,b,c){return $$t.$c5.getBytes.call(this,a,b,c)},getBytes1:function(input_){var a=new Array(input_.length);var inputUTF8_=unescape(encodeURIComponent(input_));for(var i_=0;i_<inputUTF8_.length;i_++){a[i_]=inputUTF8_.charCodeAt(i_)}return a},$type:new $.ig.Type("UTF8Encoding",$$t.$c5.$type)},true);$.ig.util.defType("Task:da","Object",{_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:false,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$da.init1.call(this,1,a,null)},init1:function(initNumber,a,b){var $self=this;$.ig.$op.init.call(this);var c=function(){};var d=function(e){if(e==null){$self.b(true)}else{$self.a(new $$t.cn(2,"Exception occurred during task execution",e))}};this.c(a.done(c).fail(d));this.d(b)},g:function(){if(this.b()){return 6}switch(this.c().state()){case"pending":return 0;case"resolved":return 5;case"rejected":return 7;default:return 0}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},e:function(a){var $self=this;var b=function(){return a($self)};var c=function(d){return a($self)};var d=$self.c().done(b).fail(c);return new $$t.da(0,d)},f:function($tNewResult,a){var $self=this;var b=new $$t.de($tNewResult,0);var c=function(){try{var d=a($self);b.e(d)}catch(e_){b.d(e_)}};var d=function(e){return c()};var e=function(f){return c()};$self.c().done(d).fail(e);return b.b()},$type:new $.ig.Type("Task",$.ig.$ot)},true);$.ig.util.defType("Task$1:c9","Task",{$tResult:null,init:function($tResult,a,b){var $self=this;this.h=false;this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$$t.$da.init1.call(this,1,a,b);var c=function(d){var e=d;$self.l=e;$self.h=true};var d=function(e){$self.h=true};this.c().done(c).fail(d)},h:false,l:null,m:function(){if(!this.h){throw"Result is not ready yet"}if(this.a()!=null){throw this.a()}return this.l},i:function(a){var $self=this;return $$t.$da.e.call($self,function(b){return a(b)})},j:function($tNewResult,a){var $self=this;var b=function(c){return a(c)};return $self.k($.ig.$op.$type,b).k($tNewResult,function(c){return c.m()})},k:function($tNewResult,a){return $$t.$da.f.call(this,$tNewResult,a)},$type:new $.ig.Type("Task$1",$$t.$da.$type)},true);$.ig.util.defType("TaskCompletionSource$1:de","Object",{$tResult:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},init:function($tResult,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$$t.$de.init1.call(this,this.$tResult,1,null)},init1:function($tResult,initNumber,a){this.$tResult=$tResult;this.$type=this.$type.specialize(this.$tResult);$.ig.$op.init.call(this);this.a($.ig.util.deferred());this.b(new $$t.c9(this.$tResult,this.a().promise(),a))},c:function(){this.a().reject(null)},d:function(a){this.a().reject(a)},e:function(a){this.a().resolve(a)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("TaskCompletionSource$1",$.ig.$ot)},true);$.ig.util.defType("TaskFactory:d4","Object",{init:function(){$.ig.$op.init.call(this)},c:function(a,b){var $self=this;return new $$t.da(0,$self.b($self.a(a)).always(function(){return b(a)}))},d:function($tResult,a,b){var $self=this;var c=new $$t.de($tResult,0);$self.b($self.a(a)).always(function(){try{var d=b(a);c.e(d)}catch(e_){c.d(e_)}});return c.b()},e:function($tAntecedentResult,$tResult,a,b){var $self=this;var c=function(d){return b(d)};return $self.d($.ig.$op.$type,a,c).j($tResult,function(d){return d.m()})},a:function(a){var b=new Array(a.length);for(var c=0;c<a.length;c++){b[c]=a[c].c()}return b},b:function(a){var promises_=a;var b=function(p){function whenAll(){var whenDeffered=$.ig.util.deferred();if(arguments.length===0){whenDeffered.resolve();return whenDeffered}var count=arguments.length;var resolve=true;for(var i=0;i<arguments.length;i++){arguments[i].done(function(){resolve=resolve&&true}).fail(function(){resolve=resolve&&false}).always(function(){count--;if(count<=0){if(resolve){whenDeffered.resolve()}else{whenDeffered.reject()}}})}return whenDeffered}return whenAll.apply($,p)}(promises_);return b},$type:new $.ig.Type("TaskFactory",$.ig.$ot)},true);$.ig.util.defType("Tuple$2:d5","Object",{$t1:null,$t2:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},init:function($t1,$t2,a,b){this.$t1=$t1;this.$t2=$t2;this.$type=this.$type.specialize(this.$t1,this.$t2);$.ig.$op.init.call(this);this.a(a);this.b(b)},$type:new $.ig.Type("Tuple$2",$.ig.$ot)},true);$.ig.util.defType("Uri:c1","Object",{init:function(a){$.ig.$op.init.call(this);this.value(a)},_value:null,value:function(value){if(arguments.length===1){this._value=value;return value}else{return this._value}},$type:new $.ig.Type("Uri",$.ig.$ot)},true);$.ig.util.defType("JavaScriptSerializer:d6","Object",{init:function(){$.ig.$op.init.call(this)},a:function(a){var text_=a;return JSON.parse(text_)},b:function(a){var value_=a;return JSON.stringify(value_)},$type:new $.ig.Type("JavaScriptSerializer",$.ig.$ot)},true);$.ig.util.defType("XObject:f9","Object",{init:function(a){$.ig.$op.init.call(this);this.backingNode(a)},_backingNode:null,backingNode:function(value){if(arguments.length===1){this._backingNode=value;return value}else{return this._backingNode}},c:function(){},toString:function(){if(this.backingNode()!=null){return $$t.$gi.xmlNodeToString(this.backingNode())}else{return""}},$type:new $.ig.Type("XObject",$.ig.$ot)},true);$.ig.util.defType("XAttribute:gj","XObject",{init:function(a){$$t.$f9.init.call(this,a)},e:function(a){this.backingNode(this.backingNode().cloneNode(true));a.setAttributeNode(this.backingNode())},c:function(){return 2},d:function(){return $$t.$gi.b(this.backingNode())},$type:new $.ig.Type("XAttribute",$$t.$f9.$type)},true);$.ig.util.defType("XNode:gk","XObject",{init:function(a){$$t.$f9.init.call(this,a)},$type:new $.ig.Type("XNode",$$t.$f9.$type)},true);$.ig.util.defType("XContainer:gl","XNode",{init:function(a){$$t.$gk.init.call(this,a)},h:function(a){var b=null;var c=this.backingNode();var d=c.childNodes;var e=d.length;var f=a.c();var g=a.d();for(var h=0;h<e;h++){var i=d.item(h);if(i.namespaceURI==g&&i.nodeType==1&&$$t.$gi.d(i)==f){b=i}}if(b==null){return null}else{return new $$t.gm(0,b)}},d:function(){return this.f(null)},e:function(a){return this.f(a)},f:function(a){var b=new $$t.al($$t.$gm.$type,0);for(var c=0;c<this.backingNode().childNodes.length;c++){var d=this.backingNode().childNodes.item(c);if(d.nodeType==1){var e=false;if(a!=null){if($$t.$gi.d(d)==a.c()&&d.namespaceURI==a.d()){e=true}}else{e=true}if(e){b.add1(new $$t.gm(0,d))}}}return b},g:function(a){var b=this.backingNode();var c;if($.ig.util.cast($$t.$gp.$type,this)!==null){c=this.backingNode()}else{c=this.backingNode().ownerDocument}if($.ig.util.cast($$t.$gj.$type,a)!==null){a.e(b)}else if($.ig.util.cast($$t.$gm.$type,a)!==null){a.j(b,c)}},$type:new $.ig.Type("XContainer",$$t.$gk.$type)},true);$.ig.util.defType("XDocument:gp","XContainer",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}$$t.$gl.init.call(this,a)},init1:function(initNumber){$$t.$gl.init.call(this,$$t.$gi.j())},c:function(){return 9},i:function(a){return new $$t.gp(0,$$t.$gi.n(a))},$type:new $.ig.Type("XDocument",$$t.$gl.$type)},true);$.ig.util.defType("XElement:gm","XContainer",{init:function(initNumber,a){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break}return}$$t.$gl.init.call(this,a)},init1:function(initNumber,a){$$t.$gm.init2.call(this,2,a,null)},init2:function(initNumber,a,b){$$t.$gl.init.call(this,$$t.$gi.o(a.c(),a.d()));var c=b==null?"":b.toString();this.i(c)},i:function(a){if(arguments.length===1){$$t.$gi.h(this.backingNode(),a);return a}else{return $$t.$gi.c(this.backingNode())}},c:function(){return 1},l:function(){return $$t.$gn.e($$t.$gi.d(this.backingNode()),this.backingNode().namespaceURI)},k:function(a){return new $$t.gj($$t.$gi.i(this.backingNode(),a.c(),a.d()))},j:function(a,b){if(this.backingNode().ownerDocument!=b){this.backingNode($$t.$gi.p(b,this.backingNode()))}a.appendChild(this.backingNode())},$type:new $.ig.Type("XElement",$$t.$gl.$type)},true);$.ig.util.defType("XmlUtils:gi","Object",{init:function(){$.ig.$op.init.call(this)},a:function(){return!!window.DOMParser},m:function(a){var text_=a;return(new DOMParser).parseFromString(text_,"text/xml")},l:function(a){var text_=a;return function(xml){var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=false;xmlDoc.loadXML(xml);return xmlDoc}(text_)},f:function(a){var node_=a;return(new XMLSerializer).serializeToString(node_)},e:function(a){var node_=a;return node_.xml},k:function(){return new ActiveXObject("Microsoft.XMLDOM")},n:function(a){if($$t.$gi.a()){return $$t.$gi.m(a)}else{return $$t.$gi.l(a)}},xmlNodeToString:function(a){if($$t.$gi.a()){return $$t.$gi.f(a)}else{return $$t.$gi.e(a)}},j:function(){var a;if($$t.$gi.a()){a=$$t.$gi.m("<dummy/>");a.removeChild(a.documentElement)}else{a=$$t.$gi.k()}return a},o:function(a,b){var doc_=$$t.$gi.j();if($$t.$gi.a()){return doc_.createElementNS(b,a)}else{var name_=a;var namespaceURI_=b;return doc_.createNode(1,name_,namespaceURI_)}},c:function(a){if($$t.$gi.a()){return a.textContent}else{var node_=a;return node_.text}},h:function(a,b){if($$t.$gi.a()){a.textContent=b}else{var node_=a;var text_=b;node_.text=text_}},p:function(a,b){if($$t.$gi.a()){return a.importNode(b,true)}else{return b}},d:function(a){if($$t.$gi.a()){return a.localName}else{var node_=a;return node_.baseName}},i:function(a,b,c){if($$t.$gi.a()){return a.getAttributeNodeNS(c,b)}else{var elem_=a;var ln_=b;var nn_=c;return elem_.attributes.getQualifiedItem(ln_,nn_)}},b:function(a){if($$t.$gi.a()){return a.nodeValue}else{var attr_=a;return attr_.value}},$type:new $.ig.Type("XmlUtils",$.ig.$ot)},true);$.ig.util.defType("XName:gn","Object",{a:null,b:null,init:function(a,b){$.ig.$op.init.call(this);this.a=a;this.b=b},c:function(){return this.a},d:function(){return this.b},f:function(){return $$t.$go.c(this.b)},e:function(a,b){return new $$t.gn(a,b)},$type:new $.ig.Type("XName",$.ig.$ot)},true);$.ig.util.defType("XNamespace:go","Object",{a:null,init:function(a){$.ig.$op.init.call(this);this.a=a},c:function(a){return new $$t.go(a)},d:function(){return $$t.$go.c("http://www.w3.org/2000/xmlns/")},b:function(){return this.a},$type:new $.ig.Type("XNamespace",$.ig.$ot)},true);$$t.$dd.created=0;$$t.$dd.ranToCompletion=5;$$t.$dd.canceled=6;$$t.$dd.faulted=7;$$t.$cs.ascending=0;$$t.$cs.descending=1;$$t.$ba.add=0;$$t.$ba.remove=1;$$t.$ba.replace=2;$$t.$ba.reset=4;$$t.$c5.g=null;$$t.$c5.f=null;$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.AbstractEnumerable,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ICollection$1,$.ig.IEnumerable$1,$.ig.IList$1,$.ig.List$1,$.ig.IEnumerable,$.ig.ICollection,$.ig.IList,$.ig.Array,$.ig.Dictionary,$.ig.XmlNodeList,$.ig.XmlNamedNodeMap,$.ig.AbstractEnumerable,$.ig.IDictionary$2,$.ig.Dictionary$2,$.ig.GenericEnumerable$1,$.ig.ReadOnlyCollection$1,$.ig.Stack$1,$.ig.IOrderedEnumerable$1],["ofType$1","cast$1"]]])})(jQuery);$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["ICoreOlapElement:a","String:b","Object:c","Type:d","Boolean:e","ValueType:f","Void:g","RuntimeTypeHandle:h","MethodInfo:i","MethodBase:j","MemberInfo:k","ParameterInfo:l","TypeCode:m","Enum:n","Number:o","IComparable:p","Number:q","Single:r","Number:s","ConstructorInfo:t","String:u","Array:v","RegExp:w","Cube:x","CubeType:y","Date:z","Date:aa","Number:ab","Catalog:ac","Dimension:ad","DimensionType:ae","KpiDimension:af","HierarchyOrigin:ai","AggregatorType:aj","CardinalityType:ak","MemberType:al","Hierarchy:am","Kpi:an","Level:ao","Measure:ap","KpiMeasure:aq","MeasureGroup:ar","MeasureGroupDimension:as","Member:at","Nullable$1:au","OlapResult:av","IList$1:aw","ICollection$1:ax","IEnumerable$1:ay","IEnumerable:az","IEnumerator:a0","IEnumerator$1:a1","OlapResultAxis:a2","PositionResolver$2:a3","List$1:a4","IArrayList:a5","Array:a6","ICollection:a7","CompareCallback:a8","MulticastDelegate:a9","IntPtr:ba","IList:bb","IDisposable:bc","IArray:bd","Script:be","Func$3:bf","Action$1:bg","PositionItemInfo$2:bh","Dictionary$2:bi","IDictionary$2:bj","IDictionary:bk","Dictionary:bl","IEqualityComparer$1:bm","KeyValuePair$2:bn","NotImplementedException:bo","Error:bp","IHierarchicalPositionItem$2:bq","IPositionItem$2:br","IPosition$2:bs","Math:bt","Number:bu","Number:bv","Number:bw","Number:bx","Number:by","Number:bz","Number:b0","Enumerable:b1","Func$2:b2","IOrderedEnumerable$1:b3","SortedList$1:b4","ArgumentNullException:b5","EventHandler$1:b6","Delegate:b7","ListSortDirection:b8","OlapResultTuple:b9","ReadOnlyCollection$1:ca","OlapResultAxisMember:cb","OlapResultCell:cc","IConnection:cd","IOlapDataProviderFactory:ce","IOlapDiscoverDataProvider:cf","Task$1:cg","Task:ch","JQueryPromise:ci","Action:cj","AggregateException:ck","TaskStatus:cl","TaskCompletionSource$1:cm","JQueryDeferred:cn","JQuery:co","JQueryObject:cp","Element:cq","ElementAttributeCollection:cr","ElementCollection:cs","WebStyle:ct","ElementNodeType:cu","Document:cv","EventListener:cw","IElementEventHandler:cx","ElementEventHandler:cy","ElementAttribute:cz","JQueryPosition:c0","JQueryCallback:c1","JQueryEvent:c2","JQueryUICallback:c3","IOlapExecuteCommandProvider:c4","HeaderCellsLayoutOrientation:c5","LevelSpanManager:c6","SpanSource:c7","ITableViewHeadersFactory:c8","TableViewHeadersFactory:c9","ArrayListCollection$1:da","INotifyCollectionChanged:db","NotifyCollectionChangedEventHandler:dc","NotifyCollectionChangedEventArgs:dd","EventArgs:de","NotifyCollectionChangedAction:df","TableViewHeaderCellSource:dg","OlapTableViewHeaderCell:dh","TableCompactViewHeadersFactory:di","TableViewImpl:dj","TableViewSettings:dk","ResultHeaderSorter:dl","ResultSorter$1:dm","AxisTupleVisitor:dn","LevelSortDirection:dp","LevelSortBehavior:dq","AxisHeaderSortingVisitor:dr","TupleSortDirection:ds","ResultColumnValueSorter:dt","AxisValueSortingVisitor:du","OlapTableViewResultCell:dv","OlapResultView:dw","InvalidOperationException:dx","ResultViewHelper:dy","IOlapDataSource:dz","OlapMetadataTreeItem:d0","OlapMetadataTreeItemType:d1","MeasureListLocation:d2","MeasureList:d3","OlapDataSource:d4","DataSourceBaseOptions:d5","CubeMetaItemsCache:d6","MeasureGroupMetaItemsCache:d7","Tuple$2:d8","NotSupportedException:d9","PositionInfo:ea","TaskExtensions:eb","AxisElement:ec","AxisDefinitionParser:ed","Debug:ee","TaskFactory:ef","MetaTreeHelper:eg","HierarchyItemPosition:eh","CoreOlapElementParser:el","KeyValueItem:eu","HierarchyFilterView:ev","FilterMember:ew","INotifyPropertyChanged:ex","PropertyChangedEventHandler:ey","PropertyChangedEventArgs:ez","FilterMemberStateChangedEventArgs:e0","DataSourceBase:e1","jQueryUtils:e2","OlapUtilities:e3","OlapTableView:e4","AbstractEnumerable:e5","Func$1:e6","AbstractEnumerator:e7","GenericEnumerable$1:e8","GenericEnumerator$1:e9"]);$.ig.util.defType("LevelSortBehavior","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("LevelSortBehavior",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("OlapMetadataTreeItemType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("OlapMetadataTreeItemType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("MeasureListLocation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MeasureListLocation",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("HeaderCellsLayoutOrientation","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HeaderCellsLayoutOrientation",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("MemberType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("MemberType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("CardinalityType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CardinalityType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("AggregatorType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("AggregatorType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("HierarchyOrigin","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("HierarchyOrigin",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("DimensionType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("DimensionType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("CubeType","Enum",{init:function(){$.ig.Enum.prototype.init.call(this)},$type:new $.ig.Type("CubeType",$.ig.Enum.prototype.$type)},true);$.ig.util.defType("ICoreOlapElement","Object",{$type:new $.ig.Type("ICoreOlapElement",null)},true);$.ig.util.defType("Cube","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_cubeType:null,cubeType:function(value){if(arguments.length===1){this._cubeType=value;return value}else{return this._cubeType}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_lastProcessed:null,lastProcessed:function(value){if(arguments.length===1){this._lastProcessed=value;return value}else{return this._lastProcessed}},_lastUpdated:null,lastUpdated:function(value){if(arguments.length===1){this._lastUpdated=value;return value}else{return this._lastUpdated}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},$type:new $.ig.Type("Cube",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Catalog","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},$type:new $.ig.Type("Catalog",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Dimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_dimensionType:null,dimensionType:function(value){if(arguments.length===1){this._dimensionType=value;return value}else{return this._dimensionType}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_defaultHierarchy:null,defaultHierarchy:function(value){if(arguments.length===1){this._defaultHierarchy=value;return value}else{return this._defaultHierarchy}},$type:new $.ig.Type("Dimension",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("KpiDimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},$type:new $.ig.Type("KpiDimension",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Hierarchy","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_defaultHierarchy:null,defaultHierarchy:function(value){if(arguments.length===1){this._defaultHierarchy=value;return value}else{return this._defaultHierarchy}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_defaultMember:null,defaultMember:function(value){if(arguments.length===1){this._defaultMember=value;return value}else{return this._defaultMember}},_allMember:null,allMember:function(value){if(arguments.length===1){this._allMember=value;
return value}else{return this._allMember}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_hierarchyOrigin:null,hierarchyOrigin:function(value){if(arguments.length===1){this._hierarchyOrigin=value;return value}else{return this._hierarchyOrigin}},_hierarchyDisplayFolder:null,hierarchyDisplayFolder:function(value){if(arguments.length===1){this._hierarchyDisplayFolder=value;return value}else{return this._hierarchyDisplayFolder}},$type:new $.ig.Type("Hierarchy",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Kpi","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_kpiDisplayFolder:null,kpiDisplayFolder:function(value){if(arguments.length===1){this._kpiDisplayFolder=value;return value}else{return this._kpiDisplayFolder}},_kpiValue:null,kpiValue:function(value){if(arguments.length===1){this._kpiValue=value;return value}else{return this._kpiValue}},_kpiGoal:null,kpiGoal:function(value){if(arguments.length===1){this._kpiGoal=value;return value}else{return this._kpiGoal}},_kpiStatus:null,kpiStatus:function(value){if(arguments.length===1){this._kpiStatus=value;return value}else{return this._kpiStatus}},_kpiTrend:null,kpiTrend:function(value){if(arguments.length===1){this._kpiTrend=value;return value}else{return this._kpiTrend}},_kpiStatusGraphic:null,kpiStatusGraphic:function(value){if(arguments.length===1){this._kpiStatusGraphic=value;return value}else{return this._kpiStatusGraphic}},_kpiTrendGraphic:null,kpiTrendGraphic:function(value){if(arguments.length===1){this._kpiTrendGraphic=value;return value}else{return this._kpiTrendGraphic}},_kpiWeight:null,kpiWeight:function(value){if(arguments.length===1){this._kpiWeight=value;return value}else{return this._kpiWeight}},_parentKpiName:null,parentKpiName:function(value){if(arguments.length===1){this._parentKpiName=value;return value}else{return this._parentKpiName}},_currentTimeMember:null,currentTimeMember:function(value){if(arguments.length===1){this._currentTimeMember=value;return value}else{return this._currentTimeMember}},$type:new $.ig.Type("Kpi",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Level","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_depth:0,depth:function(value){if(arguments.length===1){this._depth=value;return value}else{return this._depth}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_membersCount:0,membersCount:function(value){if(arguments.length===1){this._membersCount=value;return value}else{return this._membersCount}},_levelOrigin:0,levelOrigin:function(value){if(arguments.length===1){this._levelOrigin=value;return value}else{return this._levelOrigin}},_levelOrderingProperty:null,levelOrderingProperty:function(value){if(arguments.length===1){this._levelOrderingProperty=value;return value}else{return this._levelOrderingProperty}},$type:new $.ig.Type("Level",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("Measure","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_aggregatorType:null,aggregatorType:function(value){if(arguments.length===1){this._aggregatorType=value;return value}else{return this._aggregatorType}},_defaultFormatString:null,defaultFormatString:function(value){if(arguments.length===1){this._defaultFormatString=value;return value}else{return this._defaultFormatString}},_measureDisplayFolder:null,measureDisplayFolder:function(value){if(arguments.length===1){this._measureDisplayFolder=value;return value}else{return this._measureDisplayFolder}},$type:new $.ig.Type("Measure",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("KpiMeasure","Measure",{init:function(a,b){$.ig.Measure.prototype.init.call(this);this.uniqueName(a);this.caption(b)},_graphic:null,graphic:function(value){if(arguments.length===1){this._graphic=value;return value}else{return this._graphic}},createKpiValueMeasure:function(a){return new $.ig.KpiMeasure(a.kpiValue(),a.caption()+" Value")},createKpiGoalMeasure:function(a){return new $.ig.KpiMeasure(a.kpiGoal(),a.caption()+" Goal")},createKpiWeightMeasure:function(a){return new $.ig.KpiMeasure(a.kpiWeight(),a.caption()+" Weight")},createKpiStatusMeasure:function(a){var b=new $.ig.KpiMeasure(a.kpiStatus(),a.caption()+" Status");b.graphic(a.kpiStatusGraphic());return b},createKpiTrendMeasure:function(a){var b=new $.ig.KpiMeasure(a.kpiTrend(),a.caption()+" Trend");b.graphic(a.kpiTrendGraphic());return b},$type:new $.ig.Type("KpiMeasure",$.ig.Measure.prototype.$type)},true);$.ig.util.defType("MeasureGroup","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},$type:new $.ig.Type("MeasureGroup",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("MeasureGroupDimension","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_measureGroupName:null,measureGroupName:function(value){if(arguments.length===1){this._measureGroupName=value;return value}else{return this._measureGroupName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_measureGroupCardinality:null,measureGroupCardinality:function(value){if(arguments.length===1){this._measureGroupCardinality=value;return value}else{return this._measureGroupCardinality}},_dimensionCardinality:null,dimensionCardinality:function(value){if(arguments.length===1){this._dimensionCardinality=value;return value}else{return this._dimensionCardinality}},_isDimensionVisible:false,isDimensionVisible:function(value){if(arguments.length===1){this._isDimensionVisible=value;return value}else{return this._isDimensionVisible}},_isFactDimension:false,isFactDimension:function(value){if(arguments.length===1){this._isFactDimension=value;return value}else{return this._isFactDimension}},_dimensionPath:null,dimensionPath:function(value){if(arguments.length===1){this._dimensionPath=value;return value}else{return this._dimensionPath}},_dimensionGranularity:null,dimensionGranularity:function(value){if(arguments.length===1){this._dimensionGranularity=value;return value}else{return this._dimensionGranularity}},$type:new $.ig.Type("MeasureGroupDimension",$.ig.Object.prototype.$type)},true);$.ig.util.defType("Member","Object",{init:function(){$.ig.Object.prototype.init.call(this);var a=$.ig.util.toNullable($.ig.Number.prototype.$type,null);this.scope(a)},_cubeName:null,cubeName:function(value){if(arguments.length===1){this._cubeName=value;return value}else{return this._cubeName}},_catalogName:null,catalogName:function(value){if(arguments.length===1){this._catalogName=value;return value}else{return this._catalogName}},_dimensionUniqueName:null,dimensionUniqueName:function(value){if(arguments.length===1){this._dimensionUniqueName=value;return value}else{return this._dimensionUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_levelDepth:0,levelDepth:function(value){if(arguments.length===1){this._levelDepth=value;return value}else{return this._levelDepth}},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_memberType:null,memberType:function(value){if(arguments.length===1){this._memberType=value;return value}else{return this._memberType}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_childrenCardinality:0,childrenCardinality:function(value){if(arguments.length===1){this._childrenCardinality=value;return value}else{return this._childrenCardinality}},_parentLevel:0,parentLevel:function(value){if(arguments.length===1){this._parentLevel=value;return value}else{return this._parentLevel}},_parentUniqueName:null,parentUniqueName:function(value){if(arguments.length===1){this._parentUniqueName=value;return value}else{return this._parentUniqueName}},_description:null,description:function(value){if(arguments.length===1){this._description=value;return value}else{return this._description}},_scope:$.ig.util.toNullable($.ig.Number.prototype.$type,null),scope:function(value){if(arguments.length===1){this._scope=value;return value}else{return this._scope}},$type:new $.ig.Type("Member",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapResult","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_isEmpty:false,isEmpty:function(value){if(arguments.length===1){this._isEmpty=value;return value}else{return this._isEmpty}},_axes:null,axes:function(value){if(arguments.length===1){this._axes=value;return value}else{return this._axes}},_cells:null,cells:function(value){if(arguments.length===1){this._cells=value;return value}else{return this._cells}},$type:new $.ig.Type("OlapResult",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultAxis","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.tuples(a.toList$1($.ig.OlapResultTuple.prototype.$type));this.tupleSize(b);this.positionResolver(new $.ig.PositionResolver$2(String,$.ig.Object.prototype.$type,a,b))},_positionResolver:null,positionResolver:function(value){if(arguments.length===1){this._positionResolver=value;return value}else{return this._positionResolver}},clone:function(){var $self=this;var a=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var c=$self.tuples().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}return function(){var $ret=new $.ig.OlapResultAxis(a,$self.tupleSize());$ret.name($self.name());return $ret}()},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_tupleSize:0,tupleSize:function(value){if(arguments.length===1){this._tupleSize=value;return value}else{return this._tupleSize}},_tuples:null,tuples:function(value){if(arguments.length===1){this._tuples=value;return value}else{return this._tuples}},$type:new $.ig.Type("OlapResultAxis",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IPosition$2","Object",{$type:new $.ig.Type("IPosition$2",null)},true);$.ig.util.defType("OlapResultTuple","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.members(new $.ig.ReadOnlyCollection$1($.ig.OlapResultAxisMember.prototype.$type,1,a))},_members:null,members:function(value){if(arguments.length===1){this._members=value;return value}else{return this._members}},getItems:function(){return this.members()},itemsCount:function(){return this.members().count()},indexOf:function(a){return this.members().indexOf(a)},item:function(a){return this.members().item(a)},isEmpty:function(){return false},clone:function(){var a=new $.ig.List$1($.ig.OlapResultAxisMember.prototype.$type,0);var c=this.members().getEnumerator();while(c.moveNext()){var b=c.current();a.add(b.clone())}var d=new $.ig.OlapResultTuple(a);var f=a.getEnumerator();while(f.moveNext()){var e=f.current();e.position(d)}return d},$type:new $.ig.Type("OlapResultTuple",$.ig.Object.prototype.$type,[$.ig.IPosition$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("IPositionItem$2","Object",{$type:new $.ig.Type("IPositionItem$2",null)},true);$.ig.util.defType("IHierarchicalPositionItem$2","Object",{$type:new $.ig.Type("IHierarchicalPositionItem$2",null,[$.ig.IPositionItem$2.prototype.$type.specialize(0,1)])},true);$.ig.util.defType("OlapResultAxisMember","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,String,0));this.ordinal(-1)},_uniqueName:null,uniqueName:function(value){if(arguments.length===1){this._uniqueName=value;return value}else{return this._uniqueName}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_hierarchyUniqueName:null,hierarchyUniqueName:function(value){if(arguments.length===1){this._hierarchyUniqueName=value;return value}else{return this._hierarchyUniqueName}},_levelNumber:0,levelNumber:function(value){if(arguments.length===1){this._levelNumber=value;return value}else{return this._levelNumber}},_displayInfo:null,displayInfo:function(value){if(arguments.length===1){this._displayInfo=value;return value}else{return this._displayInfo}},e:function(){return this.displayInfo()&~65536&~131072},drilledDown:function(){return(this.displayInfo()&65536)==65536},parentSameAsPrev:function(){return(this.displayInfo()&131072)==131072},_properties:null,properties:function(value){if(arguments.length===1){this._properties=value;return value}else{return this._properties}},_position:null,position:function(value){if(arguments.length===1){this._position=value;return value}else{return this._position}},key:function(){return this.uniqueName()},sortKey:function(){if(this.ordinal()>-1){return this.ordinal()}var a=parseFloat(this.caption());if(!isNaN(a)){return a}return this.caption()},_ordinal:0,ordinal:function(value){if(arguments.length===1){this._ordinal=value;return value}else{return this._ordinal}},hierarchyKey:function(){return this.hierarchyUniqueName()},hierarchyLevelKey:function(){return this.levelUniqueName()},parentKey:function(){var $self=this;var a;(function(){var $ret=$self.properties().tryGetValue("PARENT_UNIQUE_NAME",a);a=$ret.value;return $ret.ret})();return a},depth:function(){return this.levelNumber()},isExpandable:function(){return this.e()>0},clone:function(){var a=new $.ig.OlapResultAxisMember;a.caption(this.caption());a.displayInfo(this.displayInfo());a.hierarchyUniqueName(this.hierarchyUniqueName());a.levelNumber(this.levelNumber());a.levelUniqueName(this.levelUniqueName());a.ordinal(this.ordinal());var c=this.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}a.uniqueName(this.uniqueName());a.position(this.position());return a},$type:new $.ig.Type("OlapResultAxisMember",$.ig.Object.prototype.$type,[$.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)])},true);$.ig.util.defType("OlapResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.properties(new $.ig.Dictionary$2(String,$.ig.Object.prototype.$type,0))},_cellOrdinal:0,cellOrdinal:function(value){if(arguments.length===1){this._cellOrdinal=value;return value}else{return this._cellOrdinal}},_properties:null,properties:function(value){if(arguments.length===1){this._properties=value;return value}else{return this._properties}},clone:function(){var $self=this;var a=function(){var $ret=new $.ig.OlapResultCell;$ret.cellOrdinal($self.cellOrdinal());return $ret}();var c=$self.properties().getEnumerator();while(c.moveNext()){var b=c.current();a.properties().add(b.key(),b.value())}return a},$type:new $.ig.Type("OlapResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("IConnection","Object",{$type:new $.ig.Type("IConnection",null)},true);$.ig.util.defType("IOlapDataProviderFactory","Object",{$type:new $.ig.Type("IOlapDataProviderFactory",null)},true);$.ig.util.defType("IOlapDiscoverDataProvider","Object",{$type:new $.ig.Type("IOlapDiscoverDataProvider",null)},true);$.ig.util.defType("IOlapExecuteCommandProvider","Object",{$type:new $.ig.Type("IOlapExecuteCommandProvider",null)},true);$.ig.util.defType("LevelSpanManager","Object",{b:null,init:function(a){$.ig.Object.prototype.init.call(this);this.c(a);this.b=new Array(a)},_c:0,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},a:function(a,b){var $self=this;var c=$self.b[a];if(c==null){c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.SpanSource.prototype.$type,0);$self.b[a]=c}var d;if(!function(){var $ret=c.tryGetValue(b,d);d=$ret.value;return $ret.ret}()){d=new $.ig.SpanSource;if(b>0){var e;if(function(){var $ret=c.tryGetValue(b-1,e);e=$ret.value;return $ret.ret}()){d.a(e);e.e()}}c.add(b,d)}return d},$type:new $.ig.Type("LevelSpanManager",$.ig.Object.prototype.$type)},true);$.ig.util.defType("SpanSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.c=1},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},c:0,d:function(a){if(arguments.length===1){if(this.c!=a){var b=a-this.c;if(this.a()!=null){this.a().d(this.a().d()+b)}this.c=a}return a}else{return this.c}},b:false,e:function(){if(!this.b){this.b=true;this.d(this.d()+1)}},$type:new $.ig.Type("SpanSource",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ITableViewHeadersFactory","Object",{$type:new $.ig.Type("ITableViewHeadersFactory",null)},true);$.ig.util.defType("TableViewHeadersFactory","Object",{_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b);this.c(c);this.d(d);this.e(e)},createHeaderCells:function(){var $self=this;if($self.b().positionResolver().hasUnregisterdPositions()){$self.b().positionResolver().completeRegisterPositions()}var a=$self.b().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableViewHeadersFactory.prototype.createHeaderCells2(a,a.positionItemDepthMin(),b,$self.d(),$self.e());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if($self.c()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.b().d();n=j.a().positionItemDepth()+e;o=j.c().d()}else{n=h;o=j.b().d();l=j.a().positionItemDepth()+e;m=j.c().d()}var p=$self.b().tuples().__inner[j.a().positionIndex()];var q=p.item(j.a().positionItemIndex());var r=$self.b().tuples().__inner[j.k()];if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}var s=$self.a().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.b().name());$ret.hierarchyNumber(j.a().positionItemIndex());$ret.levelNumber(j.a().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.f());$ret.isExpandable(j.e());$ret.tupleIndex(s);$ret.memberIndex(j.a().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.g()){h=h+j.b().d()}i=Math.max(i,j.a().positionItemDepth());d.add(t)}e+=i+1}return d},createHeaderCells2:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(i){return i.positionItemDepth()==b}).getEnumerator();while(h.moveNext()){var g=h.current();var i;var j;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,g,c,f,d,e,i,j);i=$ret.headerCellSource;j=$ret.totalSpan;return $ret.ret})()}},h:function(a,b,c,d,e,f){var $self=this;var g=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(h){return h.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(g.count()>0){var i=g.getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,h,b,c,d,f,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})();e.b().d(e.b().d()+k);if(j.g()){e.b().d(e.b().d()+1)}}e.b().d(e.b().d()-1)}else{f.add(a.positionIndex())}e.k(a.positionIndex())},createHeaderCells1:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.a(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.c(j);$ret.a(b);$ret.e(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(l!=null&&l.count()>0){var m=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.g(true);$ret.a(b);$ret.e(b.isExpandable());return $ret}();i.add(m);var o=l.getEnumerator();while(o.moveNext()){var n=o.current();var p;var q;(function(){var $ret=$.ig.TableViewHeadersFactory.prototype.createHeaderCells1(a,n,c,d,e,f,p,q);p=$ret.headerCellSource;q=$ret.totalSpan;return $ret.ret})();m.b().d(m.b().d()+q);if(p.g()){m.b().d(m.b().d()+1)}}m.b().d(m.b().d()-1);k.f(true);k.e(false);m.f(true);k.d(m);if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,false,k,f)}m.k(k.k());g=m;h=k.b().d()+m.b().d()-1}else{if(b.isExpanded()){k.e(false)}if(!e){i.add(k);$.ig.TableViewHeadersFactory.prototype.h(b,c,d,false,k,f)}h=k.b().d()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableCompactViewHeadersFactory","Object",{_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},init:function(a,b,c,d,e){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b);this.c(c);this.d(d);this.e(e)},createHeaderCells:function(){var $self=this;if($self.b().positionResolver().hasUnregisterdPositions()){$self.b().positionResolver().completeRegisterPositions()}var a=$self.b().positionResolver().rootPositionInfo();var b=new $.ig.List$1($.ig.IList$1.prototype.$type.specialize($.ig.TableViewHeaderCellSource.prototype.$type),0);for(var c=0;c<a.positionSize();c++){b.add(new $.ig.List$1($.ig.TableViewHeaderCellSource.prototype.$type,0))}$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells2(a,a.positionItemDepthMin(),b,$self.d(),$self.e());var d=new $.ig.ArrayListCollection$1($.ig.OlapTableViewHeaderCell.prototype.$type);var e=0;for(var f=0;f<a.positionSize();f++){var g=b.item(f);var h=0;var i=0;var k=g.getEnumerator();while(k.moveNext()){var j=k.current();var l;var m;var n;var o;if($self.c()==$.ig.HeaderCellsLayoutOrientation.prototype.horizontal){l=h;m=j.b().d();n=e;o=1}else{n=h;o=j.b().d();l=e;m=1}var p=$self.b().tuples().__inner[j.a().positionIndex()];var q=p.item(j.a().positionItemIndex());var r=$self.b().tuples().__inner[j.k()];if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}var s=$self.a().positionResolver().getPositionIndex(r);var t=function(){var $ret=new $.ig.OlapTableViewHeaderCell;$ret.axisName($self.b().name());$ret.hierarchyNumber(j.a().positionItemIndex());$ret.levelNumber(j.a().positionItemDepth());$ret.caption(q.caption());$ret.columnIndex(l);$ret.columnSpan(m);$ret.isExpanded(j.f());$ret.isExpandable(j.e());$ret.tupleIndex(s);$ret.memberIndex(j.a().positionItemIndex());$ret.rowIndex(n);$ret.rowSpan(o);return $ret}();if(!j.g()){h=h+j.b().d()}d.add(t)}e+=i+1}return d},createHeaderCells2:function(a,b,c,d,e){var $self=this;var f=new $.ig.LevelSpanManager(a.positionSize());var h=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(i){return i.positionItemDepth()==b}).getEnumerator();while(h.moveNext()){var g=h.current();var i;var j;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,g,c,f,d,e,i,j);i=$ret.headerCellSource;j=$ret.totalSpan;return $ret.ret})()}},h:function(a,b,c,d,e,f){var $self=this;var g=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(h){return h.positionItemDepth()==a.positionItemDepthMin()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(g.count()>0){var i=g.getEnumerator();while(i.moveNext()){var h=i.current();var j;var k;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,h,b,c,d,f,j,k);j=$ret.headerCellSource;k=$ret.totalSpan;return $ret.ret})();e.b().d(e.b().d()+k);if(j.d()!=null){e.b().d(e.b().d()+1)}}e.b().d(e.b().d()-1)}else{f.add(a.positionIndex())}e.k(a.positionIndex())},createHeaderCells1:function(a,b,c,d,e,f,g,h){var $self=this;var i=c.item(b.positionItemIndex());var j=d.a(b.positionItemIndex(),b.positionItemDepth());var k=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.c(j);$ret.a(b);$ret.e(b.isExpandable());return $ret}();g=k;if(e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,true,k,f)}var l=null;if(b.isExpanded()){l=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(m){return m.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(l!=null&&l.count()>0){var m=function(){var $ret=new $.ig.TableViewHeaderCellSource;$ret.g(true);$ret.a(b);$ret.e(b.isExpandable());return $ret}();var o=l.getEnumerator();while(o.moveNext()){var n=o.current();var p;var q;(function(){var $ret=$.ig.TableCompactViewHeadersFactory.prototype.createHeaderCells1(a,n,c,d,e,f,p,q);p=$ret.headerCellSource;q=$ret.totalSpan;return $ret.ret})();m.b().d(m.b().d()+q);if(p.d()!=null){m.b().d(m.b().d()+1)}}m.b().d(m.b().d()-1);k.f(true);k.e(true);k.d(m);if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,false,k,f)}m.k(k.k());h=k.b().d()+m.b().d()-1}else{if(b.isExpanded()){k.e(false)}if(!e){i.add(k);$.ig.TableCompactViewHeadersFactory.prototype.h(b,c,d,false,k,f)}h=k.b().d()}return{headerCellSource:g,totalSpan:h}},$type:new $.ig.Type("TableCompactViewHeadersFactory",$.ig.Object.prototype.$type,[$.ig.ITableViewHeadersFactory.prototype.$type])},true);$.ig.util.defType("TableViewHeaderCellSource","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.b(new $.ig.SpanSource);this.c(new $.ig.SpanSource)},_g:false,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_j:0,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},_h:0,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_k:0,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},_i:0,i:function(value){if(arguments.length===1){this._i=value;return value}else{return this._i}},_f:false,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_e:false,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},$type:new $.ig.Type("TableViewHeaderCellSource",$.ig.Object.prototype.$type)},true);
$.ig.util.defType("TableViewImpl","Object",{init:function(a,b,c,d){var $self=this;$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.originalResult(a);if(d==null){this.viewSettings(new $.ig.TableViewSettings)}else{this.viewSettings(d)}this.hasColumns(b);this.hasRows(c);this.columnSortDirections(new $.ig.ArrayListCollection$1($.ig.TupleSortDirection.prototype.$type));this.columnSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.columnSortDirections().collectionChanged,function(e,f){$self.i(true)});this.levelSortDirections(new $.ig.ArrayListCollection$1($.ig.LevelSortDirection.prototype.$type));this.levelSortDirections().collectionChanged=$.ig.Delegate.prototype.combine(this.levelSortDirections().collectionChanged,function(e,f){$self.i(true)});this.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));this.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));this.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))},_viewSettings:null,viewSettings:function(value){if(arguments.length===1){this._viewSettings=value;return value}else{return this._viewSettings}},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_originalResult:null,originalResult:function(value){if(arguments.length===1){this._originalResult=value;return value}else{return this._originalResult}},_hasRows:false,hasRows:function(value){if(arguments.length===1){this._hasRows=value;return value}else{return this._hasRows}},_hasColumns:false,hasColumns:function(value){if(arguments.length===1){this._hasColumns=value;return value}else{return this._hasColumns}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_h:false,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_i:false,i:function(value){if(arguments.length===1){this._i=value;return value}else{return this._i}},l:null,k:null,o:null,rowHeaders:function(a){if(arguments.length===1){this.l=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.l}},columnHeaders:function(a){if(arguments.length===1){this.k=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.k}},resultCells:function(a){if(arguments.length===1){this.o=a;return a}else{if(!this.h()||this.i()){this.initialize()}return this.o}},_columnSortDirections:null,columnSortDirections:function(value){if(arguments.length===1){this._columnSortDirections=value;return value}else{return this._columnSortDirections}},_levelSortDirections:null,levelSortDirections:function(value){if(arguments.length===1){this._levelSortDirections=value;return value}else{return this._levelSortDirections}},_appliedColumnSortDirections:null,appliedColumnSortDirections:function(value){if(arguments.length===1){this._appliedColumnSortDirections=value;return value}else{return this._appliedColumnSortDirections}},_appliedLevelSortDirections:null,appliedLevelSortDirections:function(value){if(arguments.length===1){this._appliedLevelSortDirections=value;return value}else{return this._appliedLevelSortDirections}},_appliedSortDirectionsMap:null,appliedSortDirectionsMap:function(value){if(arguments.length===1){this._appliedSortDirectionsMap=value;return value}else{return this._appliedSortDirectionsMap}},initialize:function(){var $self=this;$self.d(null);$self.c(null);$self.rowHeaders(null);$self.columnHeaders(null);$self.resultCells(null);$self.result($self.originalResult());if($self.result().isEmpty()){$self.i(false);$self.h(true);return}if($self.levelSortDirections().count()>0){var a=new $.ig.ResultHeaderSorter($self.result(),$self.hasRows(),$self.hasColumns(),$self.levelSortDirections());$self.result(a.b());$self.appliedLevelSortDirections(a.h());$self.appliedSortDirectionsMap(a.g())}else{$self.appliedLevelSortDirections(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));$self.appliedSortDirectionsMap(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0))}if($self.hasRows()&&$self.columnSortDirections().count()>0){if($self.appliedLevelSortDirections().count()>0){if($self.originalResult().axes().item(0).positionResolver().hasUnregisterdPositions()){$self.originalResult().axes().item(0).positionResolver().completeRegisterPositions()}if($self.result().axes().item(0).positionResolver().hasUnregisterdPositions()){$self.result().axes().item(0).positionResolver().completeRegisterPositions()}var b=new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,2,$self.columnSortDirections().count());var c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,1,$self.appliedColumnSortDirections().count());var e=$self.columnSortDirections().getEnumerator();while(e.moveNext()){var d=e.current();var f=$self.originalResult().axes().item(0).tuples().__inner[d.tupleIndex()];var g=$self.result().axes().item(0).positionResolver().getPositionIndex(f);var h=new $.ig.TupleSortDirection;h.sortDirection(d.sortDirection());h.tupleIndex(g);h.comparer(d.comparer());b.add(h);c.item(g,d.tupleIndex())}var i=new $.ig.ResultColumnValueSorter($self.result(),$self.hasRows(),$self.hasColumns(),b);$self.result(i.b());var k=i.g().getEnumerator();while(k.moveNext()){var j=k.current();j.tupleIndex(c.item(j.tupleIndex()))}$self.appliedColumnSortDirections(i.g())}else{var l=new $.ig.ResultColumnValueSorter($self.result(),$self.hasRows(),$self.hasColumns(),$self.columnSortDirections());$self.result(l.b());$self.appliedColumnSortDirections(l.g())}}else{$self.appliedColumnSortDirections(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0))}var m=0;var n=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var o=1;if($self.hasColumns()){var p=$self.result().axes().item(m);var q=$self.originalResult().axes().item(m);var r=$self.u(p,q);for(var s=0;s<r.count();s++){var t=r.item(s);n.add(t,s)}m++;o=p.tuples().count()}var u=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if($self.hasRows()){var v=$self.result().axes().item(m);var w=$self.originalResult().axes().item(m);var x=$self.v(v,w);for(var y=0;y<x.count();y++){var z=x.item(y);u.add(z,y)}}var aa=new $.ig.ArrayListCollection$1($.ig.OlapTableViewResultCell.prototype.$type);for(var ab=0;ab<$self.result().cells().count();ab++){var ac=$self.result().cells().item(ab);var ad;(function(){var $ret=ac.properties().tryGetValue("Value",ad);ad=$ret.value;return $ret.ret})();var ae;(function(){var $ret=ac.properties().tryGetValue("FmtValue",ae);ae=$ret.value;return $ret.ret})();var af=ac.cellOrdinal();if($self.hasColumns()){var ag=af%o;var ah=n.item(ag);if(ag!=ah){var ai=$.ig.intDivide(af,o);af=ai*o+ah}}if($self.hasRows()){var aj=$.ig.intDivide(af,o);var ak=u.item(aj);if(aj!=ak){var al=af%o;af=ak*o+al}}aa.add(function(){var $ret=new $.ig.OlapTableViewResultCell;$ret.value(ad);$ret.formattedValue(ae);$ret.cellOrdinal(af);$ret.resultCellIndex(ab);return $ret}());$self.resultCells(aa)}$self.i(false);$self.h(true)},u:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().a()){this.c(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().c(),c))}else{this.c(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.horizontal,this.viewSettings().c(),c))}this.columnHeaders(this.c().createHeaderCells());return c},v:function(a,b){var c=new $.ig.List$1($.ig.Number.prototype.$type,0);if(this.viewSettings().b()){this.d(new $.ig.TableCompactViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().d(),c))}else{this.d(new $.ig.TableViewHeadersFactory(a,b,$.ig.HeaderCellsLayoutOrientation.prototype.vertical,this.viewSettings().d(),c))}this.rowHeaders(this.d().createHeaderCells());return c},$type:new $.ig.Type("TableViewImpl",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableViewSettings","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:false,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_b:false,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("TableViewSettings",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapResultView","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("result")}this.result(a);this.visibleResult(b);this.hasColumns(c);this.hasRows(d)},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_visibleResult:null,visibleResult:function(value){if(arguments.length===1){this._visibleResult=value;return value}else{return this._visibleResult}},_hasRows:false,hasRows:function(value){if(arguments.length===1){this._hasRows=value;return value}else{return this._hasRows}},_hasColumns:false,hasColumns:function(value){if(arguments.length===1){this._hasColumns=value;return value}else{return this._hasColumns}},c:function(a,b,c,d,e){var $self=this;var f=0;var g=null;var h=1;if(e){g=a.axes().item(f);h=g.tuples().count();f++}var i=null;var j=1;if(d){i=a.axes().item(f);j=i.tuples().count()}var k=1;if(b!=null){k=b.tuples().count()}var l=1;if(c!=null){l=c.tuples().count()}var m=new Array(k*l);if(a.cells().count()>0){var n=0;var o=a.cells().item(n);for(var p=0;p<j;p++){var q=$.ig.intDivide(o.cellOrdinal(),h);if(q!=p){continue}var r=0;if(b!=null&&i!=null){var s=i.tuples().__inner[p];r=b.positionResolver().getPositionIndex(s)}if(r==-1){while(q==p){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h)}else{break}}continue}var t=o.cellOrdinal()%h;for(var u=0;u<h;u++){if(t!=u){continue}var v=-1;if(c==null||g==null){v=0}else{var w=g.tuples().__inner[u];v=c.positionResolver().getPositionIndex(w)}if(v==-1){n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}continue}var x=o.clone();x.cellOrdinal(r*l+v);m[x.cellOrdinal()]=x;n++;if(n<a.cells().count()){o=a.cells().item(n);q=$.ig.intDivide(o.cellOrdinal(),h);if(q>p){break}t=o.cellOrdinal()%h}}}}var y=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);for(var aa=0;aa<m.length;aa++){var z=m[aa];if(z!=null){y.add(z)}}var ab=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);if(e){ab.add(c)}if(d){ab.add(b)}return function(){var $ret=new $.ig.OlapResult;$ret.axes(ab);$ret.cells(y);$ret.isEmpty(!d&&!e&&y.count()==0);return $ret}()},a:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);if(c){for(var e=0;e<b.count();e++){var f=b.item(e);d.add(a.tuples().__inner[f].clone())}}else{var g=0;var h=b.item(g);for(var i=0;i<a.tuples().count();i++){if(i==h){g++;if(g<b.count()){h=b.item(g)}}else{d.add(a.tuples().__inner[i].clone())}}}var j=function(){var $ret=new $.ig.OlapResultAxis(d,a.tupleSize());$ret.name(a.name());return $ret}();return j},expandTupleMember:function(a,b,c){var $self=this;var d=$self.f(a,b,c,$self.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(d.isExpanded()){return $self}var e=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=a=="Axis0"&&!$self.hasColumns()||a=="Axis1"&&$self.hasRows();var h=e.tuples().__inner[b];var i=f.positionResolver().getPositionIndex(h);var j=$self.l(a,i,c,$self.result());if(j.count()==0){return null}var k=null;var l=null;if(g){k=$self.a(f,j,true);if($self.hasColumns()){l=$self.visibleResult().axes().item(0)}}else{l=$self.a(f,j,true);if($self.hasRows()){k=$self.visibleResult().axes().item(1)}}var m=$self.c($self.result(),k,l,$self.hasRows(),$self.hasColumns());var n=$self.b($self.visibleResult(),m,f.name());return new $.ig.OlapResultView($self.result(),n,$self.hasColumns(),$self.hasRows())},collapseTupleMember:function(a,b,c){var $self=this;var d=$self.f(a,b,c,$self.visibleResult());if(d==null){return null}if(!d.isExpandable()){throw new $.ig.InvalidOperationException(1,"The position is not expandable.")}if(!d.isExpanded()){return $self}var e=$self.l(a,b,c,$self.visibleResult());if(e.count()==0){return null}var f=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=a=="Axis0"&&!$self.hasColumns()||a=="Axis1"&&$self.hasRows();var h=null;var i=null;if(g){h=$self.a(f,e,false);if($self.hasColumns()){i=$self.visibleResult().axes().item(0)}}else{i=$self.a(f,e,false);if($self.hasRows()){h=$self.visibleResult().axes().item(1)}}var j=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(k){return k.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var k=j.tuples().__inner[b];if(j.positionResolver().hasUnregisterdPositions()){j.positionResolver().completeRegisterPositions()}var l=j.positionResolver().getHostPositionItemInfo(k,c);var m=l.item(k.item(c).key());m.isExpanded(false);var n=$self.c($self.visibleResult(),h,i,$self.hasRows(),$self.hasColumns());return new $.ig.OlapResultView($self.result(),n,$self.hasColumns(),$self.hasRows())},extend:function(a,b){var $self=this;var c=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(d){return d.name()==b}).first$1($.ig.OlapResultAxis.prototype.$type);var d=b=="Axis0"&&!$self.hasColumns()||b=="Axis1"&&$self.hasRows();var e=null;var f=null;var g=null;var h=false;if(d){e=c;if($self.hasColumns()){f=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);g=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=f.tuples().count()!=g.tuples().count()}}else{f=c;if($self.hasRows()){e=$self.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);g=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=b}).first$1($.ig.OlapResultAxis.prototype.$type);h=e.tuples().count()!=g.tuples().count()}}var i=null;var j=null;if(g!=null&&h){var k=$self.c($self.result(),e,f,$self.hasRows(),$self.hasColumns());i=$self.b(k,a,b);j=$self.b(k,a,b)}else{i=$self.b($self.result(),a,b);j=$self.b($self.visibleResult(),a,b)}return new $.ig.OlapResultView(i,j,$self.hasColumns(),$self.hasRows())},b:function(a,b,c){var $self=this;var d=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);if(d==null){return null}var e=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==c}).first$1($.ig.OlapResultAxis.prototype.$type);var f=c=="Axis0"&&!$self.hasColumns()||c=="Axis1"&&$self.hasRows();var g=null;var h=null;if(f){if($self.hasColumns()){g=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);h=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}else{if($self.hasRows()){g=a.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type);h=b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(i){return i.name()!=c}).first$1($.ig.OlapResultAxis.prototype.$type)}}var i=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var k=d.tuples().getEnumerator();while(k.moveNext()){var j=k.current();i.add(j.clone())}var m=e.tuples().getEnumerator();while(m.moveNext()){var l=m.current();i.add(l)}var n=e.tuples().count();var o=h!=null&&h.tuples().count()>0?h.tuples().count():1;var p=d.tuples().count()>0?d.tuples().count():1;var q=g!=null&&g.tuples().count()>0?g.tuples().count():1;var r=p*q;var s=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);if(f){var u=a.cells().getEnumerator();while(u.moveNext()){var t=u.current();s.add(t.clone())}var v=new Array(n*q);var w=p*q;var y=b.cells().getEnumerator();while(y.moveNext()){var x=y.current();var z=x.clone();var aa=$self.m(z.cellOrdinal(),g,h);var ab=$.ig.intDivide(z.cellOrdinal(),o);z.cellOrdinal(ab*q+aa);z.cellOrdinal(z.cellOrdinal()+r);v[z.cellOrdinal()-w]=z}for(var ac=0;ac<v.length;ac++){var ad=v[ac];if(ad!=null){s.add(ad)}}}else{var ae=new Array(q*(p+n));var ag=a.cells().getEnumerator();while(ag.moveNext()){var af=ag.current();var ah=af.clone();var ai=$.ig.intDivide(ah.cellOrdinal(),p);ah.cellOrdinal(ah.cellOrdinal()+ai*n);ae[ah.cellOrdinal()]=ah}var ak=b.cells().getEnumerator();while(ak.moveNext()){var aj=ak.current();var al=aj.clone();var am=$self.n(al.cellOrdinal(),g,h,n);var an=$.ig.intDivide(aj.cellOrdinal(),n);if(am!=an){}var ao=al.cellOrdinal()%n;al.cellOrdinal(am*n+ao);al.cellOrdinal(al.cellOrdinal()+(am+1)*p);ae[al.cellOrdinal()]=al}for(var aq=0;aq<ae.length;aq++){var ap=ae[aq];if(ap!=null){s.add(ap)}}}var ar=new $.ig.OlapResult;ar.axes(new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0));var as=function(){var $ret=new $.ig.OlapResultAxis(i,d.tupleSize());$ret.name(d.name());return $ret}();if(f){if(g!=null){ar.axes().add(g)}ar.axes().add(as)}else{ar.axes().add(as);if(g!=null){ar.axes().add(g)}}ar.cells(s);ar.isEmpty(!$self.hasColumns()&&!$self.hasRows()&&s.count()==0);return ar},m:function(a,b,c){if(c==null){return 0}var d=a%c.tuples().count();var e=c.tuples().__inner[d];var f=b.positionResolver().getPositionIndex(e);return f},n:function(a,b,c,d){if(c==null){return 0}var e=$.ig.intDivide(a,d);var f=c.tuples().__inner[e];var g=b.positionResolver().getPositionIndex(f);return g},l:function(a,b,c,d){var $self=this;var e=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=e.tuples().__inner[b];var g=f.item(c);if(e.positionResolver().hasUnregisterdPositions()){e.positionResolver().completeRegisterPositions()}var h=e.positionResolver().h(g,$.ig.ListSortDirection.prototype.ascending);if(h!=null){return h.toList$1($.ig.Number.prototype.$type)}return null},f:function(a,b,c,d){var $self=this;var e=d.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var f=e.tuples().__inner[b];var g=f.item(c);if(e.positionResolver().hasUnregisterdPositions()){e.positionResolver().completeRegisterPositions()}var h=e.positionResolver().getHostPositionItemInfo(f,c);var i;(function(){var $ret=h.tryGetValue(g.key(),i);i=$ret.value;return $ret.ret})();return i},$type:new $.ig.Type("OlapResultView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultViewHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},e:function(a,b,c,d,e){$.ig.ResultViewHelper.prototype.d(a,b,c,true,e.visibleResult());$.ig.ResultViewHelper.prototype.d(a,b,c,true,e.result())},f:function(a,b,c){var $self=this;var d=b.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(e){return e.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var e=c.visibleResult().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(f){return f.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.b(d.positionResolver(),e.positionResolver());var f=b.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);var g=c.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(h){return h.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);$.ig.ResultViewHelper.prototype.b(f.positionResolver(),g.positionResolver())},d:function(a,b,c,d,e){var $self=this;var f=e.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(g){return g.name()==a}).first$1($.ig.OlapResultAxis.prototype.$type);if(f.positionResolver().hasUnregisterdPositions()){f.positionResolver().completeRegisterPositions()}$.ig.ResultViewHelper.prototype.c(b,c,d,f.positionResolver())},c:function(a,b,c,d){if(d.hasUnregisterdPositions()){d.completeRegisterPositions()}var e=d.positions().__inner[a];var f=d.getHostPositionItemInfo(e,b);var g=f.item(e.item(b).key());g.isExpanded(c)},b:function(a,b){if(a.hasUnregisterdPositions()){a.completeRegisterPositions()}if(b.hasUnregisterdPositions()){b.completeRegisterPositions()}$.ig.ResultViewHelper.prototype.a(a.rootPositionInfo(),b.rootPositionInfo())},a:function(a,b){var $self=this;var d=a.getEnumerator();while(d.moveNext()){var c=d.current();var e=c.value();var f;if(function(){var $ret=b.tryGetValue(c.key(),f);f=$ret.value;return $ret.ret}()){if(e.isExpanded()!=true){f.isExpanded(false)}if(f.count()>0){$.ig.ResultViewHelper.prototype.a(e,f)}}}},$type:new $.ig.Type("ResultViewHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewHeaderCell","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.columnSpan(1);this.rowSpan(1)},_id:null,id:function(value){if(arguments.length===1){this._id=value;return value}else{return this._id}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_isExpanded:false,isExpanded:function(value){if(arguments.length===1){this._isExpanded=value;return value}else{return this._isExpanded}},_isExpandable:false,isExpandable:function(value){if(arguments.length===1){this._isExpandable=value;return value}else{return this._isExpandable}},_rowIndex:0,rowIndex:function(value){if(arguments.length===1){this._rowIndex=value;return value}else{return this._rowIndex}},_rowSpan:0,rowSpan:function(value){if(arguments.length===1){this._rowSpan=value;return value}else{return this._rowSpan}},_columnIndex:0,columnIndex:function(value){if(arguments.length===1){this._columnIndex=value;return value}else{return this._columnIndex}},_columnSpan:0,columnSpan:function(value){if(arguments.length===1){this._columnSpan=value;return value}else{return this._columnSpan}},_axisName:null,axisName:function(value){if(arguments.length===1){this._axisName=value;return value}else{return this._axisName}},_tupleIndex:0,tupleIndex:function(value){if(arguments.length===1){this._tupleIndex=value;return value}else{return this._tupleIndex}},_memberIndex:0,memberIndex:function(value){if(arguments.length===1){this._memberIndex=value;return value}else{return this._memberIndex}},_levelNumber:0,levelNumber:function(value){if(arguments.length===1){this._levelNumber=value;return value}else{return this._levelNumber}},_hierarchyNumber:0,hierarchyNumber:function(value){if(arguments.length===1){this._hierarchyNumber=value;return value}else{return this._hierarchyNumber}},toString:function(){return this.caption()},$type:new $.ig.Type("OlapTableViewHeaderCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableViewResultCell","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_value:null,value:function(value){if(arguments.length===1){this._value=value;return value}else{return this._value}},_formattedValue:null,formattedValue:function(value){if(arguments.length===1){this._formattedValue=value;return value}else{return this._formattedValue}},_cellOrdinal:0,cellOrdinal:function(value){if(arguments.length===1){this._cellOrdinal=value;return value}else{return this._cellOrdinal}},_resultCellIndex:0,resultCellIndex:function(value){if(arguments.length===1){this._resultCellIndex=value;return value}else{return this._resultCellIndex}},$type:new $.ig.Type("OlapTableViewResultCell",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ArrayListCollection$1","Object",{$t:null,init:function($t){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.inner(new $.ig.Array)},_inner:null,inner:function(value){if(arguments.length===1){this._inner=value;return value}else{return this._inner}},collectionChanged:null,indexOf:function(a){return this.inner().indexOf(a)},insert:function(a,b){this.inner().insert(a,b);this.d(a,b)},removeAt:function(a){var b=this.inner()[a];this.inner().removeAt(a);this.e(a,b)},item:function(a,b){if(arguments.length===2){this.inner()[a]=b;return b}else{return this.inner()[a]}},add:function(a){this.inner().add(a);this.d(this.inner().length-1,a)},clear:function(){this.inner().clear();this.c()},contains:function(a){return this.inner().contains(a)},copyTo:function(a,b){throw new $.ig.NotImplementedException},count:function(){return this.inner().length},isReadOnly:function(){return false},remove:function(a){var b=this.inner().indexOf(a);if(b>=0){this.inner().removeAt(b);this.e(b,a);return true}return false},b:function(){var $self=this;var $iter=function(){return function(){return{$state:0,$this:$self,$current:null,$a:0,getEnumerator:function(){if(this.$state===-1){this.$state=0}return this},current:function(){return this.$current},moveNext:function(){do{switch(this.$state){case 0:this.$state=1;break;case 1:this.$a=0;this.$state=5;break;case 2:this.$current=this.$this.inner()[this.$a];this.$state=3;return true;case 3:this.$state=4;break;case 4:this.$a++;this.$state=5;break;case 5:if(this.$a<this.$this.inner().length){this.$state=2}else{this.$state=6}break;case 6:this.$state=-2;break;case-2:return false}}while(this.$state>0)}}}()};return new $.ig.GenericEnumerable$1(this.$t,$iter)},getEnumerator:function(){return this.b().getEnumerator()},d:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.add,b,a);this.collectionChanged(this,c)}},e:function(a,b){if(this.collectionChanged!=null){var c=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.remove,b,a);this.collectionChanged(this,c)}},c:function(){if(this.collectionChanged!=null){var a=new $.ig.NotifyCollectionChangedEventArgs(1,$.ig.NotifyCollectionChangedAction.prototype.reset,null,-1);this.collectionChanged(this,a)}},$type:new $.ig.Type("ArrayListCollection$1",$.ig.Object.prototype.$type,[$.ig.IList$1.prototype.$type.specialize(0),$.ig.INotifyCollectionChanged.prototype.$type])},true);$.ig.util.defType("IOlapDataSource","Object",{$type:new $.ig.Type("IOlapDataSource",null)},true);$.ig.util.defType("MeasureList","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_name:null,name:function(value){if(arguments.length===1){this._name=value;return value}else{return this._name}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},uniqueName:function(a){if(arguments.length===1){this.name(a);return a}else{return this.name()}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},$type:new $.ig.Type("MeasureList",$.ig.Object.prototype.$type,[$.ig.ICoreOlapElement.prototype.$type])},true);$.ig.util.defType("OlapMetadataTreeItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_item:null,item:function(value){if(arguments.length===1){this._item=value;return value}else{return this._item}},_type:null,type:function(value){if(arguments.length===1){this._type=value;return value}else{return this._type}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_children:null,children:function(value){if(arguments.length===1){this._children=value;return value}else{return this._children}},e:function(a){if(this.children()==null){this.children(new Array(1));this.children()[0]=a;return}var b=new Array(this.children().length+1);$.ig.Array.prototype.copy(this.children(),0,b,0,this.children().length);b[this.children().length]=a;this.children(b)},$type:new $.ig.Type("OlapMetadataTreeItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapDataSource","Object",{ac:null,ab:null,ag:0,j:null,g:null,init:function(a){var $self=this;this.ac=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.ab=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);this.af=new $.ig.List$1(String,0);$.ig.Object.prototype.init.call(this);this.u(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.w(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.v(new $.ig.List$1($.ig.AxisElement.prototype.$type,0));this.o(false);this.al(null);this.t(false);this.aj(null);this.isInitialized(false);this.m(false);this.s(false);this.n(false);this.r(false);this.q(false);this.p(false);this.catalogs(new $.ig.ArrayListCollection$1($.ig.Catalog.prototype.$type));this.cubes(new $.ig.ArrayListCollection$1($.ig.Cube.prototype.$type));this.measureGroups(new $.ig.ArrayListCollection$1($.ig.MeasureGroup.prototype.$type));this.rowAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.columnAxis(new $.ig.ArrayListCollection$1($.ig.ICoreOlapElement.prototype.$type));this.filters(new $.ig.ArrayListCollection$1($.ig.Hierarchy.prototype.$type));this.measures(new $.ig.ArrayListCollection$1($.ig.Measure.prototype.$type));this.measureListLocation($.ig.MeasureListLocation.prototype.columns);this.measureListIndex(-1);this.sourceOptions(a);this.result(function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}())},_isInitialized:false,isInitialized:function(value){if(arguments.length===1){this._isInitialized=value;return value}else{return this._isInitialized}},_catalogs:null,catalogs:function(value){if(arguments.length===1){this._catalogs=value;return value}else{return this._catalogs}},_cubes:null,cubes:function(value){if(arguments.length===1){this._cubes=value;return value}else{return this._cubes}},_cube:null,cube:function(value){if(arguments.length===1){this._cube=value;return value}else{return this._cube}},_measureGroup:null,measureGroup:function(value){if(arguments.length===1){this._measureGroup=value;return value}else{return this._measureGroup}},_measureGroups:null,measureGroups:function(value){if(arguments.length===1){this._measureGroups=value;return value}else{return this._measureGroups}},_sourceOptions:null,sourceOptions:function(value){if(arguments.length===1){this._sourceOptions=value;return value}else{return this._sourceOptions}},dataProviderFactory:function(a){if(arguments.length===1){this.g=a;return a}else{if(this.g==null){this.g=this.h()}return this.g}},_metadataTree:null,metadataTree:function(value){if(arguments.length===1){this._metadataTree=value;return value}else{return this._metadataTree}},_rowAxis:null,rowAxis:function(value){if(arguments.length===1){this._rowAxis=value;return value}else{return this._rowAxis}},_columnAxis:null,columnAxis:function(value){if(arguments.length===1){this._columnAxis=value;return value}else{return this._columnAxis}},_filters:null,filters:function(value){if(arguments.length===1){this._filters=value;return value}else{return this._filters}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},measureListIndex:function(a){if(arguments.length===1){if(this.ag!=a){this.p(true);
this.ag=a;this.az();this.p(false)}return a}else{return this.ag}},measureListLocation:function(a){if(arguments.length===1){if(this.j!=a){this.ax();this.j=a;this.az()}return a}else{return this.j}},_result:null,result:function(value){if(arguments.length===1){this._result=value;return value}else{return this._result}},_l:null,l:function(value){if(arguments.length===1){this._l=value;return value}else{return this._l}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_u:null,u:function(value){if(arguments.length===1){this._u=value;return value}else{return this._u}},_w:null,w:function(value){if(arguments.length===1){this._w=value;return value}else{return this._w}},_v:null,v:function(value){if(arguments.length===1){this._v=value;return value}else{return this._v}},af:null,_o:false,o:function(value){if(arguments.length===1){this._o=value;return value}else{return this._o}},_al:null,al:function(value){if(arguments.length===1){this._al=value;return value}else{return this._al}},_t:false,t:function(value){if(arguments.length===1){this._t=value;return value}else{return this._t}},_aj:null,aj:function(value){if(arguments.length===1){this._aj=value;return value}else{return this._aj}},_m:false,m:function(value){if(arguments.length===1){this._m=value;return value}else{return this._m}},_s:false,s:function(value){if(arguments.length===1){this._s=value;return value}else{return this._s}},_n:false,n:function(value){if(arguments.length===1){this._n=value;return value}else{return this._n}},_r:false,r:function(value){if(arguments.length===1){this._r=value;return value}else{return this._r}},_q:false,q:function(value){if(arguments.length===1){this._q=value;return value}else{return this._q}},_p:false,p:function(value){if(arguments.length===1){this._p=value;return value}else{return this._p}},getMembersOfLevel:function(a){},getMembersOfHierarchy:function(a){},getMembersOfMember:function(a){},setCube:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.an(a)},setMeasureGroup:function(a){if(!this.isInitialized()){throw new $.ig.InvalidOperationException(1,"Data source is not initialized.")}return this.ao(a)},getCoreElement:function(a,b){if(b==$.ig.MeasureList.prototype.$type){var c;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){c=this.columnAxis()}else{c=this.rowAxis()}var d=null;var f=c.getEnumerator();while(f.moveNext()){var e=f.current();d=$.ig.util.cast($.ig.MeasureList.prototype.$type,e);if(d!=null){break}}return d}else{return this.getCoreElements(a,b).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type)}},getCoreElements:function(a,b){var $self=this;if(b==$.ig.Dimension.prototype.$type){return $self.a($.ig.Dimension.prototype.$type,$self.c().t().where$1($.ig.Dimension.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Hierarchy.prototype.$type){return $self.a($.ig.Hierarchy.prototype.$type,$self.c().u().where$1($.ig.Hierarchy.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Level.prototype.$type){return $self.a($.ig.Level.prototype.$type,$self.c().x().where$1($.ig.Level.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Measure.prototype.$type){return $self.a($.ig.Measure.prototype.$type,$self.c().y().where$1($.ig.Measure.prototype.$type,function(c){return a(c)}))}if(b==$.ig.KpiMeasure.prototype.$type){return $self.a($.ig.KpiMeasure.prototype.$type,$self.c().w().where$1($.ig.KpiMeasure.prototype.$type,function(c){return a(c)}))}if(b==$.ig.Kpi.prototype.$type){return $self.a($.ig.Kpi.prototype.$type,$self.c().v().where$1($.ig.Kpi.prototype.$type,function(c){return a(c)}))}throw new $.ig.NotSupportedException(0,"Supported types are Dimension, Hierarchy, Level and Measure")},expandTupleMember:function(a,b,c){var $self=this;var d=$self.d(a,$self.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var e=$self.ac.where$1($.ig.PositionInfo.prototype.$type,function(f){return f.c()==a&&f.b()==b&&f.a()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(e==null){e=function(){var $ret=new $.ig.PositionInfo;$ret.c(a);$ret.a(c);$ret.b(b);return $ret}();$self.ac.add(e)}else{$self.ac.remove(e)}},collapseTupleMember:function(a,b,c){var $self=this;var d=$self.d(a,$self.result());if(d==null){throw new $.ig.InvalidOperationException(1,"No axis found for the specified index.")}var e=$self.ac.where$1($.ig.PositionInfo.prototype.$type,function(f){return f.c()==a&&f.b()==b&&f.a()==c}).firstOrDefault$1($.ig.PositionInfo.prototype.$type);if(e==null){e=function(){var $ret=new $.ig.PositionInfo;$ret.c(a);$ret.a(c);$ret.b(b);return $ret}();$self.ab.add(e)}else{$self.ac.remove(e)}},clearPendingChanges:function(){this.ab.clear();this.ac.clear()},update:function(){var $self=this;if($self.t()){return $self.aj()}$self.t(true);if($self.ac.count()>0){var a=$self.as($self.ac);$self.aj(a.continueWithTask$1($.ig.OlapResult.prototype.$type,function(b){return $self.ai()}))}else{$self.aj($self.ai())}var b=$self.aj();$self.aj().i(function(c){$self.t(false);$self.aj(null)});return b},initialize:function(){var $self=this;if($self.o()){return $self.al()}$self.o(true);$self.al($self.am());var a=$self.al();$self.al().i(function(b){$self.o(false);$self.al(null)});return a},addFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.b(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){d=new $.ig.AxisElement(a,function(){var $ret=new $.ig.ArrayListCollection$1(String);$ret.add(b);return $ret}());c.add(d)}else{if(!d.a().contains(b)){d.a().add(b);if($self.af.contains(b)){$self.af.remove(b)}else{$self.af.add(b)}}}},getFilterMemberNames:function(a){var $self=this;var b;var c=function(){var $ret=$self.b(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c!=null){return $self.a(String,c.a())}return new $.ig.ArrayListCollection$1(String)},removeFilterMember:function(a,b){var $self=this;var c;var d=function(){var $ret=$self.b(a,c);c=$ret.filtersCollection;return $ret.ret}();if(d==null){return}if(d.a().remove(b)){if($self.af.contains(b)){$self.af.remove(b)}else{$self.af.add(b)}}},removeAllFilterMembers:function(a){var $self=this;var b;var c=function(){var $ret=$self.b(a,b);b=$ret.filtersCollection;return $ret.ret}();if(c==null){return}for(var d=c.a().count()-1;d>=0;d--){var e=c.a().item(d);c.a().removeAt(d);if($self.af.contains(e)){$self.af.remove(e)}else{$self.af.add(e)}}},getProviderDefaultProperties:function(){var a=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);return a},getProviderDefaultRestrictions:function(){var a=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);return a},tryGetMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c().h(a,b);b=$ret.member;return $ret.ret}(),member:b};return{member:b}},tryGetMembersForLevel:function(a,b){var $self=this;return{ret:function(){var $ret=$self.c().j(a,b);b=$ret.members;return $ret.ret}(),members:b};return{members:b}},am:function(){},ai:function(){},h:function(){},ah:function(){},an:function(a){var $self=this;if(String.isNullOrEmpty(a)){if(a==null){throw new $.ig.ArgumentNullException("cubeName")}throw new $.ig.InvalidOperationException(1,"cubeName cannot be empty.")}var b=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.cube()!=null){if($self.cube().name()==a){b.e($self.metadataTree());return b.b()}$self.au()}var d=$self.cubes().getEnumerator();while(d.moveNext()){var c=d.current();if(c.name()==a){$self.cube(c);break}}var e=$self.ah();if(!$self.isInitialized()){var f=$self.sourceOptions().measureGroup();if(!String.isNullOrEmpty(f)){return e.continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.ao(f)})}}return e.continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(g){return $self.ao(null)})},ak:function(){var $self=this;var a=null;var b=null;var c=null;var d=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);if(!String.isNullOrEmpty($self.sourceOptions().columns())){var e=new $.ig.AxisDefinitionParser($self.sourceOptions().columns());a=e.c()}if(!String.isNullOrEmpty($self.sourceOptions().rows())){var f=new $.ig.AxisDefinitionParser($self.sourceOptions().rows());b=f.c()}if(!String.isNullOrEmpty($self.sourceOptions().filters())){var g=new $.ig.AxisDefinitionParser($self.sourceOptions().filters());c=g.c()}if(a!=null&&a.count()>0){var i=a.getEnumerator();while(i.moveNext()){var h=i.current();$self.at($.ig.ICoreOlapElement.prototype.$type,h.b(),$self.columnAxis(),$.ig.Hierarchy.prototype.$type);$self.u().add(h);if(h.a().count()>0){d.add(h);var k=h.a().getEnumerator();while(k.moveNext()){var j=k.current();$self.af.add(j)}}}}if(b!=null&&b.count()>0){var m=b.getEnumerator();while(m.moveNext()){var l=m.current();$self.at($.ig.ICoreOlapElement.prototype.$type,l.b(),$self.rowAxis(),$.ig.Hierarchy.prototype.$type);$self.w().add(l);if(l.a().count()>0){d.add(l);var o=l.a().getEnumerator();while(o.moveNext()){var n=o.current();$self.af.add(n)}}}}if(c!=null&&c.count()>0){var q=c.getEnumerator();while(q.moveNext()){var p=q.current();$self.at($.ig.Hierarchy.prototype.$type,p.b(),$self.filters(),$.ig.Hierarchy.prototype.$type);$self.v().add(p);if(p.a().count()>0){d.add(p);var s=p.a().getEnumerator();while(s.moveNext()){var r=s.current();$self.af.add(r)}}}}var t=null;if(!String.isNullOrEmpty($self.sourceOptions().measures())){var u=new $.ig.AxisDefinitionParser($self.sourceOptions().measures());t=u.c()}if(t!=null&&t.count()>0){var w=t.getEnumerator();while(w.moveNext()){var v=w.current();$self.at($.ig.Measure.prototype.$type,v.b(),$self.measures(),$.ig.Measure.prototype.$type)}}if($self.m()||$self.s()||$self.n()||$self.r()||$self.p()){if(d.count()>0){var x=new Array(d.count());for(var y=0;y<d.count();y++){var z=d.item(y).b();x[y]=$self.getMembersOfHierarchy(z)}var aa=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var ab=new $.ig.TaskFactory;ab.c(x,function(ac){$self.ai().i(function(ad){$self.aw();aa.e($self.metadataTree())})});return aa.b()}return $self.ai().continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ac){$self.aw();var ad=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ad.e($self.metadataTree());return ad.b()})}$self.aw();var ac=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);ac.e($self.metadataTree());return ac.b()},aq:function(a){var $self=this;var b=$self.dataProviderFactory().createDataProvider();var c=$self.getProviderDefaultRestrictions();var d=$self.getProviderDefaultProperties();var e=b.discoverCubesAsync(d,c).j($.ig.IList$1.prototype.$type.specialize($.ig.Cube.prototype.$type),function(f){$self.cubes($self.a($.ig.Cube.prototype.$type,f.m()));return $self.cubes()});return e},ar:function(){var $self=this;var a=$self.dataProviderFactory().createDataProvider();var b=$self.getProviderDefaultRestrictions();var c=$self.getProviderDefaultProperties();var d=a.discoverMeasureGroupsAsync(c,b).j($.ig.IList$1.prototype.$type.specialize($.ig.MeasureGroup.prototype.$type),function(e){$self.measureGroups($self.a($.ig.MeasureGroup.prototype.$type,e.m()));return $self.measureGroups()});return d},aw:function(){this.isInitialized(true)},au:function(){this.cube(null);this.measureGroups(new $.ig.ArrayListCollection$1($.ig.MeasureGroup.prototype.$type));this.filters().clear();this.rowAxis().clear();this.columnAxis().clear();this.measures().clear();this.c(null);this.av()},av:function(){this.measureGroup(null);this.metadataTree(null)},ao:function(a){var $self=this;if($self.cube()==null){throw new $.ig.InvalidOperationException(1,"Data source has no Cube set.")}var b=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.measureGroup()!=null){if($self.measureGroup().name()==a){b.e($self.metadataTree());return b.b()}$self.av()}if(!String.isNullOrEmpty(a)&&$self.measureGroups().count()==0){var c=$self.ar().continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(d){if($self.measureGroups().count()==0){return $self.ao(null)}return $self.ao(a)});return c}var e=$self.measureGroups().getEnumerator();while(e.moveNext()){var d=e.current();if(d.name()==a){$self.measureGroup(d);break}}$self.metadataTree($self.k(a));b.e($self.metadataTree());return b.b()},k:function(a){var $self=this;var b=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.cube);$ret.caption($self.cube().caption());$ret.item($self.cube());return $ret}();var c;var d;var e;var f=true;if(String.isNullOrEmpty(a)||$self.measureGroups()==null){c=$self.c().t();d=$self.c().y();e=$self.c().v()}else{f=false;c=$self.c().a().getMeasureGroupDimensions(a);d=$self.c().a().getMeasureGroupMeasures(a);e=$self.c().a().getMeasureGroupKpis(a)}var g=$.ig.MetaTreeHelper.prototype.getDimensionMetaItems(c,d,e,$self.c().u(),$self.c().x(),f,$self.c());$.ig.MetaTreeHelper.prototype.setMetaItemChildren(b,g);return b},d:function(a,b){var $self=this;if(b!=null&&b.axes().count()>0){return b.axes().where$1($.ig.OlapResultAxis.prototype.$type,function(c){return c.name()==a}).firstOrDefault$1($.ig.OlapResultAxis.prototype.$type)}return null},ay:function(a,b){var $self=this;switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var d=a.newItems().getEnumerator();while(d.moveNext()){var c=d.current();var e=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(e!=null){if($self.isInitialized()){b.add(new $.ig.AxisElement(e.uniqueName(),new $.ig.ArrayListCollection$1(String)))}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var g=a.oldItems().getEnumerator();while(g.moveNext()){var f=g.current();var h=$.ig.util.cast($.ig.Hierarchy.prototype.$type,f);if(h!=null){var i=b.where$1($.ig.AxisElement.prototype.$type,function(j){return j.b()==h.uniqueName()}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(i!=null){var j=new $.ig.List$1(String,0);for(var k=0;k<i.a().count();k++){j.add(i.a().item(k))}for(var l=0;l<j.count();l++){var m=j.item(l);$self.removeFilterMember(i.b(),m)}b.remove(i)}}else{var n=$.ig.util.cast($.ig.MeasureList.prototype.$type,f);if(n!=null){if(!$self.r()&&!$self.q()&&!$self.p()){$self.measures().clear()}}}}break}},a0:function(a,b){var $self=this;switch(a.action()){case $.ig.NotifyCollectionChangedAction.prototype.add:var d=a.newItems().getEnumerator();while(d.moveNext()){var c=d.current();var e=$.ig.util.cast($.ig.Hierarchy.prototype.$type,c);if(e!=null){var f=$.ig.util.cast($.ig.MeasureList.prototype.$type,b.where$1($.ig.ICoreOlapElement.prototype.$type,function(g){return $.ig.util.cast($.ig.MeasureList.prototype.$type,g)!==null}).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type));if(f!=null&&$self.measureListIndex()>=a.newStartingIndex()){$self.measureListIndex($self.measureListIndex()+1)}}}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:var h=a.oldItems().getEnumerator();while(h.moveNext()){var g=h.current();var i=$.ig.util.cast($.ig.Hierarchy.prototype.$type,g);if(i!=null){var j=$.ig.util.cast($.ig.MeasureList.prototype.$type,b.where$1($.ig.ICoreOlapElement.prototype.$type,function(k){return $.ig.util.cast($.ig.MeasureList.prototype.$type,k)!==null}).firstOrDefault$1($.ig.ICoreOlapElement.prototype.$type));if(j!=null&&$self.measureListIndex()>a.oldStartingIndex()){$self.measureListIndex($self.measureListIndex()-1)}}}break}},az:function(){var $self=this;var a;if($self.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=$self.columnAxis()}else{a=$self.rowAxis()}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if($self.measures().count()>1){if(b==null){b=function(){var $ret=new $.ig.MeasureList;$ret.measures($self.measures());return $ret}();if($self.measureListIndex()<0||$self.measureListIndex()>a.count()){$self.ag=a.count();a.add(b)}else{a.insert($self.measureListIndex(),b)}}else{if(c!=$self.measureListIndex()){a.removeAt(c);if($self.measureListIndex()>a.count()){$self.ag=a.count();a.add(b)}else{a.insert($self.measureListIndex(),b)}}}}else{if(b!=null){a.removeAt(c)}}},ae:function(){return this.ac},ad:function(){return this.ab},at:function($tItem,a,b,c){var $self=this;var d=function(e){return e.uniqueName()==a};var e=$self.getCoreElement(d,c);if(e!=null&&!b.contains($.ig.Object.prototype.$type,e)){b.add(e)}},as:function(a){var $self=this;var b=new $.ig.List$1(String,0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();var e=$self.d(c.c(),$self.result()).tuples().__inner[c.b()].members().item(c.a());var f=$self.getCoreElement(function(g){return g.hierarchyUniqueName()==e.hierarchyUniqueName()&&g.depth()==e.levelNumber()+1},$.ig.Level.prototype.$type);if(f!=null&&!$self.c().c(f.uniqueName())&&!b.contains(f.uniqueName())){b.add(f.uniqueName())}}if(b.count()>0){var g=new Array(b.count());for(var h=0;h<b.count();h++){g[h]=$self.getMembersOfLevel(b.item(h))}return(new $.ig.TaskFactory).d($.ig.Array.prototype.$type,g,function(i){return i})}var i=new $.ig.TaskCompletionSource$1($.ig.Array.prototype.$type,0);i.e(new Array(0));return i.b()},ax:function(){var a;if(this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){a=this.columnAxis()}else{a=this.rowAxis()}if(a==null){return}var b=null;var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b=$.ig.util.cast($.ig.MeasureList.prototype.$type,d);if(b!=null){break}c++}if(b!=null){this.q(true);a.removeAt(c)}},a:function($t,a){var b=new $.ig.ArrayListCollection$1($t);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},b:function(a,b){var $self=this;var c=$self.u().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.u();return{ret:c,filtersCollection:b}}c=$self.w().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.w();return{ret:c,filtersCollection:b}}c=$self.v().where$1($.ig.AxisElement.prototype.$type,function(d){return d.b()==a}).firstOrDefault$1($.ig.AxisElement.prototype.$type);if(c!=null){b=$self.v();return{ret:c,filtersCollection:b}}b=null;return{ret:null,filtersCollection:b};return{filtersCollection:b}},$type:new $.ig.Type("OlapDataSource",$.ig.Object.prototype.$type,[$.ig.IOlapDataSource.prototype.$type])},true);$.ig.util.defType("PositionInfo","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:0,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:0,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("PositionInfo",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeMetaItemsCache","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.s=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.Member.prototype.$type),0);this.l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,0);this.q=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);this.r=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);this.n=new $.ig.Dictionary$2(String,$.ig.Measure.prototype.$type,0);this.m=new $.ig.Dictionary$2(String,$.ig.KpiMeasure.prototype.$type,0);this.p=new $.ig.Dictionary$2(String,$.ig.Boolean.prototype.$type,0);this.o=new $.ig.Dictionary$2(String,$.ig.Boolean.prototype.$type,0)},s:null,l:null,q:null,r:null,n:null,m:null,p:null,o:null,_y:null,y:function(value){if(arguments.length===1){this._y=value;return value}else{return this._y}},_w:null,w:function(value){if(arguments.length===1){this._w=value;return value}else{return this._w}},_t:null,t:function(value){if(arguments.length===1){this._t=value;return value}else{return this._t}},_u:null,u:function(value){if(arguments.length===1){this._u=value;return value}else{return this._u}},_x:null,x:function(value){if(arguments.length===1){this._x=value;return value}else{return this._x}},_v:null,v:function(value){if(arguments.length===1){this._v=value;return value}else{return this._v}},_z:null,z:function(value){if(arguments.length===1){this._z=value;return value}else{return this._z}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},c:function(a){var $self=this;var b;if(!function(){var $ret=$self.p.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){return false}return b},ac:function(a){this.p.item(a,true)},b:function(a){var $self=this;var b;if(!function(){var $ret=$self.o.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){return false}return b},ab:function(a){var $self=this;$self.o.item(a,true);var c=$self.x().where$1($.ig.Level.prototype.$type,function(d){return d.hierarchyUniqueName()==a}).getEnumerator();while(c.moveNext()){var b=c.current();$self.ac(b.uniqueName())}},d:function(a){return this.r.containsKey(a)},aa:function(a){var $self=this;var b;if(!function(){var $ret=$self.s.tryGetValue(a.uniqueName(),b);b=$ret.value;return $ret.ret}()){var c=$self.s.count();b=new $.ig.Tuple$2($.ig.Number.prototype.$type,$.ig.Member.prototype.$type,c,a);$self.s.item(a.uniqueName(),b);$self.l.item(c,a);var d;if(!function(){var $ret=$self.q.tryGetValue(a.levelUniqueName(),d);d=$ret.value;return $ret.ret}()){d=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);$self.q.item(a.levelUniqueName(),d)}if(!String.isNullOrEmpty(a.parentUniqueName())){var e;if(!function(){var $ret=$self.r.tryGetValue(a.parentUniqueName(),e);e=$ret.value;return $ret.ret}()){e=new $.ig.List$1($.ig.Member.prototype.$type,0);$self.r.item(a.parentUniqueName(),e)}e.add(a)}d.add(a)}return b.a()},i:function(a,b){var $self=this;var c;if(function(){var $ret=$self.s.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.a();return{ret:true,memberOrdinal:b}}b=-1;return{ret:false,memberOrdinal:b};return{memberOrdinal:b}},h:function(a,b){var $self=this;var c;if(function(){var $ret=$self.s.tryGetValue(a,c);c=$ret.value;return $ret.ret}()){b=c.b();return{ret:true,member:b}}b=null;return{ret:false,member:b};return{member:b}},g:function(a,b){var $self=this;return{ret:function(){var $ret=$self.l.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),member:b};return{member:b}},k:function(a,b){var $self=this;return{ret:function(){var $ret=$self.r.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),members:b};return{members:b}},j:function(a,b){var $self=this;return{ret:function(){var $ret=$self.q.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),members:b};return{members:b}},f:function(a,b){var $self=this;if(!function(){var $ret=$self.n.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){b=$self.y().where$1($.ig.Measure.prototype.$type,function(c){return c.uniqueName()==a}).firstOrDefault$1($.ig.Measure.prototype.$type);if(b==null){return{ret:false,measure:b}}$self.n.add(a,b)}return{ret:true,measure:b};return{measure:b}},e:function(a,b){var $self=this;if(!function(){var $ret=$self.m.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){b=$self.w().where$1($.ig.KpiMeasure.prototype.$type,function(c){return c.uniqueName()==a}).firstOrDefault$1($.ig.KpiMeasure.prototype.$type);if(b==null){return{ret:false,measure:b}}$self.m.add(a,b)}return{ret:true,measure:b};return{measure:b}},$type:new $.ig.Type("CubeMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MetaTreeHelper","Object",{init:function(){$.ig.Object.prototype.init.call(this)},getDimensionMetaItems:function(a,b,c,d,e,f,g){var $self=this;var h=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var i=new $.ig.HierarchyItemPosition;i.a(0);i.b(0);var j=new $.ig.List$1($.ig.Hierarchy.prototype.$type,0);var l=d.getEnumerator();while(l.moveNext()){var k=l.current();j.add(k)}var m=new $.ig.List$1($.ig.Level.prototype.$type,0);var o=e.getEnumerator();while(o.moveNext()){var n=o.current();m.add(n)}var q=a.getEnumerator();while(q.moveNext()){var p=q.current();var r=$.ig.MetaTreeHelper.prototype.e(j,m,p,i);if(p.dimensionType()!=$.ig.DimensionType.prototype.measure){var s=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.dimension);$ret.caption(p.caption());$ret.item(p);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(s,r);h.add(s)}else{var t=$.ig.MetaTreeHelper.prototype.b(b,p);h.insert(0,t);if(c.count$1($.ig.Kpi.prototype.$type)>0){var u=function(){var $ret=new $.ig.KpiDimension;$ret.caption("Kpis");return $ret}();var v=$.ig.MetaTreeHelper.prototype.a(c,u,g);v.type($.ig.OlapMetadataTreeItemType.prototype.kpiRoot);h.insert(1,v)}}}return h},setMetaItemChildren:function(a,b){var $self=this;if(b.count()>0){var c=b.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(d){return d.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(d){return d.caption()}).toArray$1($.ig.OlapMetadataTreeItem.prototype.$type);var d=b.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(e){return e.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).toArray$1($.ig.OlapMetadataTreeItem.prototype.$type);var e=new Array(c.length+d.length);for(var f=0;f<c.length;f++){e[f]=c[f]}for(var g=0;g<d.length;g++){e[c.length+g]=d[g]}a.children(e)}},e:function(a,b,c,d){var $self=this;var e=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var f=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var g=a.item(d.a());while(g.dimensionUniqueName()!=c.uniqueName()){d.a(d.a()+1);g=a.item(d.a())}while(g.dimensionUniqueName()==c.uniqueName()){var h=null;if(!String.isNullOrEmpty(g.hierarchyDisplayFolder())){var i=String.empty();var j=$.ig.MetaTreeHelper.prototype.c(g.hierarchyDisplayFolder());for(var k=0;k<j.length;k++){var l=j[k];i+=l+"\\";var m;if(!function(){var $ret=e.tryGetValue(i,m);m=$ret.value;return $ret.ret}()){var n=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(l);return $ret}();m=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),n,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));e.add(i,m);if(h!=null){h.b().add(n)}else{f.add(n)}}h=m}}var o;switch(g.hierarchyOrigin()){case $.ig.HierarchyOrigin.prototype.systemEnabled:o=$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy;break;case $.ig.HierarchyOrigin.prototype.userDefined:o=$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy;break;default:o=$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy;break}var p=$.ig.MetaTreeHelper.prototype.f(b,g,d);var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(o);$ret.caption(g.caption());$ret.item(g);return $ret}();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(q,p);if(h!=null){h.b().add(q)}else{f.add(q)}if(d.a()+1>=a.count()){break}d.a(d.a()+1);g=a.item(d.a())}var s=e.values().getEnumerator();while(s.moveNext()){var r=s.current();var t=r.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(t,r.b())}return f},f:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if(a==null||a.count()==0){return d}var e=a.item(c.b());while(e.hierarchyUniqueName()!=b.uniqueName()){c.b(c.b()+1);e=a.item(c.b())}while(e.hierarchyUniqueName()==b.uniqueName()){var f;switch(e.depth()){case 0:case 1:f=$.ig.OlapMetadataTreeItemType.prototype.level1;break;case 2:f=$.ig.OlapMetadataTreeItemType.prototype.level2;break;case 3:f=$.ig.OlapMetadataTreeItemType.prototype.level3;break;case 4:f=$.ig.OlapMetadataTreeItemType.prototype.level4;break;default:f=$.ig.OlapMetadataTreeItemType.prototype.level5;break}var g=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type(f);$ret.caption(e.caption());$ret.item(e);return $ret}();d.add(g);if(c.b()+1>=a.count()){break}c.b(c.b()+1);e=a.item(c.b())}return d},b:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var d=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(b.caption());$ret.item(b);return $ret}();var e=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),d,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));var g=a.getEnumerator();while(g.moveNext()){var f=g.current();if($.ig.util.cast($.ig.KpiMeasure.prototype.$type,f)!==null){continue}var h=e;if(!String.isNullOrEmpty(f.measureGroupName())){if(!function(){var $ret=c.tryGetValue(f.measureGroupName(),h);h=$ret.value;return $ret.ret}()){var i=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(f.measureGroupName());return $ret}();h=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),i,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));c.add(f.measureGroupName(),h);e.b().add(h.a())}}var j=h;if(!String.isNullOrEmpty(f.measureDisplayFolder())){var k=f.measureGroupName();var l=$.ig.MetaTreeHelper.prototype.c(f.measureDisplayFolder());for(var m=0;m<l.length;m++){var n=l[m];k+="\\"+n;var o;if(!function(){var $ret=c.tryGetValue(k,o);o=$ret.value;return $ret.ret}()){var p=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(n);return $ret}();o=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),p,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));c.add(k,o);j.b().add(p)}j=o}}var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.measure);$ret.caption(f.caption());$ret.item(f);return $ret}();j.b().add(q)}var r=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var t=e.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(u){return u.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(u){return u.caption()}).getEnumerator();while(t.moveNext()){var s=t.current();r.add(s)}var v=e.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(w){return w.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(w){return w.caption()}).getEnumerator();while(v.moveNext()){var u=v.current();r.add(u)}$.ig.MetaTreeHelper.prototype.setMetaItemChildren(d,r);var x=c.values().getEnumerator();while(x.moveNext()){var w=x.current();var y=w.b();var z=y.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(aa){return aa.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(aa){return aa.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var aa=y.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ab){return ab.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ab){return ab.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var ab=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);for(var ac=0;ac<z.count();ac++){ab.add(z.item(ac))}for(var ad=0;ad<aa.count();ad++){ab.add(aa.item(ad))
}var ae=w.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(ae,ab)}return d},a:function(a,b,c){var $self=this;var d=new $.ig.Dictionary$2(String,$.ig.Tuple$2.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type)),0);var e=c.y().toList$1($.ig.Measure.prototype.$type);c.y(e);var f=new $.ig.List$1($.ig.KpiMeasure.prototype.$type,0);c.w(f);var g=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiRoot);$ret.caption(b.caption());$ret.item(b);return $ret}();var h=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),g,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));var j=a.getEnumerator();while(j.moveNext()){var i=j.current();var k=h;if(!String.isNullOrEmpty(i.kpiDisplayFolder())){var l=String.empty();var m=$.ig.MetaTreeHelper.prototype.c(i.kpiDisplayFolder());for(var n=0;n<m.length;n++){var o=m[n];l+="\\"+o;var p;if(!function(){var $ret=d.tryGetValue(l,p);p=$ret.value;return $ret.ret}()){var q=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.group);$ret.caption(o);return $ret}();p=new $.ig.Tuple$2($.ig.OlapMetadataTreeItem.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.OlapMetadataTreeItem.prototype.$type),q,new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0));d.add(l,p);k.b().add(q)}k=p}}var r=function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpi);$ret.caption(i.caption());$ret.item(i);return $ret}();if(!String.isNullOrEmpty(i.kpiValue())){var s=null;var t=$.ig.OlapMetadataTreeItemType.prototype.measure;var u="Value";if(!function(){var $ret=c.f(i.kpiValue(),s);s=$ret.measure;return $ret.ret}()){t=$.ig.OlapMetadataTreeItemType.prototype.kpiValue;s=$.ig.KpiMeasure.prototype.createKpiValueMeasure(i);e.add(s);f.add(s)}else{u+=" ("+s.caption()+")"}r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption(u);$ret.item(s);$ret.type(t);return $ret}())}if(!String.isNullOrEmpty(i.kpiGoal())){var v=null;var w=$.ig.OlapMetadataTreeItemType.prototype.measure;var x="Goal";if(!function(){var $ret=c.f(i.kpiGoal(),v);v=$ret.measure;return $ret.ret}()){w=$.ig.OlapMetadataTreeItemType.prototype.kpiGoal;v=$.ig.KpiMeasure.prototype.createKpiGoalMeasure(i);e.add(v);f.add(v)}else{x+=" ("+v.caption()+")"}r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption(x);$ret.item(v);$ret.type(w);return $ret}())}if(!String.isNullOrEmpty(i.kpiStatus())){var y=$.ig.KpiMeasure.prototype.createKpiStatusMeasure(i);e.add(y);f.add(y);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Status");$ret.item(y);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiStatus);return $ret}())}if(!String.isNullOrEmpty(i.kpiTrend())){var z=$.ig.KpiMeasure.prototype.createKpiTrendMeasure(i);e.add(z);f.add(z);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Trend");$ret.item(z);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiTrend);return $ret}())}if(!String.isNullOrEmpty(i.kpiWeight())){var aa=$.ig.KpiMeasure.prototype.createKpiWeightMeasure(i);e.add(aa);f.add(aa);r.e(function(){var $ret=new $.ig.OlapMetadataTreeItem;$ret.caption("Weight");$ret.item(aa);$ret.type($.ig.OlapMetadataTreeItemType.prototype.kpiWeight);return $ret}())}k.b().add(r)}var ab=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);var ad=h.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ae){return ae.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ae){return ae.caption()}).getEnumerator();while(ad.moveNext()){var ac=ad.current();ab.add(ac)}var af=h.b().where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ag){return ag.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ag){return ag.caption()}).getEnumerator();while(af.moveNext()){var ae=af.current();ab.add(ae)}$.ig.MetaTreeHelper.prototype.setMetaItemChildren(g,ab);var ah=d.values().getEnumerator();while(ah.moveNext()){var ag=ah.current();var ai=ag.b();var aj=ai.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(ak){return ak.type()==$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(ak){return ak.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var ak=ai.where$1($.ig.OlapMetadataTreeItem.prototype.$type,function(al){return al.type()!=$.ig.OlapMetadataTreeItemType.prototype.group}).orderBy$2($.ig.OlapMetadataTreeItem.prototype.$type,String,function(al){return al.caption()}).toList$1($.ig.OlapMetadataTreeItem.prototype.$type);var al=new $.ig.List$1($.ig.OlapMetadataTreeItem.prototype.$type,0);for(var am=0;am<aj.count();am++){al.add(aj.item(am))}for(var an=0;an<ak.count();an++){al.add(ak.item(an))}var ao=ag.a();$.ig.MetaTreeHelper.prototype.setMetaItemChildren(ao,al)}return g},c:function(a){var b=a.split("\\");return b},$type:new $.ig.Type("MetaTreeHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyItemPosition","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:0,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:0,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("HierarchyItemPosition",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBaseOptions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_cube:null,cube:function(value){if(arguments.length===1){this._cube=value;return value}else{return this._cube}},_measureGroup:null,measureGroup:function(value){if(arguments.length===1){this._measureGroup=value;return value}else{return this._measureGroup}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},_filters:null,filters:function(value){if(arguments.length===1){this._filters=value;return value}else{return this._filters}},_columns:null,columns:function(value){if(arguments.length===1){this._columns=value;return value}else{return this._columns}},_rows:null,rows:function(value){if(arguments.length===1){this._rows=value;return value}else{return this._rows}},$type:new $.ig.Type("DataSourceBaseOptions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisDefinitionParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.d(-1);this.k(a)},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_d:0,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_k:null,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},b:function(){if(this.d()==this.k().length-1){return false}var a=-1;var b=-1;var c=false;while(this.d()+1<this.k().length){this.d(this.d()+1);var d=this.k().substr(this.d(),1);switch(d){case $.ig.AxisDefinitionParser.prototype.e:if(a==-1){a=this.d()}break;case $.ig.AxisDefinitionParser.prototype.f:b=this.d();while(this.d()+1<this.k().length){d=this.k().substr(this.d()+1,1);switch(d){case $.ig.AxisDefinitionParser.prototype.f:b=this.d()+1;break;case $.ig.AxisDefinitionParser.prototype.h:if($.ig.AxisDefinitionParser.prototype.f==this.k().substr(this.d(),1)){c=true}break;case $.ig.AxisDefinitionParser.prototype.i:case $.ig.AxisDefinitionParser.prototype.j:c=true;break}if(c){break}this.d(this.d()+1)}c=true;break;case $.ig.AxisDefinitionParser.prototype.h:c=true;break;case $.ig.AxisDefinitionParser.prototype.i:this.a(true);break;case $.ig.AxisDefinitionParser.prototype.j:$.ig.Debug.prototype.a(this.a());c=true;this.a(false);break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.d()==this.k().length-1){if(b==-1||a==-1){return false}}var e=this.k().substr(a,b-a+1).trim();this.g(e);return true},c:function(){var a=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var b=null;while(this.b()){if(!this.a()){b=new $.ig.ArrayListCollection$1(String);var c=new $.ig.AxisElement(this.g(),b);a.add(c)}else if(b!=null){b.add(this.g())}}return a},$type:new $.ig.Type("AxisDefinitionParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CoreOlapElementParser","Object",{init:function(a){$.ig.Object.prototype.init.call(this);this.c(-1);this.h(a)},_f:null,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_c:0,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_h:null,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},a:function(){if(this.c()==this.h().length-1){return false}var a=-1;var b=-1;var c=false;while(this.c()+1<this.h().length){this.c(this.c()+1);var d=this.h().substr(this.c(),1);switch(d){case $.ig.CoreOlapElementParser.prototype.d:if(a==-1){a=this.c()}break;case $.ig.CoreOlapElementParser.prototype.e:b=this.c();while(this.c()+1<this.h().length){d=this.h().substr(this.c()+1,1);switch(d){case $.ig.CoreOlapElementParser.prototype.e:b=this.c()+1;break;case $.ig.CoreOlapElementParser.prototype.g:c=true;break}if(c){break}this.c(this.c()+1)}break;case $.ig.CoreOlapElementParser.prototype.g:c=true;break}if(c){c=false;if(a>-1&&b>-1){break}}}if(this.c()==this.h().length-1){if(b==-1||a==-1){return false}}var e=this.h().substr(a,b-a+1).trim();this.f(e);return true},b:function(){var a=new $.ig.List$1(String,0);while(this.a()){a.add(this.f())}return a},$type:new $.ig.Type("CoreOlapElementParser",$.ig.Object.prototype.$type)},true);$.ig.util.defType("KeyValueItem","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},$type:new $.ig.Type("KeyValueItem",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisElement","Object",{init:function(a,b){$.ig.Object.prototype.init.call(this);this.b(a);this.a(b)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("AxisElement",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureGroupMetaItemsCache","Object",{a:null,c:null,b:null,j:null,d:null,h:null,f:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.a=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),0);this.c=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),0);this.b=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Kpi.prototype.$type),0);this.j=d;this.d=a;this.h=b;this.f=c},getMeasureGroupDimensions:function(a){var $self=this;var b;if(!function(){var $ret=$self.a.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1(String,0);var e=$self.j.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d.dimensionUniqueName())}}var f=new $.ig.List$1($.ig.Dimension.prototype.$type,0);var h=$self.d.getEnumerator();while(h.moveNext()){var g=h.current();if(c.contains(g.uniqueName())||g.dimensionType()==$.ig.DimensionType.prototype.measure){f.add(g)}}$self.a.add(a,f);b=f}return b},getMeasureGroupMeasures:function(a){var $self=this;var b;if(!function(){var $ret=$self.c.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1($.ig.Measure.prototype.$type,0);var e=$self.h.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d)}}$self.c.add(a,c);b=c}return b},getMeasureGroupKpis:function(a){var $self=this;var b;if(!function(){var $ret=$self.b.tryGetValue(a,b);b=$ret.value;return $ret.ret}()){var c=new $.ig.List$1($.ig.Kpi.prototype.$type,0);var e=$self.f.getEnumerator();while(e.moveNext()){var d=e.current();if(d.measureGroupName()==a){c.add(d)}}$self.b.add(a,c);b=c}return b},$type:new $.ig.Type("MeasureGroupMetaItemsCache",$.ig.Object.prototype.$type)},true);$.ig.util.defType("PositionItemInfo$2","Dictionary$2",{$tKey:null,$tSortKey:null,init:function($tKey,$tSortKey,a,b,c,d){this.q=new $.ig.Dictionary$2(this.$tKey,$.ig.Object.prototype.$type,0);this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Dictionary$2.prototype.init.call(this,this.$tKey,$.ig.PositionItemInfo$2.prototype.$type.specialize(this.$tKey,this.$tSortKey));this.positionItem(a);this.positionIndex(b);this.positionItemIndex(c);this.positionItemDepth(0);this.positionItemDepthMin(-1);this.positionItemDepthMax(Number.MAX_VALUE);this.positionSize(d);if(a!=null){this.positionItemDepth(this.positionItem().depth());this.key(this.positionItem().key());this.parentKey(this.positionItem().parentKey());this.hierarchyKey(this.positionItem().hierarchyKey());this.hierarchyLevelKey(this.positionItem().hierarchyLevelKey());this.sortKey(this.positionItem().sortKey());this.caption(this.positionItem().caption())}},l:function(a,b,c,d){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,a,b,c,d)},_positionItemDepthMin:0,positionItemDepthMin:function(value){if(arguments.length===1){this._positionItemDepthMin=value;return value}else{return this._positionItemDepthMin}},_positionItemDepthMax:0,positionItemDepthMax:function(value){if(arguments.length===1){this._positionItemDepthMax=value;return value}else{return this._positionItemDepthMax}},_positionItem:null,positionItem:function(value){if(arguments.length===1){this._positionItem=value;return value}else{return this._positionItem}},_positionIndex:0,positionIndex:function(value){if(arguments.length===1){this._positionIndex=value;return value}else{return this._positionIndex}},_positionItemDepth:0,positionItemDepth:function(value){if(arguments.length===1){this._positionItemDepth=value;return value}else{return this._positionItemDepth}},_positionItemIndex:0,positionItemIndex:function(value){if(arguments.length===1){this._positionItemIndex=value;return value}else{return this._positionItemIndex}},_positionSize:0,positionSize:function(value){if(arguments.length===1){this._positionSize=value;return value}else{return this._positionSize}},_key:null,key:function(value){if(arguments.length===1){this._key=value;return value}else{return this._key}},_parentKey:null,parentKey:function(value){if(arguments.length===1){this._parentKey=value;return value}else{return this._parentKey}},_hierarchyKey:null,hierarchyKey:function(value){if(arguments.length===1){this._hierarchyKey=value;return value}else{return this._hierarchyKey}},_hierarchyLevelKey:null,hierarchyLevelKey:function(value){if(arguments.length===1){this._hierarchyLevelKey=value;return value}else{return this._hierarchyLevelKey}},_caption:null,caption:function(value){if(arguments.length===1){this._caption=value;return value}else{return this._caption}},_sortKey:null,sortKey:function(value){if(arguments.length===1){this._sortKey=value;return value}else{return this._sortKey}},_isExpandable:false,isExpandable:function(value){if(arguments.length===1){this._isExpandable=value;return value}else{return this._isExpandable}},_isExpanded:false,isExpanded:function(value){if(arguments.length===1){this._isExpanded=value;return value}else{return this._isExpanded}},m:function(a,b,c){var d=false;if(this.positionItemIndex()==-1){d=true}else{if(c!=null){if(a.item(this.positionItemIndex()).key()!=null){var e=c.item(this.positionItemIndex());d=a.item(this.positionItemIndex()).key().equals(e.key())}}}if(this.positionItemIndex()+1==this.positionSize()){return d}var f=this.n(a,b,this.positionItemIndex()+1,c);return d&&f},ab:function(a,b){},q:null,n:function(a,b,c,d){var $self=this;var e;var f=a.item(c);if(!$self.containsKey(f.key())){var g=$self.l(f,b,c,$self.positionSize());g.isExpandable(f.isExpandable());if($self.q.containsKey(g.key())){$self.q.remove(g.key());g.isExpanded(true)}if(f.parentKey()!=null){var h=null;if(function(){var $ret=$self.tryGetValue(f.parentKey(),h);h=$ret.value;return $ret.ret}()){h.isExpanded(true)}else{if(!$self.q.containsKey(f.parentKey())){$self.q.add(f.parentKey(),null)}}}e=g.m(a,b,d);$self.add(f.key(),g);if($self.positionItemDepthMin()==-1){$self.positionItemDepthMin(f.depth())}else{$self.positionItemDepthMin(Math.min($self.positionItemDepthMin(),f.depth()))}if($self.positionItemDepthMax()==Number.MAX_VALUE){$self.positionItemDepthMax(f.depth())}else{$self.positionItemDepthMax(Math.max($self.positionItemDepthMax(),f.depth()))}$self.ab(a,g)}else{var i=$self.item(f.key());e=i.m(a,b,d)}return e},getIndex2:function(a){var b=new Array(a.count());for(var c=0;c<b.length;c++){b[c]=a.item(c).key()}return this.getIndex(b)},getIndex:function(a){return this.s(a,a.length)},s:function(a,b){var $self=this;if($self.positionItemIndex()==b-1){return $self.positionIndex()}var c;if(!function(){var $ret=$self.tryGetValue(a[$self.positionItemIndex()+1],c);c=$ret.value;return $ret.ret}()){return-1}if(c.count()==0){return c.positionIndex()}return c.s(a,b)},$type:new $.ig.Type("PositionItemInfo$2",$.ig.Dictionary$2.prototype.$type.specialize(0,1))},true);$.ig.util.defType("PositionResolver$2","Object",{$tKey:null,$tSortKey:null,k:0,b:null,t:null,u:null,init:function($tKey,$tSortKey,a,b){this.k=0;this.$tKey=$tKey;this.$tSortKey=$tSortKey;this.$type=this.$type.specialize(this.$tKey,this.$tSortKey);$.ig.Object.prototype.init.call(this);this.positions(a.toList$1($.ig.IPosition$2.prototype.$type.specialize(this.$tKey,this.$tSortKey)));this.positionSize(b)},getPositionIndexCompleted:null,_positions:null,positions:function(value){if(arguments.length===1){this._positions=value;return value}else{return this._positions}},_positionSize:0,positionSize:function(value){if(arguments.length===1){this._positionSize=value;return value}else{return this._positionSize}},rootPositionInfo:function(){if(this.b==null){this.b=this.d(this.positionSize())}return this.b},d:function(a){return new $.ig.PositionItemInfo$2(this.$tKey,this.$tSortKey,null,-1,-1,a)},hasUnregisterdPositions:function(){return this.k<this.positions().count()},completeRegisterPositions:function(){if(this.hasUnregisterdPositions()){this.o(null)}},resolveParentPositionItem:function(a,b){b=-1;var c=$.ig.util.cast($.ig.IHierarchicalPositionItem$2.prototype.$type.specialize(this.$tKey,this.$tSortKey),a);if(c==null||c.parentKey()==null){return{ret:null,parentPositionIndex:b}}var d=c.position().indexOf(c);var e=new Array(c.position().itemsCount());for(var f=0;f<c.position().itemsCount();f++){e[f]=c.position().item(f).key()}e[d]=c.parentKey();b=this.rootPositionInfo().getIndex(e);if(b==-1){return{ret:null,parentPositionIndex:b}}var g=this.positions().__inner[b];var h=g.item(d);return{ret:h,parentPositionIndex:b};return{parentPositionIndex:b}},getHostPositionItemInfo:function(a,b){var $self=this;var c=$self.rootPositionInfo();var d=a.item(b);for(var e=0;e<b;e++){var f;if(function(){var $ret=c.tryGetValue(a.item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(d.key())){return null}return c},h:function(a,b){var $self=this;if($self.rootPositionInfo().count()==0){return null}var c=$self.rootPositionInfo();var d=a.position().indexOf(a);for(var e=0;e<d;e++){var f;if(function(){var $ret=c.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){c=f}else{c=null;break}}if(c==null){return null}if(!c.containsKey(a.key())){return null}var g=new $.ig.List$1($.ig.Number.prototype.$type,0);$self.s(a.key(),c,g);if(b==$.ig.ListSortDirection.prototype.descending){g.sort1(function(h,i){if(h==i){return 0}if(h>i){return-1}return 1});return g}g.sort1(function(h,i){if(h==i){return 0}if(h>i){return 1}return-1});return g},s:function(a,b,c){var $self=this;var e=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(f){return a.equals(f.parentKey())}).getEnumerator();while(e.moveNext()){var d=e.current();if(d.count()==0){c.add(d.positionIndex())}else{$self.r(d,c)}if(!d.isExpanded()){continue}if(d.positionItemDepth()<b.positionItemDepthMax()){$self.s(d.key(),b,c)}}},r:function(a,b){var $self=this;var d=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(e){return e.parentKey()==null}).getEnumerator();while(d.moveNext()){var c=d.current();if(c.count()==0){b.add(c.positionIndex())}else{$self.r(c,b)}if(!c.isExpanded()){continue}if(c.positionItemDepth()<a.positionItemDepthMax()){$self.s(c.key(),a,b)}}},getChildren:function(a,b){var $self=this;if($self.hasUnregisterdPositions()){$self.completeRegisterPositions()}var c=$self.getHostPositionItemInfo(a,b);var d=a.item(b);return c.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize($self.$tKey,$self.$tSortKey),function(e){return d.key().equals(e.parentKey())})},isMemberExpanded:function(a){var $self=this;if($self.hasUnregisterdPositions()){$self.completeRegisterPositions()}var b=$self.getPositionIndex(a.position());if(b==-1||$self.rootPositionInfo().count()==0){return $.ig.util.toNullable(Boolean,null)}var c=a.position().indexOf(a);var d=$self.rootPositionInfo();for(var e=0;e<c;e++){var f;if(function(){var $ret=d.tryGetValue(a.position().item(e).key(),f);f=$ret.value;return $ret.ret}()){d=f}else{d=null;break}}if(d==null){return $.ig.util.toNullable(Boolean,null)}if(!d.containsKey(a.key())){return $.ig.util.toNullable(Boolean,null)}var g=null;var h=d.values().getEnumerator();while(h.moveNext()){if(a.key().equals(h.current().parentKey())){g=h.current();break}}return $.ig.util.toNullable(Boolean,g!=null)},getPositionIndex:function(a){if(a==null){return-1}if(a.itemsCount()!=this.positionSize()){return-1}if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}if(this.k>0){var b=this.m(a);if(b>-1){return b}if(this.k==this.positions().count()){return-1}}return this.o(a)},m:function(a){if(a.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()){return 0}return this.rootPositionInfo().getIndex2(a.getItems().toList$1($.ig.IPositionItem$2.prototype.$type.specialize(this.$tKey,this.$tSortKey)))},o:function(a){var b=a==null;var c=-1;for(var d=this.k;d<this.positions().count();d++){var e=this.positions().__inner[d];var f=this.rootPositionInfo().m(e,d,a);this.k++;if(c==-1&&f){c=d;if(!b){break}}}return c},$type:new $.ig.Type("PositionResolver$2",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.sortBehavior($.ig.LevelSortBehavior.prototype.system)},_levelUniqueName:null,levelUniqueName:function(value){if(arguments.length===1){this._levelUniqueName=value;return value}else{return this._levelUniqueName}},_sortDirection:null,sortDirection:function(value){if(arguments.length===1){this._sortDirection=value;return value}else{return this._sortDirection}},_sortBehavior:null,sortBehavior:function(value){if(arguments.length===1){this._sortBehavior=value;return value}else{return this._sortBehavior}},$type:new $.ig.Type("LevelSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TaskExtensions","Object",{init:function(){$.ig.Object.prototype.init.call(this)},continueWithTask$1:function($tResult,a){var $self=this;var b=new $.ig.TaskCompletionSource$1($tResult,0);$self.e(function(c){if(c.a()==null){try{a(c).i(function(d){if(d.a()==null){b.e(d.m());return}b.d(d.a())})}catch(e_){var d;d=e_;b.d(d)}}else{b.d(c.a())}});return b.b()},continueWithTask$2:function($tResult1,$tResult2,a){var $self=this;return $self.continueWithTask$1($tResult2,function(b){return a(b)})},$type:new $.ig.Type("TaskExtensions",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyFilterView","Object",{d:null,c:null,e:null,init:function(a){this.e=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0);$.ig.Object.prototype.init.call(this);this.hierarchy(a);this.c=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.FilterMember.prototype.$type),0);this.d=new $.ig.Dictionary$2(String,$.ig.FilterMember.prototype.$type,0)},filterMemberExpansionChanged:null,filterMemberSelectionChanged:null,_hierarchy:null,hierarchy:function(value){if(arguments.length===1){this._hierarchy=value;return value}else{return this._hierarchy}},addFiltersForMembers:function(a){var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.addFilterForMember(b)}},addFilterForMember:function(a){var $self=this;if(!$self.d.containsKey(a.uniqueName())){var b=new $.ig.FilterMember(a);b.propertyChanged=$.ig.Delegate.prototype.combine(b.propertyChanged,$self.o.runOn($self));b.selectionChanged=$.ig.Delegate.prototype.combine(b.selectionChanged,$self.p.runOn($self));var c;if(!function(){var $ret=$self.c.tryGetValue(a.levelDepth(),c);c=$ret.value;return $ret.ret}()){c=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);$self.c.add(a.levelDepth(),c)}$self.d.add(a.uniqueName(),b);$self.e.add(a.uniqueName(),b);c.add(b);$self.j(b);$self.m(b)}},tryGetFilterMember:function(a,b){var $self=this;return{ret:function(){var $ret=$self.d.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),filterMember:b};return{filterMember:b}},getRootFilterMembers:function(){var a=-1;var c=this.c.keys().getEnumerator();while(c.moveNext()){var b=c.current();if(a==-1){a=b}else{a=Math.min(b,a)}}if(a==-1){return null}return this.c.item(a)},getSelectedFilterItems:function(){var a=this.getRootFilterMembers();var b=new $.ig.List$1($.ig.FilterMember.prototype.$type,0);var c=0;var e=a.getEnumerator();while(e.moveNext()){var d=e.current();if(d.isSelected().hasValue()==true&&d.isSelected().value()==true){c++}}if(c==a.count()){return b}var g=a.getEnumerator();while(g.moveNext()){var f=g.current();if(f.isSelected().hasValue()==false){this.n(f,b)}else if(f.isSelected().hasValue()==true&&f.isSelected().value()==true){b.add(f)}}return b},p:function(a,b){if(this.filterMemberSelectionChanged!=null){this.filterMemberSelectionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}},o:function(a,b){if(b.propertyName()=="IsExpanded"){if(this.filterMemberExpansionChanged!=null){this.filterMemberExpansionChanged(this,new $.ig.FilterMemberStateChangedEventArgs(a))}}},n:function(a,b){if(a.isSelected().hasValue()==true&&a.isSelected().value()==true){b.add(a)}else{if(a.children()==null){return}var d=a.children().getEnumerator();while(d.moveNext()){var c=d.current();this.n(c,b)}}},m:function(a){var $self=this;var b=a.member().parentUniqueName();if(String.isNullOrEmpty(b)){return}var c;if(function(){var $ret=$self.d.tryGetValue(b,c);c=$ret.value;return $ret.ret}()){c.n(a);if(c.isSelected().hasValue()==true&&c.isSelected().value()==false){a.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}}},j:function(a){var $self=this;var b=a.member().levelDepth();var c;if(function(){var $ret=$self.c.tryGetValue(b+1,c);c=$ret.value;return $ret.ret}()){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();if(d.member().parentUniqueName()==a.member().uniqueName()){a.n(d)}}}},$type:new $.ig.Type("HierarchyFilterView",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FilterMember","Object",{l:$.ig.util.toNullable($.ig.Boolean.prototype.$type,null),c:false,e:false,d:false,init:function(a){this.e=false;this.d=false;$.ig.Object.prototype.init.call(this);var b=$.ig.util.toNullable($.ig.Boolean.prototype.$type,true);this.l=b;this.member(a);this.k(0);this.j(0)},selectionChanged:null,propertyChanged:null,_parent:null,parent:function(value){if(arguments.length===1){this._parent=value;return value}else{return this._parent}},_member:null,member:function(value){if(arguments.length===1){this._member=value;return value}else{return this._member}},isExpandable:function(){return this.member().childrenCardinality()>0},isExpanded:function(a){if(arguments.length===1){if(this.c!=a){this.c=a;this.o("IsExpanded")}return a}else{return this.c}},isSelected:function(a){if(arguments.length===1){var b=a;var c=$.ig.util.toNullable($.ig.Boolean.prototype.$type,null);if($.ig.util.nullableEquals(this.l,b)==false){var d=this.l;this.l=a;if(!this.d){if(this.l.hasValue()==true){if(this.children()!=null){var f=this.children().getEnumerator();while(f.moveNext()){var e=f.current();e.e=true;e.isSelected(this.l);e.e=false}}}}if(this.parent()!=null){if(d.hasValue()==true&&d.value()==false){if(this.l.hasValue()==false){this.p(true)}this.q(false)}else if(d.hasValue()==false){if(this.l.hasValue()==true&&this.l.value()==false){this.q(true)}this.p(false)}else{if(this.l.hasValue()==true&&this.l.value()==false){this.q(true)}else if(this.l.hasValue()==false){this.p(true)}}if(!this.e){this.parent().d=true;var g=this.parent().k();var h=this.parent().j();var i=this.parent().children().count();if(h==0){if(g==0){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,true))}else if(g==i){this.parent().isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}else{this.parent().isSelected(c)}}else{this.parent().isSelected(c)}this.parent().d=false}}this.o("IsSelected");if(!this.e&&!this.d){if(this.selectionChanged!=null){this.selectionChanged(this,$.ig.EventArgs.prototype.empty)}}}return a}else{return this.l}},q:function(a){if(a){this.parent().k(this.parent().k()+1)}else{this.parent().k(this.parent().k()-1)}},p:function(a){if(a){this.parent().j(this.parent().j()+1)}else{this.parent().j(this.parent().j()-1)}},_children:null,children:function(value){if(arguments.length===1){this._children=value;return value}else{return this._children}},n:function(a){if(this.children()==null){this.children(new $.ig.List$1($.ig.FilterMember.prototype.$type,0))}a.parent(this);this.children().add(a);this.o("Children")},_k:0,k:function(value){if(arguments.length===1){this._k=value;return value}else{return this._k}},_j:0,j:function(value){if(arguments.length===1){this._j=value;return value}else{return this._j}},o:function(a){if(this.propertyChanged!=null){this.propertyChanged(this,new $.ig.PropertyChangedEventArgs(a))}},$type:new $.ig.Type("FilterMember",$.ig.Object.prototype.$type,[$.ig.INotifyPropertyChanged.prototype.$type])},true);$.ig.util.defType("FilterMemberStateChangedEventArgs","EventArgs",{init:function(a){$.ig.EventArgs.prototype.init.call(this);this.filterMember(a)},_filterMember:null,filterMember:function(value){if(arguments.length===1){this._filterMember=value;return value}else{return this._filterMember}},$type:new $.ig.Type("FilterMemberStateChangedEventArgs",$.ig.EventArgs.prototype.$type)},true);$.ig.util.defType("ResultSorter$1","Object",{$t:null,_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_d:false,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_c:false,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},init:function($t,a,b,c){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.a(a);this.d(b);this.c(c)},b:function(){},e:function(a,b,c){a.e();var d=a.d();var e=new Array(d.count());for(var f=0;f<d.count();f++){var g=d.item(f);c.add(g,f)}for(var h=0;h<d.count();h++){var i=d.item(h);var j=b.tuples().__inner[i];e[h]=j}return new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,1,e)},$type:new $.ig.Type("ResultSorter$1",$.ig.Object.prototype.$type)},true);$.ig.util.defType("ResultHeaderSorter","ResultSorter$1",{f:null,_h:null,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},_g:null,g:function(value){if(arguments.length===1){this._g=value;
return value}else{return this._g}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisHeaderSortingVisitor.prototype.$type,a,b,c);this.f=new $.ig.Dictionary$2(String,$.ig.LevelSortDirection.prototype.$type,1,d.count());var f=d.getEnumerator();while(f.moveNext()){var e=f.current();this.f.item(e.levelUniqueName(),e)}},b:function(){var $self=this;$self.h(new $.ig.List$1($.ig.LevelSortDirection.prototype.$type,0));$self.g(new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type)),0));if($self.a().isEmpty()){return $self.a()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=1;var d=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var e=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);if($self.c()){var f=$self.a().axes().item(b);var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var h=new $.ig.AxisHeaderSortingVisitor(f,$self.f,$self.h(),g);var i=$self.e(h,f,d);var j=function(){var $ret=new $.ig.OlapResultAxis(i,f.tupleSize());$ret.name(f.name());return $ret}();a.add(j);$self.g().item(f.name(),g);c=f.tuples().count();b++}if($self.d()){var k=$self.a().axes().item(b);var l=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type),0);var m=new $.ig.AxisHeaderSortingVisitor(k,$self.f,$self.h(),l);var n=$self.e(m,k,e);var o=function(){var $ret=new $.ig.OlapResultAxis(n,k.tupleSize());$ret.name(k.name());return $ret}();a.add(o);$self.g().item(k.name(),l)}var p=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,$self.a().cells().count());var r=$self.a().cells().getEnumerator();while(r.moveNext()){var q=r.current();var s=q.clone();var t=s.cellOrdinal();if($self.c()){var u=t%c;var v=d.item(u);if(u!=v){var w=$.ig.intDivide(t,c);t=w*c+v}}if($self.d()){var x=$.ig.intDivide(t,c);var y=e.item(x);if(x!=y){var z=t%c;t=y*c+z}}s.cellOrdinal(t);p.add(s)}var aa=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.a().isEmpty());$ret.axes(a);$ret.cells(p);return $ret}();return aa},$type:new $.ig.Type("ResultHeaderSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisHeaderSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisTupleVisitor","Object",{_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},init:function(a){$.ig.Object.prototype.init.call(this);this.a(a)},e:function(){var $self=this;if($self.a().positionResolver().hasUnregisterdPositions()){$self.a().positionResolver().completeRegisterPositions()}$self.d(new $.ig.List$1($.ig.Number.prototype.$type,2,$self.a().tuples().count()));var a=$self.a().positionResolver().rootPositionInfo();var b=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(c){return c.positionItemDepth()==a.positionItemDepthMin()});var d=$self.c(a,b).getEnumerator();while(d.moveNext()){var c=d.current();$self.f(a,c)}},b:function(a,b){},c:function(a,b){},f:function(a,b){var $self=this;var c=b.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.positionItemDepth()==b.positionItemDepthMin()});if(c.count$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))>0){var e=c.getEnumerator();while(e.moveNext()){var d=e.current();$self.f(b,d)}}else{$self.d().add(b.positionIndex())}var f=$self.b(a,b);var h=f.getEnumerator();while(h.moveNext()){var g=h.current();$self.f(a,g)}},$type:new $.ig.Type("AxisTupleVisitor",$.ig.Object.prototype.$type)},true);$.ig.util.defType("AxisHeaderSortingVisitor","AxisTupleVisitor",{h:null,i:null,g:null,init:function(a,b,c,d){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.h=b;this.i=c;this.g=d},b:function(a,b){var $self=this;var c=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.parentKey()==b.key()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(c.count()>0){var d=c.item(0);var e;if(function(){var $ret=$self.h.tryGetValue(d.hierarchyLevelKey(),e);e=$ret.value;return $ret.ret}()){if(e.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}else{c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}if(!$self.i.select$2($.ig.LevelSortDirection.prototype.$type,String,function(f){return f.levelUniqueName()}).contains$1(String,e.levelUniqueName())){$self.i.add(e)}var f;if(!function(){var $ret=$self.g.tryGetValue(d.positionItemIndex(),f);f=$ret.value;return $ret.ret}()){f=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);$self.g.add(b.positionItemIndex(),f)}f.item(b.positionItemDepth(),e.sortDirection())}}return c},c:function(a,b){var $self=this;var c=b.toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(c.count()>0){var d=c.item(0);var e;if(d.hierarchyLevelKey()!=null&&function(){var $ret=$self.h.tryGetValue(d.hierarchyLevelKey(),e);e=$ret.value;return $ret.ret}()){if(e.sortBehavior()==$.ig.LevelSortBehavior.prototype.system){c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),$.ig.Object.prototype.$type,function(f){return f.sortKey()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}else{c=e.sortDirection()==$.ig.ListSortDirection.prototype.ascending?c.orderBy$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type)):c.orderByDescending$2($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),String,function(f){return f.caption()}).toList$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type))}$self.i.add(e);var f;if(!function(){var $ret=$self.g.tryGetValue(d.positionItemIndex(),f);f=$ret.value;return $ret.ret}()){f=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.ListSortDirection.prototype.$type,0);$self.g.add(a.positionItemIndex(),f)}f.item(a.positionItemDepth(),e.sortDirection())}}return c},$type:new $.ig.Type("AxisHeaderSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("ResultColumnValueSorter","ResultSorter$1",{f:null,_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},init:function(a,b,c,d){$.ig.ResultSorter$1.prototype.init.call(this,$.ig.AxisValueSortingVisitor.prototype.$type,a,b,c);this.f=d},b:function(){var $self=this;$self.g(new $.ig.List$1($.ig.TupleSortDirection.prototype.$type,0));if(!$self.d()||$self.a().isEmpty()){return $self.a()}var a=new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0);var b=0;var c=null;var d=1;if($self.c()){c=$self.a().axes().item(b);d=c.tuples().count();a.add(c.clone());b++}var e=$self.a().axes().item(b);var f=$self.a().axes().item(b).tuples().count();var g=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Object.prototype.$type,1,$self.a().cells().count());var i=$self.a().cells().getEnumerator();while(i.moveNext()){var h=i.current();var j=null;if(function(){var $ret=h.properties().tryGetValue("Value",j);j=$ret.value;return $ret.ret}()){g.item(h.cellOrdinal(),j)}else{(function(){var $ret=h.properties().tryGetValue("FmtValue",j);j=$ret.value;return $ret.ret})();g.item(h.cellOrdinal(),j)}}var k=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type),2,$self.f.count());var m=$self.f.getEnumerator();while(m.moveNext()){var l=m.current();var n;if(c!=null&&l.memberNames()!=null){if(c.positionResolver().hasUnregisterdPositions()){c.positionResolver().completeRegisterPositions()}n=c.positionResolver().rootPositionInfo().getIndex(l.memberNames());l.tupleIndex(n)}else{n=l.tupleIndex()}if(n>-1&&n<d){var o=new Array(f);for(var p=0;p<f;p++){var q=null;(function(){var $ret=g.tryGetValue(p*d+n,q);q=$ret.value;return $ret.ret})();o[p]=q}k.add(new $.ig.KeyValuePair$2($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type,1,l,o));$self.g().add(l)}}var r=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.Number.prototype.$type,0);var s=new $.ig.AxisValueSortingVisitor(e,k);var t=$self.e(s,e,r);var u=function(){var $ret=new $.ig.OlapResultAxis(t,e.tupleSize());$ret.name(e.name());return $ret}();a.add(u);var v=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,2,$self.a().cells().count());var x=$self.a().cells().getEnumerator();while(x.moveNext()){var w=x.current();var y=w.clone();var z=y.cellOrdinal();var aa=$.ig.intDivide(z,d);var ab=r.item(aa);if(aa!=ab){var ac=z%d;z=ab*d+ac}y.cellOrdinal(z);v.add(y)}var ad=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty($self.a().isEmpty());$ret.axes(a);$ret.cells(v);return $ret}();return ad},$type:new $.ig.Type("ResultColumnValueSorter",$.ig.ResultSorter$1.prototype.$type.specialize($.ig.AxisValueSortingVisitor.prototype.$type))},true);$.ig.util.defType("AxisValueSortingVisitor","AxisTupleVisitor",{g:null,init:function(a,b){$.ig.AxisTupleVisitor.prototype.init.call(this,a);this.g=b},b:function(a,b){var $self=this;var c=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(d){return d.parentKey()==b.key()});return $self.c(a,c)},c:function(a,b){var positionItemInfos_=b.toArray$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type));if(positionItemInfos_.length>0){var tupleSortDirections_=this.g.toArray$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.TupleSortDirection.prototype.$type,$.ig.Array.prototype.$type));var sortFunction=function(tupleSortDirections){var compareCells=function(comparer,cell1,cell2){var result=comparer(cell1,cell2);if(result<0){return-1}if(result>0){return 1}return!isNaN(parseFloat(result))&&isFinite(result)?result:0};return function(o1,o2){var i,length,tupleSortDirection,cells,direction,cell1,cell2,arr1=[],arr2=[];for(i=0;i<tupleSortDirections.length;i++){tupleSortDirection=tupleSortDirections[i].key();cells=tupleSortDirections[i].value();if(tupleSortDirection.sortDirection()===$.ig.ListSortDirection.prototype.ascending){direction=1}else{direction=-1}comparer=tupleSortDirection.comparer();cell1=cells[o1.positionIndex()];cell2=cells[o2.positionIndex()];if(tupleSortDirections.length===1){arr1=direction*compareCells(comparer,cell1,cell2);arr2=direction*compareCells(comparer,cell2,cell1)}else{arr1.push(direction*compareCells(comparer,cell1,cell2));arr2.push(direction*compareCells(comparer,cell2,cell1))}}if(arr1<arr2){return-1}if(arr1>arr2){return 1}return 0}};positionItemInfos_.sort(sortFunction(tupleSortDirections_))}return positionItemInfos_},$type:new $.ig.Type("AxisValueSortingVisitor",$.ig.AxisTupleVisitor.prototype.$type)},true);$.ig.util.defType("TupleSortDirection","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_tupleIndex:0,tupleIndex:function(value){if(arguments.length===1){this._tupleIndex=value;return value}else{return this._tupleIndex}},_memberNames:null,memberNames:function(value){if(arguments.length===1){this._memberNames=value;return value}else{return this._memberNames}},_sortDirection:null,sortDirection:function(value){if(arguments.length===1){this._sortDirection=value;return value}else{return this._sortDirection}},_comparer:null,comparer:function(value){if(arguments.length===1){this._comparer=value;return value}else{return this._comparer}},$type:new $.ig.Type("TupleSortDirection",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceBase","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_dataSource:null,dataSource:function(value){if(arguments.length===1){this._dataSource=value;return value}else{return this._dataSource}},isInitialized:function(){return this.dataSource().isInitialized()},_isModified:false,isModified:function(value){if(arguments.length===1){this._isModified=value;return value}else{return this._isModified}},_isUpdating:false,isUpdating:function(value){if(arguments.length===1){this._isUpdating=value;return value}else{return this._isUpdating}},initialize:function(){var promise_=this.dataSource().initialize().c();var $this=this;if(!this._isInitializedAttached){this._isInitializedAttached=true;promise_.always(function(result){var args={error:null,metadataTreeRoot:null};if(this.state()==="rejected"){args.error=result}else{args.metadataTreeRoot=result}$($this).trigger("initialized",args);$this._isInitializedAttached=false})}return promise_},cubes:function(){return this.dataSource().cubes().inner()},cube:function(){return this.dataSource().cube()},setCube:function(a){var $self=this;return $self.dataSource().setCube(a).j($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return b.m()}).c()},metadataTree:function(){return this.dataSource().metadataTree()},addRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().rowAxis().add(a);this.isModified(true)}},insertRowItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().rowAxis().insert(a,b);this.isModified(true)}},removeRowItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().rowAxis().remove(a);this.isModified(true)}},addColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().columnAxis().add(a);this.isModified(true)}},insertColumnItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().columnAxis().insert(a,b);this.isModified(true)}},removeColumnItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null||$.ig.util.cast($.ig.MeasureList.prototype.$type,a)!==null){this.dataSource().columnAxis().remove(a);this.isModified(true)}},addFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().add(a);this.isModified(true)}},insertFilterItem:function(a,b){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,b)!==null){this.dataSource().filters().insert(a,b);this.isModified(true)}},removeFilterItem:function(a){if($.ig.util.cast($.ig.Hierarchy.prototype.$type,a)!==null){this.dataSource().filters().remove(a);this.isModified(true)}},addMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().add(a);this.isModified(true)}},insertMeasureItem:function(a,b){if($.ig.util.cast($.ig.Measure.prototype.$type,b)!==null){this.dataSource().measures().insert(a,b);this.isModified(true)}},removeMeasureItem:function(a){if($.ig.util.cast($.ig.Measure.prototype.$type,a)!==null){this.dataSource().measures().remove(a);this.isModified(true)}},setMeasureListIndex:function(a){this.dataSource().measureListIndex(a);this.isModified(true)},setMeasureListLocation:function(a){switch(a){case"rows":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.rows);break;case"columns":this.dataSource().measureListLocation($.ig.MeasureListLocation.prototype.columns);break;default:break}this.isModified(true)},getMeasureListLocation:function(){switch(this.dataSource().measureListLocation()){case $.ig.MeasureListLocation.prototype.rows:return"rows";break;case $.ig.MeasureListLocation.prototype.columns:return"columns";break;default:return null;break}},expandTupleMember:function(a,b,c){this.dataSource().expandTupleMember(a,b,c)},collapseTupleMember:function(a,b,c){this.dataSource().collapseTupleMember(a,b,c)},rowAxis:function(){return this.dataSource().rowAxis().inner()},columnAxis:function(){return this.dataSource().columnAxis().inner()},filters:function(){return this.dataSource().filters().inner()},measures:function(){return this.dataSource().measures().inner()},result:function(){return this.dataSource().result()},bindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();var attachCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.combine(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){attachCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){attachCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){attachCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){attachCollectionChanged(ds_._measures,options_["measures"])}},unbindCollectionChanged:function(a){var options_=a;var ds_=this.dataSource();unbindCollectionChanged=function(collection,handler){collection.collectionChanged=$.ig.Delegate.prototype.remove(collection.collectionChanged,handler)};if($.isFunction(options_["filters"])){unbindCollectionChanged(ds_._filters,options_["filters"])}if($.isFunction(options_["rowAxis"])){unbindCollectionChanged(ds_._rowAxis,options_["rowAxis"])}if($.isFunction(options_["columnAxis"])){unbindCollectionChanged(ds_._columnAxis,options_["columnAxis"])}if($.isFunction(options_["measures"])){unbindCollectionChanged(ds_._measures,options_["measures"])}},clearPendingChanges:function(){this.dataSource().clearPendingChanges()},update:function(){var promise_=this.dataSource().update().c();var $this=this;if(!this.isUpdating()){this.isUpdating(true);promise_.always(function(result){var args={error:null,result:null};if(this.state()==="rejected"){args.error=result}else{args.result=result}$this.isUpdating(false);$this.isModified(false);$($this).trigger("updated",args)})}return promise_},getCoreElement:function(a,b){return this.dataSource().getCoreElement(a,b)},getCoreElements:function(a,b){return this.dataSource().getCoreElements(a,b).inner()},getMembersOfHierarchy:function(a){return this.dataSource().getMembersOfHierarchy(a).c()},getMembersOfLevel:function(a){return this.dataSource().getMembersOfLevel(a).c()},tryGetMember:function(a){var $self=this;var b;if(function(){var $ret=$self.dataSource().tryGetMember(a,b);b=$ret.member;return $ret.ret}()){return b}return null},tryGetMembersForLevel:function(a){var $self=this;var b=new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type);var c=function(){var $ret=$self.dataSource().tryGetMembersForLevel(a,b);b=$ret.members;return $ret.ret}();return c?b.inner():new $.ig.ArrayListCollection$1($.ig.Member.prototype.$type).inner()},getMembersOfMember:function(a){return this.dataSource().getMembersOfMember(a).c()},addFilterMember:function(a,b){this.dataSource().addFilterMember(a,b);this.isModified(true)},removeAllFilterMembers:function(a){this.dataSource().removeAllFilterMembers(a);this.isModified(true)},getFilterMemberNames:function(a){return this.dataSource().getFilterMemberNames(a).inner()},getDimension:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Dimension.prototype.$type)},getHierarchy:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Hierarchy.prototype.$type)},getLevel:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Level.prototype.$type)},getMeasure:function(a){var $self=this;return $self.dataSource().getCoreElement(function(b){return b.uniqueName()==a},$.ig.Measure.prototype.$type)},getMeasureList:function(){return this.dataSource().getCoreElement(null,$.ig.MeasureList.prototype.$type)},$type:new $.ig.Type("DataSourceBase",$.ig.Object.prototype.$type)},true);$.ig.util.defType("jQueryUtils","Object",{init:function(){$.ig.Object.prototype.init.call(this)},c:function($t,a){if(a==null){return null}var jsObject_=a;var dict_=new $.ig.Dictionary$2(String,$t,0);(function(obj,dict){var tempDict=$.ig.Dictionary.prototype.getDictionary(obj);var keys=tempDict.keys();while(keys.moveNext()){var key=keys.current();var value=tempDict.item(key);dict.add(key,value)}})(jsObject_,dict_);return dict_},i:function($t,a){if(a==null){return null}var dict_=a;return dict_.__inner.proxy},convertToObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.c($.ig.Object.prototype.$type,a)},convertToStringDictionary:function(a){return $.ig.jQueryUtils.prototype.c(String,a)},convertFromObjectDictionary:function(a){return $.ig.jQueryUtils.prototype.i($.ig.Object.prototype.$type,a)},convertFromStringDictionary:function(a){return $.ig.jQueryUtils.prototype.i(String,a)},createJavascriptObject:function(){return{}},getJavascriptObjectProperty:function(a,b){var jsObject_=a;var property_=b;return jsObject_[property_]},setJavascriptObjectProperty:function(a,b,c){var jsObject_=a;var property_=b;var value_=c;jsObject_[property_]=value_},getJavascriptObjectMethodResult:function(a,b,c){c=Array.prototype.slice.call(arguments,2);var jsObject_=a;var method_=b;var args_=c;return jsObject_[method_].call(jsObject_,args_)},$type:new $.ig.Type("jQueryUtils",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapUtilities","Object",{init:function(){$.ig.Object.prototype.init.call(this)},dateMemberProvider:function(a,b,c,d){if(String.isNullOrEmpty(a)||String.isNullOrEmpty(b)){return null}var propName_=b;var datePartFormat_=d;var format_=c;var yearProvider_;var semesterProvider_;var quarterProvider_;var monthProvider_;a=a.toLowerCase();switch(a){case"year":if(datePartFormat_==null){datePartFormat_="yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}return function(item){return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_))};case"semester":if(format_==null){format_="H{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);return function(item){var year=yearProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/6)+1).replace("{1}",year)};case"quarter":if(format_==null){format_="Q{0}"}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);return format_.replace("{0}",Math.floor(new Date(item[propName_]).getMonth()/3)+1).replace("{1}",semester).replace("{2}",year)};case"month":if(datePartFormat_==null){datePartFormat_="MMMM"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",quarter).replace("{2}",semester).replace("{3}",year)};case"date":if(datePartFormat_==null){datePartFormat_="MM/dd/yyyy"}if(format_==null){return function(item){return $.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)}}yearProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("year",b,null,null);semesterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("semester",b,null,null);quarterProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("quarter",b,null,null);monthProvider_=$.ig.OlapUtilities.prototype.dateMemberProvider("month",b,null,null);return function(item){var year=yearProvider_(item);var semester=semesterProvider_(item);var quarter=quarterProvider_(item);var month=monthProvider_(item);return format_.replace("{0}",$.ig.formatter(new Date(item[propName_]),"date",datePartFormat_)).replace("{1}",month).replace("{2}",quarter).replace("{3}",semester).replace("{4}",year)}}return null},getDateHierarchy:function(a,b,c,d,e,f){var $self=this;if(String.isNullOrEmpty(a)){return null}if(b==null||b.length==0){b=function(){var $ret=new Array;$ret.add("year");$ret.add("quarter");$ret.add("month");$ret.add("date");return $ret}()}else{for(var g=0;g<b.length;g++){b[g]=b[g].toLowerCase()}}if(c==null){c="Dates"}if(d==null){d=c}var res_=null;var name_=c;var caption_=d;var rootCaption_=f;var dateParts_=b;if(e==null){e=new Array(b.length);for(var h=0;h<e.length;h++){var i=b[h];e[h]=i.substr(0,1).toUpperCase()+i.substr(1,i.length)+"s"}}var captions_=e;var memberProviders_=new Array(b.length);for(var j=0;j<b.length;j++){var k=b[j];memberProviders_[j]=$.ig.OlapUtilities.prototype.dateMemberProvider(k,a,null,null)}var levelsMetadata=[];var levelOffset=0;if(rootCaption_!=null&&rootCaption_!=""){levelOffset=1;levelsMetadata[0]={name:rootCaption_,caption:rootCaption_,memberProvider:function(item){return rootCaption_}}}for(var i=0;i<memberProviders_.length;i++){levelsMetadata[i+levelOffset]={name:dateParts_[i],caption:captions_[i],memberProvider:memberProviders_[i]}}res_={name:name_,caption:caption_,levels:levelsMetadata};return res_},sumAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){var sum=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value}}if(areAllNullOrUndefined)return null;if(precision_!=null){return sum.toFixed(precision_)}return sum}},avgAggregator:function(a,b){var propName_=a;var precision_=b;return function(items,cellMetadata){if(precision_==null){precision_=2}var sum=0,count=0,areAllNullOrUndefined=true,value;for(var i=0;i<items.length;i++){value=items[i][propName_];if(value!==null&&value!==undefined){areAllNullOrUndefined=false;sum+=value;count++}}if(areAllNullOrUndefined)return null;return(sum/count).toFixed(precision_)}},minAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.min(result,items[i][propName_])}return result}},maxAggregator:function(a){var propName_=a;return function(items,cellMetadata){var result=items[0][propName_];for(var i=1;i<items.length;i++){result=Math.max(result,items[i][propName_])}return result}},countAggregator:function(){return function(items,cellMetadata){return items.length}},$type:new $.ig.Type("OlapUtilities",$.ig.Object.prototype.$type)},true);$.ig.util.defType("OlapTableView","Object",{a:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);var e=this.b(d);this.a=new $.ig.TableViewImpl(a,b,c,e)},rowHeaders:function(){if(this.a.rowHeaders()==null){return null}return this.a.rowHeaders().inner()},columnHeaders:function(){if(this.a.columnHeaders()==null){return null}return this.a.columnHeaders().inner()},resultCells:function(){if(this.a.resultCells()==null){return null}return this.a.resultCells().inner()},columnSortDirections:function(a){if(arguments.length===1){this.a.columnSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.d(b);this.a.columnSortDirections().add(d)}return a}else{var a=new $.ig.Array;var c=this.a.columnSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.n(b))}return a}},appliedColumnSortDirections:function(){var a=new $.ig.Array;var c=this.a.appliedColumnSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.n(b))}return a},levelSortDirections:function(a){if(arguments.length===1){this.a.levelSortDirections().clear();var c=a.getEnumerator();while(c.moveNext()){var b=c.current();var d=this.c(b);this.a.levelSortDirections().add(d)}return a}else{var a=new $.ig.Array;var c=this.a.levelSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.m(b))}return a}},appliedLevelSortDirections:function(){var a=new $.ig.Array;var c=this.a.appliedLevelSortDirections().getEnumerator();while(c.moveNext()){var b=c.current();a.add(this.m(b))}return a},appliedSortDirectionsMap:function(){var resultMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var a=this.a.appliedSortDirectionsMap().getEnumerator();while(a.moveNext()){var i_=a.current();var axisMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var b=i_.value().getEnumerator();while(b.moveNext()){var j_=b.current();var hierarchyMap_=$.ig.jQueryUtils.prototype.createJavascriptObject();var c=j_.value().getEnumerator();while(c.moveNext()){var k_=c.current();var sortDirection_=k_.value()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending";hierarchyMap_[k_.key()]=sortDirection_}axisMap_[j_.key()]=hierarchyMap_}resultMap_[i_.key()]=axisMap_}return resultMap_},initialize:function(){this.a.initialize()},b:function(a){var $self=this;var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForColumns");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"isParentInFrontForRows");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactColumnHeaders");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"compactRowHeaders");return function(){var $ret=new $.ig.TableViewSettings;$ret.c(b);$ret.d(c);$ret.a(d);$ret.b(e);return $ret}()},d:function(o_){var $self=this;var a=$.ig.util.cast($.ig.Array.prototype.$type,$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"memberNames"));var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"tupleIndex");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(o_,"sortDirection");var d=$.ig.ListSortDirection.prototype.ascending;if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){d=$.ig.ListSortDirection.prototype.descending}}var comparer_=null;if($.isFunction(o_.comparer)){comparer_=o_.comparer}else{comparer_=function(o1,o2){return parseFloat(o1||-Infinity)-parseFloat(o2||-Infinity)}}return function(){var $ret=new $.ig.TupleSortDirection;$ret.memberNames(a);$ret.tupleIndex(b);$ret.sortDirection(d);$ret.comparer(comparer_);return $ret}()},n:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();
$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"memberNames",a.memberNames());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"tupleIndex",a.tupleIndex());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");if(a.comparer()!=null){$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"comparer",a.comparer())}return b},c:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"levelUniqueName");var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortDirection");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"sortBehavior");if(!String.isNullOrEmpty(b)){var e=new $.ig.LevelSortDirection;e.sortDirection($.ig.ListSortDirection.prototype.ascending);e.sortBehavior($.ig.LevelSortBehavior.prototype.system);e.levelUniqueName(b);if(!String.isNullOrEmpty(c)){c=c.toLowerCase();if(c=="descending"){e.sortDirection($.ig.ListSortDirection.prototype.descending)}}if(!String.isNullOrEmpty(d)){d=d.toLowerCase();if(d=="alphabetical"){e.sortBehavior($.ig.LevelSortBehavior.prototype.alphabetical)}}return e}else{return null}},m:function(a){var b=$.ig.jQueryUtils.prototype.createJavascriptObject();$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"levelUniqueName",a.levelUniqueName());$.ig.jQueryUtils.prototype.setJavascriptObjectProperty(b,"sortDirection",a.sortDirection()==$.ig.ListSortDirection.prototype.ascending?"ascending":"descending");return b},$type:new $.ig.Type("OlapTableView",$.ig.Object.prototype.$type)},true);$.ig.LevelSortBehavior.prototype.alphabetical=0;$.ig.LevelSortBehavior.prototype.system=1;$.ig.OlapMetadataTreeItemType.prototype.cube=0;$.ig.OlapMetadataTreeItemType.prototype.dimension=1;$.ig.OlapMetadataTreeItemType.prototype.group=2;$.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy=3;$.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy=4;$.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy=5;$.ig.OlapMetadataTreeItemType.prototype.measure=6;$.ig.OlapMetadataTreeItemType.prototype.level1=7;$.ig.OlapMetadataTreeItemType.prototype.level2=8;$.ig.OlapMetadataTreeItemType.prototype.level3=9;$.ig.OlapMetadataTreeItemType.prototype.level4=10;$.ig.OlapMetadataTreeItemType.prototype.level5=11;$.ig.OlapMetadataTreeItemType.prototype.kpiRoot=12;$.ig.OlapMetadataTreeItemType.prototype.kpi=13;$.ig.OlapMetadataTreeItemType.prototype.kpiValue=14;$.ig.OlapMetadataTreeItemType.prototype.kpiGoal=15;$.ig.OlapMetadataTreeItemType.prototype.kpiStatus=16;$.ig.OlapMetadataTreeItemType.prototype.kpiTrend=17;$.ig.OlapMetadataTreeItemType.prototype.kpiWeight=18;$.ig.MeasureListLocation.prototype.rows=0;$.ig.MeasureListLocation.prototype.columns=1;$.ig.HeaderCellsLayoutOrientation.prototype.horizontal=0;$.ig.HeaderCellsLayoutOrientation.prototype.vertical=1;$.ig.MemberType.prototype.unknown=0;$.ig.MemberType.prototype.regular=1;$.ig.MemberType.prototype.all=2;$.ig.MemberType.prototype.measure=3;$.ig.MemberType.prototype.formula=4;$.ig.CardinalityType.prototype.one=0;$.ig.CardinalityType.prototype.many=1;$.ig.AggregatorType.prototype.unknown=0;$.ig.AggregatorType.prototype.sum=1;$.ig.AggregatorType.prototype.count=2;$.ig.AggregatorType.prototype.min=3;$.ig.AggregatorType.prototype.max=4;$.ig.AggregatorType.prototype.average=5;$.ig.AggregatorType.prototype.variance=6;$.ig.AggregatorType.prototype.std=7;$.ig.AggregatorType.prototype.distinctCount=8;$.ig.AggregatorType.prototype.none=9;$.ig.AggregatorType.prototype.averageOfChildren=10;$.ig.AggregatorType.prototype.firstNonEmpty=13;$.ig.AggregatorType.prototype.lastNonEmpty=14;$.ig.AggregatorType.prototype.byAccount=15;$.ig.AggregatorType.prototype.calculated=127;$.ig.HierarchyOrigin.prototype.userDefined=1;$.ig.HierarchyOrigin.prototype.systemEnabled=2;$.ig.HierarchyOrigin.prototype.systemInternal=4;$.ig.DimensionType.prototype.unknown=0;$.ig.DimensionType.prototype.time=1;$.ig.DimensionType.prototype.measure=2;$.ig.DimensionType.prototype.other=3;$.ig.DimensionType.prototype.quantitative=5;$.ig.DimensionType.prototype.accounts=6;$.ig.DimensionType.prototype.customers=7;$.ig.DimensionType.prototype.products=8;$.ig.DimensionType.prototype.scenario=9;$.ig.DimensionType.prototype.utility=10;$.ig.DimensionType.prototype.currency=11;$.ig.DimensionType.prototype.rates=12;$.ig.DimensionType.prototype.channel=13;$.ig.DimensionType.prototype.promotion=14;$.ig.DimensionType.prototype.organization=15;$.ig.DimensionType.prototype.billOfMaterials=16;$.ig.DimensionType.prototype.geography=17;$.ig.CubeType.prototype.cube=0;$.ig.CubeType.prototype.dimension=1;$.ig.CubeType.prototype.unknown=2;$.ig.AxisDefinitionParser.prototype.e="[";$.ig.AxisDefinitionParser.prototype.f="]";$.ig.AxisDefinitionParser.prototype.i="{";$.ig.AxisDefinitionParser.prototype.j="}";$.ig.AxisDefinitionParser.prototype.h=",";$.ig.CoreOlapElementParser.prototype.d="[";$.ig.CoreOlapElementParser.prototype.e="]";$.ig.CoreOlapElementParser.prototype.g=".";$.ig.CoreOlapElementParser.prototype.i="&";$.ig.util.extCopy($.ig.TaskExtensions,[[[$.ig.Task,$.ig.Task$1],["continueWithTask$1","continueWithTask$2"]]]);$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2,$.ig.ArrayListCollection$1],["ofType$1","cast$1"]]])})(jQuery);$.ig=$.ig||{};(function($){var $$t={};$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["IFlatDataAxisProvider:a","OlapResultAxis:b","Object:c","Type:d","Boolean:e","ValueType:f","Void:g","String:h","IComparable:i","Number:j","Number:k","Single:l","Number:m","String:n","Array:o","RegExp:p","RuntimeTypeHandle:q","MethodInfo:r","MethodBase:s","MemberInfo:t","ParameterInfo:u","TypeCode:v","Enum:w","ConstructorInfo:x","PositionResolver$2:y","List$1:z","IList$1:aa","ICollection$1:ab","IEnumerable$1:ac","IEnumerable:ad","IEnumerator:ae","IEnumerator$1:af","IArrayList:ag","Array:ah","ICollection:ai","CompareCallback:aj","MulticastDelegate:ak","IntPtr:al","IList:am","IDisposable:an","IArray:ao","Script:ap","Date:aq","Date:ar","Number:as","Func$3:at","Action$1:au","PositionItemInfo$2:av","Dictionary$2:aw","IDictionary$2:ax","IDictionary:ay","Dictionary:az","IEqualityComparer$1:a0","KeyValuePair$2:a1","NotImplementedException:a2","Error:a3","IHierarchicalPositionItem$2:a4","IPositionItem$2:a5","IPosition$2:a6","Math:a7","Number:a8","Number:a9","Number:ba","Number:bb","Number:bc","Number:bd","Number:be","Enumerable:bf","Func$2:bg","IOrderedEnumerable$1:bh","SortedList$1:bi","ArgumentNullException:bj","EventHandler$1:bk","Delegate:bl","ListSortDirection:bm","Nullable$1:bn","OlapResultTuple:bo","ReadOnlyCollection$1:bp","OlapResultAxisMember:bq","Task$1:br","Task:bs","JQueryPromise:bt","Action:bu","AggregateException:bv","TaskStatus:bw","TaskCompletionSource$1:bx","JQueryDeferred:by","JQuery:bz","JQueryObject:b0","Element:b1","ElementAttributeCollection:b2","ElementCollection:b3","WebStyle:b4","ElementNodeType:b5","Document:b6","EventListener:b7","IElementEventHandler:b8","ElementEventHandler:b9","ElementAttribute:ca","JQueryPosition:cb","JQueryCallback:cc","JQueryEvent:cd","JQueryUICallback:ce","FlatDataAxisProvider:cf","FlatDataProvider:cg","IFlatDataProvider:ch","IOlapDiscoverDataProvider:ci","TableMetadata:cj","RowMetadata:ck","DataSourceMetadata:cl","CubeMetadata:cm","MeasuresDimensionMetadata:cn","ArrayListCollection$1:co","INotifyCollectionChanged:cp","NotifyCollectionChangedEventHandler:cq","NotifyCollectionChangedEventArgs:cr","EventArgs:cs","NotifyCollectionChangedAction:ct","KeyValueItem:cu","Level:cv","ICoreOlapElement:cw","InvalidOperationException:cx","Hierarchy:cy","HierarchyOrigin:cz","Member:c0","MemberType:c1","TaskFactory:c2","OlapResult:c3","AxisElement:c4","DataMemberMetadata:c5","Measure:c6","AggregatorType:c7","CellMetadata:c8","OlapResultCell:c9","KeyListPair$1:da","Cube:db","CubeType:dc","MeasureMetadata:dd","Dimension:de","DimensionType:df","DimensionMetadata:dg","HierarchyMetadata:dh","LevelMetadata:di","FlatDataAxisProviderHelper:dj","CubeMetaItemsCache:dk","MeasureGroupMetaItemsCache:dl","MeasureGroupDimension:dm","CardinalityType:dn","Kpi:dp","Tuple$2:dq","KpiMeasure:dr","MeasureList:ds","FlatDataPartialAxisProvider:dt","FlatDataSourceImpl:du","OlapDataSource:dv","IOlapDataSource:dw","OlapMetadataTreeItem:dx","OlapMetadataTreeItemType:dy","MeasureListLocation:dz","MeasureGroup:d0","DataSourceBaseOptions:d1","IOlapDataProviderFactory:d2","OlapResultView:d3","NotSupportedException:d4","PositionInfo:d5","TaskExtensions:d6","AxisDefinitionParser:d7","Debug:d8","MetaTreeHelper:d9","HierarchyItemPosition:ea","KpiDimension:eb","FlatDataSourceOptions:ec","IFlatDataProviderFactory:ed","DefaultFlatDataProviderFactory:ee","ResultViewHelper:ef","CoreOlapElementParser:eg","ArgumentException:eh","OlapFlatDataSource:ei","DataSourceBase:ej","jQueryUtils:ek","AbstractEnumerable:em","Func$1:en","AbstractEnumerator:eo","GenericEnumerable$1:ep","GenericEnumerator$1:eq"]);$.ig.util.defType("IFlatDataAxisProvider","Object",{$type:new $.ig.Type("IFlatDataAxisProvider",null)},true);$.ig.util.defType("FlatDataAxisProvider","Object",{h:null,c:null,a:null,init:function(a,b,c){var $self=this;this.i=null;this.b=null;this.f=false;this.g=false;$.ig.Object.prototype.init.call(this);this.a=c;this.d(a);this.h=b.select$2($.ig.ICoreOlapElement.prototype.$type,$.ig.ICoreOlapElement.prototype.$type,function(d){return d}).toList$1($.ig.ICoreOlapElement.prototype.$type);this.c=new $.ig.FlatDataAxisProviderHelper(a,b.count(),c)},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_axis:null,axis:function(value){if(arguments.length===1){this._axis=value;return value}else{return this._axis}},e:function(){return this.c.c()},i:null,b:null,f:false,g:false,n:function(a){var $self=this;if($self.axis()!=null){$self.b=$self.axis();$self.i=a.select$2($.ig.ICoreOlapElement.prototype.$type,$.ig.ICoreOlapElement.prototype.$type,function(b){return b}).toList$1($.ig.ICoreOlapElement.prototype.$type);$self.f=true}else{$self.c=new $.ig.FlatDataAxisProviderHelper($self.d(),a.count(),$self.a);$self.h=a}},o:function(){if(this.axis()!=null){this.g=true}},j:function(a){var $self=this;$self.f=false;var b=$self.i;var c=$self.b;var d=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);var e=new $.ig.List$1(String,0);for(var f=0;f<$self.h.count();f++){var g=$self.h.item(f);if($.ig.util.cast($.ig.MeasureList.prototype.$type,g)!==null){e.add($self.d().d().a().b().c());continue}e.add(g.uniqueName())}$self.h=b;var h=new $.ig.List$1(String,0);var i=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var j=0;j<$self.h.count();j++){var k=$self.h.item(j);if($.ig.util.cast($.ig.MeasureList.prototype.$type,k)!==null){h.add($self.d().d().a().b().c());continue}h.add(k.uniqueName());i.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,1,k.uniqueName(),0))}var l=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);if(e.count()>0){var m=-1;for(var n=0;n<h.count();n++){if(n==e.count()||e.item(n)!=h.item(n)){break}m=n}if(m<i.count()-1){for(var o=m+1;o<i.count();o++){l.add(i.item(o))}}else{l=i}var p=new Array($self.h.count());var q=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);$self.c.l(l).i(function(r){return $self.p(m,b,p,r.m(),q,c.name(),d,true)});return d.b()}return $self.generateAxis(a)},generateAxis:function(a){var $self=this;if($self.g||$self.f){var b=null;if($self.g){b=$self.k(a)}if($self.f){b=$self.j(a)}return b}var c=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);if($self.axis()!=null){c.e($self.axis());return c.b()}var d=new Array($self.h.count());var e=new $.ig.List$1(String,0);var f=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var g=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);var h=$self.h;for(var i=0;i<$self.h.count();i++){var j=$self.h.item(i);if($.ig.util.cast($.ig.MeasureList.prototype.$type,j)!==null){e.add($self.d().d().a().b().c());continue}e.add(j.uniqueName());g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,1,j.uniqueName(),0))}var k=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);var l=$self.d().e().d();k=g;var m=$self.c.l(k);m.i(function(n){$self.c.n(h,0,d,n.m(),l,null,f);$self.axis(function(){var $ret=new $.ig.OlapResultAxis(f,h.count());$ret.name(a);return $ret}());c.e($self.axis())});return c.b()},p:function(a,b,c,d,e,f,g,h){var $self=this;var i=$self.e();if(h){$self.c=new $.ig.FlatDataAxisProviderHelper($self.d(),b.count(),$self.a)}if(a>-1&&i.rootPositionInfo().count()>0){$self.c.o(b,a,i.rootPositionInfo(),c,d,e)}else{var j=$self.d().e().d().where$1($.ig.RowMetadata.prototype.$type,function(k){return!k.a()}).toList$1($.ig.RowMetadata.prototype.$type);$self.c.n(b,0,c,d,j,null,e)}$self.axis(function(){var $ret=new $.ig.OlapResultAxis(e,b.count());$ret.name(f);return $ret}());g.e($self.axis())},l:function(a){if(this.axis()==null){throw new $.ig.InvalidOperationException(0)}var c=a.getEnumerator();while(c.moveNext()){var b=c.current();this.c.d(b.key(),b.value())}},m:function(a){var b=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type)),0);var d=a.e().getEnumerator();while(d.moveNext()){var c=d.current();var e=a.getTupleRowsMetadata(c);b.add(new $.ig.KeyValuePair$2($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),1,c,e))}this.l(b)},k:function(a){var $self=this;$self.g=false;var b=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);var c=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type)),0);var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);for(var e=0;e<$self.c.c().positions().count();e++){var f=$self.c.c().positions().__inner[e];var g=$self.d().u(f.members().toArray$1($.ig.OlapResultAxisMember.prototype.$type),f.itemsCount()).where$1($.ig.RowMetadata.prototype.$type,function(h){return!h.a()}).toList$1($.ig.RowMetadata.prototype.$type);if(g.count()>0){d.add(f)}c.add(new $.ig.KeyValuePair$2($.ig.OlapResultTuple.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),1,f,g))}if(c.count()>0){$self.l(c)}var h=new Array($self.h.count());var i=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var j=0;j<$self.h.count();j++){var k=$self.h.item(j);if($.ig.util.cast($.ig.MeasureList.prototype.$type,k)!==null){continue}i.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,1,k.uniqueName(),0))}$self.c.l(i).i(function(l){return $self.p($self.h.count()-1,$self.h,h,l.m(),new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0),a,b,false)});return b.b()},getTupleRowsMetadata:function(a){return this.c.i(a)},$type:new $.ig.Type("FlatDataAxisProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataAxisProvider.prototype.$type])},true);$.ig.util.defType("FlatDataAxisProviderHelper","Object",{a:null,e:null,_h:null,h:function(value){if(arguments.length===1){this._h=value;return value}else{return this._h}},init:function(a,b,c){$.ig.Object.prototype.init.call(this);this.a=c;this.b(a);this.e=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),0);this.c(new $.ig.PositionResolver$2(String,$.ig.Object.prototype.$type,new $.ig.List$1($.ig.IPosition$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),0),b));this.h(this.c().positions())},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},i:function(a){var $self=this;var b=null;var c=$self.c().getPositionIndex(a);if(c>-1){(function(){var $ret=$self.e.tryGetValue(c,b);b=$ret.value;return $ret.ret})()}return b},d:function(a,b){var c=this.c().getPositionIndex(a);if(c==-1){this.e.add(this.h().count(),b);this.h().add(a);return true}this.e.item(c,b);return false},o:function(a,b,c,d,e,f){var $self=this;var g=c.positionItemDepthMin();var i=c.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(j){return j.positionItemDepth()==g}).getEnumerator();while(i.moveNext()){var h=i.current();if(h.positionItemIndex()==b||h.count()==0){if(h.count()==0){b=h.positionItemIndex()}$self.m(c,h,d,a,b,e,f)}else{var j=h.positionItem();var k=j.clone();var l=new Array(a.count());$.ig.Array.prototype.copy(d,0,l,0,a.count());l[h.positionItemIndex()]=k;$self.o(a,b,h,l,e,f)}}},m:function(a,b,c,d,e,f,g){var $self=this;var h=b.positionItem();var i=h.clone();var j=new Array(d.count());$.ig.Array.prototype.copy(c,0,j,0,d.count());j[b.positionItemIndex()]=i;var k=$self.b().u(j,b.positionItemIndex()+1).toList$1($.ig.RowMetadata.prototype.$type);if(k.count()>0){if(e<d.count()-1){$self.n(d,e+1,j,f,k,null,g)}else{var l=new $.ig.OlapResultTuple(j);var m=k.where$1($.ig.RowMetadata.prototype.$type,function(n){return!n.a()}).toList$1($.ig.RowMetadata.prototype.$type);var n=$self.c().getPositionIndex(l);if(n==-1){$self.e.add($self.h().count(),m);$self.h().add(l)}else{$self.h().item(n,l)}for(var p=0;p<j.length;p++){var o=j[p];o.position(l)}if(m.count()>0){g.add(l)}}if(b.isExpanded()){var r=a.values().where$1($.ig.PositionItemInfo$2.prototype.$type.specialize(String,$.ig.Object.prototype.$type),function(s){return s.parentKey()==b.key()}).getEnumerator();while(r.moveNext()){var q=r.current();$self.m(a,q,c,d,e,f,g)}}}},n:function(a,b,c,d,e,f,g){var $self=this;var h=a.item(b);if($.ig.util.cast($.ig.Hierarchy.prototype.$type,h)!==null){var i=d.item(h.uniqueName());if(f!=null){i=i.where$1($.ig.Member.prototype.$type,function(j){return j.parentUniqueName()==f})}var k=i.getEnumerator();while(k.moveNext()){var j=k.current();var l;(function(){var $ret=$self.b().i(j.uniqueName(),l);l=$ret.memberId;return $ret.ret})();var m=e.where$1($.ig.RowMetadata.prototype.$type,function(n){return n.d(j.levelUniqueName())==l}).toList$1($.ig.RowMetadata.prototype.$type);if(m.count()>0){var n=new Array(a.count());$.ig.Array.prototype.copy(c,0,n,0,a.count());var o=new $.ig.OlapResultAxisMember;o.caption(j.caption());o.hierarchyUniqueName(j.hierarchyUniqueName());o.levelNumber(j.levelDepth());o.levelUniqueName(j.levelUniqueName());o.uniqueName(j.uniqueName());o.displayInfo(j.childrenCardinality());o.properties().add("PARENT_UNIQUE_NAME",j.parentUniqueName());o.properties().add("memberId",l.toString());n[b]=o;if(b==a.count()-1){var p=m.where$1($.ig.RowMetadata.prototype.$type,function(q){return!q.a()}).toList$1($.ig.RowMetadata.prototype.$type);var q=new $.ig.OlapResultTuple(n);var r=$self.c().getPositionIndex(q);if(r==-1){$self.e.add($self.h().count(),p);$self.h().add(q)}else{$self.h().item(r,q)}for(var t=0;t<n.length;t++){var s=n[t];s.position(q)}if(p.count()>0){g.add(q)}}else{$self.n(a,b+1,n,d,m,null,g)}}}}else if($.ig.util.cast($.ig.MeasureList.prototype.$type,h)!==null){var u=h;var w=u.measures().getEnumerator();while(w.moveNext()){var v=w.current();var x=new Array(a.count());$.ig.Array.prototype.copy(c,0,x,0,a.count());var y=new $.ig.OlapResultAxisMember;y.caption(v.caption());var z=$self.j($self.b().d().a().b().c());y.hierarchyUniqueName(z);y.levelNumber(0);y.uniqueName(v.uniqueName());x[b]=y;if(b==a.count()-1){var aa=new $.ig.OlapResultTuple(x);var ab=e.where$1($.ig.RowMetadata.prototype.$type,function(ac){return!ac.a()}).toList$1($.ig.RowMetadata.prototype.$type);var ac=$self.c().getPositionIndex(aa);if(ac==-1){$self.e.add($self.h().count(),ab);$self.h().add(aa)}else{$self.h().item(ac,aa)}for(var ae=0;ae<x.length;ae++){var ad=x[ae];ad.position(aa)}if(ab.count()>0){g.add(aa)}}else{$self.n(a,b+1,x,d,e,null,g)}}}},l:function(a){var $self=this;var b=$self.a;if(a.count()==0){var c=new $.ig.TaskCompletionSource$1($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type)),0);c.e(new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0));return c.b()}var d=new $.ig.Dictionary$2(String,$.ig.Level.prototype.$type,0);for(var e=0;e<a.count();e++){var f=a.item(e).key();var g=a.item(e).value();var h=b.x().where$1($.ig.Level.prototype.$type,function(i){return i.hierarchyUniqueName()==f&&i.depth()==g}).firstOrDefault$1($.ig.Level.prototype.$type);if(!d.containsKey(f)){d.add(f,h)}}return $self.k(d)},j:function(a){if(a.substr(0,1)!="["){a="["+a}if(a.substr(a.length-1,1)!="]"){a+="]"}return a},k:function(a){var $self=this;var b=$self.a;var c=new $.ig.Dictionary$2(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);var d=new $.ig.List$1(String,0);var f=a.getEnumerator();while(f.moveNext()){var e=f.current();var g=e.value().uniqueName();var h;if(b.c(g)&&function(){var $ret=b.j(g,h);h=$ret.members;return $ret.ret}()){c.add(e.key(),h)}else{d.add(e.key())}}if(d.count()==0){var i=new $.ig.TaskCompletionSource$1($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type)),0);i.e(c);return i.b()}var j=new Array(d.count());var k=0;var m=d.getEnumerator();while(m.moveNext()){var l=m.current();var n=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);n.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a("LEVEL_UNIQUE_NAME");$ret.b(a.item(l).uniqueName());return $ret}());j[k]=$self.b().discoverMembersAsync(null,n);k++}var o=new $.ig.TaskFactory;var p=o.d($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type)),j,function(q){return $self.g(q,d,c)});return p},g:function(a,b,c){for(var d=0;d<b.count();d++){var e=b.__inner[d];if(!c.containsKey(e)){var f=a[d].m();var h=f.getEnumerator();while(h.moveNext()){var g=h.current();this.a.aa(g)}c.add(e,f)}}return c},f:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.Level.prototype.$type,0);for(var d=0;d<b.count();d++){var e=a[d];if(e.a()!=null||e.b()){return null}var f=b.item(d);var g=e.m().where$1($.ig.Level.prototype.$type,function(h){return h.depth()==f}).firstOrDefault$1($.ig.Level.prototype.$type);if(g!=null&&!c.containsKey(g.hierarchyUniqueName())){c.add(g.hierarchyUniqueName(),g)}}return c},$type:new $.ig.Type("FlatDataAxisProviderHelper",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FlatDataPartialAxisProvider","Object",{b:null,d:null,a:null,init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.c(a);this.b=new $.ig.FlatDataAxisProviderHelper(a,b.count(),d);this.a=c;this.d=b},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_axis:null,axis:function(value){if(arguments.length===1){this._axis=value;return value}else{return this._axis}},generateAxis:function(a){var $self=this;var b=new $.ig.TaskCompletionSource$1($.ig.OlapResultAxis.prototype.$type,0);if($self.axis()!=null){b.e($self.axis());return b.b()}var c=new Array($self.a.position().itemsCount());var d=new $.ig.List$1($.ig.OlapResultTuple.prototype.$type,0);var e=$self.a.position().indexOf($self.a);var f=$self.a.position();var g=new $.ig.List$1($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.Number.prototype.$type),0);for(var h=0;h<$self.a.position().itemsCount();h++){if(h<e){c[h]=$self.a.position().members().item(h).clone()}else if(h==e){if($.ig.util.cast($.ig.MeasureList.prototype.$type,$self.d.item(h))!==null){continue}var i=f.members().item(h);g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,1,i.hierarchyUniqueName(),i.depth()+1))}else{if($.ig.util.cast($.ig.MeasureList.prototype.$type,$self.d.item(h))!==null){continue}var j=f.members().item(h);g.add(new $.ig.KeyValuePair$2(String,$.ig.Number.prototype.$type,1,j.hierarchyUniqueName(),j.depth()))}}$self.b.l(g).i(function(k){var l=$self.c().u(f.members().toArray$1($.ig.OlapResultAxisMember.prototype.$type),e+1).toList$1($.ig.RowMetadata.prototype.$type);$self.b.n($self.d,e,c,k.m(),l,$self.a.uniqueName(),d);$self.axis(function(){var $ret=new $.ig.OlapResultAxis(d,f.itemsCount());$ret.name(a);return $ret}());b.e($self.axis())});return b.b()},getTupleRowsMetadata:function(a){return this.b.i(a)},e:function(){return this.b.h()},$type:new $.ig.Type("FlatDataPartialAxisProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataAxisProvider.prototype.$type])},true);$.ig.util.defType("IFlatDataProvider","Object",{$type:new $.ig.Type("IFlatDataProvider",null,[$.ig.IOlapDiscoverDataProvider.prototype.$type])},true);$.ig.util.defType("FlatDataProvider","Object",{v:null,x:null,z:null,ab:null,n:null,p:null,r:null,j:null,k:null,ad:null,q:null,l:null,_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},init:function(a,b){var $self=this;this.r=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);this.j=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);this.k=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);this.m=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);$.ig.Object.prototype.init.call(this);this.ah(a);this.d(b);this.e(new $.ig.TableMetadata(a));if(b.a()!=null){if(b.a().b()==null){b.a().b(function(){var $ret=new $.ig.MeasuresDimensionMetadata;$ret.b("Measures");$ret.c("Measures");return $ret}())}else{if(String.isNullOrEmpty(b.a().b().b())){b.a().b().b("Measures")}if(String.isNullOrEmpty(b.a().b().c())){b.a().b().c("Measures")}}}},_ah:null,ah:function(value){if(arguments.length===1){this._ah=value;return value}else{return this._ah}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},discoverCatalogsAsync:function(a,b){throw new $.ig.NotImplementedException},discoverCubesAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Cube.prototype.$type),0);if(this.v==null){this.v=this.w()}c.e(this.v);return c.b()},discoverDimensionsAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Dimension.prototype.$type),0);if(this.x==null){this.x=this.y()}c.e(this.x);return c.b()},discoverHierarchiesAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Hierarchy.prototype.$type),0);if(this.z==null){this.z=this.aa()}c.e(this.z);return c.b()},discoverLevelsAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Level.prototype.$type),0);var d=this.s(a,b);c.e(d);return c.b()},s:function(a,b){var $self=this;if($self.ab==null){$self.n=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.Level.prototype.$type),0);$self.ab=$self.ac()}var c=null;var d=null;if(b!=null){c=b.where$1($.ig.KeyValueItem.prototype.$type,function(e){return e.a()=="HIERARCHY_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);d=b.where$1($.ig.KeyValueItem.prototype.$type,function(e){return e.a()=="LEVEL_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type)}var e;if(c!=null){e=$self.ab.where$1($.ig.Level.prototype.$type,function(f){return f.hierarchyUniqueName()==c.b()})}else{e=$self.ab.toList$1($.ig.Level.prototype.$type)}if(d!=null){e=e.where$1($.ig.Level.prototype.$type,function(f){return f.uniqueName()==d.b()})}return e},discoverMeasuresAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Measure.prototype.$type),0);if(this.ad==null){this.q=new $.ig.Dictionary$2(String,$.ig.Func$3.prototype.$type.specialize($.ig.IEnumerable.prototype.$type,$.ig.CellMetadata.prototype.$type,$.ig.Object.prototype.$type),0);this.ad=this.ae(this.q)}c.e(this.ad);return c.b()},discoverMeasureGroupsAsync:function(a,b){throw new $.ig.NotImplementedException},discoverMeasureGroupDimensionsAsync:function(a,b){throw new $.ig.NotImplementedException},discoverMembersAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Member.prototype.$type),0);var d=this.t(a,b);c.e(d);return c.b()},discoverKpisAsync:function(a,b){var c=new $.ig.TaskCompletionSource$1($.ig.IEnumerable$1.prototype.$type.specialize($.ig.Kpi.prototype.$type),0);c.e(new $.ig.List$1($.ig.Kpi.prototype.$type,0));return c.b()},t:function(a,b){var $self=this;if($self.l==null){$self.l=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.Member.prototype.$type),0)}var c=b.where$1($.ig.KeyValueItem.prototype.$type,function(d){return d.a()=="HIERARCHY_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);var d=b.where$1($.ig.KeyValueItem.prototype.$type,function(e){return e.a()=="LEVEL_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);var e=b.where$1($.ig.KeyValueItem.prototype.$type,function(f){return f.a()=="MEMBER_UNIQUE_NAME"}).firstOrDefault$1($.ig.KeyValueItem.prototype.$type);if($self.ab==null){$self.ab=$self.ac()}var f=null;var g=$self.ab;if(c!=null){g=g.where$1($.ig.Level.prototype.$type,function(h){return h.hierarchyUniqueName()==c.b()}).toList$1($.ig.Level.prototype.$type)}if(d!=null){var h=g.where$1($.ig.Level.prototype.$type,function(i){return i.uniqueName()==d.b()}).first$1($.ig.Level.prototype.$type);var i=h.hierarchyUniqueName();var j=h.depth();var k=0;if(e!=null){k=1}g=g.where$1($.ig.Level.prototype.$type,function(l){return l.hierarchyUniqueName()==i&&l.depth()<=j+k}).toList$1($.ig.Level.prototype.$type)}else if(e!=null){throw new $.ig.InvalidOperationException(1,"LEVEL_UNIQUE_NAME restriction is required for MEMBER_UNIQUE_NAME restriction.")}f=new Array(g.count());for(var l=0;l<g.count();l++){f[l]=g.item(l)}var m=null;if(f.length>0){var n=f[0];var o=$self.z.where$1($.ig.Hierarchy.prototype.$type,function(p){return p.uniqueName()==n.hierarchyUniqueName()}).first$1($.ig.Hierarchy.prototype.$type);var p=$self.e().d();$self.al(f,0,".",null,o,p);if(c!=null&&d==null&&e==null){var q=new $.ig.List$1($.ig.Member.prototype.$type,0);for(var r=0;r<f.length;r++){var s=f[r];var t;if(!function(){var $ret=$self.l.tryGetValue(s.uniqueName(),t);t=$ret.value;return $ret.ret}()){}var v=t.values().getEnumerator();while(v.moveNext()){var u=v.current();q.add(u)}}m=q}else{n=f[f.length-1];if(e==null){var w;if(!function(){var $ret=$self.l.tryGetValue(n.uniqueName(),w);w=$ret.value;return $ret.ret}()){}m=w.values()}else{var x;if(!function(){var $ret=$self.l.tryGetValue(n.uniqueName(),x);x=$ret.value;return $ret.ret}()){}var y=new $.ig.List$1($.ig.Member.prototype.$type,0);var aa=x.values().getEnumerator();while(aa.moveNext()){var z=aa.current();if(z.parentUniqueName()==e.b()){y.add(z)}}m=y}}}else{m=new $.ig.List$1($.ig.Member.prototype.$type,0)}return m},ak:function(a,b,c){var $self=this;var d=new $.ig.List$1($.ig.Task.prototype.$type,0);if(a!=null){d.add(a.generateAxis("Axis0"))}if(b!=null){var e=a==null?"Axis0":"Axis1";d.add(b.generateAxis(e))}if(d.count()>0){var f=new Array(d.count());for(var g=0;g<d.count();g++){f[g]=d.item(g)}var h=new $.ig.TaskFactory;return h.d($.ig.OlapResult.prototype.$type,f,function(i){return $self.c(a,b,c)
})}var i=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);var j=$self.c(null,null,c);i.e(j);return i.b()},am:function(a){var $self=this;var b=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type)),0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();if(c.a().count()>0){for(var e=0;e<c.a().count();e++){var f=c.a().item(e);var g;if(function(){var $ret=$self.j.tryGetValue(f,g);g=$ret.value;return $ret.ret}()){var h;if(!function(){var $ret=b.tryGetValue(c.b(),h);h=$ret.value;return $ret.ret}()){h=new $.ig.Dictionary$2($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);b.add(c.b(),h)}var i;if(!function(){var $ret=h.tryGetValue(g.a().levelDepth(),i);i=$ret.value;return $ret.ret}()){i=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);h.add(g.a().levelDepth(),i)}if(!i.containsKey(f)){i.add(f,g)}}}}}var j=new $.ig.Dictionary$2(String,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),0);var l=b.getEnumerator();while(l.moveNext()){var k=l.current();var m=k.value();var n=m.orderBy$2($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type)),$.ig.Number.prototype.$type,function(o){return o.key()}).select$2($.ig.KeyValuePair$2.prototype.$type.specialize($.ig.Number.prototype.$type,$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type)),$.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),function(o){return o.value()}).toList$1($.ig.IDictionary$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type));for(var o=n.count()-1;o>=0;o--){var p=n.item(o).select$2($.ig.KeyValuePair$2.prototype.$type.specialize(String,$.ig.DataMemberMetadata.prototype.$type),$.ig.DataMemberMetadata.prototype.$type,function(q){return q.value()}).toList$1($.ig.DataMemberMetadata.prototype.$type);for(var q=0;q<p.count();q++){var r=p.item(q);var s=r.a().levelDepth();if(s>0){var t;if(!function(){var $ret=m.tryGetValue(s-1,t);t=$ret.value;return $ret.ret}()||!t.containsKey(r.a().parentUniqueName())){var u;if(!function(){var $ret=j.tryGetValue(r.a().parentUniqueName(),u);u=$ret.value;return $ret.ret}()){u=new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0);j.add(r.a().parentUniqueName(),u)}u.add(r.a().uniqueName(),r)}}}}var v=n.item(0);var w=v.values().first$1($.ig.DataMemberMetadata.prototype.$type);if(!String.isNullOrEmpty(w.a().parentUniqueName())){w=$self.j.item(w.a().parentUniqueName())}var x=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);x.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a("LEVEL_UNIQUE_NAME");$ret.b(w.a().levelUniqueName());return $ret}());var y=$self.t(null,x).toList$1($.ig.Member.prototype.$type);for(var z=0;z<y.count();z++){var aa=y.item(z);if(!v.containsKey(aa.uniqueName())&&!j.containsKey(aa.uniqueName())){j.add(aa.uniqueName(),new $.ig.Dictionary$2(String,$.ig.DataMemberMetadata.prototype.$type,0))}}}var ac=$self.m.keys().getEnumerator();while(ac.moveNext()){var ab=ac.current();var ad;if(function(){var $ret=$self.j.tryGetValue(ab,ad);ad=$ret.value;return $ret.ret}()){for(var ae=0;ae<ad.d().count();ae++){var af=ad.d().item(ae);if(af.a()){af.h()}}}}$self.m=j;var ah=$self.m.keys().getEnumerator();while(ah.moveNext()){var ag=ah.current();var ai;if(function(){var $ret=$self.j.tryGetValue(ag,ai);ai=$ret.value;return $ret.ret}()){if(!$self.g(ai)){for(var aj=0;aj<ai.d().count();aj++){var ak=ai.d().item(aj);ak.f()}}}}var am=$self.m.keys().getEnumerator();while(am.moveNext()){var al=am.current();var an;if(function(){var $ret=$self.j.tryGetValue(al,an);an=$ret.value;return $ret.ret}()){var ao=$self.m.item(al).values().toList$1($.ig.DataMemberMetadata.prototype.$type);for(var ap=0;ap<ao.count();ap++){var aq=ao.item(ap);for(var ar=0;ar<aq.d().count();ar++){var as=aq.d().item(ar);if(as.a()){as.h()}}}}}},g:function(a){var $self=this;var b=a.a().parentUniqueName();while(!String.isNullOrEmpty(b)){if($self.m.containsKey(b)){return true}var c;if(function(){var $ret=$self.j.tryGetValue(b,c);c=$ret.value;return $ret.ret}()){b=c.a().parentUniqueName()}else{return false}}return false},m:null,u:function(a,b){var $self=this;var c=null;var d=-1;for(var e=0;e<b;e++){var f=a[e];var g=null;var h;if(function(){var $ret=$self.h(f.uniqueName(),h);h=$ret.memberMetadata;return $ret.ret}()){g=h.d()}if(g!=null){if(c==null||c.count()>g.count()){d=e;c=g}}}if(c==null){c=$self.e().d().toList$1($.ig.RowMetadata.prototype.$type)}var i=c;for(var j=0;j<b;j++){if(j!=d){var k=a[j];var l;if(function(){var $ret=k.properties().tryGetValue("memberId",l);l=$ret.value;return $ret.ret}()){var m=k.levelUniqueName();var n=$.ig.Number.prototype.parseInt(l);i=i.where$1($.ig.RowMetadata.prototype.$type,function(o){return o.d(m)==n})}}}return i},i:function(a,b){var $self=this;return{ret:function(){var $ret=$self.r.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),memberId:b};return{memberId:b}},h:function(a,b){var $self=this;return{ret:function(){var $ret=$self.j.tryGetValue(a,b);b=$ret.value;return $ret.ret}(),memberMetadata:b};return{memberMetadata:b}},a:function($t,a){var b=new $.ig.ArrayListCollection$1($t);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},c:function(a,b,c){var $self=this;var d=null;if(a!=null){d=a.axis()}var e=null;if(b!=null){e=b.axis()}var f=$self.f(d,e,c);var g=f[0];var h=f[1];var i=null;var j=-1;var k=null;var l=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);var m=new $.ig.Array;var n=new $.ig.Array;var o=new $.ig.Array;for(var p=0;p<c.count();p++){l.add(c.item(p).uniqueName(),p);m.add(c.item(p))}if(g=="none"&&c.count()>0){i=c.item(0).uniqueName();j=l.item(i);k=$self.q.item(i)}if(d==null&&e==null){var q=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);if(k!=null){var r=$self.e().d().where$1($.ig.RowMetadata.prototype.$type,function(s){return!s.a()});var s=new $.ig.Array;var u=r.select$2($.ig.RowMetadata.prototype.$type,$.ig.Object.prototype.$type,function(v){return v.e()}).getEnumerator();while(u.moveNext()){var t=u.current();s.add(t)}if(s.length>0){var v=new $.ig.CellMetadata(0,0,0,j,n,o,m);var w=k(s,v);if(w!=null){var x=new $.ig.OlapResultCell;x.cellOrdinal(0);x.properties().add("Value",w);x.properties().add("FmtValue",w.toString());q.add(x)}}}return $self.b(null,null,q)}if(e!=null){var y=e.tuples();for(var z=0;z<y.count();z++){n.add(y.__inner[z])}}if(d!=null){var aa=d.tuples();for(var ab=0;ab<aa.count();ab++){o.add(aa.__inner[ab])}}var ac=1;if(d!=null){ac=d.tuples().count()}var ad=1;if(e!=null){ad=e.tuples().count()}var ae=new $.ig.List$1($.ig.OlapResultCell.prototype.$type,0);for(var af=0;af<ad;af++){var ag=null;var ah=null;if(e!=null){ah=e.tuples().__inner[af];ag=b.getTupleRowsMetadata(ah);if(g=="rows"){i=ah.members().item(h).uniqueName();j=l.item(i);k=$self.q.item(i)}}for(var ai=0;ai<ac;ai++){var aj=ag;var ak=null;var al=null;if(d!=null){al=d.tuples().__inner[ai];ak=a.getTupleRowsMetadata(al);if(g=="columns"){i=al.members().item(h).uniqueName();j=l.item(i);k=$self.q.item(i)}}if(aj!=null){if(ak!=null){aj=$self.ag(aj,ak,ah,al,h)}}else{aj=ak}if(k!=null){var am=af*ac+ai;var an=new $.ig.CellMetadata(af,ai,am,j,n,o,m);var ao=new $.ig.Array;var aq=aj.select$2($.ig.RowMetadata.prototype.$type,$.ig.Object.prototype.$type,function(ar){return ar.e()}).getEnumerator();while(aq.moveNext()){var ap=aq.current();ao.add(ap)}if(ao.length>0){var ar=k(ao,an);if(ar!=null){var as=new $.ig.OlapResultCell;as.cellOrdinal(am);as.properties().add("Value",ar.toString());as.properties().add("FmtValue",ar.toString());ae.add(as)}}}}}var at=$self.b(d,e,ae);return at},b:function(a,b,c){var $self=this;var d=function(){var $ret=new $.ig.OlapResult;$ret.axes(new $.ig.List$1($.ig.OlapResultAxis.prototype.$type,0));return $ret}();if(a!=null){d.axes().add(a)}if(b!=null){d.axes().add(b)}d.cells(c);d.isEmpty(b==null&&a==null&&c.count()==0);return d},ag:function(a,b,c,d,e){var $self=this;if(b.count()<a.count()){a=b;d=c}for(var f=0;f<d.members().count();f++){if(f!=e){var g=d.members().item(f);var h;if(function(){var $ret=g.properties().tryGetValue("memberId",h);h=$ret.value;return $ret.ret}()){var i=$.ig.Number.prototype.parseInt(h);a=a.where$1($.ig.RowMetadata.prototype.$type,function(j){return j.d(g.levelUniqueName())==i}).toList$1($.ig.RowMetadata.prototype.$type)}}}return a},f:function(a,b,c){var $self=this;var d=$self.aj($self.d().a().b().c());var e="none";var f=-1;if(c.count()>0){if(a!=null&&a.tuples().count()>0){var g=a.tuples().__inner[0];for(var h=0;h<g.members().count();h++){var i=g.members().item(h);if(i.hierarchyUniqueName()==d){e="columns";f=h;break}}}if(e=="none"){if(b!=null&&b.tuples().count()>0){var j=b.tuples().__inner[0];for(var k=0;k<j.members().count();k++){var l=j.members().item(k);if(l.hierarchyUniqueName()==d){e="rows";f=k;break}}}}}return function(){var $ret=new Array;$ret.add(e);$ret.add(f);return $ret}()},al:function(a,b,c,d,e,f){var $self=this;var g=a[b];var h=$self.p.item(g.uniqueName());var i=$self.ab.where$1($.ig.Level.prototype.$type,function(j){return j.hierarchyUniqueName()==e.uniqueName()&&j.depth()==g.depth()+1}).firstOrDefault$1($.ig.Level.prototype.$type);var j=null;if(d!=null){j=d.uniqueName()}var k;if(!function(){var $ret=$self.l.tryGetValue(g.uniqueName(),k);k=$ret.value;return $ret.ret}()){k=new $.ig.Dictionary$2(String,$.ig.Member.prototype.$type,0);$self.l.add(g.uniqueName(),k)}var l=new $.ig.List$1($.ig.KeyListPair$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),0);var m=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.RowMetadata.prototype.$type),0);var o=f.getEnumerator();while(o.moveNext()){var n=o.current();var p=h(n.e());if(p!=null){var q;if(!function(){var $ret=m.tryGetValue(p,q);q=$ret.value;return $ret.ret}()){q=new $.ig.List$1($.ig.RowMetadata.prototype.$type,0);m.add(p,q);l.add(new $.ig.KeyListPair$1($.ig.RowMetadata.prototype.$type,1,p,q))}q.add(n)}}for(var r=0;r<l.count();r++){var s=l.item(r).b();var t=l.item(r).a();var u=c+"&"+$self.aj(s);var v=g.uniqueName()+u;var w;var x;var y;if(!function(){var $ret=k.tryGetValue(v,w);w=$ret.value;return $ret.ret}()){w=new $.ig.Member;w.caption(s);w.dimensionUniqueName(g.dimensionUniqueName());w.hierarchyUniqueName(g.hierarchyUniqueName());w.levelDepth(g.depth());w.levelUniqueName(g.uniqueName());w.name(s);w.parentLevel(g.depth()-1);w.parentUniqueName(j);w.uniqueName(v);if(i!=null){w.childrenCardinality(1)}if(d!=null){d.childrenCardinality(d.childrenCardinality()+1)}k.add(v,w);x=$self.r.count();$self.r.add(w.uniqueName(),x);y=new $.ig.DataMemberMetadata(w,u,x,k.count());$self.j.add(w.uniqueName(),y);$self.k.add(w.uniqueName(),y);for(var z=0;z<t.count();z++){var aa=t.item(z);aa.g(g.uniqueName(),x);y.h(aa)}}if(b+1<a.length){$self.al(a,b+1,u,w,e,t)}}if(d!=null){d.childrenCardinality(l.count())}},aj:function(a){if(a.substr(0,1)!="["){a="["+a}if(a.substr(a.length-1,1)!="]"){a+="]"}return a},af:null,o:null,w:function(){var a=new $.ig.List$1($.ig.Cube.prototype.$type,0);if(this.d()==null||this.d().a()==null){return a}var b=new $.ig.Cube;b.caption(this.d().a().c());b.name(this.d().a().e());b.description(this.d().a().d());a.add(b);return a},ae:function(a){var b=new $.ig.List$1($.ig.Measure.prototype.$type,0);if(this.d()==null||this.d().a()==null||this.d().a().b()==null||this.d().a().b().a()==null){return b}var c=this.d().a().b().c();var e=this.d().a().b().a().getEnumerator();while(e.moveNext()){var d=e.current();var f=new $.ig.Measure;f.caption(d.e());f.defaultFormatString(d.d());f.measureDisplayFolder(d.c());f.name(d.f());f.uniqueName(this.aj(c)+"."+this.aj(d.f()));b.add(f);a.item(f.uniqueName(),d.b())}return b},y:function(){if(this.v==null){this.v=this.w()}var a=new $.ig.List$1($.ig.Dimension.prototype.$type,0);if(this.d()==null||this.d().a()==null){return a}var b=new $.ig.Dimension;b.dimensionType($.ig.DimensionType.prototype.measure);b.caption(this.d().a().b().b());b.uniqueName(this.aj(this.d().a().b().c()));a.add(b);if(this.d().a().a()==null){return a}this.af=new $.ig.List$1($.ig.DimensionMetadata.prototype.$type,0);var d=this.d().a().a().getEnumerator();while(d.moveNext()){var c=d.current();this.af.add(c);var e=new $.ig.Dimension;e.caption(c.b());e.defaultHierarchy(c.c());e.uniqueName(this.aj(c.e()));e.name(c.e());e.description(c.d());a.add(e)}return a},aa:function(){var $self=this;if($self.x==null){$self.x=$self.y()}var a=new $.ig.List$1($.ig.Hierarchy.prototype.$type,0);if($self.d()==null||$self.d().a()==null){return a}var b=new $.ig.Hierarchy;b.uniqueName($self.aj($self.d().a().b().c()));b.dimensionUniqueName($self.aj($self.d().a().b().c()));a.add(b);if($self.d().a().a()==null){return a}$self.o=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.HierarchyMetadata.prototype.$type),0);for(var c=0;c<$self.af.count();c++){var d=$self.af.item(c);if(d.a()!=null){var e;if(!function(){var $ret=$self.o.tryGetValue(d.e(),e);e=$ret.value;return $ret.ret}()){e=new $.ig.List$1($.ig.HierarchyMetadata.prototype.$type,0);$self.o.add(d.e(),e)}var g=d.a().getEnumerator();while(g.moveNext()){var f=g.current();e.add(f);var h=new $.ig.Hierarchy;h.caption(f.b());h.description(f.c());h.dimensionUniqueName($self.aj(d.e()));h.hierarchyDisplayFolder(f.d());h.name(f.e());h.uniqueName(h.dimensionUniqueName()+"."+$self.aj(h.name()));a.add(h)}}}return a},ac:function(){var $self=this;if($self.z==null){$self.z=$self.aa()}$self.p=new $.ig.Dictionary$2(String,$.ig.Func$2.prototype.$type.specialize($.ig.Object.prototype.$type,String),0);var a=new $.ig.List$1($.ig.Level.prototype.$type,0);if($self.d()==null||$self.d().a()==null){return a}var b=new $.ig.Level;b.hierarchyUniqueName($self.aj($self.d().a().b().c()));b.uniqueName(b.hierarchyUniqueName()+".[MeasuresLevel]");b.depth(-1);a.add(b);if($self.d().a().a()==null){return a}var c=new $.ig.HierarchyMetadata;c.e($self.d().a().b().c());c.b($self.d().a().b().b());var d=new $.ig.List$1($.ig.HierarchyMetadata.prototype.$type,0);d.add(c);for(var e=0;e<$self.af.count();e++){var f=$self.af.item(e);var g;if(function(){var $ret=$self.o.tryGetValue(f.e(),g);g=$ret.value;return $ret.ret}()){for(var h=0;h<g.count();h++){d.add(g.item(h))}}}for(var i=0;i<d.count();i++){var j=d.item(i);if(j.a()==null){continue}var k=$self.z.item(i);for(var l=0;l<j.a().count();l++){var m=j.a().item(l);var n=new $.ig.Level;n.caption(m.b());n.depth(l);n.dimensionUniqueName(k.dimensionUniqueName());n.hierarchyUniqueName(k.uniqueName());n.name(m.c());n.uniqueName(k.uniqueName()+"."+$self.aj(n.name()));a.add(n);var o;if(!function(){var $ret=$self.n.tryGetValue(k.uniqueName(),o);o=$ret.value;return $ret.ret}()){o=new $.ig.List$1($.ig.Level.prototype.$type,0);$self.n.add(k.uniqueName(),o)}o.add(n);$self.p.item(n.uniqueName(),m.a())}}return a},$type:new $.ig.Type("FlatDataProvider",$.ig.Object.prototype.$type,[$.ig.IFlatDataProvider.prototype.$type])},true);$.ig.util.defType("KeyListPair$1","Object",{$t:null,_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},init:function($t,initNumber){if(initNumber>0){switch(initNumber){case 1:this.init1.apply(this,arguments);break}return}this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.b(String.empty());this.a(new $.ig.List$1(this.$t,0))},init1:function($t,initNumber,a,b){this.$t=$t;this.$type=this.$type.specialize(this.$t);$.ig.Object.prototype.init.call(this);this.b(a);this.a(b)},$type:new $.ig.Type("KeyListPair$1",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CellMetadata","Object",{init:function(a,b,c,d,e,f,g){$.ig.Object.prototype.init.call(this);this.rowIndex(a);this.columnIndex(b);this.cellOrdinal(c);this.measureIndex(d);this.rowTuples(e);this.columnTuples(f);this.measures(g)},_rowIndex:0,rowIndex:function(value){if(arguments.length===1){this._rowIndex=value;return value}else{return this._rowIndex}},_columnIndex:0,columnIndex:function(value){if(arguments.length===1){this._columnIndex=value;return value}else{return this._columnIndex}},_cellOrdinal:0,cellOrdinal:function(value){if(arguments.length===1){this._cellOrdinal=value;return value}else{return this._cellOrdinal}},_measureIndex:0,measureIndex:function(value){if(arguments.length===1){this._measureIndex=value;return value}else{return this._measureIndex}},_rowTuples:null,rowTuples:function(value){if(arguments.length===1){this._rowTuples=value;return value}else{return this._rowTuples}},_columnTuples:null,columnTuples:function(value){if(arguments.length===1){this._columnTuples=value;return value}else{return this._columnTuples}},_measures:null,measures:function(value){if(arguments.length===1){this._measures=value;return value}else{return this._measures}},$type:new $.ig.Type("CellMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("CubeMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.a(new $.ig.ArrayListCollection$1($.ig.DimensionMetadata.prototype.$type))},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("CubeMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasuresDimensionMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("MeasuresDimensionMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataMemberMetadata","Object",{init:function(a,b,c,d){$.ig.Object.prototype.init.call(this);this.a(a);this.g(b);this.e(c);this.f(d);this.d(new $.ig.List$1($.ig.RowMetadata.prototype.$type,0))},_e:0,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_g:null,g:function(value){if(arguments.length===1){this._g=value;return value}else{return this._g}},_f:0,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},c:function(){var $self=this;return $self.d().where$1($.ig.RowMetadata.prototype.$type,function(a){return a.a()==false}).toList$1($.ig.RowMetadata.prototype.$type)},h:function(a){this.d().add(a)},b:function(a){if(this.d().remove(a)){return true}return false},$type:new $.ig.Type("DataMemberMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DataSourceMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("DataSourceMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("DimensionMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("DimensionMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("HierarchyMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("HierarchyMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("LevelMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this)},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("LevelMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("MeasureMetadata","Object",{init:function(){$.ig.Object.prototype.init.call(this);this.a($.ig.AggregatorType.prototype.sum)},_b:null,b:function(value){if(arguments.length===1){this._b=value;return value}else{return this._b}},_a:null,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},_d:null,d:function(value){if(arguments.length===1){this._d=value;return value}else{return this._d}},_f:null,f:function(value){if(arguments.length===1){this._f=value;return value}else{return this._f}},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_c:null,c:function(value){if(arguments.length===1){this._c=value;return value}else{return this._c}},$type:new $.ig.Type("MeasureMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("RowMetadata","Object",{b:null,c:0,init:function(a){$.ig.Object.prototype.init.call(this);this.b=new $.ig.Dictionary$2(String,$.ig.Number.prototype.$type,0);this.c=0;this.a(false);this.e(a)},g:function(a,b){if(this.b.containsKey(a)){return}this.b.item(a,b)},d:function(a){var $self=this;var b;(function(){var $ret=$self.b.tryGetValue(a,b);b=$ret.value;return $ret.ret})();return b},f:function(){this.c++;this.a(true)},h:function(){this.c--;this.a(this.c>0)},_e:null,e:function(value){if(arguments.length===1){this._e=value;return value}else{return this._e}},_a:false,a:function(value){if(arguments.length===1){this._a=value;return value}else{return this._a}},$type:new $.ig.Type("RowMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("TableMetadata","Object",{e:null,a:null,c:null,f:0,init:function(a){$.ig.Object.prototype.init.call(this);var b=0;var c=$.ig.util.cast($.ig.IList.prototype.$type,a);if(c!=null){b=c.count()}else{var e=a.getEnumerator();while(e.moveNext()){var d=e.current();b++}}this.c=new $.ig.List$1($.ig.RowMetadata.prototype.$type,0);this.a=new Array(b);var g=a.getEnumerator();while(g.moveNext()){var f=g.current();var h=new $.ig.RowMetadata(f);this.h(h);this.c.add(h)}this.e=new $.ig.List$1(String,0)},d:function(){return this.c},b:function(){return this.a},g:function(){return this.f},h:function(a){if(this.f==this.a.length){this.i()}this.a[this.f++]=a},j:function(a,b){if(this.f==this.a.length){this.i()}$.ig.Array.prototype.copy(this.a,a,this.a,a+1,this.f-a);this.a[a]=b;this.f++},k:function(a){var $self=this;$self.f--;$.ig.Array.prototype.copy($self.a,a+1,$self.a,a,$self.f-a);(function(){var $ret=$.ig.Array.prototype.resize$1($.ig.RowMetadata.prototype.$type,$self.a,$self.f);$self.a=$ret.array;return $ret.ret})()},i:function(){var a=new Array(this.f+1);$.ig.Array.prototype.copy(this.a,0,a,0,this.f);this.a=a},$type:new $.ig.Type("TableMetadata",$.ig.Object.prototype.$type)},true);$.ig.util.defType("FlatDataSourceImpl","OlapDataSource",{a3:null,dataProvider:function(){if(this.a3==null){this.a3=this.dataProviderFactory().createDataProvider()}return this.a3},init:function(a){this.a7=new $.ig.List$1($.ig.FlatDataAxisProvider.prototype.$type,0);$.ig.OlapDataSource.prototype.init.call(this,a);this.flatDataSourceOptions(a);this.dataProviderFactory(a.dataProviderFactory())},h:function(){return new $.ig.DefaultFlatDataProviderFactory(this.flatDataSourceOptions().itemsSource(),this.flatDataSourceOptions().dataSourceMetadata())},_flatDataSourceOptions:null,flatDataSourceOptions:function(value){if(arguments.length===1){this._flatDataSourceOptions=value;return value}else{return this._flatDataSourceOptions}},am:function(){var $self=this;var a=new $.ig.TaskCompletionSource$1($.ig.OlapMetadataTreeItem.prototype.$type,0);if($self.isInitialized()){a.e($self.metadataTree());return a.b()}$self.columnAxis().collectionChanged=$.ig.Delegate.prototype.combine($self.columnAxis().collectionChanged,$self.bb.runOn($self));$self.rowAxis().collectionChanged=$.ig.Delegate.prototype.combine($self.rowAxis().collectionChanged,$self.bf.runOn($self));$self.filters().collectionChanged=$.ig.Delegate.prototype.combine($self.filters().collectionChanged,$self.bc.runOn($self));$self.measures().collectionChanged=$.ig.Delegate.prototype.combine($self.measures().collectionChanged,$self.bd.runOn($self));return $self.aq(null).continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return $self.an($self.cubes().first$1($.ig.Cube.prototype.$type).name())}).continueWithTask$1($.ig.OlapMetadataTreeItem.prototype.$type,function(b){return $self.ak()})},ah:function(){var $self=this;var a=$self.dataProvider();var b=new $.ig.List$1($.ig.Task.prototype.$type,0);b.add(a.discoverDimensionsAsync(null,null));b.add(a.discoverHierarchiesAsync(null,null));b.add(a.discoverLevelsAsync(null,null));b.add(a.discoverMeasuresAsync(null,null));b.add(a.discoverKpisAsync(null,null));var c=new Array(b.count());b.copyTo(c,0);var d=new $.ig.CubeMetaItemsCache;$self.c(d);var e=new $.ig.TaskFactory;return e.c(c,function(f){var g=f[0];var h=f[1];var i=f[2];var j=f[3];var k=f[4];d.y(j.m());d.t(g.m());d.u(h.m());d.x(i.m());d.v(k.m())})},bh:function(a,b){var c=0;var d=this.measureListIndex();if(a){var e=this.a2(c);if(e!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){if(d>-1){var f=e.e().rootPositionInfo();if(f!=null){this.be(f,d-1)}}}c++}if(b){var g=this.a2(c);if(g!=null&&this.measureListLocation()==$.ig.MeasureListLocation.prototype.rows){if(d>-1){var h=g.e().rootPositionInfo();if(h!=null){this.be(h,d-1)}}}}},be:function(a,b){if(a.positionItemIndex()==b){a.clear()}else{var d=a.values().getEnumerator();while(d.moveNext()){var c=d.current();this.be(c,b)}}},ai:function(){var $self=this;var a=$self.a8();if(!String.isNullOrEmpty(a)){var b=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);b.d(new $.ig.InvalidOperationException(1,a));return b.b()}var c=$self.columnAxis().count()>0;var d=$self.rowAxis().count()>0;if(!d&&!c&&$self.measures().count()==0){var e=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();var f=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);f.e(e);$self.l(new $.ig.OlapResultView(e,e,false,false));$self.result(e);$self.clearPendingChanges();return f.b()}var g=$self.m();var h=$self.s();var i=$self.r()||$self.p();var j=$self.n();var k=$self.ae().count()>0;var l=$self.ad().count()>0;var m=$self.af.count()>0;if(!g&&!h&&!i&&!j&&!k&&!l&&!m){var n=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);n.e($self.result());return n.b()}if($self.r()){$self.bh(c,d)}var o=null;var p=null;var q=0;var r="Axis0";var s=$self.m();if($self.r()&&c&&$self.measureListIndex()>-1&&$self.measureListLocation()==$.ig.MeasureListLocation.prototype.columns){s=true}o=$self.a1($self.columnAxis(),s,q);$self.m(false);if(o!=null){q++;r="Axis1"}var t=$self.s();if($self.r()&&d&&$self.measureListIndex()>-1&&$self.measureListLocation()==$.ig.MeasureListLocation.prototype.rows){t=true}p=$self.a1($self.rowAxis(),t,q);$self.s(false);if(p!=null){if(p.axis()!=null){p.axis().name(r)}q++}$self.r(false);$self.n(false);var u=new $.ig.List$1($.ig.AxisElement.prototype.$type,0);var w=$self.u().getEnumerator();while(w.moveNext()){var v=w.current();u.add(v)}var y=$self.w().getEnumerator();while(y.moveNext()){var x=y.current();u.add(x)}var aa=$self.v().getEnumerator();while(aa.moveNext()){var z=aa.current();u.add(z)}var ab=$self.a9(u,c,d,k,l,o,p);return ab},a9:function(a,b,c,d,e,f,g){var $self=this;if($self.af.count()>0){$self.dataProvider().am(a);var i=$self.a7.getEnumerator();while(i.moveNext()){var h=i.current();h.o()}$self.af.clear()}$self.a6(b,c);$self.ba(b,c,true);if(d||e){var j=null;if(b){var k=$self.ae();var l=k.where$1($.ig.PositionInfo.prototype.$type,function(m){return m.c()=="Axis0"}).toList$1($.ig.PositionInfo.prototype.$type);if(l.count()>0){var m=l.item(0);k.remove(m);var n=$self.result().axes().item(0).tuples().__inner[m.b()];var o=n.members().item(m.a());var p=new $.ig.FlatDataPartialAxisProvider($self.dataProvider(),$self.columnAxis(),o,$self.c());var q=p.generateAxis("Axis0");j=q.continueWithTask$1($.ig.OlapResult.prototype.$type,function(r){var s=$self.dataProvider().ak(p,g,$self.measures());return s});j=j.continueWithTask$2($.ig.OlapResult.prototype.$type,$.ig.OlapResult.prototype.$type,function(r){if($self.d("Axis0",r.m()).tuples().count()==0){o.displayInfo(0)}var s=$self.l();$self.l($self.l().extend(r.m(),"Axis0"));$self.result($self.l().visibleResult());$.ig.ResultViewHelper.prototype.f("Axis0",s,$self.l());$.ig.ResultViewHelper.prototype.e(m.c(),m.b(),m.a(),true,$self.l());f.m(p);f.axis($self.d("Axis0",$self.result()));var t=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);t.e($self.l().visibleResult());$.ig.ResultViewHelper.prototype.c(m.b(),m.a(),true,f.e());return t.b()})}}if(c){var r=b?"Axis1":"Axis0";var s=$self.ae();var t=s.where$1($.ig.PositionInfo.prototype.$type,function(u){return u.c()==r}).toList$1($.ig.PositionInfo.prototype.$type);if(d&&t.count()>0){var u=t.item(0);s.remove(u);var v=$self.result().axes().where$1($.ig.OlapResultAxis.prototype.$type,function(w){return w.name()==r}).first$1($.ig.OlapResultAxis.prototype.$type).tuples().__inner[u.b()];var w=v.members().item(u.a());var x;var y=new $.ig.FlatDataPartialAxisProvider($self.dataProvider(),$self.rowAxis(),w,$self.c());if(j!=null){x=j.continueWithTask$1($.ig.OlapResultAxis.prototype.$type,function(z){return y.generateAxis(r)})}else{x=y.generateAxis(r)}j=x.continueWithTask$1($.ig.OlapResult.prototype.$type,function(z){var aa=$self.dataProvider().ak(f,y,$self.measures());return aa});j=j.continueWithTask$2($.ig.OlapResult.prototype.$type,$.ig.OlapResult.prototype.$type,function(z){if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),b,c))}var aa=$self.l().hasColumns()?"Axis1":"Axis0";if($self.d(aa,z.m()).tuples().count()==0){w.displayInfo(0)}var ab=$self.l();$self.l($self.l().extend(z.m(),aa));$self.result($self.l().visibleResult());$.ig.ResultViewHelper.prototype.f(aa,ab,$self.l());$.ig.ResultViewHelper.prototype.e(u.c(),u.b(),u.a(),true,$self.l());var ac=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);ac.e($self.l().visibleResult());g.m(y);g.axis($self.d(aa,$self.result()));$.ig.ResultViewHelper.prototype.c(u.b(),u.a(),true,g.e());return ac.b()})}}if(j!=null){return j}var z=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);z.e($self.result());return z.b()}else{var aa=new $.ig.TaskCompletionSource$1($.ig.OlapResult.prototype.$type,0);
if(f==null&&g==null&&$self.measures().count()==0){var ab=function(){var $ret=new $.ig.OlapResult;$ret.isEmpty(true);return $ret}();$self.result(ab);aa.e($self.result());return aa.b()}var ac=$self.dataProvider().ak(f,g,$self.measures());return ac.continueWithTask$2($.ig.OlapResult.prototype.$type,$.ig.OlapResult.prototype.$type,function(ad){$self.l(new $.ig.OlapResultView(ad.m(),ad.m(),b,c));$self.result($self.l().visibleResult());$self.clearPendingChanges();aa.e($self.result());return aa.b()})}},a8:function(){var $self=this;var a=new $.ig.Dictionary$2(String,String,0);for(var b=0;b<$self.columnAxis().count();b++){var c=$self.columnAxis().item(b);if($.ig.util.cast($.ig.MeasureList.prototype.$type,c)!==null){continue}if(!a.containsKey(c.uniqueName())){a.add(c.uniqueName(),"columns")}else{return"the "+c.uniqueName()+" hierarchy is used twice in columns"}}for(var d=0;d<$self.rowAxis().count();d++){var e=$self.rowAxis().item(d);if($.ig.util.cast($.ig.MeasureList.prototype.$type,e)!==null){continue}if(!a.containsKey(e.uniqueName())){a.add(e.uniqueName(),"rows")}else{return"the "+e.uniqueName()+" hierarchy is used in rows and in columns"}}for(var f=0;f<$self.filters().count();f++){var g=$self.filters().item(f);var h;if(!function(){var $ret=a.tryGetValue(g.uniqueName(),h);h=$ret.value;return $ret.ret}()){a.add(g.uniqueName(),"filters")}else{return"the "+g.uniqueName()+" hierarchy is used in filters and in "+h}}for(var i=0;i<$self.measures().count();i++){var j=$self.measures().item(i);var k;if(!function(){var $ret=a.tryGetValue(j.uniqueName(),k);k=$ret.value;return $ret.ret}()){a.add(j.uniqueName(),"measures")}else{if(k=="measures"){return"the "+j.uniqueName()+" measure is used twice in measures"}return"the "+j.uniqueName()+" measure is used in measures and in "+k}}return null},a6:function(a,b){var $self=this;var c=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);var d=$self.l();var e=$self.ae();for(var f=0;f<e.count();f++){var g=e.item(f);var h;if(!function(){var $ret=c.tryGetValue(g.c(),h);h=$ret.value;return $ret.ret}()){h=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);c.add(g.c(),h)}if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),a,b))}var i=$self.l().expandTupleMember(g.c(),g.b(),g.a());if(i!=null){h.add(g);$self.l(i);$self.result($self.l().visibleResult())}}var k=c.getEnumerator();while(k.moveNext()){var j=k.current();var m=j.value().getEnumerator();while(m.moveNext()){var l=m.current();e.remove(l)}}var n=0;var o="Axis0";if(a){var p=c.keys().where$1(String,function(q){return q==o}).firstOrDefault$1(String)!=null;var q=$self.a2(n);if(q!=null&&p){var r=c.item(o);if(r.count()>0){$.ig.ResultViewHelper.prototype.f(o,d,$self.l());var t=r.getEnumerator();while(t.moveNext()){var s=t.current();$.ig.ResultViewHelper.prototype.e(o,s.b(),s.a(),true,$self.l());$.ig.ResultViewHelper.prototype.c(s.b(),s.a(),true,q.e())}var u=$self.d(o,$self.result());q.axis(u);$.ig.ResultViewHelper.prototype.b(u.positionResolver(),q.e())}}n++;o="Axis1"}if(b){var v=c.keys().where$1(String,function(w){return w==o}).firstOrDefault$1(String)!=null;var w=$self.a2(n);if(w!=null&&v){var x=c.item(o);if(x.count()>0){$.ig.ResultViewHelper.prototype.f(o,d,$self.l());var z=x.getEnumerator();while(z.moveNext()){var y=z.current();$.ig.ResultViewHelper.prototype.e(o,y.b(),y.a(),true,$self.l());$.ig.ResultViewHelper.prototype.c(y.b(),y.a(),true,w.e())}var aa=$self.d(o,$self.result());w.axis(aa);$.ig.ResultViewHelper.prototype.b(aa.positionResolver(),w.e())}}}return e.count()>0},ba:function(a,b,c){var $self=this;if($self.result()!=null){var d=$self.ad();var e=new $.ig.Dictionary$2(String,$.ig.IList$1.prototype.$type.specialize($.ig.PositionInfo.prototype.$type),0);var f=$self.l();for(var g=0;g<d.count();g++){var h=d.item(g);var i;if(!function(){var $ret=e.tryGetValue(h.c(),i);i=$ret.value;return $ret.ret}()){i=new $.ig.List$1($.ig.PositionInfo.prototype.$type,0);e.add(h.c(),i)}i.add(h);if(c){if($self.l()==null){$self.l(new $.ig.OlapResultView($self.result(),$self.result(),a,b))}else{$self.l($self.l().collapseTupleMember(h.c(),h.b(),h.a()));$self.result($self.l().visibleResult())}}}var j=0;var k="Axis0";if(a){var l=e.keys().where$1(String,function(m){return m==k}).firstOrDefault$1(String)!=null;var m=$self.a2(j);if(m!=null&&l){var n=e.item(k);if(n.count()>0){$.ig.ResultViewHelper.prototype.f(k,f,$self.l());var p=n.getEnumerator();while(p.moveNext()){var o=p.current();$.ig.ResultViewHelper.prototype.c(o.b(),o.a(),false,m.e())}var q=$self.d(k,$self.result());m.axis(q)}}j++;k="Axis1"}if(b){var r=e.keys().where$1(String,function(s){return s==k}).firstOrDefault$1(String)!=null;var s=$self.a2(j);if(s!=null&&r){var t=e.item(k);if(t.count()>0){$.ig.ResultViewHelper.prototype.f(k,f,$self.l());var v=t.getEnumerator();while(v.moveNext()){var u=v.current();$.ig.ResultViewHelper.prototype.c(u.b(),u.a(),false,s.e())}var w=$self.d(k,$self.result());s.axis(w)}}}d.clear()}},a1:function(a,b,c){var d=null;if(a.count()>0){d=this.a2(c);if(b){if(d!=null){d.n(a)}else{d=new $.ig.FlatDataAxisProvider(this.dataProvider(),a,this.c());this.bg(c,d)}}}return d},bg:function(a,b){this.a7.item(a,b)},a2:function(a){if(a<this.a7.count()){return this.a7.item(a)}return null},getMembersOfLevel:function(a){var $self=this;var b=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);var c=a;b.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a("LEVEL_UNIQUE_NAME");$ret.b(a);return $ret}());var d=$self.dataProvider().discoverMembersAsync(null,b);d.i(function(e){var g=e.m().getEnumerator();while(g.moveNext()){var f=g.current();$self.c().aa(f)}$self.c().ac(c)});return d},getMembersOfHierarchy:function(a){var $self=this;var b=a;var c=new $.ig.CoreOlapElementParser(a);var d=c.b();if(d.count()<2){throw new $.ig.ArgumentException(1,"Specified value: "+a+" is not valid.",a)}var e=new $.ig.KeyValueItem;e.a("HIERARCHY_UNIQUE_NAME");e.b(d.item(0)+"."+d.item(1));var f=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);f.add(e);var g=$self.dataProvider().discoverMembersAsync(null,f);g.i(function(h){var j=h.m().getEnumerator();while(j.moveNext()){var i=j.current();$self.c().aa(i)}$self.c().ab(b)});return g},getMembersOfMember:function(a){var $self=this;var b=new $.ig.CoreOlapElementParser(a);var c=b.b();var d=new $.ig.KeyValueItem;if(c.count()<3){throw new $.ig.ArgumentException(1,"Specified value: "+a+" is not valid.",a)}switch(c.count()){case 1:d.a("DIMENSION_UNIQUE_NAME");d.b(c.item(0));break;case 2:d.a("HIERARCHY_UNIQUE_NAME");d.b(c.item(0)+"."+c.item(1));break;default:d.a("LEVEL_UNIQUE_NAME");d.b(c.item(0)+"."+c.item(1)+"."+c.item(2));break}var e=new $.ig.List$1($.ig.KeyValueItem.prototype.$type,0);e.add(d);e.add(function(){var $ret=new $.ig.KeyValueItem;$ret.a("MEMBER_UNIQUE_NAME");$ret.b(a);return $ret}());var f=$self.dataProvider().discoverMembersAsync(null,e);f.i(function(g){var i=g.m().getEnumerator();while(i.moveNext()){var h=i.current();$self.c().aa(h)}});return f},bb:function(a,b){this.m(true);this.bi(0,this.columnAxis(),this.rowAxis());this.ay(b,this.u());this.a0(b,this.columnAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.columnAxis()!=null){var c=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bj("Axis0",c)}},bf:function(a,b){this.s(true);this.bi(1,this.rowAxis(),this.columnAxis());this.ay(b,this.w());this.a0(b,this.rowAxis());if(b.action()!=$.ig.NotifyCollectionChangedAction.prototype.reset&&this.rowAxis()!=null){var c=this.columnAxis()==null?"Axis0":"Axis1";var d=Math.max(b.newStartingIndex(),b.oldStartingIndex());this.bj(c,d)}},a7:null,bi:function(a,b,c){if(b.count()>0){if(c.count()>0){if(this.a7.count()<2){this.a7.insert(a,null)}}else{if(this.a7.count()==0){this.a7.insert(0,null)}}}else{if(this.a7.count()>0){if(this.a7.count()>1){this.a7.removeAt(a)}else{this.a7.removeAt(0)}}}},bj:function(a,b){var c=this.ae();var d=this.ad();for(var e=d.count()-1;e>=0;e--){var f=d.item(e);if(f.c()==a&&f.a()>=b){d.removeAt(e)}}for(var g=c.count()-1;g>=0;g--){var h=c.item(g);if(h.c()==a&&h.a()>=b){c.removeAt(g)}}},bc:function(a,b){this.n(true);this.ay(b,this.v())},bd:function(a,b){this.r(true);this.az()},$type:new $.ig.Type("FlatDataSourceImpl",$.ig.OlapDataSource.prototype.$type)},true);$.ig.util.defType("IFlatDataProviderFactory","Object",{$type:new $.ig.Type("IFlatDataProviderFactory",null,[$.ig.IOlapDataProviderFactory.prototype.$type])},true);$.ig.util.defType("DefaultFlatDataProviderFactory","Object",{b:null,a:null,init:function(a,b){$.ig.Object.prototype.init.call(this);this.b=a;this.a=b},createDataProvider:function(){return new $.ig.FlatDataProvider(this.b,this.a)},$type:new $.ig.Type("DefaultFlatDataProviderFactory",$.ig.Object.prototype.$type,[$.ig.IFlatDataProviderFactory.prototype.$type])},true);$.ig.util.defType("FlatDataSourceOptions","DataSourceBaseOptions",{init:function(){$.ig.DataSourceBaseOptions.prototype.init.call(this)},_itemsSource:null,itemsSource:function(value){if(arguments.length===1){this._itemsSource=value;return value}else{return this._itemsSource}},_dataSourceMetadata:null,dataSourceMetadata:function(value){if(arguments.length===1){this._dataSourceMetadata=value;return value}else{return this._dataSourceMetadata}},_dataProviderFactory:null,dataProviderFactory:function(value){if(arguments.length===1){this._dataProviderFactory=value;return value}else{return this._dataProviderFactory}},$type:new $.ig.Type("FlatDataSourceOptions",$.ig.DataSourceBaseOptions.prototype.$type)},true);$.ig.util.defType("OlapFlatDataSource","DataSourceBase",{a5:null,init:function(a){this.a5=null;$.ig.DataSourceBase.prototype.init.call(this);if(a==null){throw new $.ig.ArgumentNullException("options")}this.a5=a;this.a7(this.a5)},a3:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"metadata");if(b==null){throw new $.ig.InvalidOperationException(1,"metadata is null or undefined.")}var c=new $.ig.DataSourceMetadata;var d=this.a2(b);c.a(d);return c},a2:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"cube");if(b==null){throw new $.ig.InvalidOperationException(1,"metadata.cube is null or undefined.")}var c=new $.ig.CubeMetadata;c.e($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"name"));if(String.isNullOrEmpty(c.e())){throw new $.ig.InvalidOperationException(1,"cube.name is null, empty or undefined")}c.c($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"caption"));if(String.isNullOrEmpty(c.c())){c.c(c.e())}c.b(this.a4(b));c.d($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"description"));c.a(this.ay(b));return c},a4:function(a){var $self=this;var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measuresDimension");if(b==null){return null}var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"caption");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(b,"name");var e=function(){var $ret=new $.ig.MeasuresDimensionMetadata;$ret.b(c);$ret.c(d);return $ret}();e.a($self.a1(b));return e},ay:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"dimensions");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.DimensionMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.DimensionMetadata;c.add(e);var f=b[d];e.e($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.e())){throw new $.ig.InvalidOperationException(1,"dimension.name is null, empty or undefined")}e.b($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.b())){e.b(e.e())}e.c($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"defaultHierarchy"));e.a(this.az(f));e.d($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"description"))}return c},a1:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"measures");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.MeasureMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.MeasureMetadata;c.add(e);var f=b[d];e.f($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.f())){throw new $.ig.InvalidOperationException(1,"measure.name is null, empty or undefined")}e.e($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.e())){e.e(e.f())}e.d($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFormat"));e.c($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFolder"));e.b($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"aggregator"));if(e.b()==null){throw new $.ig.InvalidOperationException(1,"aggregator is null or undefined for measureMetadata: "+e.f())}}return c},az:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"hierarchies");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.HierarchyMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.HierarchyMetadata;c.add(e);var f=b[d];e.e($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.e())){throw new $.ig.InvalidOperationException(1,"hierarchy.hierarchyName is null, empty or undefined")}e.b($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.b())){e.b(e.e())}e.d($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"displayFolder"));e.a(this.a0(f));if(e.a()==null||e.a().count()==0){throw new $.ig.InvalidOperationException(1,"levelKeys is null, empty or undefined for hierarchyMetadata: "+e.e())}}return c},a0:function(a){var b=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty(a,"levels");if(b==null){return null}var c=new $.ig.ArrayListCollection$1($.ig.LevelMetadata.prototype.$type);for(var d=0;d<b.length;d++){var e=new $.ig.LevelMetadata;c.add(e);var f=b[d];e.c($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"name"));if(String.isNullOrEmpty(e.c())){throw new $.ig.InvalidOperationException(1,"level.name is null, empty or undefined")}e.b($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"caption"));if(String.isNullOrEmpty(e.b())){e.b(e.c())}e.a($.ig.jQueryUtils.prototype.getJavascriptObjectProperty(f,"memberProvider"));if(e.a()==null){throw new $.ig.InvalidOperationException(1,"levelMetadata.memberProvider is null or undefined")}}return c},a7:function(a){var options_=a;var schema_=this.a6(a);var dataSource=options_.dataSource;if(!options_.dataSource&&options_.dataSourceUrl){options_.dataSource=options_.dataSourceUrl}var dataOptions={callback:this.dataSourceDataResolved,callee:this,dataSource:options_.dataSource,defaultChildrenDataProperty:options_.bindings.childDataProperty,responseDataType:options_.responseDataType,localSchemaTransform:options_.dataSourceType&&options_.dataSourceType==="xml"?true:false,schema:schema_};if(options_.dataSourceType){dataOptions.type=options_.dataSourceType}if(options_.responseDataKey){dataOptions.responseDataKey=options_.responseDataKey}if(!(options_.dataSource instanceof $.ig.DataSource)){options_.dataSource=new $.ig.DataSource(dataOptions)}options_.dataSource.dataBind(this.dataSourceDataResolved,this)},dataSourceDataResolved:function(){var $self=this;var a=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty($self.a5,"dataSource");if(a==null){throw new $.ig.InvalidOperationException(1,"dataSource is null or undefined")}var b=$self.a3($self.a5);var c=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty($self.a5,"measures");var d=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty($self.a5,"filters");var e=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty($self.a5,"columns");var f=$.ig.jQueryUtils.prototype.getJavascriptObjectProperty($self.a5,"rows");var g=$.ig.jQueryUtils.prototype.getJavascriptObjectMethodResult(a,"data");var h=function(){var $ret=new $.ig.FlatDataSourceOptions;$ret.measures(c);$ret.filters(d);$ret.columns(e);$ret.rows(f);$ret.itemsSource(g);$ret.dataSourceMetadata(b);return $ret}();$self.dataSource(new $.ig.FlatDataSourceImpl(h))},a6:function(a){var options_=a;var schema_=null;var schema={},opt=options_,bindings=options_.bindings;if(bindings==null){opt.bindings={};schema.text={name:"Text",type:"string"};opt.bindings.textKey="Text";schema.value={name:"Value",type:"string"};opt.bindings.valueKey="Value";schema.imageUrl={name:"ImageUrl",type:"string"};opt.bindings.imageUrlKey="ImageUrl";schema.navigateUrl={name:"NavigateUrl",type:"string"};opt.bindings.navigateUrlKey="NavigateUrl";schema.childData={name:"Nodes",type:"object"};opt.bindings.childDataProperty="Nodes";schema.target={name:"Target",type:"string"};opt.bindings.targetKey="Target";bindings=opt.bindings}else if(opt.dataSourceType==="xml"){if(bindings.searchFieldXPath){schema.searchField=bindings.searchFieldXPath}}schema.fields=[];if(bindings.textKey){schema.fields.push({name:bindings.textKey,type:"string",xpath:bindings.textXPath});schema.textKey=bindings.textKey}if(bindings.valueKey){schema.fields.push({name:bindings.valueKey,type:"string",xpath:bindings.valueXPath});schema.valueKey=bindings.valueKey}if(bindings.navigateUrlKey){schema.fields.push({name:bindings.navigateUrlKey,type:"string",xpath:bindings.navigateUrlXPath});schema.navigateUrlKey=bindings.navigateUrlKey}if(bindings.imageUrlKey){schema.fields.push({name:bindings.imageUrlKey,type:"string",xpath:bindings.imageUrlXPath});schema.imageUrlKey=bindings.imageUrlKey}if(bindings.targetKey){schema.fields.push({name:bindings.targetKey,type:"string"});schema.targetKey=bindings.targetKey}if(bindings.expandedKey){schema.fields.push({name:"Expanded",type:"boolean"});schema.expandedKey=bindings.expandedKey}if(bindings.primaryKey){schema.fields.push({name:bindings.primaryKey,type:"string"});schema.primaryKey=bindings.primaryKey}if(bindings.childDataProperty){schema.fields.push({name:bindings.childDataProperty,type:"object",xpath:bindings.childDataXPath});schema.childDataProperty=bindings.childDataProperty}if(!schema.searchField&&opt.responseDataKey){schema.searchField=opt.responseDataKey}schema_=schema;return schema_},$type:new $.ig.Type("OlapFlatDataSource",$.ig.DataSourceBase.prototype.$type)},true);$.ig.FlatDataProvider.prototype.ai="(All)";$.ig.util.extCopy($.ig.TaskExtensions,[[[$.ig.Task,$.ig.Task$1],["continueWithTask$1","continueWithTask$2"]]]);$.ig.util.extCopy($.ig.Queryable,[[[$.ig.SortedList$1,$.ig.IGrouping$2],["asQueryable"]]]);$.ig.util.extCopy($.ig.Enumerable,[[[$.ig.SortedList$1,$.ig.IGrouping$2],["where$1","where$11","select$2","selectMany$2","last$1","first$1","firstOrDefault$1","orderBy$2","orderByDescending$2","toList$1","concat$1","max","max$1","min","min$1","count$1","reverse$1","take$1","skip$1","any$1","contains$1","union$1","toArray$1","elementAt$1","sum","sum$1"]],[[$.ig.SortedList$1,$.ig.IGrouping$2],["ofType$1","cast$1"]]])})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI templating localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.Templating){$.ig.Templating={};$.extend($.ig.Templating,{locale:{undefinedArgument:"An error has occurred while trying to retrieve data source property: "}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Templating Engine 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 * 
 * Engine used for data templating
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *
 */
(function($){$.ig=$.ig||{};$.extend($.ig,{tmpl:function(template,data,args){var tmpl=template,cacheConst;if(tmpl){tmpl=tmpl.replace(this.regExp.lineBreak,"");tmpl=tmpl.replace(this.regExp.comment,"");if(typeof data==="function"){if(args){data=data.apply(this,args)}else{data=data.call()}}if(this._internalTmplCache&&this._internalTmplCache.hasOwnProperty(tmpl)){this.tokens=this._internalTmplCache[tmpl].tokens;this.args=this._internalTmplCache[tmpl].args;this.i=this._internalTmplCache[tmpl].i;this._hasBlock=this._internalTmplCache[tmpl]._hasBlock;tmpl=this._internalTmplCache[tmpl].tmpl}else{this.tokens=[];this.args=[];this.i=0;this._tokenizeTemplate(tmpl);cacheConst=tmpl;this._internalTmplCache[cacheConst]={};this._internalTmplCache[cacheConst].tokens=this.tokens;if(this.regExp.block.test(tmpl)){this._hasBlock=true;tmpl=this._tokenizeDirectives(tmpl)}else{this._hasBlock=false}this._internalTmplCache[cacheConst].args=this.args;this._internalTmplCache[cacheConst].i=this.i;this._internalTmplCache[cacheConst]._hasBlock=this._hasBlock;this._internalTmplCache[cacheConst].tmpl=tmpl}if(!this.tokens){return tmpl}if(this._hasBlock){tmpl=this._compileTemplate(tmpl,data)}else{tmpl=this._populateTemplate(tmpl,data)}delete this.args;delete this.tokens;delete this._hasBlock;delete this.i}return tmpl},clearTmplCache:function(){delete this._internalTmplCache;this._internalTmplCache={}},encode:function(value){return value!==null&&value!==undefined?value.toString().replace(this.regExp.lt,"&lt;").replace(this.regExp.gt,"&gt;").replace(this.regExp.ap,"&#39;").replace(this.regExp.ic,"&#34;"):""},regExp:{comment:/\s#[^#]*#/g,sub:/\$\{(([\w\$]+(\.|\s)?[\w\$]*)+)\}/,nonEncodeSub:/\{\{html\s+([\w\$]+(\.|\s)?[\w\$]*)+\}\}/,forSub:/\$\{(([\w\$]+\.[\w\$]*)+)\}/,arg:/args\[\d+\](?!.*\+)/,block:/\{\{(\w+).*?\}\}+(.*)(\{\{\/\1\}\})/,blockCont:/\{\{(?!\/)(\S+)(.*)\}\}(.*)/,blockDirective:/\{\{\S+.*?\}\}/,index:/\$i/g,lineBreak:/(\r\n|\n|\r)/gm,lt:/</g,gt:/>/g,ap:/'/g,ic:/"/g},_directives:{"if":{start:"if (",close:") {",end:" }"},elseif:{start:" } else if (",close:") {",end:""},"else":{start:" } else {",close:"",end:""},each:{start:"for (var i = 0; i < $data.length; i++) {",close:"",end:" }"}},_internalTmplCache:{},_tokenizeTemplate:function(template){var tempToken,splitName;if(this.regExp.sub.test(template)){tempToken=this.regExp.sub.exec(template);while(tempToken!==null){splitName=tempToken[1].split(".");template=template.replace(new RegExp("\\$\\{"+tempToken[1].replace(/\$/g,"\\$")+"\\}","g"),"");tempToken[3]=new RegExp("\\$\\{"+tempToken[1].replace(/\$/g,"\\$")+"\\}","g");tempToken[1]=splitName;tempToken[2]=true;this.tokens.push(tempToken);tempToken=this.regExp.sub.exec(template)}}if(this.regExp.nonEncodeSub.test(template)){tempToken=this.regExp.nonEncodeSub.exec(template);while(tempToken!==null){splitName=tempToken[1].split(".");template=template.replace(new RegExp("\\{\\{html\\s+"+tempToken[1].replace(/\$/g,"\\$")+"\\}\\}","g"),"");tempToken[3]=new RegExp("\\{\\{html\\s+"+tempToken[1].replace(/\$/g,"\\$")+"\\}\\}","g");tempToken[1]=splitName;tempToken[2]=false;this.tokens.push(tempToken);tempToken=this.regExp.nonEncodeSub.exec(template)}}},_tokenizeDirectives:function(template){var tmpl='var result = "";',tokens=this.regExp.block.exec(template),temp;if(template.indexOf(tokens[0])>0||template.length!==tokens[0].length){temp=template.split(tokens[0]);if(temp[0]&&temp[0].length>0){this.args.push(temp[0]);tmpl+="result += args["+this.i++ +"];"}}tmpl+=this._handleCompleteBlock(tokens);if(temp&&temp.length>0&&temp[1].length>0){this.args.push(temp[1]);tmpl+="result += args["+this.i++ +"];"}tmpl+="return result;";return tmpl},_handleCompleteBlock:function(tokens){var tmpl=tokens[0],template="",blocks=[],tempTokens=[],i,temp;tmpl=tmpl.replace("{{"+tokens[1],this._directives[tokens[1]].start);if(tokens[1]==="each"){blocks.push(tokens[0].split(tokens[3]));blocks.push(tokens[2].split(tokens[3]));for(i=0;i<blocks[1].length;i++){if(blocks[0][i].indexOf("{{each")>0){temp=blocks[0][i].split("{{each")[0];this.args.push(temp);template+="result += args["+this.i++ +"];";blocks[0][i]=blocks[0][i].substr(blocks[0][i].indexOf("{{each"));temp=this.regExp.blockDirective.exec(blocks[1][i]);blocks[1][i]=blocks[1][i].substr(blocks[1][i].indexOf(temp[0])+temp[0].length)}blocks[0][i]=blocks[0][i].replace("{{"+tokens[1],this._directives[tokens[1]].start);template+=this._handleEach(blocks[0][i]+"{{/each}}",[blocks[0][i]+"{{/each}}","each",blocks[1][i],"{{/each}}"])}}else if(tokens[1]==="if"){template+=this._handleIfElse(tmpl,tokens)}return template},_handleEach:function(template,tokens){var tmpl=template,eachVar,body,forSub,sub,expr,inner;eachVar=this.regExp.sub.exec(tmpl);tmpl=tmpl.replace(eachVar[0],"");tmpl=tmpl.replace("$data",eachVar[0]);body=tokens[2];if(/\$data/.test(body)){body=body.replace(/\$data/g,'" + '+eachVar[0]+'[i] + "');this.args.push(eachVar[0]);this.i++}forSub=this.regExp.forSub.exec(body);while(forSub){body=body.replace(new RegExp("\\$\\{"+forSub[1]+"\\}","g"),'" + '+eachVar[0]+"[i]"+forSub[1].substr(forSub[1].indexOf("."))+' + "');forSub=this.regExp.forSub.exec(body)}body=body.replace(/\$index/g,'" + i + "');tmpl=tmpl.replace(tokens[2],'result += "'+body+'"');tmpl=tmpl.replace(/\}\}/,this._directives[tokens[1]].close);tmpl=tmpl.replace(tokens[3],this._directives[tokens[1]].end);if(this.regExp.block.test(tmpl)){inner=this.regExp.block.exec(tmpl);tmpl=tmpl.replace(inner[0],this._handleCompleteBlock(inner))}sub=this.regExp.sub.exec(tmpl);while(sub){expr=new RegExp("\\$\\{"+sub[1]+"\\}","g");tmpl=tmpl.replace(expr,"args["+this.i++ +"]");this.args.push(sub[0]);sub=this.regExp.sub.exec(tmpl)}return tmpl},_handleIfElse:function(template,tokens){var tmpl=template,i=0,htmlStrings,sub,inner,index,tmplArr=[];tmpl=tmpl.replace(/\}\}/,this._directives[tokens[1]].close);index=tmpl.lastIndexOf(tokens[3]);tmpl=tmpl.substr(0,index)+tmpl.slice(index+tokens[3].length-1);if(this.regExp.block.test(tmpl)){inner=this.regExp.block.exec(tmpl);tmpl=tmpl.replace(inner[0],this._handleCompleteBlock(inner))}htmlStrings=tokens[2].split(this.regExp.blockDirective);tmplArr.push(tmpl.slice(0,tmpl.indexOf(") {")+3));tmplArr.push(tmpl.slice(tmpl.indexOf(") {")+3));for(i;i<htmlStrings.length;i++){if(htmlStrings[i]&&htmlStrings[i].length&&htmlStrings[i].length>0){tmplArr[1]=tmplArr[1].replace(htmlStrings[i],"result += args["+this.i++ +"];");this.args.push(htmlStrings[i])}}tmpl=tmplArr.join("");tokens=this.regExp.blockCont.exec(tmpl);while(tokens){tmpl=tmpl.replace("{{"+tokens[1],this._directives[tokens[1]].start);tmpl=tmpl.replace(/\}\}/,this._directives[tokens[1]].close);tokens=this.regExp.blockCont.exec(tmpl)}sub=this.regExp.sub.exec(tmpl);while(sub){tmpl=tmpl.replace(new RegExp("\\$\\{"+sub[1]+"\\}","g"),"args["+this.i++ +"]");this.args.push(sub[0]);sub=this.regExp.sub.exec(tmpl)}return tmpl},_populateTemplate:function(template,data){var i,j,result="",temp;if(!data.length){for(i=0;i<this.tokens.length;i++){template=this._populateArgumentValue(data,this.tokens[i],template)}result=template}else if(data.length){for(j=0;j<data.length;j++){temp=template;for(i=0;i<this.tokens.length;i++){temp=this._populateArgumentValue(data[j],this.tokens[i],temp)}temp=temp.replace(this.regExp.index,j);result+=temp}}return result},_compileTemplate:function(template,data){var i,j,k,result="",temp,tempArgs=[],arg="",f;if(!data.length){for(j=0;j<this.args.length;j++){arg=this.args[j];for(i=0;i<this.tokens.length;i++){if(arg===this.tokens[i][0]){arg=this._getArgumentValue(data,this.tokens[i],arg);break}else if(typeof arg==="string"){arg=this._populateArgumentValue(data,this.tokens[i],arg)}}if(arg===undefined){throw new Error($.ig.Templating.locale.undefinedArgument+this.tokens[i][0])}if(typeof arg==="string"){arg=arg.replace(this.regExp.index,0)}tempArgs.push(arg)}template=template.replace(/\$i/g,0);result=new Function("args",template).call(this,tempArgs)||""}else if(data.length){temp=template.replace(this.regExp.index,"args["+this.args.length+"]");f=new Function("args",temp);for(j=0;j<data.length;j++){tempArgs=[];for(k=0;k<this.args.length;k++){arg=this.args[k];for(i=0;i<this.tokens.length;i++){if(arg===this.tokens[i][0]){arg=this._getArgumentValue(data[j],this.tokens[i],arg);break}else if(typeof arg==="string"){arg=this._populateArgumentValue(data[j],this.tokens[i],arg)}}if(arg===undefined){throw new Error($.ig.Templating.locale.undefinedArgument+this.tokens[i][0])}if(typeof arg==="string"){arg=arg.replace(this.regExp.index,j)}tempArgs.push(arg)}tempArgs.push(j);result+=f.call(this,tempArgs)||""}}return result},_getArgumentValue:function(data,token,arg){var tempData,l;if(token[1].length&&token[1].length>1){tempData=data;for(l=0;l<token[1].length;l++){if(tempData&&tempData.hasOwnProperty(token[1][l])){tempData=tempData[token[1][l]]}else{tempData="";break}}if(token[2]&&typeof tempData==="string"){arg=this.encode(tempData)}else{arg=tempData}}else{if(token[2]&&typeof data[token[1]]==="string"){arg=this.encode(data[token[1]])}else{arg=data[token[1]]}}return arg},_populateArgumentValue:function(data,token,arg){var tempData,l,self=this;if(token[1].length&&token[1].length>1){tempData=data;for(l=0;l<token[1].length;l++){if(tempData&&tempData.hasOwnProperty(token[1][l])){tempData=tempData[token[1][l]]}else{tempData="";break}}if(token[2]&&typeof tempData==="string"){arg=arg.replace(token[3],function(){return self.encode(tempData)})}else{arg=arg.replace(token[3],function(){return tempData===null?"":tempData})}}else{if(token[2]){arg=arg.replace(token[3],function(){return self.encode(data[token[1]])})}else{arg=arg.replace(token[3],function(){return data[token[1]]===null?"":data[token[1]]})}}return arg}})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Scroll 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
*/
(function($){var _attr="data-scroll",_stop=function(e){try{e.preventDefault();e.stopPropagation()}catch(ex){}},_aNull=function(val){return val===null||val===undefined||typeof val==="number"&&isNaN(val)},_num=function(val){return isNaN(val=parseInt(val,10))?0:val},_int=function(elem,css){return _num(elem.css(css))},_draggable=function(type){return type==="draggable"},_thin=function(type){return type==="show"},_zero=function(num){return isNaN(num)||num<5},_touch=function(e){e=e.originalEvent;e=e?e.touches:null;return e&&e.length===1?e[0]:null},_src=function(e){e=e.target;return e.nodeName==="#text"?e.parentNode:e},_is=function(elem,src){return elem&&(elem.has(src).length>0||elem[0]===src)},_valid=function(elem){return elem&&elem[0].parentNode?elem:null},_remove=function(elem){if(_valid(elem)){elem.remove()}},_find=function(notMobile){setTimeout(function(){var m=window.Modernizr;if(!m||m.touch){$("body").find("["+_attr+"]").each(function(){var elem=$(this),scroll=elem.data("igScroll");if((!scroll||!scroll.evts)&&!elem.data("igScroll")&&!elem.data("scrollview")){elem.igScroll({_find:true})}})}},notMobile===true?1e3:100)};$.widget("ui.igScroll",{options:{thumbOpacityDrag:null,thumbOpacity:null,cancelStart:null,oneDirection:null,direction:null,animateShowDuration:null,animateHideDuration:null,hideThumbsDelay:null,hideDragThumbsDelay:null,xInertia:null,yInertia:null,xThumb:null,yThumb:null,xLabel:null,yLabel:null,marginLeft:null,marginRight:null,marginTop:null,marginBottom:null,xScroller:null,yScroller:null},events:{starting:null,started:null,scrolling:null,scrolled:null,stopped:null},scrollLeft:function(val){if(_aNull(val)){return this._getScroll(true)}this._scroll(val);return this},scrollTop:function(val){if(_aNull(val)){return this._getScroll()}this._scroll(null,val);return this},scrollWidth:function(){return this._getScroll(true,true)},scrollHeight:function(){return this._getScroll(false,true)},_create:function(){var v,key,self=this,elem=self.element,o=self.options;if(o._find){for(key in o){if(o.hasOwnProperty(key)&&_aNull(o[key])){if(_aNull(v=elem.attr("data-"+key))){v=elem.attr("data-"+key.replace("S","-s").replace("D","-d").replace("O","-o").replace("R","-r").replace("T","-t").replace("I","-i").replace("B","-b").replace("L","-l").replace("H","-h").replace("D","-d"))}if(!_aNull(v)){o[key]=v}}}o.direction=o.direction||elem.attr(_attr)}v=$.ui.igScroll.defaults;for(key in v){if(v.hasOwnProperty(key)&&o[key]===null){o[key]=v[key]}}v=o.direction;self.dir=o.oneDirection&&v!=="x"&&v!=="y";self.evts={MSPointerDown:function(e){var evt=e.originalEvent;if(!evt||evt.pointerType!==2){return}e.target.msSetPointerCapture(self._pointer=evt.pointerId);self.evts.touchstart(e)},MSPointerMove:function(e){if(self._pointer){self._move(e)}},MSPointerUp:function(e){if(!self._pointer){return}e.target.msReleasePointerCapture(self._pointer);self.evts.touchend(e);delete self._pointer},touchstart:function(e){delete self.skip;var touch=self._pointer?e.originalEvent:_touch(e);if(touch){self.x=touch.pageX;self.y=touch.pageY;self.click=true;if(self._isCancel(o)){_stop(e)}}else{self._move(e,"start")}},touchmove:function(e){self._move(e)},touchend:function(e){if(!self.click){self._move(e,"end")}else if(self._isCancel(o)){$(_src(e)).trigger("mousedown").trigger("mouseup").trigger("click")}}};elem.bind(self.evts)},_isCancel:function(o){o=o.cancelStart;return o===true||o==="ms"&&this._pointer},_createBar:function(elem,hor,type){var bar,thumb,border,sizeInt,span,img,iconSize=17,thumbSize=5,thumbDragSize=30,thin=_thin(type),display=hor?"inline-block":"block",margin="margin"+(hor?"Top":"Left"),size=hor?"height":"width";if(thin||_draggable(type)){bar=$("<span />").css({position:"absolute",zIndex:_int(elem,"zIndex")+2,background:"transparent",border:"0px",opacity:0,display:"block"}).addClass("ui-widget").css(size,"1px").insertAfter(elem);sizeInt=thin?thumbSize:thumbDragSize;thumb=$("<span />").css("position","relative").css(size,sizeInt).css("display","block").appendTo(bar);if(thin){thumb.css("background","#101010")}else{bar.css("msTouchAction","none");thumb.addClass("ui-corner-all ui-state-hover");border=thumb.css("borderTopColor");sizeInt=hor?thumb[0].offsetHeight:thumb[0].offsetWidth;span=$("<span />").css({display:display,borderStyle:"solid",borderColor:border,borderWidth:hor?"0px 1px 0px 0px":"0px 0px 1px 0px"}).addClass("ui-corner-"+(hor?"left":"top")).css(size,"100%").appendTo(thumb);img=$("<span />").css("display","block").css(margin,Math.floor((sizeInt-iconSize)/2)+"px").addClass("ui-icon ui-icon-carat-1-"+(hor?"w":"n")).appendTo(span);span=$("<span />").css("display",display).css(size,"100%").appendTo(thumb);img=$("<span />").css("display","block").css(margin,Math.floor((sizeInt-iconSize)/2)+"px").addClass("ui-icon ui-icon-grip-dotted-"+(hor?"vertical":"horizontal")).appendTo(span);span=$("<span />").css({display:display,borderStyle:"solid",borderColor:border,borderWidth:hor?"0px 0px 0px 1px":"1px 0px 0px 0px"}).addClass("ui-corner-"+(hor?"right":"bottom")).css(size,"100%").appendTo(thumb);img=$("<span />").css("display","block").css(margin,Math.floor((sizeInt-iconSize)/2)+"px").addClass("ui-icon ui-icon-carat-1-"+(hor?"e":"s")).appendTo(span)}thumb.css(margin,-(sizeInt+1)+"px")}if(hor){this.barX=bar;this.thumbX=thumb}else{this.barY=bar;this.thumbY=thumb}},_bar:function(elem,hor){var v,left,top,thumb,locElem,locBar,shiftBar,shiftX,shiftY,thumbSize,o=this.options,barMargin=2,barSizeMargin=_num(hor?o.marginLeft:o.marginTop),barSizeMargin2=_num(hor?o.marginRight:o.marginBottom),minBarSize=4,minThumbSize=15,bar=hor?this.barX:this.barY,type=hor?o.xThumb:o.yThumb,elemSize=hor?elem[0].offsetWidth:elem[0].offsetHeight,barSize=Math.max(elemSize-barSizeMargin-barSizeMargin2,minBarSize),scrollSize=Math.max(this._getScroll(hor,true),minBarSize+barSizeMargin+barSizeMargin2);if(!elemSize||scrollSize-elemSize<1){if(bar){bar.remove();delete this.bar}return}if(bar){if(_valid(bar)){return bar}bar.insertAfter(elem)}if(!bar){this._createBar(elem,hor,type)}bar=hor?this.barX:this.barY;if(!bar){return}thumb=hor?this.thumbX:this.thumbY;if(_draggable(type)&&thumb){thumb.bind(this.evts)}shiftBar=(hor?elem[0].offsetHeight:elem[0].offsetWidth)-barMargin;left=_int(elem,"marginLeft")+(hor?barSizeMargin:shiftBar);top=_int(elem,"marginTop")+(hor?shiftBar:barSizeMargin);bar.css({left:elem.css("left"),top:elem.css("top"),marginLeft:left+"px",marginTop:top+"px"});if(_thin(type)){thumb.css(hor?"width":"height",Math.floor(Math.max(elemSize*elemSize/scrollSize,minThumbSize))+"px")}thumbSize=hor?thumb[0].offsetWidth:thumb[0].offsetHeight;v=(scrollSize-barSize-barSizeMargin-barSizeMargin2+barMargin)/(barSize-thumbSize);if(hor){this.ratioX=v}else{this.ratioY=v}locElem=elem.offset();locBar=bar.offset();shiftY=locBar.top-locElem.top-(hor?shiftBar:barSizeMargin);shiftX=locBar.left-locElem.left-(hor?barSizeMargin:shiftBar);if(Math.abs(shiftY)>0){bar.css("marginTop",top-shiftY+_int(elem,"borderTopWidth")+"px")}if(Math.abs(shiftX)>0){bar.css("marginLeft",left-shiftX+_int(elem,"borderLeftWidth")+"px")}return bar},_scroller:function(hor){var o=this.options,div=o.direction;if(!this.evts||hor&&div==="y"||!hor&&div==="x"){return}div=hor?o.xScroller:o.yScroller;if(div&&typeof div==="string"){div=$(div)[0];if(hor){o.xScroller=div}else{o.yScroller=div}}if(div&&div.length){div=div[0]}return div||this.element[0]},_getScroll:function(hor,size){var div=this._scroller(hor);if(!div){return 0}return hor?size?div.scrollWidth:div.scrollLeft:size?div.scrollHeight:div.scrollTop},_scroll:function(x,y){var div=this._scroller(true);if(div&&!this.inBarY&&this.dir!=="y"&&!_aNull(x)){div.scrollLeft=x;if(this.thumbX){this.thumbX.css("marginLeft",Math.floor(div.scrollLeft/this.ratioX)+"px")}}div=this._scroller();if(div&&!this.inBarX&&this.dir!=="x"&&!_aNull(y)){div.scrollTop=y;if(this.thumbY){this.thumbY.css("marginTop",Math.floor(div.scrollTop/this.ratioY)+"px")}}},_vis:function(){return this.evts&&this.element[0].offsetWidth},_inertia:function(){var self=this,arg={owner:self},max=.97,stopTimerSpeed=.8,x=self.speedX,y=self.speedY,o=self.options,tick=17,rateX=Math.max(Math.min(parseFloat(o.xInertia),max),0),rateY=Math.max(Math.min(parseFloat(o.yInertia),max),0),speedX=(x?x[0]+x[1]+x[2]:0)*tick,speedY=(y?y[0]+y[1]+y[2]:0)*tick,left=self._getScroll(true),top=self._getScroll(),inertia=function(){self.timer=setTimeout(function(){delete self.timer;arg.deltaX=-Math.floor(speedX);arg.deltaY=-Math.floor(speedY);if(!self._vis()||!self._trigger("scrolling",null,arg)){self._end();return}left+=arg.deltaX;top+=arg.deltaY;self._scroll(Math.floor(left),Math.floor(top));self._trigger("scrolled",null,arg);speedY*=rateY;speedX*=rateX;if(Math.abs(speedY)>stopTimerSpeed&&top>0||Math.abs(speedX)>stopTimerSpeed&&left>0){inertia()}else{self._end()}},tick*3)};inertia()},_show:function(valid){var bar,self=this,o=self.options,val=parseFloat(o.thumbOpacity),valDrag=parseFloat(o.thumbOpacityDrag),dur=valid?0:_num(o.animateShowDuration),barX=_valid(self.barX),barY=_valid(self.barY);if(self.hiding){self.hiding.stop(true);delete self.hiding}if(_zero(dur)){if(barX){barX.css("opacity",self.inBarX?valDrag:val)}if(barY){barY.css("opacity",self.inBarY?valDrag:val)}return}bar=barX||barY;if(bar){self.showing=bar.animate({opacity:val},{duration:dur,complete:function(){delete self.showing},step:function(now){if(barX&&barY){barY.css("opacity",now)}}})}},_hide:function(hide){var self=this;if(!self.time){return}if(self.showing){self.showing.stop(true);delete self.showing}setTimeout(function(){if(self.hiding||hide){_remove(self.barX);_remove(self.barY);delete self.hiding;self._fixSB()}},0)},_end:function(){var self=this,o=self.options,delay=self.thumbX&&_draggable(o.xThumb)||self.thumbY&&_draggable(o.yThumb),dur=_num(o.animateHideDuration);self._trigger("stopped",null,{owner:self});if(self.skip||!self._vis()){return self._hide(true)}delay=_num(delay?o.hideDragThumbsDelay:o.hideThumbsDelay);self.timerEnd=setTimeout(function(){if(!self.timer&&self.timerEnd){if(_zero(dur)){self._hide(true)}else{var bar=_valid(self.barX),bar2=_valid(self.barY);if(!bar){bar=bar2;bar2=null}if(bar){self.hiding=bar.animate({opacity:0},{duration:dur,complete:function(){self._hide()},step:function(now){if(bar2){bar2.css("opacity",now)}if(self.skip&&self.hiding){self.hiding.stop()}}})}}}delete self.timerEnd},_zero(delay)?5:delay)},_clear:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}if(this.timerEnd){clearTimeout(this.timerEnd);delete this.timerEnd}},_fire:function(t,e,x,y){return this._trigger(t,e,{owner:this,left:x,top:y})},_skip:function(x,y){var dir=this.options.direction,left=this._scroller(true)||0,top=this._scroller()||0,height=0,width=0,heightScroll=0,widthScroll=0;if(left){width=left.clientWidth;widthScroll=left.scrollWidth;left=left.scrollLeft}if(top){height=top.clientHeight;heightScroll=top.scrollHeight;top=top.scrollTop}if((dir==="y"||width>=widthScroll)&&(dir==="x"||height>=heightScroll)){return true}if((Math.abs(y)>Math.abs(x)||dir==="y")&&dir!=="x"){return y>0&&!top||y<0&&top+height>=heightScroll}return x>0&&!left||x<0&&left+width>=widthScroll},_fixSB:function(hide){var vert,hor,on=this._on;if(hide&&on||!on&&!hide){return}vert=this._scroller();hor=this._scroller(true);if(on){if(vert&&!_aNull(on.y)){vert.style.overflowY=on.y}if(hor&&!_aNull(on.x)){hor.style.overflowX=on.x}delete this._on;return}on=this._on={};if(vert){on.y=$(vert).css("overflowY");vert.style.overflowY="hidden"}if(hor){on.x=$(hor).css("overflowX");hor.style.overflowX="hidden"}},_move:function(evt,end){if(!this.evts){return}var speed,arg={owner:this},time=(new Date).getTime(),self=this,maxSpeed=3,oldX=self.x0,oldY=self.y0,speedX=self.speedX,speedY=self.speedY,oldTop=self.top,oldLeft=self.left,inBarY=self.inBarY,inBarX=self.inBarX,barX=self.barX,barY=self.barY,start=!self.drag,elem=self.element,touch=self._pointer?evt.originalEvent:_touch(evt),x=touch?touch.pageX:0,y=touch?touch.pageY:0,src=_src(evt);if(self.click&&self._pointer&&Math.abs(self.x-x)<3&&Math.abs(self.y-y)<3){return}delete self.click;if(self.skip){return}self._fixSB(true);self._clear();if(end||!touch){if(!self.skip&&end==="end"&&!start){if(self.inBarX||self.inBarY){self._end()}else{self._inertia()}}delete self.drag;return}if(start){self.skip=self._skip(x-self.x,y-self.y);if(self.skip){self._end()}}else{arg.deltaX=self.x-x;arg.deltaY=self.y-y}if(self.skip||!this._trigger(start?"starting":"scrolling",evt,arg)){return}if(start){speed=_valid(barX)||_valid(barY);oldX=self.x0=x;oldLeft=self.left=self._getScroll(true);delete self.speedX;barX=self._bar(elem,true);inBarX=self.inBarX=_is(barX,src);oldY=self.y0=y;oldTop=self.top=self._getScroll();delete self.speedY;barY=self._bar(elem);inBarY=self.inBarY=_is(barY,src);self._show(speed||inBarX||inBarY)}else{x=self.x-arg.deltaX;speed=(x-self.x)/(time-self.time);if(Math.abs(speed)>maxSpeed){speed=speed>0?maxSpeed:-maxSpeed}if(!speedX){self.speedX=[0,0,speed]}else{speedX[0]=speedX[1];speedX[1]=speedX[2];speedX[2]=speed}y=self.y-arg.deltaY;speed=(y-self.y)/(time-self.time);if(Math.abs(speed)>maxSpeed){speed=speed>0?maxSpeed:-maxSpeed}if(!speedY){self.speedY=[0,0,speed];if(self.dir){self.dir=Math.abs(speed)>=Math.abs(self.speedX[2])?"y":"x"}}else{speedY=self.speedY=[0,0,speed];speedY[0]=speedY[1];speedY[1]=speedY[2];speedY[2]=speed}}self.drag=true;self.x=x;self.y=y;self.time=time;_stop(evt);x=inBarX?oldLeft+Math.floor((x-oldX)*self.ratioX):oldLeft-x+oldX;y=inBarY?oldTop+Math.floor((y-oldY)*self.ratioY):oldTop-y+oldY;self._scroll(x,y);this._trigger(start?"started":"scrolled",evt)},destroy:function(){if(this.evts){this.element.unbind(this.evts);delete this.evts;if(this.showing){this.showing.stop(true)}if(this.hiding){this.hiding.stop(true)}this._clear();_remove(this.barX);_remove(this.barY);$.Widget.prototype.destroy.apply(this,arguments)}return this}});$.extend($.ui.igScroll,{version:"14.1.20141.2031"});$.ui.igScroll.defaults={thumbOpacityDrag:1,thumbOpacity:.5,animateShowDuration:300,animateHideDuration:500,hideThumbsDelay:200,hideDragThumbsDelay:1e3,xInertia:.8,yInertia:.85,marginLeft:2,marginRight:2,marginTop:2,marginBottom:2,xThumb:"show",yThumb:"show"};try{$(":jqmData(role='page')").live("pageshow",_find)}catch(ex){_find(true);$(document).bind("igcontrolcreated",function(event,args){var container=args.owner.scrollContainer();if(container.length===0&&args.owner.container){container=args.owner.container().find("[data-scroll]").eq(0)}container.igScroll({_find:true})})}})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Validator localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.Validator){$.ig.Validator={locale:{defaultMessage:"Please fix this field",selectMessage:"Please select a value",rangeSelectMessage:"Please select no more than {0} and not less than {1} items",minSelectMessage:"Please select at least {0} items",maxSelectMessage:"Please select no more than {0} items",rangeLengthMessage:"Please enter a value between {0} and {1} characters long",minLengthMessage:"Please enter at least {0} characters",maxLengthMessage:"Please enter no more than {0} characters",requiredMessage:"This field is required",maskMessage:"Please fill all required positions",dateFieldsMessage:"Please enter values in date fields",invalidDayMessage:"Invalid day of month. Please enter correct day",dateMessage:"Please enter a valid date",numberMessage:"Please enter a valid number",rangeMessage:"Please enter a value between {0} and {1}",minMessage:"Please enter a value greater than or equal to {0}",maxMessage:"Please enter a value less than or equal to {0}"}}}})(jQuery);/*!@license
* Infragistics.Web.ClientUI Editors 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js

* Example to use:
*	<script type="text/javascript">
*	$(function () {
*		$('#text1').igValidator({ minLength: 3 });
*	});
*	</script>
*	<input id="text1" type="text" />
*/
(function($){var _id="=id",_cur=null,_submit={},_stop=function(e){try{e.preventDefault();e.stopPropagation()}catch(ignore){}},_fid=function(form,fid){var id=form.id;if(!id&&fid){form._fid=fid}return id||form._fid};$.widget("ui.igValidator",{options:{showIcon:null,animationShow:null,animationHide:null,enableTargetErrorCss:null,alignment:null,keepFocus:null,onchange:null,onblur:null,formSubmit:null,onsubmit:null,bodyAsParent:true,required:false,minLength:-1,maxLength:-1,min:null,max:null,regExp:null,checkboxesName:false,locale:null,errorLabel:null,element:null,theme:null,errorMessage:null},css:{label:"ui-igvalidator ui-widget ui-state-error ui-corner-all",icon:"ui-igvalidator-icon ui-icon ui-icon-alert",target:"ui-igvalidator-target"},locale:{defaultMessage:"Please fix this field",selectMessage:"Please select a value",rangeSelectMessage:"Please select no more than {0} and not less than {1} items",minSelectMessage:"Please select at least {0} items",maxSelectMessage:"Please select no more than {0} items",rangeLengthMessage:"Please enter a value between {0} and {1} characters long",minLengthMessage:"Please enter at least {0} characters",maxLengthMessage:"Please enter no more than {0} characters",requiredMessage:"This field is required",regExpMessage:"Please fix pattern of this field",maskMessage:"Please fill all required positions",dateFieldsMessage:"Please enter values in date fields",invalidDayMessage:"Invalid day of month. Please enter correct day",dateMessage:"Please enter a valid date",numberMessage:"Please enter a valid number",rangeMessage:"Please enter a value between {0} and {1}",minMessage:"Please enter a value greater than or equal to {0}",maxMessage:"Please enter a value less than or equal to {0}"},events:{checkValue:null,validation:null,errorShowing:null,errorHiding:null,errorShown:null,errorHidden:null},_create:function(){var v,t,elem,o=this.options,me=this,def=$.ui.igValidator.defaults;for(v in o){if(o.hasOwnProperty(v)&&o[v]===null&&def[v]!==undefined){o[v]=def[v]}}elem=me.element;me._state=3;me._focTime=0;me._init0();t=elem[0].nodeName;if(t==="SELECT"){t=5}else{t=elem[0].type;if(t==="checkbox"){t=o.checkboxesName?6:4}else if(t==="radio"){t=6}else{t=0}}me._elem=t!==6?elem:$("[name="+elem[0].name+"]").map(function(){return this.form===elem[0].form?this:null});me._t=t;if(!o.ctl&&!o.combo){me._evts={keydown:function(e){v=e.keyCode;if(v<15||v>20){me._evt(e,v===9?null:me,v===9)}},change:function(e){me._evt(e,me)},cut:function(e){me._evt(e,me)},paste:function(e){me._evt(e,me)},beforecut:function(e){me._evt(e,me)},drop:function(e){me._evt(e,me)},dragend:function(e){me._evt(e,me)},blur:function(e){me._evt(e,me,1)}};me._elem.bind(me._evts);if(o.element){me._evtsE={mousedown:function(e){me._evt(e,me)},mouseup:function(e){me._evt(e)}};o.element.bind(me._evtsE)}}},_evt:function(e,me,blur){var o=this.options;if(blur&&!o.onblur||!blur&&!o.onchange||$.ig&&$.ig.util&&$.ig.util.evtButton(e)){return}if(me){setTimeout(function(){me.validate(e)},20)}else{this.validate(e)}},_loc:function(key,m){key+=m?"":"Message";var o=this.options,v=o.errorMessage||o[key]||(o.locale?o.locale[key]:null);v=v||($.ig&&$.ig.Validator&&$.ig.Validator.locale?$.ig.Validator.locale[key]:null);return v||this.locale[key]},_foc1:function(o){o=o.keepFocus;return o&&this._t!==6&&!(o.indexOf&&o.indexOf("n")===0)?o==="once"||o===1?1:2:null},_onTab:function(e){if(e&&e.keyCode===9&&this._foc1(this.options)===2){_stop(e);return 1}},_init0:function(end){var form,fid,obj,id=this._id,o=this.options;if(end){this._doError()}else{if(o.ctl){o.ctl._validator=this}}form=this.element[0].form;if(!form){return}fid=_fid(form,"fid");if(!id){id=this.element[0].id;if(!id){_id+=_id.length;id=_id}this._id=id}obj=_submit[fid];if(!end&&(o.onsubmit||o.formSubmit)){if(!form._ig_onsubmit&&o.onsubmit){form._ig_onsubmit=1;$(form).submit(function(e){var f=_submit[_fid(this)];if(f){f.validate(e)}})}if(!form._ig_formsubmit&&o.formSubmit){form._ig_formsubmit=form.submit;form.submit=function(){var f=_submit[_fid(this)];if(f&&f.validate()){return}if(this._ig_formsubmit){this._ig_formsubmit()}}}if(!obj){obj=_submit[fid]={ctls:{},validate:function(e){var i,inv=false,lbl=1,ctls=this.ctls;for(i in ctls){if(ctls.hasOwnProperty(i)&&ctls[i].validate(e,lbl)){inv=true;if(!$.ui.igValidator.defaults.showAllErrorsOnSubmit){lbl=2}}}if(e&&inv){_stop(e)}return inv}}}obj.ctls[id]=this}else if(obj&&obj.ctls&&obj.ctls[id]){delete obj.ctls[id]}},getLocaleOption:function(name){return this._loc(name,1)},isMessageDisplayed:function(){return this._state>6},isValidState:function(){return!(this._state>=6||this.validate(null,null,1))},hide:function(keepCss){this._doError(null,null,keepCss?5:6)},validate:function(e,submit,check){var v,v2,val,txt=null,mes="Length",t=this._t,len=-1,o=this.options,el=this.element;if(!el||el.closest("body").length===0){return}if(t>3){mes="Select";len=val=t===5?el[0].multiple?$("option:selected",el[0]).length:el[0].selectedIndex:this._elem.filter(":checked").length}else{val=el.hasClass("ui-igcombo-nulltext")?"":el.val();len=val.length}if(o.ctl){delete o.ctl._invPlus}v2={owner:this,message:this._loc("default"),value:o.ctl?o.ctl.value():val};if(!this._trigger("checkValue",e,v2)){if(o.ctl&&!check){o.ctl._invPlus=v2.message}return check?2:this._doError(v2.message,e,submit)}if(len===0){if(check){if(o.required){return 2}}else if(!o.required){return this._doError(null,e,submit)}}v=o.regExp;if(v&&len>0){if(!v.test){v=new RegExp(v.toString())}txt=v.test(val)?null:this._loc("regExp");if(o.ctl){o.ctl._invPlus=txt}}if(!txt&&o.required&&(len===0||!val)){txt=this._loc(t>4?"select":"required")}if(!txt){v=o.minLength;v2=o.maxLength;if(len>=0&&(v>len||v2>0&&v2<len)){if(v>0&&v2>0){txt=this._loc("range"+mes).replace("{0}",v2).replace("{1}",v)}else{txt=this._loc((v>0?"min":"max")+mes).replace("{0}",v>0?v:v2)}if(o.ctl){o.ctl._invPlus=txt}}}if(txt){return check?txt:this._doError(txt,e,submit)}if(o.ctl){v=o.ctl._doInvalid(null,9);v=v?v.message:null;return check?v:this._doError(v,e,submit)}v=(typeof o.min==="number"?1:0)+(typeof o.max==="number"?2:0);if(!txt&&t<2&&len>0&&v>0){val=parseFloat(val);if(isNaN(val)){txt=this._loc("number")}else if(v===3&&(val<o.min||val>o.max)){txt=this._loc("range").replace("{0}",o.min).replace("{1}",o.max)}else if(v===1&&val<o.min){txt=this._loc("min").replace("{0}",o.min)}else if(v===2&&val>o.max){txt=this._loc("max").replace("{0}",o.max)}}return check?txt:this._doError(txt,e,submit)},_xyCheck:function(stop){var shift,xyE,xy=this._xy;if(!xy){return}if(this._elem&&this._elem[0].offsetWidth){xyE=xy.e.offset();shift=xyE.left-xy.x;if(shift!==xy.x0){xy.x0=shift;this._dd.css("left",xy.xDD+shift+"px")}shift=xyE.top-xy.y;if(shift!==xy.y0){xy.y0=shift;this._dd.css("top",xy.yDD+shift+"px")}}if(stop||!xyE){delete this._xy;clearInterval(xy.i)}if(!xyE){this._doError()}},_doError:function(txt,e,submit){var marg,elem0,end,xy0,xy,arg,elem,val,ctl,align,same,aLbl,x0,y0,el,zi=1,me=this,css=me.css,x="left",y="top",state=me._state,show=txt,dd=me._lbl,o=me.options;if(!submit){submit=0}ctl=o.ctl;align=o.alignment==="bottom"?0:o.alignment==="left"?-1:1;if(!txt&&dd){txt=dd[0]._txt}if(state<6&&!show){return}same=dd&&dd[0]._txt===txt&&!me._changed;this._changed=null;if(show&&me._onTab(e)&&same){return 2}if(show&&same){if(state>5){if(_cur===me){me._focus(o,submit,e)}return 2}}if(!submit&&show&&_cur&&(new Date).getTime()-_cur._focTime<100){return 2}arg={owner:me,message:txt,invalid:!!show};if(submit<5&&!me._trigger("validation",e,arg)){return}me._state=show?6:1;elem=o.element||me.element;elem0=ctl?ctl._element:elem;if(o.enableTargetErrorCss){if(show){elem0.addClass(css.target)}else if(submit!==5){elem0.removeClass(css.target)}}if(submit===2){return 2}if(!me._trigger(show?"errorShowing":"errorHiding",e,arg)){return 1}if(!show&&!dd){return}txt=arg.message;me._state++;marg=!o.bodyAsParent;if(marg){x="marginLeft";y="marginTop"}aLbl=o.errorLabel;if(typeof aLbl==="string"){aLbl=$("body").find('[data-valmsg-for="'+aLbl+'"]').removeClass("field-validation-valid").addClass("field-validation-error")}if(aLbl&&(!aLbl.length||!aLbl.find)){aLbl=null}if(aLbl){dd=aLbl}else if(!dd){dd=me.element[0].id;if(dd){dd=' for="'+dd+'"'}dd=$("<label"+dd+"/>").addClass(css.label).css({position:"absolute",visibility:"hidden"});dd[0].unselectable="on";dd.html(txt);dd[0]._id=98;me._dd=o.theme?$("<span/>").addClass(o.theme).css("position","absolute").append(dd):dd;if(marg){MSApp.execUnsafeLocalFunction(function(){me._dd.prependTo(elem0.parent())})}else{MSApp.execUnsafeLocalFunction(function(){me._dd.appendTo($("body"))})}}me._lbl=dd;if(show){dd[0]._txt=txt;if(aLbl){dd.html(txt).show()}else{me._dd.css(x,"0px").css(y,"0px");if(o.showIcon){if(txt===" "||txt==="&nbsp;"){txt=""}txt='<span class="'+css.icon+'"></span><span style="display:inline-block;width:18px;"></span>'+txt}dd.html(txt);dd.css("width","auto").css("height","auto");dd[0]._width0=dd[0].offsetWidth;dd[0]._height0=dd[0].offsetHeight;me._width=Math.max(dd.width(),5);me._height=Math.max(dd.height(),10);if(o.showIcon){me._height=Math.max(dd.children()[0].offsetHeight,me._height)}}try{elem0.parentsUntil(document.body).add(elem0).add(elem).add(dd).each(function(){val=this.style?this.style.zIndex:0;val=val?parseInt(val,10):null;if(val&&!isNaN(val)&&val>zi){zi=val}})}catch(ignore){}dd.css("zIndex",zi);me._focTime=0;_cur=me}end=function(){if(show){dd.css("filter","")}else{if(aLbl){aLbl.html(" ").hide()}else{me._dd.remove()}me._dd=me._lbl=_cur=null}me._state++};if(show){me._focus(o,submit,e);val=o.animationShow;if(val<5){val=null}if(aLbl){dd.css("opacity",0).show()}else{dd.css({opacity:val?0:1,height:(val?0:me._height)+"px",width:Math.floor(me._width/(val&&align>=0?2:1))+"px",display:"",visibility:"visible"});el=ctl&&ctl._swap?me.element:elem;xy=el.offset();if(!marg){x0=xy.left;y0=xy.top}xy.top+=align?0:el.outerHeight();if(ctl&&ctl._swap){xy.left-=ctl._leftShift()}if(align){xy.left+=align<0?-dd[0].offsetWidth:elem0[0].offsetWidth}if(marg){xy0=dd.offset();xy.left-=xy0.left;xy.top-=xy0.top}else{me._xy={x0:0,y0:0,x:x0,y:y0,e:el,xDD:xy.left,yDD:xy.top,i:setInterval(function(){me._xyCheck()},300)}}me._dd.css(x,xy.left+"px").css(y,xy.top+"px")}if(val){dd.animate(aLbl?{opacity:1}:{opacity:1,height:me._height,width:me._width},val,null,end)}else{end()}me._trigger("errorShown",e,arg);return 2}me._xyCheck(true);val=o.animationHide;if(val<5){val=null}if(val){if(aLbl){dd.animate({opacity:0},val,null,end)}else{dd.animate({opacity:.6},Math.floor(val*.34)).animate({opacity:0,height:0,width:Math.floor(me._width/(align<0?1:2))},Math.floor(val*.66),null,end)}}else{end()}me._trigger("errorHidden",e,arg)},_focus:function(o,submit,e){var el=!submit&&this._foc1(o)?this.element:null;e=e&&e.keyCode!==9?e.type:"";if(el&&!(o.ctl&&o.ctl._fcs)&&(this._foc1(o)!==1||!this._focTime)&&e.indexOf("key")<0&&e.indexOf("mouse")<0){$.ui.igValidator._keepFoc=o.ctl;e=$.ui.igValidator._dd;if(e){e._doDrop()}this._focTime=(new Date).getTime();setTimeout(function(){try{el.focus()}catch(ignore){}},0)}},_setOption:function(key,val){if(this.options[key]===val){return this}$.Widget.prototype._setOption.apply(this,arguments);if(typeof val!=="function"&&key!=="locale"){this._init0()}return this},destroy:function(){if(!this._elem){return this}var o=this.options;if(!o.ctl){this._elem.unbind(this._evts);if(this._evtsE){o.element.unbind(this._evtsE)}}this._init0(1);o.element=o.ctl=this._evts=this._evtsE=this._elem=null;$.Widget.prototype.destroy.apply(this,arguments);return this}});$.ui.igValidator._act=function(editor,act){var d,f,v=$.ui.igValidator;if(!v){return}d=v._dd;if(d&&(!d._ddOn||!(d._field||d.mainElem))){d=null;delete v._dd}f=v._keepFoc;if(f&&!f._field){f=null;delete v._keepFoc}if(act==="drop"){if(f&&f!==editor&&!f.validate()){return true}v._dd=editor;return}if(act==="hide"){if(d===editor){delete v._dd}return}if(!act&&f===editor){delete v._keepFoc}return f&&f!==editor};$.extend($.ui.igValidator,{version:"14.1.20141.2031"});$.ui.igValidator.defaults={showAllErrorsOnSubmit:false,showIcon:true,animationShow:300,animationHide:300,enableTargetErrorCss:true,alignment:"bottom",keepFocus:null,onchange:true,onblur:true,formSubmit:false,onsubmit:true}})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Combo localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.Combo){$.ig.Combo={locale:{noMatchFoundText:"No Results",dropDownButtonTitle:"Show drop-down",clearButtonTitle:"Clear value"}}}})(jQuery);/*!@license
* Infragistics.Web.ClientUI Combo 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
* infragistics.util.js
* infragistics.dataSource.js
*
* Example to use:
*	<script type="text/javascript">
*	$(function () {
*		$('#combo1').igCombo();
*	});
*	</script>
*	<input id="combo1" />
*/
(function($){var _aNull=function(v,nan){return v===null||v===undefined||nan&&typeof v==="number"&&isNaN(v)},_toPx=function(val){if(!val){return 0}if(typeof val==="number"){return val}val=val.toString();val=val.match(/[e%mitc]/i)?0:parseFloat(val);return isNaN(val)?0:Math.floor(val+.5)},_px=function(elem,css){return _toPx(elem.css(css))},_notab=function(elem){return elem.attr("tabIndex",-1).css("outline",0).attr("unselectable","on")},_stop=function(e){try{e.preventDefault();e.stopPropagation()}catch(ex){}},_equals=function(o1,o2){return o1===o2||o1&&o2&&o1.getTime&&o2.getTime&&o1.getTime()===o2.getTime()},_now=function(){return(new Date).getTime()},_offset=function(e,xy){return $.ig.util?$.ig.util.offset(e,xy):xy||(e?e.offset():null)},_listIDShift=100,_cascWait;$.widget("ui.igCombo",{options:{height:null,width:null,tabIndex:null,animationShowDuration:100,animationHideDuration:50,enableDisplayBlock:false,mode:"editable",dropDownOnFocus:false,renderMatchItems:"multi",caseSensitive:false,filteringCondition:"contains",filteringType:null,filterExprUrlKey:null,autoComplete:false,format:true,selectedItems:[{index:-1,value:null,text:null}],multiSelection:"off",enableActiveItem:true,allowCustomValue:false,clearSelectionOnBlur:false,selectItemBySpaceKey:false,itemSeparator:", ",dropDownWidth:0,dropDownMaxHeight:300,dropDownMinHeight:0,dropDownAsChild:false,virtualization:false,showDropDownButton:true,enableClearButton:true,noMatchFoundText:null,dropDownButtonTitle:null,clearButtonTitle:null,text:null,itemTemplate:null,headerTemplate:null,footerTemplate:null,nullText:null,dataSource:null,dataSourceType:null,dataSourceUrl:null,responseTotalRecCountKey:null,responseDataKey:null,responseContentType:null,requestType:"GET",validatorOptions:null,inputName:null,loadOnDemandSettings:{enabled:false,pageSize:null},dataBindOnOpen:false,closeDropDownOnSelect:true,closeDropDownOnBlur:true,valueKeyType:null,textKeyType:null,valueKey:null,textKey:null,parentCombo:null,cascadingDataSources:null,parentComboKey:null},events:{dropDownOpening:null,dropDownOpened:null,dropDownClosing:null,dropDownClosed:null,dataBinding:null,dataBound:null,textChanged:null,selectionChanging:null,selectionChanged:null,activeItemChanging:null,activeItemChanged:null,noMatchFound:null,filtering:null,filtered:null},css:{combo:"ui-igcombo ui-state-default ui-widget ui-corner-all",field:"ui-igcombo-field ui-corner-all",fieldHolder:"ui-igcombo-fieldholder",fieldHolderRTL:"ui-igcombo-fieldholder-rtl ui-corner-right",fieldHolderLTR:"ui-igcombo-fieldholder-ltr ui-corner-left",hover:"ui-igcombo-hover ui-state-hover",focus:"ui-igcombo-focus ui-state-focus",fieldHover:"ui-igcombo-field-hover",fieldFocus:"ui-igcombo-field-focus",disabled:"ui-igcombo-disabled ui-state-disabled",waitFiltering:"ui-igcombo-waitfiltering",nullText:"ui-igcombo-nulltext",button:"ui-igcombo-button ui-state-default",buttonRTL:"ui-igcombo-button-rtl ui-corner-left",buttonLTR:"ui-igcombo-button-ltr ui-corner-right",buttonFocus:"ui-igcombo-button-focus",buttonHover:"ui-igcombo-button-hover ui-state-hover",buttonPressed:"ui-igcombo-button-pressed ui-state-highlight",buttonIcon:"ui-igcombo-buttonicon ui-icon-triangle-1-s ui-icon",clear:"ui-igcombo-clear",clearHover:"ui-igcombo-clear-hover ui-state-hover",clearPressed:"ui-igcombo-clear-pressed ui-state-highlight",clearFocus:"ui-igcombo-clear-focus",clearIcon:"ui-igcombo-clearicon ui-icon-circle-close ui-icon",checkbox:"ui-state-default ui-corner-all ui-igcombo-checkbox ui-igcheckbox-small",checkboxHover:"ui-state-hover ui-igcombo-checkbox-hover",checkboxIconHover:"ui-state-hover ui-igcombo-checkboxicon-hover",checkboxOff:"ui-icon ui-igcombo-checkbox-off ui-igcheckbox-small-off",checkboxOn:"ui-icon ui-icon-check ui-igcombo-checkbox-on ui-igcheckbox-small-on",list:"ui-igcombo-list ui-widget ui-widget-content ui-corner-all",listItemHolder:"ui-igcombo-listitemholder",listItem:"ui-igcombo-listitem ui-state-default",listItemHover:"ui-igcombo-listitem-hover ui-state-hover",listItemActive:"ui-igcombo-listitem-active ui-state-active",listItemSelected:"ui-igcombo-listitem-selected ui-state-highlight",listItemMatch:"ui-igcombo-listitem-match",listItemTextWithCheckbox:"ui-igcombo-listitemtextwithcheckbox",noTopCorners:"ui-igcombo-no-top-corners",noBottomCorners:"ui-igcombo-no-bottom-corners"},RECORDS_VIEW:"{0}",RECORDS_DATA:"{1}",RECORDS_SERVER:"{2}",RECORDS_SERVER_TOTAL:"{3}",_create:function(){var name,evts,inp,i,len,clear,but,sel,txt,fieldHolder,touch,me=this,o=me.options,css=me.css,elem=me.element,selItems=o.selectedItems,fl="float",field=elem,rtl=elem.css("direction")==="rtl",oldC={display:0,visibility:0,position:0},oldA={title:0};me._data=[];me._rtl=rtl;me._lastScroll=me._virtualTop=me._topID=0;me._changeID=me._activeID=me._scrollTo=-1;i=me._noMouse()?null:o.renderMatchItems;me._matchFlag=i&&i!=="none"?i:null;if(o.id!==undefined&&o.id!==null&&o.id!==""&&(elem.attr("id")===undefined||elem.attr("id").toString()==="")){elem.attr("id",o.id)}if(selItems&&selItems.length===1&&selItems[0].index===-1&&selItems[0].value===null){o.selectedItems=selItems=null}name=elem[0].nodeName;if(name){name=name.toUpperCase()}inp=name==="INPUT";me._SELECT=sel=name==="SELECT";if(!o.inputName){me._oldCss=oldC;me._oldAttr=oldA}if(inp){oldA.value=oldA.disabled=oldA.readOnly=oldA.alt=oldA.tabIndex=oldC.textAlign=oldC.position=oldC.overflow=oldC[fl]=0}else if(sel){if(!o.dataSource){sel=elem[0].options;len=sel.length;if(!selItems||selItems.length===0){clear=selItems=o.selectedItems=[]}o.dataSource=[];o.valueKey="value";o.textKey="text";for(i=0;i<len;i+=1){txt=sel[i].text||sel[i].innerHTML;o.dataSource[i]={value:sel[i].value||txt,text:txt};if(clear&&(i===elem[0].selectedIndex||sel[i].selected)){selItems.push({index:i})}}}}else{if(name!=="DIV"&&name!=="SPAN"){throw new Error(name+" is not supported as base element")}oldA.innerHTML=0}for(i in oldC){if(oldC.hasOwnProperty(i)){oldC[i]=elem.css(i)}}for(i in oldA){if(oldA.hasOwnProperty(i)){oldA[i]=elem[0][i]}}oldC.width=elem[0].style.width;o.width=o.width||oldC.width;oldC.height=elem[0].style.height;o.height=o.height||oldC.height;if(selItems&&selItems.length>0){txt=""}else if(_aNull(txt=o.text)){if(!elem[0].multiple){txt=o.inputName?"":inp?oldA.value:sel?elem.val():oldA.innerHTML}txt=txt?txt.replace(/[\x09\x0a]/g,""):"";i=txt.length;while((i-=1)>=0){if(txt.charCodeAt(i)===32){txt=txt.substring(0,i)}else{break}}}if(inp||sel){me._swap=true;elem=$("<span />").css({position:field.css("position"),left:field.css("left"),top:field.css("top")}).insertBefore(field);if(rtl){elem.css("direction","rtl")}if(sel){field.css("display","none");field=$("<input />")}}else{field=$("<input />");if(!o.inputName){elem.html("")}}me._oldTxt="";me.mainElem=elem;i=elem.css("position");me._static=!i||i==="static";elem.css("overflow","hidden");me._fieldHolder=fieldHolder=$("<span />").addClass(css.fieldHolder).addClass(rtl?css.fieldHolderRTL:css.fieldHolderLTR).css("float",rtl?"right":"left").appendTo(elem);me.fieldElem=field.appendTo(fieldHolder).addClass(css.field).css("float",rtl?"right":"left").bind(me._evts={keydown:function(e){me._onKey(e,0)},keypress:function(e){me._onKey(e,1)},keyup:function(e){me._onKey(e,2)},focus:function(e){me._onEvt(this,8,e)},blur:function(e){me._onEvt(this,9,e)},paste:function(e){me._onChange(e)},beforecut:function(e){me._onChange(e)},cut:function(e){me._onChange(e)},drop:function(e){me._onChange(e)}});if(!_aNull(i=o.tabIndex)){field.attr("tabIndex",i)}field[0].disabled=o.disabled;field[0].readOnly=this._mode(o)>0?"readonly":"";elem.addClass(css.combo).css("display","inline-block").bind(me._elemEvts={MSPointerOver:function(e){me._onEvt(this,26,e)},pointerover:function(e){me._onEvt(this,26,e)},mouseover:function(e){me._onEvt(null,6,e)},mouseleave:function(e){me._onEvt(null,7,e)}});me._mEvts=evts={mousedown:function(e){me._onEvt(this,3,e)},mouseup:function(e){me._onEvt(this,4,e)},MSPointerOver:function(e){me._onEvt(this,26,e)},pointerover:function(e){me._onEvt(this,26,e)},mouseover:function(e){me._onEvt(this,6,e)},mouseleave:function(e){me._onEvt(this,7,e)}};me._tEvts=touch={touchstart:function(e){_stop(e)},touchmove:function(e){_stop(e)},touchend:function(e){_stop(e);var el=$(this);setTimeout(function(){el.trigger("mousedown").trigger("mouseup")},350)}};me.buttonElem=but=_notab($("<span />").addClass(css.button).addClass(rtl?css.buttonRTL:css.buttonLTR).css("float",rtl?"left":"right").attr("data-id",1).appendTo(elem).bind(evts).bind(touch));_notab($("<span />").addClass(css.buttonIcon).appendTo(but).bind(touch));me.clearElem=clear=_notab($("<span />").addClass(css.clear).css("float",rtl?"left":"right").attr("data-id",2).appendTo(fieldHolder).bind(evts).bind(touch));_notab($("<span />").addClass(css.clearIcon).appendTo(clear).bind(touch));me._titles();me.validator();me._clearOn=false;me._doSize();i=me._cascade();if(i){if(i!==true){if(typeof i==="string"){i=i.replace("#","")}_cascWait=_cascWait||{};if(_cascWait[i]){_cascWait[i].push(me)}else{_cascWait[i]=[me]}}}else if(!o.dataBindOnOpen){me.dataBind()}if(txt){me.text(txt)}me._canFire=true},dropDownVisible:function(showHide,fire){if(!arguments.length){return!!this._ddOn}this._canFire=fire;this._doDrop(showHide?2:0);this._canFire=true;return this},remove:function(){var p,v=this._validator,e=this.mainElem;if(!e||!e[0]){return}if(v){v.hide()}if(this._fcs){this._onEvt(null,9)}this.fieldElem.removeClass(this.css.fieldHover);e.removeClass(this.css.hover);p=e[0].parentNode;if(p&&p.tagName){this._doDrop(0);this._fcs=0;p.removeChild(e[0])}return this},validator:function(destroy){var o=this.options.validatorOptions,field=this.fieldElem,v=this._validator;if(v&&(destroy||!o)){v.destroy();delete this._validator}else if(!v&&!destroy&&o&&field.igValidator){o.combo=o.element=this.mainElem;this._validator=field.igValidator(o).data("igValidator")}return this._validator},validate:function(){return this._validator?this._validator.validate():null},setFocus:function(delay){var me=this;if(me.fieldElem&&!me._fcs){if(delay===-1){try{me.fieldElem[0].focus()}catch(ex){}}else{setTimeout(function(){me.setFocus(-1)},delay||0)}}return this},hasFocus:function(){return this._fcs===1},isSelected:function(index){var selItems=this.options.selectedItems,len=selItems?selItems.length:0;while((len-=1)>=0){if(selItems[len].index===index){return true}}return false},selectedIndex:function(index,fire){if(index===undefined){var i,selItems=this.options.selectedItems,len=selItems?selItems.length:0;index=-1;while((len-=1)>=0){i=selItems[len].index;index=index<0?i:Math.min(i,index)}return index}this._canFire=fire!==false&&(fire||this._cascFire);this._select(index);this._updateFromList(null,1);this._fixNull();this._canFire=true;return this},activeIndex:function(index,fire){if(index===undefined){return this._activeID}this._canFire=fire;this._activate(index);this._canFire=true;return this},value:function(val,fire){if(this._noMouse()){return this.text(val,fire)}if(val===undefined){val=this.options.selectedItems;return val&&val[0]?val[0].value:null}this._canFire=fire!==false&&(fire||this._cascFire);this._valTime=_now();this._valLast=val;this._select(null,val);this._updateFromList(null,1);this._canFire=true;return this},text:function(text,fire){if(text===undefined){text=this.fieldElem.val();return this._nullT&&(!text||text===this.options.nullText)?"":text}this._canFire=fire!==false&&(fire||this._cascFire);this._select(null,text,2);this._updateFromList(null,1);if(this._custom()){this._onChange(null,null,text)}this._canFire=true;return this},values:function(vals){var o=this.options,selItems=o.selectedItems,i=selItems?selItems.length:0;if(vals===undefined){vals=[];while((i-=1)>=0){vals[i]=selItems[i].value}return vals}i=vals?vals.length:0;selItems=[];while((i-=1)>=0){selItems[i]={value:vals[i]}}o.selectedItems=selItems;this._initSel(o);return this},itemByIndex:function(id){return id<0?null:{element:this._findItem(id),index:id,value:this._item(id),text:this._item(id,2)}},itemByValue:function(val){var id=-1;while(++id<this._count){if(_equals(val,this._item(id))){return this.itemByIndex(id)}}},getFooter:function(){return this.listElem?this.listElem.find("[data-footer]"):null},getDataSource:function(){return this._dataSource},getData:function(){return this._data},getRecordsCount:function(flag){var count=this._count,ds=this._dataSource;if(flag===this.RECORDS_VIEW||flag===0){return count}if(ds){count=ds._data.length;if(flag===this.RECORDS_DATA||flag===1){return count}count=Math.max(ds.totalRecordsCount(),count);if(flag===this.RECORDS_SERVER||flag===2){return count}if(flag===this.RECORDS_SERVER_TOTAL||flag===3){count=Math.max(Math.max(count,this._totalAll||0),parseInt(this.options._totalAll||0,10))}}return count},listScrollTop:function(val){if(val!==undefined&&!this._ddOn){this.dropDownVisible(true)}var dd=this._ddScroll||this._ddCont;if(val===undefined){return dd?dd[0].scrollTop:0}if(dd){dd[0].scrollTop=val||0}return this},_cascade:function(evt,destroy,combo){var key,i,url,me=this,val=me._parentCombo,o=me.options,ds=o.cascadingDataSources,old=me._cascOpt,parent=combo||o.parentCombo;combo=evt?val:parent;if(val&&!evt){key=val._cascFire;i=key?key.length:0;while(i-->0){if(key[i]===me){key.splice(i,1);if(key.length===0){delete val._cascFire}break}}delete me._parentCombo;delete me._cascFilter;if(destroy){return}if(old){o.valueKey=old.value;o.textKey=old.text;o.dataSource=old.ds;o.dataSourceUrl=old.url;if(!combo){me.dataBind()}}}if(!combo||destroy){return}if(evt){delete me._cascSel;me.selectedIndex(-1);me.activeIndex(-1)}else{if(!ds){key=o.parentComboKey;if(!key){return}if(o.filteringType==="remote"){me._cascFilter=-1}else{o.filteringType="local";me._cascFilter=1}me._cascKey=key;url=o.dataSource?null:o.dataSourceUrl}if(typeof combo==="string"||combo.nodeName){combo=$(parent);if(combo.length!==1){combo=$("#"+parent);if(combo.length!==1){return parent}}}if(combo&&combo[0]&&typeof combo.data==="function"){parent=combo[0];combo=combo.data("igCombo")}if(!combo||combo.widgetName!=="igCombo"||combo===me||!combo._hasData){return parent}key=combo._cascFire;i=key?key.length:0;while(i-->0){if(key[i]===me){break}}if(i<0){combo._cascFire=key=key||[];key.push(me)}me._parentCombo=combo;if(!old&&ds){old=me._cascOpt={value:o.valueKey,text:o.textKey,ds:o.dataSource,url:o.dataSourceUrl}}}val=combo.options.selectedItems;val=val&&val.length>0?val[0].value:null;if(me._valTime&&_now()-me._valTime<200){me._valTime=1}if(ds){ds=val===null?null:ds[val];val=ds?ds.valueKey:null;o.valueKey=val||old.value;val=ds?ds.textKey:null;o.textKey=val||old.text;o.dataSourceUrl=url=ds?ds.dataSourceUrl:null;o.dataSource=ds?ds.dataSource||(ds.length&&!url?ds:null):null;me._hasData=false;me._urlBind=me._lod=me._totalAll=o._totalAll=me._count=0;me._cascUrl=url;if(url){val=o.selectedItems;me._cascSel=val?val[0]?val[0].value:null:null}me.dataBind();delete me._cascUrl}else{me._cascVal=val;if(me._hasData){if(_aNull(val,true)||val===""){me._dataChange()}else{me.filter()}}else{me._cascUrl=url;me.dataBind();delete me._cascUrl}}return true},_noMouse:function(){var o=this.options,ds=o.dataSource;o=o.itemTemplate;return o&&ds&&ds.length===1&&o.indexOf("{")<0&&o.indexOf("}")<0},_custom:function(){return this.options.allowCustomValue||this._noMouse()},_multi:function(o){o=o.multiSelection;return o&&o!=="off"},_checkBox:function(o){o=o.multiSelection;return o===2||o&&o.toLowerCase&&o.toLowerCase()==="onwithcheckboxes"},_mode:function(o){o=o.mode;return o===1||o==="dropdown"?1:o===2||o==="readonlylist"?2:o===3||o==="readonly"?3:0},_fixSelElem:function(elem,sel){var css=this.css,icon=css.listItemSelected,iconOut=css.checkboxOff;if(sel){elem.addClass(icon)}else{elem.removeClass(icon)}if(elem.attr("data-check")){elem[0]._check=sel;icon=css.checkboxOn;elem.find("[data-icon]").removeClass(sel?iconOut:icon).addClass(sel?icon:iconOut)}},_copyA:function(a){var len=a?a.length:0,a1=len?[]:null;while((len-=1)>=0){a1[len]=a[len]}return a1},_clearSel:function(){var elems=this._selElems,i=elems?elems.length:0;while((i-=1)>=0){this._fixSelElem(elems[i])}this._selElems=null},_selChanged:function(e){if(this._selArg){var elem,o,selItems,key=this._cascFire,i=key?key.length:0;while(i-->0){key[i]._cascade(true)}this._fire("selectionChanged",e,this._selArg);if(this._SELECT){elem=this.element[0];o=elem.options;selItems=this.options.selectedItems;i=selItems?selItems[0]:null;i=i?i.index:-1;elem.selectedIndex=i;if(o&&i>=0&&i<o.length){o[i].selected=true}if(elem.onchange){elem.onchange()}}delete this._selArg}},_selChange:function(selItems,e,clear,noReturn){var i,old=this.options.selectedItems,i0=old?old.length:0,i1=selItems?selItems.length:0;if(!i1){selItems=null}if(i0===i1){while(i0-->0){for(i=0;i<i1;i+=1){if(noReturn){if(old[i0].value===selItems[i].value&&old[i0].text===selItems[i].text){break}}else if(old[i0].index===selItems[i].index){break}}if(i===i1){break}}}old=i0>=0&&this._hasData&&!this._waitFilter?{owner:this,oldItems:old,items:selItems}:null;delete this._selArg;if(old&&!this._fire("selectionChanging",e,old)&&!noReturn){return}this._selTime=e&&this.options.focusOnSelect===false?_now():0;this._selArg=old;if(clear||!i1){this._clearSel()}this.options.selectedItems=selItems;this._noFilter=selItems&&selItems.length;return 1},_addSel:function(id,e){if(id>=0&&!this.isSelected(id)){var selItems=this._copyA(this.options.selectedItems);id=this._createSelItem(id);if(!selItems){selItems=[id]}else{selItems.push(id)}if(this._selChange(selItems,e)){this._selChanged(e)}}return this.options.selectedItems},_sepEnd:function(txt){var sep=this._sep(),len=txt.length;return len>1&&txt.lastIndexOf(sep)===len-sep.length},_select:function(id,val,flag,part,e){var vals,lenVals,txt,j,cond,ds,selItems=null,scrollID=-1,actID=-1,i=-1,o=this.options,more=1,count=this._count,act=part?o.allowCustomValue?2:1:null,sep=false,lower=!o.caseSensitive&&typeof val==="string";if(e&&part&&!this._ddOn&&e.type!=="mouseup"){this._doDrop(1,e)}if(this._noMouse()){return}if(act){this._changeID=-1}if(!_aNull(val)&&val!==""){if(flag===2){val=val.toString()}vals=typeof val==="string"?this._texts(val):val.length?val:[val];if((lenVals=vals.length)>0){j=vals[lenVals-1];if(!j&&(flag===2||_aNull(j))){if(act===1){sep=this._sepEnd(val)}vals.splice(lenVals-=1,1)}}if(lenVals===0){this._selChange(selItems,e,1,1);this._selChanged(e);return}while((i+=1)<lenVals){vals[i]={val:vals[i],id:-1,done:null}}if(!this._isStrCond(cond=this._cond(o))){cond="startsWith"}ds=this._dataSource;id=-1;while((id+=1)<count&&more){if(_aNull(txt=this._item(id,flag))){continue}if(lower){txt=txt.toString().toLowerCase()}more=null;for(i=0;i<lenVals;i+=1){if(!vals[i].done){more=1;val=vals[i].val;if(val===txt||part&&ds._findMatch(txt,val,"string",false,cond)){j=i;while((j-=1)>=0){if(vals[j].id===id){break}}if(act&&j>=0){continue}if(act&&i+1===lenVals&&!sep){if(actID<0){this._changeID=scrollID=actID=id;if(act===1&&!o.enableActiveItem){vals[i].id=id}}}else if(vals[i].id<0){vals[i].id=id}if(act!==1&&(val===txt||!part)){vals[i].id=id;vals[i].done=1}}}}}selItems=[];for(i=0;i<lenVals;i+=1){if((id=vals[i].id)>=0&&act!==2){if(scrollID<0){scrollID=id}j=selItems.length;while((j-=1)>=0){if(selItems[j].index===id){break}}if(j<0&&(this._multi(o)||selItems.length===0)){selItems.push(this._createSelItem(id))}}}}else if(typeof id==="number"&&id>=0&&id<count){selItems=[this._createSelItem(scrollID=id)]}if(this._selChange(selItems,e,1)){if(scrollID>=0){this._fixSelScroll(this._scrollTo=scrollID);if(sep){this._updateFromList(e,1,1)}}this._selChanged(e)}if(act){this._activate(actID,e)}},_createSelItem:function(id,txt,val){return{index:id,value:val||this._item(id),text:txt||this._item(id,2)}},_item:function(id,valHtmlText){var val,textValue,i,txtVal,format,tags,j,o=this.options,key=this._keyVal,row=this._data[id],mf=this._matchFlag;if(valHtmlText){key=this._key}if(!row){return valHtmlText?"":null}val=row[key];if(!valHtmlText){return val}format=format||o.format;if(format){if(_aNull(txtVal=row[i=key+"_"])){if(_aNull(val)){val=""}else if($.ig&&$.ig.formatter&&(typeof val==="number"||val&&val.getMonth)){val=$.ig.formatter(val,null,format==="auto"||format===true?null:format)}else{val=val.toString()}row[i]=val}else{val=txtVal}}else{val=_aNull(val)?"":val.toString()}if(valHtmlText!==1){return val}textValue=val;i=o.itemTemplate;if(i&&$.ig.tmpl){if(!this._it){if($.ig.util.isIE&&i.indexOf("unselectable")<0){tags=["<div","<span","<img","<a","<td","<li"];j=tags.length;while(j-->0){i=i.replace(new RegExp(tags[j],"gi"),tags[j]+' unselectable="on"')}}this._it=i}val=$.ig.tmpl(this._it,row);if(mf){val=this._replaceTextInTemplate(val,textValue,this._renderMatches(textValue,o,mf))}return val}if(val===""){return"&nbsp;"}return mf?this._renderMatches(val,o,mf):val},_replaceTextInTemplate:function(template,text,highlightedText){var parsedNode,parsedTemplate,parent,children;if(text!==highlightedText){parsedNode=$(template);parsedNode=this._replaceTextInNode(parsedNode,text,highlightedText);parsedNode=$("<div>").append(parsedNode);parsedTemplate=parsedNode.html();return parsedTemplate}return template},_replaceTextInNode:function(node,text,highlightedText){var children=node.children(),parent=node.clone().children().remove().end(),i;parent.html(parent.text().replace(text,highlightedText));for(i=0;i<children.length;i++){parent=parent.append(this._replaceTextInNode($(children[i]),text,highlightedText))}return parent},_renderMatches:function(html,o,match){var index,i,lenMatch,len,lenIndex,val=o.caseSensitive?html:html.toLowerCase(),minIndex=0,shift=0,matches=[],txts=this._textsTemp||this._texts(1),lenTxt=txts.length;while(minIndex<99999){i=-1;minIndex=99999;len=val.length;while((i+=1)<lenTxt){index=val.indexOf(txts[i]);lenMatch=txts[i].length;if(index>=0&&index<minIndex&&(index===0||match!=="startsWith")&&!(match==="full"&&len!==lenMatch)&&lenMatch){minIndex=index;lenIndex=lenMatch}}if(minIndex<99999){matches.push({index:shift+=minIndex,len:lenIndex});val=val.substring(minIndex+lenIndex);shift+=lenIndex}if(match!=="multi"||shift>=len){break}}for(i=matches.length-1;i>=0;i-=1){index=matches[i].index;len=matches[i].len;html=html.substring(0,index)+'<span unselectable="on" class="'+this.css.listItemMatch+'">'+html.substring(index,index+len)+"</span>"+html.substring(index+len)}return html},_renderRow:function(id,repaint){var txt,elem,box,i,top,cell,me=this,itemWidth=me._itemWidth,o=me.options,checkBoxes=me._checkBox(o),cbWidth=me._cbWidth||0,html=me._html,lod=me._lodWait&&!html;if(lod){if(me._findItem(id+me._virtualTop)){return}repaint=false}if(html){repaint=false;if(!me._data[id]){return}html+='<li tabIndex="-1" class="'+me.css.listItem+'" style="width:';html+=itemWidth+"px;height:"+me._itemHeight+'px" unselectable="on" data-id="'+(id+_listIDShift)+'"'}else if(!repaint){elem=$("<li />").addClass(me.css.listItem).css({width:itemWidth,height:me._itemHeight}).attr("data-id",id+_listIDShift).attr("tabIndex",-1).attr("unselectable","on").appendTo(me._itemsHolder);if(checkBoxes){box=$("<span />").attr("data-box","x").attr("unselectable","on").css("top",(me._cbTop||0)+"px").addClass(me.css.checkbox).appendTo(elem.attr("data-check","x"));$("<span />").attr("data-icon","x").attr("unselectable","on").addClass(me.css.checkboxOff).appendTo(box);if(!cbWidth){me._cbWidth=cbWidth=box[0].offsetWidth}cell=$("<span />").attr("data-txt","x").attr("unselectable","on").addClass(me.css.listItemTextWithCheckbox).css(me._rtl?"marginRight":"marginLeft",Math.max(cbWidth,14)+3+"px").prependTo(elem)}else{elem.attr("data-txt","x")}}id+=me._virtualTop;if(repaint){elem=this._findItem(id);if(!elem){return}if(!o.virtualization&&!me._matchFlag){return elem}}txt=me._item(id,1);if(html){if(checkBoxes){html+=' data-check="x"><span unselectable="on" data-txt="x" style="'+(me._rtl?"margin-right:":"margin-left:")+(Math.max(cbWidth,14)+3)+'px;" class="'+me.css.listItemTextWithCheckbox+'">'+txt+"</span>";html+='<span unselectable="on" data-box="x" style="top:'+(me._cbTop||0)+'px" class="'+me.css.checkbox;html+='"><span unselectable="on" data-icon="x" class="'+me.css.checkboxOff+'"></span></span>'}else{html+=' data-txt="x">'+txt}me._html=html+"</li>"}else if(!me._data[id]){elem.hide();cell=me._findItem(id+1);if(cell){cell.hide()}}else if(elem[0]._old!==txt){elem[0]._old=txt;cell=elem.find("[data-txt]");if(cell.length===0){cell=elem}if(txt!==cell[0].innerHTML){cell.html(txt)}if(checkBoxes&&_aNull(me._cbTop)){box=elem.find("[data-box]");if(box[0]&&(top=elem[0].clientHeight)>0&&(i=box[0].offsetHeight)>0){if(i>=top){elem.css("height",top=i+1)}me._cbTop=Math.max((top-i-1)/2,0)}}elem.show()}if(lod){me._bindLIs(o,elem)}return elem},_isCheckBox:function(elem){return elem&&(elem.getAttribute("data-box")||elem.parentNode.getAttribute("data-box"))},_fixNull:function(clear){var txt,nullTxt=this.options.nullText;if(!nullTxt&&!this._nullT){return}txt=this.text();if(!clear&&txt===""&&nullTxt&&!this._fcs){this._nullT=true;this.fieldElem.addClass(this.css.nullText).val(nullTxt)}else if(this._nullT){this._nullT=null;this.fieldElem.removeClass(this.css.nullText).val(txt||"")}},_onScroll:function(e){var elem,selItems,selID,selLen,id,top,ds,me=this,count=me._count,itemHeight=me._itemHeightOuter,dd=me._ddScroll||me._ddCont;if(!dd||!me._ddOn||count<2||me._lodWait){return}id=Math.floor((top=dd[0].scrollTop)/itemHeight);if(e){me._lastScroll=top}top=Math.floor(me._lastScroll/itemHeight+.4);if(me._lod&&top>count-me._page*1.5){ds=me._dataSource;top=ds.pageIndex();if(top+1<ds.pageCount()){me._wait(me._lodWait=true);ds.pageIndex(top+1);return}else{top=id}}me._topID=top=Math.max(0,Math.min(top,count-Math.floor(dd[0].offsetHeight/itemHeight)));if(me._ddScroll){me._fixActive(me._activeID);count=me._page+1;me._virtualTop=top;selItems=me.options.selectedItems;selLen=selItems?selItems.length:0;me._selElems=[];while((count-=1)>=0){elem=me._renderRow(count,1);if(elem){for(selID=0;selID<selLen;selID+=1){if(selItems[selID].index===count+top){me._selElems.push(elem);me._fixSelElem(elem,1);break}}if(selID>=selLen){me._fixSelElem(elem)}}}me._fixActive(me._activeID,1)}},_lodLbl:function(){var i=-1,dd=this.listElem;while(i++<3&&this._lodFoot&&dd){dd.find("[data-lod"+i+"]").html(this.getRecordsCount(i))}},_touch:function(act){var scroll,dd=this._ddCont;if(dd&&dd.igScroll){scroll=dd.data("igScroll");if(!act){return scroll?scroll.barY:dd.igScroll({direction:"y",yThumb:"draggable",yScroller:this._ddScroll,cancelStart:"ms"}).attr("data-scroll","y")}if(scroll){scroll[act](true)}}},_xyCheck:function(stop){var xy=this._xy,xyE=this.mainElem;if(!xy){return}if(xyE){xyE=_offset(xyE);if(Math.abs(xyE.left-xy.x)>2||Math.abs(xyE.top-xy.y)>2){stop=true}}if(stop||!xyE){delete this._xy;clearInterval(xy.i);this._doDrop()}},_vAct:function(act){return $.ui.igValidator&&$.ui.igValidator._act(this,act)},_doDrop:function(show,e,repaint){var height,needScroll,winHeight,y,bodyElem,row1st,rowLast,max,end,step,docElem,xy,effect,width,body,i,duration,arg,listWidth,footer,me=this,lod=me._lod,lodWait=me._lodWait,up=me._listUp,extraHeight=me._extraHeight||0,ddCont=me._ddCont,o=me.options,rtl=me._rtl,virtual=o.virtualization,dd=me.listElem,itemsHolder=me._itemsHolder,ddScroll=me._ddScroll,elem=me.mainElem,dif=me._ddItemBorderFix,on=me._ddOn,count=me._count,itemHeightOuter=me._itemHeightOuter;repaint=repaint||me._listChanged;if(me._mode(o)>2){show=0}if(!elem||!show&&!on||show===2&&on){return}if(!repaint&&on&&show&&_now()-on<100){return}show=show?repaint||!on:false;if(me._vAct(show?"drop":"hide")){return}if(!itemHeightOuter&&count&&show){repaint=true}if(!me._hasData){if(show&&o.dataBindOnOpen&&!me._dataSource){me.dataBind();setTimeout(function(){me._doDrop(2,e)},0)}return}if(count<1&&me._filtering){row1st=me._noResults;if(!row1st){me._noResults=row1st=_notab($("<li />").css({width:"100%",textAlign:"center"}).addClass(me.css.listItem).html(me._locale("noMatchFoundText")||"&nbsp;"))}}if((!show||show&&!on)&&!me._fire(show?"dropDownOpening":"dropDownClosing",e,arg={owner:me,element:dd||$("<div/>")})){return}if(!lodWait&&show&&me._activeID>=0&&!me.isSelected(me._activeID)&&(i=me.selectedIndex())>=0){me._activate(me._scrollTo=i,e,1)}body=!o.dropDownAsChild;if(!dd){repaint=false}if(!dd||repaint){delete me._listChanged;if((width=parseInt(o.dropDownWidth,10))<5||isNaN(width)){if((width=elem[0].offsetWidth)<5){width=100}}if(!dd){dd=me.listElem=ddScroll=ddCont=_notab(arg.element.attr("data-id",_listIDShift-1).css("position","absolute").addClass(me.css.list).bind(me._mEvts).bind({DOMMouseScroll:function(e){me._onEvt(this,10,e)},mousewheel:function(e){me._onEvt(this,10,e)}}));footer=o.footerTemplate;if(o.headerTemplate||footer){dd.css("overflow","hidden");if(o.headerTemplate){_notab($("<div/>").attr("data-id",_listIDShift-1).css({overflow:"hidden",position:"relative"}).html(o.headerTemplate).appendTo(dd))}ddScroll=ddCont=_notab($("<div/>").attr("data-id",_listIDShift-1).css("position","relative").appendTo(dd));if(footer){i=footer;footer=footer.replace(this.RECORDS_VIEW,'<span data-lod0="x"></span>').replace(this.RECORDS_DATA,'<span data-lod1="x"></span>').replace(this.RECORDS_SERVER,'<span data-lod2="x"></span>').replace(this.RECORDS_SERVER_TOTAL,'<span data-lod3="x"></span>');me._lodFoot=i!==footer;_notab($("<div/>").attr("data-footer","x").attr("data-id",_listIDShift-1).css({overflow:"hidden",position:"relative"}).html(footer).appendTo(dd))}extraHeight=1}me._ddCont=ddCont;me._itemsHolder=itemsHolder=_notab($("<ul/>").attr("data-id",_listIDShift-1).addClass(me.css.listItemHolder).appendTo(ddCont));if(virtual){ddCont.css({overflow:"hidden"});me._ddScroll=ddScroll=_notab($("<div/>").attr("data-id",_listIDShift-1).css({width:"30px",height:"100%",overflowY:"scroll",overflowX:"hidden","float":rtl?"left":"right"}).appendTo(ddCont));me._ddScrollChild=_notab($("<div/>").attr("data-id",_listIDShift-1).css({width:"1px",height:"1px"}).appendTo(ddScroll))}ddScroll.scroll(function(e){me._onScroll(e)});if(me._rtl){dd.css("direction","rtl")}if(body){dd.css({left:"0px",top:"0px"}).appendTo($("body"))}else{dd.prependTo(elem)}me._ddBorderFix=dd.outerWidth()-dd.width();if(extraHeight){ddCont.hide();dd.css("width",width-me._ddBorderFix);me._extraHeight=extraHeight=dd[0].clientHeight;dd.css("width","auto");ddCont.show()}}dd.css({display:"block"});listWidth=width-=me._ddBorderFix;if(row1st){if(itemsHolder.has(row1st).length===0){row1st.appendTo(itemsHolder)}itemHeightOuter=Math.max(10,row1st.outerHeight());dif=0}else if(!lodWait){if(virtual){ddScroll.hide();itemsHolder.css({width:"auto",height:"auto",overflow:"visible","float":"left"})}else{me._keyFixed=1}}if(!itemHeightOuter&&count>0){me._itemWidth=width=Math.ceil(width-1);me._itemHeight="auto";row1st=me._renderRow(0);if((height=row1st.height())<5){height=16}row1st.css({height:me._itemHeight=height});me._ddItemBorderFix=dif=Math.max(0,Math.floor(row1st.outerWidth()-row1st.width()+.4));if(dif>0){me._itemWidth=width-=dif}me._itemHeightOuter=itemHeightOuter=row1st.outerHeight()+Math.max(0,itemsHolder[0].offsetHeight-row1st[0].offsetHeight);me._sameBC(row1st,dd)}itemHeightOuter=itemHeightOuter||0;me._listHeight=Math.max(10,Math.max((max=o.dropDownMinHeight)-extraHeight,itemHeightOuter*(count||1)));max=Math.min(Math.max(0,Math.max(max,o.dropDownMaxHeight)-extraHeight),me._listHeight);if(lod){max=Math.min((lod-1)*itemHeightOuter,max)}height=ddCont.css("height");height=repaint&&height&&height.indexOf("px")>0?parseFloat(height):max;dd.css("width",listWidth);needScroll=me._listHeight>max;if(virtual){me._ddScrollChild.css("height",me._listHeight+itemHeightOuter);ddCont.css("height",me._listHeight=max);dd.css("height",max+extraHeight);if(needScroll){ddScroll.show();ddScroll.css("width",width=ddScroll[0].offsetWidth-ddScroll[0].clientWidth+1);width=listWidth-width;itemsHolder.css({width:width,height:"100%",overflow:"hidden","float":rtl?"right":"left"});width-=dif;count=Math.ceil(max/itemHeightOuter+1)}else{ddScroll.hide();itemsHolder.css("width","100%")}}else{ddCont.css({overflow:needScroll?"auto":"hidden",width:listWidth,height:me._listHeight=max}).css("overflowX","hidden");
dd.css("height",max+extraHeight);if(needScroll){rowLast=$("<div/>").css({position:"absolute",top:max+100+"px",width:9,height:9}).appendTo(ddCont);width=ddCont[0].clientWidth;width=ddCont[0].clientWidth-dif;rowLast.remove()}}if(!needScroll){width=listWidth-dif}me._itemWidth=width;this._repaintList(0,count);me._page=itemHeightOuter?Math.max(2,Math.floor(max/itemHeightOuter)):1;if(repaint&&on){if(me._needsSel){me._fixSelScroll(-1);delete me._needsSel}i=me._listHeightLast;height=me._listHeight+extraHeight;dif=i-height;if(up){end=me._listTop;me._listTop+=dif}me._listHeightLast=height;if(dif){if((duration=dif<0?o.animationShowDuration:o.animationHideDuration)>5){dd.css("height",i).animate({height:height},{duration:duration,step:function(now){if(up){dd.css(body?"top":"marginTop",end+dif*(i-now)/(i-height))}}})}else if(up){dd.css(body?"top":"marginTop",end+dif)}}return}}height=me._listHeightLast=me._listHeight+extraHeight;me._ddOn=show?_now():null;duration=show?o.animationShowDuration:o.animationHideDuration;if(!duration||typeof duration==="number"&&duration<5){duration=null}else{effect=show?o.animationShowEffect:o.animationHideEffect;if(!$.effects||!$.effects[effect]){if(!show&&typeof duration!=="number"){duration=450}effect=null}}me._listHeightEnd=duration&&!effect?0:height;end=function(){if(show){dd.css("filter","");me._fixSelScroll(me._scrollTo);me._touch()}else{dd.css({display:"none"});me._touch("_hide")}me._fire(show?"dropDownOpened":"dropDownClosed",e,arg)};step=function(now,fx){if(me._listUp&&fx&&fx.prop==="height"){dd.css(body?"top":"marginTop",me._listTop+height-now)}};if(show){me._lodLbl();me.setFocus();if(me._needsPaint){me._repaintList()}if(!body&&(!me._static||me._relative)){elem.css("overflow","visible")}if(me._needsSel){me._fixSelScroll(-1);delete me._needsSel}winHeight=999;bodyElem=document.body;docElem=document.documentElement;if((i=window.innerHeight)>50&&i){winHeight=i}else if((i=docElem.clientHeight)>50&&i){winHeight=i}else if((i=bodyElem.clientHeight)>50&&i){winHeight=i}y=Math.max(window.pageYOffset||0,Math.max(bodyElem.scrollTop,docElem.scrollTop));xy=_offset(elem);me._xy=body?{x:xy.left,y:xy.top}:null;xy.height=elem[0].offsetHeight;me._listUp=null;if((up=xy.top+xy.height+height-y-winHeight)>0&&y-xy.top+height<up){me._listUp=up;if(xy.top-(up=height+2)<y&&!me._filtering){up=Math.max(xy.top-y,2)}xy.top+=(xy.height=-up)+_px(elem,"borderTopWidth");elem.addClass(me.css.noTopCorners);dd.addClass(me.css.noBottomCorners)}else{xy.top+=xy.height-_px(elem,"borderBottomWidth");elem.addClass(me.css.noBottomCorners);dd.addClass(me.css.noTopCorners)}dd.css({opacity:duration&&!effect?0:1,height:me._listHeightEnd,display:""});if(body){dd.css({left:xy.left,top:me._listTop=xy.top});me._xy.i=setInterval(function(){me._xyCheck()},300)}else{i=me._rtl?"Right":"Left";dd.css("margin"+i,-_px(elem,"border"+i+"Width")+"px");up=me._listUp?0:_px(elem,"borderTopWidth")+_px(elem,"borderBottomWidth");dd.css("marginTop",me._listTop=xy.height-up);up=_offset(dd);if((up=up.left-xy.left)>30&&up<elem[0].offsetWidth+10){dd.css("marginLeft",-up+"px")}}if(!duration){end()}else if(effect){dd.show(effect,{},duration,end)}else{dd.animate({opacity:1,height:height},{duration:duration,complete:function(){end()},step:function(now,fx){step(now,fx)}})}}else{if(!body&&(!me._static||me._relative)){elem.css("overflow","hidden")}me._xyCheck(true);elem.removeClass(me.css.noTopCorners).removeClass(me.css.noBottomCorners);dd.removeClass(me.css.noBottomCorners).removeClass(me.css.noTopCorners);if(!duration){end()}else if(effect){dd.hide(effect,{},duration,end)}else{dd.animate({opacity:0,height:me._listHeightEnd},{duration:duration,complete:function(){end()},step:function(now,fx){step(now,fx)}})}}return true},_repaintList:function(id,count){if(this._noMouse()){return}var me=this,repaint=!count;if(repaint){id=Math.max(0,this._topID-1);count=id+(this._page&&(this._ddScroll||this._matchFlag)?this._page+3:-1)}count=Math.min(count,this._count);delete this._needsPaint;this._textsTemp=this._texts(1);if(!repaint&&(!this._lodWait||this._lod&&this._filtering===-1)){this._html=" "}while(id<count){this._renderRow(id,repaint);id+=1}if(this._html){this._itemsHolder.html(this._html.substring(this._bindLI=1));delete this._html;setTimeout(function(){me._bindLIs()},600)}if(this._paintAct){this._fixActive(this._activeID,1)}delete this._textsTemp},_startOfSelTrail:function(field,txt,len){var range,sep,end=0,start=0,tr=this._tr();if(tr===1){start=field.selectionStart;end=field.selectionEnd}else if(tr){try{range=document.selection.createRange();tr=range.duplicate();tr.move("textedit",-1);try{while(tr.compareEndPoints("StartToStart",range)<0){tr.moveStart("character",1);if((start+=1)>len){break}}}catch(ex){}end=start+range.text.length}catch(e2){}}if(start===len&&len>2){sep=this._sep();if(sep.length>1&&txt.charAt(len-1)===sep.charAt(1)&&txt.charAt(len-2)===sep.charAt(0)){return start-1}}return start<end&&end===len?start:0},_tr:function(){var field=this.fieldElem[0],tr=this._trVar;if(!tr){try{if((!$.ig.util.isIE||$.ig.util.isIE11)&&!_aNull(field.selectionStart)){tr=1}}catch(ex){}if(tr!==1){try{tr=field.createTextRange?field.createTextRange():null}catch(e2){}}this._trVar=tr}return tr},_setCaret:function(start,end){var tr=this._tr();end=end||start;if(tr){try{if(tr===1){tr=this.fieldElem[0];tr.selectionStart=start;tr.selectionEnd=end;return}if(this._selTime&&_now()-this._selTime<50){return}end-=start;tr.move("textedit",-1);tr.move("character",start);if(end>0){tr.moveEnd("character",end)}tr.select()}catch(ex){}}},_autoComplete:function(filter){var len,txt,selStart,e,backKey,item,tr,txts,ii,last,i=-1,id=this._filtering?this._activeID:this._changeID,field=this.fieldElem,args=this._acArgs,sel="",selEnd=0,o=this.options,selItems=o.selectedItems,itemsLen=selItems?selItems.length:0,sep=this._sep();if(!args||this._noMouse()){return}delete this._acArgs;txt=args.txt;selStart=args.len;e=args.e;if(e&&e.keyCode===$.ui.keyCode.DELETE&&this._custom()){return}backKey=args.backKey;len=txt.length;if(itemsLen>0){if(filter){id=-1}txts=txt.split(sep);tr=selItems;selItems=[];filter=field.val();while((i+=1)<itemsLen){item=tr[i].text;for(ii=0;ii<txts.length;ii+=1){if(txts[ii]===(o.caseSensitive?item:item.toLowerCase())){selItems[ii]=item;if(filter===txts[ii]&&filter!==item){field.val(item)}break}}if(ii===txts.length&&!last){last=item}}while(i>=0){item=i<itemsLen?selItems[i]:last;if(item){if(sel.length>0){sel=sep+sel}sel=item+sel}i-=1}}filter=null;item=id>=0?this._item(id,2):null;if(item&&(!sel||sel!==item)){if(sel){sel+=sep}sel+=item}if(sel&&len>1&&selStart===len&&this._multi(o)&&!backKey&&txt.charAt(len-1)===sep.charAt(0)){if(id>=0){this._addSel(id,e);this._fixSelScroll(-1)}txt=sel+=sep;filter=selStart=i=sel.length}this._userTxt=txt;if(!sel){if(len>0&&!this._filtering){this._fire("noMatchFound",e,{owner:this,text:txt})}if(!backKey){return}}else if(selStart<(selEnd=sel.length)||i>0){field.val(this._oldTxt=sel)}else if(backKey){selEnd=selStart=len}else{return}this._setCaret(selStart,selEnd);this._userTxt=txt.substring(0,selStart);this._selLen=selEnd-selStart;if(filter&&this._multi(o)&&this._filtering){this.filter(e,null,this._noFilter)}},_onChange:function(e,flag,text,backKey){var selStart,len,txt,autoComplete,me=this,field=me.fieldElem,old=me._oldTxt,o=me.options;if(!field||!field[0]){return}txt=e?e.type:null;if(txt&&e.keyCode!==13&&txt.indexOf("blur")<0&&txt.indexOf("mouse")<0&&me._userTxt!==text){delete me._noFilter}if(me._hasData&&me._nullT&&flag===undefined&&!me._fcs){me._fixNull(1)}if(!_aNull(text)){field.val(me._userTxt=text);text=1}txt=me.text();len=txt.length;if(e&&e.type!=="blur"&&(text||flag===2)){me._setCaret(len)}if(!me._expr&&backKey===true&&o.autoComplete&&len>0&&(selStart=me._startOfSelTrail(field[0],txt,len))>0){_stop(e);return me._onChange(e,1,txt.substring(0,selStart-1),2)}if(txt!==old||me._selLen===1&&!flag&&me._userTxt&&old.length-me._userTxt.length===1){if(txt===old){me._userTxt=old}delete me._filterTxt;me._oldTxt=txt;me._fixClear();me._needsPaint=1;if(e){me._fire("textChanged",e,{owner:me,oldText:old,text:txt});if(me._validator){me._validator._evt(e)}}autoComplete=o.autoComplete&&(len>0||backKey);if(me._filtering){if(flag===2&&me._multi(o)){me._repaintList();return}me._userTxt=txt;me.filter(e,null,me._noFilter)}else{if(flag!==2){me._select(null,txt,2,1,e)}if(!autoComplete){me._userTxt=txt;me._repaintList()}}if(autoComplete){me._acArgs={txt:txt,len:len,e:e,backKey:backKey};if(me._filtering>=0){setTimeout(function(){if(!me._jpn){me._autoComplete()}me._repaintList()},0)}}}if(!flag){setTimeout(function(){me._onChange(e,1)},10)}else{me._save(o);if(e&&!me._ddOn&&me._fcs){me._doDrop(1,e)}}},_save:function(o){var item,input,select,sel,i=-1,str="",name=o.inputName;if(!name||!this._hasData||this._waitFilter){return}input=$('input[name="'+name+'"]');if(input[0]===this.element[0]){return}if(input.length===0){input=$('select[name="'+name+'"]');select=input.length;if(select){input.empty()}else{input=$('<input type="hidden" name="'+name+'" />').appendTo(this.element.parent())}}sel=o.selectedItems;while(sel&&(i+=1)<sel.length){item=this._item(sel[i].index);if(item&&item.getTime){item=item.getFullYear()+"-"+(item.getMonth()+1)+"-"+item.getDate()+" "+item.getHours()+":"+item.getMinutes()+":"+item.getSeconds()+"."+item.getMilliseconds()}if(select){$('<option value="'+item+'" selected="selected" >').appendTo(input)}else{if(i>0){str+=","}str+=item}}if(i<1&&this._custom()){str=this.text();if(select){$('<option value="'+str+'" selected="selected" >').appendTo(input)}}if(!select){input.val(str)}},_onKey:function(e,type){var k=e?e.keyCode||e.which:null,me=this,on=me._ddOn,id=me._activeID,o=me.options,kc=$.ui.keyCode,selItems=o.selectedItems,back=k===kc.BACKSPACE,count=me._count-1,mode=me._mode(o);if(type<2&&!me._fire(type===0?"keydown":"keypress",e,{owner:me,keyCode:k})){return _stop(e)}if(type<2&&k===kc.SPACE&&(mode>0||o.selectItemBySpaceKey&&id>=0&&o.enableActiveItem&&on)){_stop(e);if(mode<2&&id>=0&&type===0){me._fixSelScroll(id,e,null,null,1)}return}if(k===46){e.stopPropagation()}if(type<2&&(back||k>40||k===kc.SPACE)&&mode===0){me._jpn=k===229;me._onChange(e,null,null,back)}if(type===0){if(e.shiftKey){return}if(k===kc.ESCAPE){if(!on){setTimeout(function(){me._onChange(e,null,me._focTxt)},0)}else{_stop(e);me._doDrop(0,e)}}if((on||id>=0)&&(k===kc.ENTER||k===kc.NUMPAD_ENTER)){_stop(e);if(mode<2){if(id>=0&&o.enableActiveItem&&!me.isSelected(id)){me._fixSelScroll(id,e,null,null,1)}me._updateFromList(e)}me._doDrop(0,e)}if(k<33||k>40){return}if(e.ctrlKey){return}if(!e.altKey&&!e.metaKey){if(me._count<1){return}if(id<0){if(!on&&k!==kc.DOWN&&k!==kc.UP){return}id=count+1;back=selItems?selItems.length:0;while((back-=1)>=0){id=Math.min(selItems[back].index,id)}if(id>count){id=0}}else if(k===kc.DOWN){id+=1}else if(k===kc.UP){id-=1}else if(k===kc.HOME&&on){id=0}else if(k===kc.END&&on){id=count}else if(k===kc.PAGE_DOWN&&on){id+=me._page}else if(k===kc.PAGE_UP&&on){id-=me._page}else{return}_stop(e);if((id=Math.max(Math.min(id,count),0))!==me._activeID){if(me._activate(id,e)){if(on){me._fixSelScroll(id,e,null,1)}else{me.selectedIndex(id,true)}}}}else if(k===kc.DOWN&&!on||k===kc.UP&&on){return me._doDrop(on?0:1,e)}}},_sep:function(){var sep=this.options.itemSeparator||",";return sep.length>2?sep.substring(0,2):sep},_updateFromList:function(e,zero,addSep){var id=this._changeID,txt="",o=this.options,i=-1,sep=this._sep(),selItems=this._addSel(id===this._activeID?id:-1,e),len=selItems?selItems.length:0;delete this._jpn;if(this._noMouse()){return}this._changeID=-1;if(!this._multi(o)&&len>1){len=1}while((i+=1)<len){txt+=this._item(selItems[i].index,2);if(i+1<len||addSep){txt+=sep}}if(txt.length>0||zero){this._onChange(e,2,txt)}},_findItem:function(id){var dd=this._itemsHolder;if(dd){id-=this._virtualTop;dd=dd.find('[data-id="'+(id+_listIDShift)+'"]');if(dd.length===1){return dd}}},_fixSelScroll:function(id,e,elem,key,ctrl){if(this._fixSel(id,e,elem,key,ctrl)){return}if(e){this._updateFromList(e,ctrl);if(!ctrl&&!key&&this.options.closeDropDownOnSelect){this._doDrop(0,e)}}if(key||!e){this._fixScroll(id)}},_fixActive:function(id,on){var css=this.css.listItemActive,elem=id>=0&&this.options.enableActiveItem?this._findItem(id):null;if(elem){if(on){elem.addClass(css)}else{elem.removeClass(css)}delete this._paintAct}else if(on){this._paintAct=1}},_activate:function(id,e,noScroll){if(!this.options.enableActiveItem||this._noMouse()){this._activeID=id;return 1}var arg,old=this._activeID;if(old!==id&&this._fire("activeItemChanging",e,arg={owner:this,oldIndex:old,index:id})){this._fixActive(old);this._fixActive(this._activeID=id=arg.index,1);if(id>=0&&!noScroll&&(!e||e.type!=="mousedown")){this._fixScroll(id)}this._fire("activeItemChanged",e,arg)}},_fixSel:function(id,e,elem,key,ctrl){var item,next=0,i=id,o=this.options,selItems=this._copyA(o.selectedItems),len=selItems?selItems.length:0,oldSelElems=this._selElems,virtual=this._ddScroll,old=virtual&&id<0?null:this._selElems;if(!this._ddOn||this._noMouse()){return 1}if(id>=0&&!elem){elem=this._findItem(id);if(!elem){old=null;while(virtual&&!elem&&i>=0&&i<=this._count&&(next+=1)<4){this._fixScroll(i);this._onScroll(e);elem=this._findItem(id);i-=1}}if(!elem){return 1}}for(i=0;i<len;i+=1){item=old?old[i]:null;if(!item){item=this._findItem(selItems[i].index);if(item){if(!old){this._selElems=old=[]}this._fixSelElem(old[i]=item,1)}}if(id<0||!item||!e){continue}if(item[0]===elem[0]){if(!ctrl){if(len===1){return}}else{selItems.splice(i,1);if(this._selChange(selItems,e)){this._fixSelElem(elem);old.splice(i,1);this._selChanged(e)}else{this._selElems=oldSelElems}return}}else if(!ctrl){this._fixSelElem(item)}}if(!elem||!e){return}i=null;if(!ctrl||!selItems||!this._multi(o)){i=selItems=[];old=[]}selItems.push(this._createSelItem(id));if(this._selChange(selItems,e,i)){this._activate(id,e);old=old||[];old.push(elem);this._selElems=old;this._fixSelElem(elem,1);this._selChanged(e)}else{this._selElems=oldSelElems;for(i=0;i<this._selElems.length;i++){this._fixSelElem(this._selElems[i],true)}return 1}},_fixScroll:function(id){var scroll,top,last=this._lastScroll,dd=this._ddScroll||this._ddCont,height=this._itemHeightOuter;if(!dd||this._lodWait){return}top=scroll=dd[0].scrollTop;this._scrollTo=-1;if(id<0){if(last&&last!==top){dd[0].scrollTop=last;top=dd[0].scrollTop}if($.ig.util.isSafari&&top>20){dd[0].scrollTop=top-1}}else if((top=id*height)>scroll){if((top+=height-this._listHeight)<scroll){return}}if(top!==last){if(this._ddScroll&&top>last){top+=height-1}dd[0].scrollTop=top}},_bindLIs:function(o,li){var me=this,holder=me._itemsHolder,elem=li;if(!me.mainElem){return}if(!li){if(!this._bindLI||!holder){return}delete this._bindLI;elem=holder.find("li[data-id]")}elem.bind(me._mEvts);if(me._checkBox(o||this.options)){if(!me._evtHov){me._evtHov={MSPointerOver:function(e){me._onEvt(this,26,e)},pointerover:function(e){me._onEvt(this,26,e)},mouseover:function(e){me._onEvt(this,16,e)},mouseleave:function(e){me._onEvt(this,17,e)}}}elem=li||holder;elem.find("span[data-box]").bind(me._evtHov).bind(me._tEvts).find("span[data-icon]").bind(me._tEvts)}},_onEvt:function(el,type,e){var i,hovCss,pressCss,me=this,msOver=me._msOver,o=me.options,css=me.css,field=me.fieldElem,el$=!el||el===field[0]||e&&e.target===field[0]?field:$(el),id=el$.attr("data-id"),elem=me.mainElem,mode=me._mode(o);if(o.disabled){return}if(type===8){me._focTxt=me.text();me._fcs=1;elem.addClass(css.focus);field.addClass(css.fieldFocus);me._fixNull();if(mode<3){me.buttonElem.addClass(css.buttonFocus);me.clearElem.addClass(css.clearFocus)}if(!me._ddOn&&o.dropDownOnFocus){setTimeout(function(){if(me._fcs){me._doDrop(1,e)}},50)}return}if(type===9){i=me.text();if(e&&me._jpn&&$.ig.util.isFF&&me._userTxt!==i){me._onChange(e,null,i)}me._jpn=me._fcs=0;elem.removeClass(css.focus);field.removeClass(css.fieldFocus);me.buttonElem.removeClass(css.buttonFocus);me.clearElem.removeClass(css.clearFocus);if(!e){return}if(o.closeDropDownOnBlur){me._doDrop(0,e)}if(!me._custom()){me._updateFromList(e,1)}if(o.clearSelectionOnBlur||!o.allowCustomValue){me._changeID=-1;me._onChange(e,null)}me._fixNull();if(me._validator){me._validator._evt(e,null,1)}return}if(type===10){elem=me._ddScroll||me._ddCont;o=e.originalEvent||e;i=e.wheelDelta||o.wheelDelta||-(e.detail||o.detail);if(!_aNull(i,true)&&elem){_stop(e);elem[0].scrollTop+=i>0?-me._itemHeightOuter:me._itemHeightOuter}return}if($.ig.util&&$.ig.util.evtButton(e)){return}if(type===26){me._msOver=e.originalEvent.pointerType;return}if(msOver===2&&(type===6||type===16)){delete me._msOver;return}if(!id&&type>15){id=el$.parent().attr("data-id")}id=el$===field?0:isNaN(id=id?parseInt(id,10):-1)?-1:id;if(id>90){me._bindLIs(o)}if(id<0||id>98&&me._noMouse()){return}if(type===3){_stop(e)}if(mode>1&&(type>7||id>3)){return}if(type===16){return el$.addClass(css.checkboxHover)}if(type===17){return el$.removeClass(css.checkboxHover)}hovCss=id>=_listIDShift?me._touch()&&!(msOver&&msOver!==2)?"":css.listItemHover:id===1?css.buttonHover:css.clearHover;pressCss=id>=_listIDShift?"":id===1?css.buttonPressed:css.clearPressed;if(type===3){if(id<3){el$.addClass(pressCss)}return}if(id===_listIDShift-1){return}if(type===4){if(id>=_listIDShift){delete me._jpn;me._fixSelScroll(id-_listIDShift+me._virtualTop,e,el$,null,e.ctrlKey||e.metaKey||me._isCheckBox(e.target))}else if(el$.hasClass(pressCss)){if(id===1){if(me._vAct("drop")){return}me.setFocus();me._doDrop(1,e)}if(id===2){if(me._filtering){me._select(-1)}me._onChange(e,null,"")}el$.removeClass(pressCss)}return}if(type===6){if(id===0){field.addClass(css.fieldHover);elem.addClass(css.hover)}else{el$.addClass(hovCss)}}if(type===7){if(id===0){elem.removeClass(css.hover);field.removeClass(css.fieldHover);if(me._fcs===1){elem.addClass(css.focus)}}else{el$.removeClass(hovCss).removeClass(pressCss)}}},_fixClear:function(size){var o=this.options,show=o.enableClearButton&&this._oldTxt.length>0&&this._mode(o)<2&&!o.disabled;if(this._jpn&&$.ig.util.isFF){return}if(this._clearOn!==show){this._clearOn=show;size=1}if(size){this._doSize()}},_doTimer:function(flag){var me=this,timer=me._timer;if(flag===2){if(timer){clearInterval(timer);delete me._timer}return}if(!timer){me._timer=setInterval(function(){me._doTimer()},200)}if(flag===1){return}if(me._doSize(1)&&!me._percWidth&&!me._percHeight){me._doTimer(2)}},_doButHeight:function(height,perc){var img,imgHeight,min=this._butMinHeight,offsetHeight=height,minHolder=this._minHolderHeight;this.clearElem.css("height",perc?"100%":height-minHolder);height=Math.max(height-min,0);this.buttonElem.css("height",perc?height/offsetHeight*100+"%":height);img=this.buttonElem.children(0);imgHeight=img[0].offsetHeight||16;img.css("marginTop",Math.floor((offsetHeight-(min||0)-imgHeight)/2+.5)+"px");img=this.clearElem.children(0);img.css("marginTop",Math.floor((offsetHeight-minHolder-(img[0].offsetHeight||imgHeight))/2+.5)+"px")},_outerWidth:function(elem){return elem[0].offsetWidth+_px(elem,"marginLeft")+_px(elem,"marginRight")},_outerHeight:function(elem){return elem[0].offsetHeight+_px(elem,"marginTop")+_px(elem,"marginBottom")},_sameBC:function(src,targ){var clr=src.css("backgroundColor");targ.css("background",!clr||clr==="transparent"||clr.replace(/ /g,"").indexOf("(0,0,0,0")>0?"white":clr)},_doSize:function(timer){if(!this.mainElem){return}var fieldWidth,fix,percWidth,percHeight,butHeight,holderHeight,holderWidth,me=this,o=me.options,width=o.width,height=o.height,relative=me._relative,but=me.buttonElem,css=me.css,elem=me.mainElem,elem0=elem[0],field=me.fieldElem,fieldHolder=me._fieldHolder,clearOn=me._clearOn,minFieldHeight=me._minFieldHeight,minFieldWidth=me._minFieldWidth,minHolderWidth=me._minHolderWidth,minHolderHeight=me._minHolderHeight,butWidth=me._butWidth,clearWidth=me._clearWidth,lastHeight=me._lastHeight,clear=me.clearElem,offsetWidth=elem0.offsetWidth,offsetHeight=elem0.offsetHeight;if(offsetWidth&&!me._offsetWidth&&(!width||!height)){fix=$("<span />").css({display:"inline-block",position:"absolute"}).addClass("ui-igcombo").appendTo(me.element.parent());if(!width){width=fix[0].offsetWidth;if(width>10){o.width=width}else{width=0}}if(!height){height=fix[0].offsetHeight;if(height>10&&height!==fix.removeClass("ui-igcombo")[0].offsetHeight){o.height=height}else{height=0}}fix.remove()}width=width||150;height=height||"auto";fix=me._offsetWidth!==offsetWidth||width!==me._lastWidth||me._offsetHeight!==offsetHeight||height!==lastHeight;if(!offsetWidth||timer&&!fix){if(!offsetWidth){me._doTimer(1)}return}if(fix){me._listRemove()}me._lastWidth=width;me._lastHeight=height;me._percWidth=percWidth=typeof width==="string"&&width.indexOf("%")>0;me._percHeight=percHeight=typeof height==="string"&&height.indexOf("%")>0;if(percWidth||percHeight){me._doTimer(1)}if(!lastHeight){me._sameBC(field,fieldHolder);relative=elem.css("position")!=="static";if(!relative&&(percWidth||percHeight)){elem.css("position","relative");relative=true}me._relative=relative;field.css("position",relative?"absolute":"static")}fieldHolder.css({position:"absolute",width:"auto",height:"auto"});clear.hide();field.css({width:0,height:0});if(!lastHeight){fix=me._rtl?css.fieldHolderRTL:css.fieldHolderLTR;if(o.showDropDownButton){fieldHolder.addClass(fix)}else{fieldHolder.removeClass(fix)}fix=me._rtl?css.buttonRTL:css.buttonLTR;if(o.showDropDownButton){but.addClass(fix)}else{but.removeClass(fix)}butWidth=0;if(o.showDropDownButton){but.show();butWidth=me._outerWidth(but);fix=but.css("height");but.css("height",0);me._butMinHeight=me._outerHeight(but);but.css("height",fix)}else{but.hide()}me._butWidth=butWidth;me._minFieldWidth=minFieldWidth=me._outerWidth(field);me._minFieldHeight=minFieldHeight=me._outerHeight(field);me._minWidth=butWidth+me._outerWidth(field);if(o.enableClearButton){clear.show();me._clearWidth=clearWidth=me._outerWidth(clear);clear.hide()}field.hide();me._minHolderHeight=minHolderHeight=fieldHolder[0].offsetHeight;me._minHolderWidth=minHolderWidth=fieldHolder[0].offsetWidth;field.show()}fix=_toPx(width);if(fix){width=fix-_px(elem,"borderLeftWidth")-_px(elem,"borderRightWidth");if(width<1){width=1}}fix=_toPx(height);if(fix){height=fix-_px(elem,"borderTopWidth")-_px(elem,"borderBottomWidth");if(height<1){height=1}}elem.css({width:width,height:height,display:"inline-block",minWidth:0,minHeight:0});offsetWidth=elem0.clientWidth;offsetHeight=elem0.clientHeight;fieldHolder.css("height","auto");butHeight=o.showDropDownButton?me._outerHeight(but):0;if(!relative){fieldHolder.css("position","static")}field.css({height:"auto",position:"static"});holderHeight=me._outerHeight(fieldHolder);if(relative){field.css("position","absolute")}if(clearOn){clear.show()}if(o.height){holderHeight=Math.max(offsetHeight-minHolderHeight,0);fieldHolder.css("height",percHeight?holderHeight/offsetHeight*100+"%":holderHeight);field.css("height",percHeight?(holderHeight-minFieldHeight)/holderHeight*100+"%":holderHeight-minHolderHeight-minFieldHeight);me._doButHeight(offsetHeight,percHeight)}else if(holderHeight<butHeight){fieldHolder.css("height",butHeight-minHolderHeight);field.css("height",butHeight-minHolderHeight-minFieldHeight)}else{me._doButHeight(holderHeight,percHeight);field.css("height",holderHeight-minHolderHeight-minFieldHeight);if(relative){fieldHolder.css("height",holderHeight-minHolderHeight)}elem.css("height",height=holderHeight)}elem.css({display:o.enableDisplayBlock?"block":"inline-block",minWidth:me._minWidth+clearWidth+2});width=Math.max(offsetWidth-butWidth-minHolderWidth,0);fieldHolder.css("width",percWidth?width/offsetWidth*100+"%":width);offsetWidth=elem0.clientWidth;holderWidth=fieldHolder[0].offsetWidth;if((fix=offsetWidth-holderWidth-butWidth)!==0){width+=fix;fieldHolder.css("width",percWidth?width/offsetWidth*100+"%":width)}fieldWidth=width-minFieldWidth-1;if(clearOn){fieldWidth-=clearWidth}field.css("width",percWidth?fieldWidth/width*100+"%":fieldWidth);if((fix=fieldHolder[0].clientWidth-me._outerWidth(field)-(clearOn?clearWidth:0)-1)!==0){fieldWidth+=fix;field.css("width",percWidth?fieldWidth/width*100+"%":fieldWidth)}if(!relative){holderHeight=fieldHolder[0].offsetHeight+5;elem.css("height","auto");for(fix=0;fix<4&&width>0;fix+=1){if(elem0.offsetHeight<holderHeight){break}width-=.5;fieldHolder.css("width",percWidth?width/offsetWidth*100+"%":width)}fieldHolder.css("width",percWidth?--width/offsetWidth*100+"%":--width);elem.css("height",height)}me._offsetWidth=elem0.offsetWidth;me._offsetHeight=elem0.offsetHeight;return 1},_listRemove:function(){var me=this;if(!me.listElem){return}me._touch("destroy");me.mainElem.removeClass(me.css.noTopCorners).removeClass(me.css.noBottomCorners);me.listElem.remove();me._selElems=me.listElem=me._itemsHolder=me._ddCont=me._ddScroll=me._noResults=me._q=me._ddOn=me._extraHeight=me._listChanged=me._ddItemBorderFix=me._itemHeightOuter=me._bindLI=null;me._lastScroll=me._virtualTop=me._topID=0;me._activeID=me._scrollTo=-1},destroy:function(){var i,e,elem=this.mainElem,css=this.css,old=this._oldCss,field=this.fieldElem,elem0=this.element;e=elem?elem[0]:null;if(!e){return this}if(this._loadInd){this._loadInd.destroy()}this._doTimer(2);this._listRemove();this.validator(1);if(this._SELECT){elem.remove();elem0.css("display",old.display)}else{field.removeClass(css.nullText).removeClass(css.fieldFocus).removeClass(css.fieldHolder).unbind(this._evts);if(this._swap){field.removeClass(css.field);field.insertBefore(elem);elem.remove()}else{this.buttonElem.remove();this.clearElem.remove();elem.unbind(this._elemEvts).removeClass(css.combo).removeClass(css.hover).removeClass(css.focus).removeClass(css.disabled);field.remove()}for(i in old){if(old.hasOwnProperty(i)){elem0.css(i,old[i])}}old=this._oldAttr;for(i in old){if(old.hasOwnProperty(i)){elem0[0][i]=old[i]}}}this._cascade(false,true);delete this.mainElem;$.Widget.prototype.destroy.apply(this,arguments);return this},_getType:function(v){return v===true||v===false?"bool":v&&v.getTime?"date":typeof v==="number"?"number":"string"},dataBind:function(){var field,ds0,dataOptions,setting,binded,o=this.options,url=o.dataSourceUrl,lod=o.parentComboKey&&o.parentCombo?null:o.loadOnDemandSettings,key=o.responseDataKey,txtKey=o.textKey||o.valueKey,type=o.dataSourceType,vt=o.valueKeyType,tt=o.textKeyType,verb=o.requestType,contentType=o.responseContentType,schema={fields:[]},ds=o.dataSource,dsStr=typeof ds==="string",keys=key?key.split("."):null,len=keys?keys.length-1:-1,i=-1;vt=vt==="auto"?null:vt;if(dsStr&&!type){if($.ig.util.isJsonpUrl(ds)){ds=new $.ig.JSONPDataSource({dataSource:ds})}else{ds=new $.ig.DataSource({dataSource:ds})}}ds0=ds;while(ds0&&i++<len){ds0=ds0[keys[i]]}if(!ds0){ds0=ds;keys=null}else if(keys){schema.searchField=key}field=ds0?ds0[0]:null;if(typeof field==="string"||typeof field==="number"||field&&field.getTime){i=ds0.length;field=ds0;ds0=[];txtKey=txtKey||"x";while(i-->0){ds0[i]={};ds0[i][txtKey]=field[i]}if(keys){field=ds;i=-1;while(++i<len){field=field[keys[i]]}field[keys[len]]=ds0}else{ds=ds0}}dataOptions={callback:this._dataChange,dataSource:ds,requestType:verb,responseContentType:contentType,type:type||undefined,responseDataKey:key,responseTotalRecCountKey:o.responseTotalRecCountKey};field=this._noMouse()||this._cascFilter?null:o.filteringType;this._filtering=field==="local"?1:field==="remote"?-1:0;if(ds0){ds0=ds0[0];for(field in ds0){if(ds0.hasOwnProperty(field)){if(!txtKey){txtKey=o.valueKey=o.textKey=field}i=this._getType(ds0[field]);if(!vt&&field===o.valueKey){o.valueKeyType=vt=i}schema.fields.push({name:field,type:i});if(txtKey!==field&&o.valueKey!==field){o._all=1}}}}if(ds instanceof $.ig.DataSource&&!ds.settings.schema||!(ds instanceof $.ig.DataSource)){dataOptions=$.extend(dataOptions,{schema:schema})}if(ds instanceof $.ig.DataSource){binded=ds._data&&ds._data.length;dataOptions.dataSource=ds.settings.dataSource;ds.settings=$.extend(true,{},ds.settings,dataOptions);ds.settings.callee=this;if(dataOptions.schema){ds._initSchema()}}else{ds=new $.ig.DataSource(dataOptions);ds.settings.callee=this}tt=tt==="auto"?null:tt;schema=vt||tt?ds.schema():null;schema=schema?schema.fields():null;i=schema?schema.length:0;while((i-=1)>=0){field=schema[i];if(vt&&field.name===o.valueKey){field.type=vt}if(tt&&field.name===o.textKey){field.type=tt}}ds._response_data=function(data){var len=data?data.length:0,count=len>0?data[len-1][":totals:"]:null;if(count){data.pop();count=count.split(":");ds.totalRecordsCount(_aNull(len=parseInt(count[0],10),true)?0:len);len=_aNull(len=parseInt(count[1],10),true)?0:len;if(len){o._totalAll=len}}};delete this._lod;if(lod&&lod.enabled&&(url||dsStr)){setting=ds.settings.paging;setting.type="remote";setting.appendPage=setting.enabled=true;setting.pageSizeUrlKey=lod.pageSizeUrlKey||null;setting.pageIndexUrlKey=lod.pageIndexUrlKey||null;if(!_aNull(i=parseInt(o._total,10),true)){ds.totalRecordsCount(i)}lod=parseInt(lod.pageSize||30,10);setting.pageSize=this._lod=_aNull(lod,true)?30:Math.max(lod,5);setting.pageIndex=0}if(this._fire("dataBinding",null,{owner:this,dataSource:ds},1)){this._dataSource=ds;this._keyVal=this._hasData=this._key_=null;this._listRemove();if(binded){this._dataChange()}else{ds.dataBind()}}if(url&&!this._urlBind){setting=ds.settings;setting.dataSource=url;setting.type="remoteUrl";ds._runtimeType=ds.analyzeDataSource();setting.urlParamsEncoded=$.proxy(function(data,params){params=params?params.filteringParams:null;if(params){params.textKey=o.textKey||o.valueKey;params.valueKey=o.valueKey;if(!o.caseSensitive){params.toLower="1"}if(!o._all){params.compact="1"}if(o.parentComboKey){params.cascade=o.parentComboKey}}},this);this._urlBind=1;if(!o.dataSource){ds.dataBind()}}},_cond:function(o,paint){return o.autoComplete?"startsWith":paint||!this._filtering?o.renderMatchItems:o.filteringCondition},_isStrCond:function(cond){return cond==="startsWith"||cond==="endsWith"||cond==="contains"||cond==="doesNotContain"||cond==="empty"||cond==="notEmpty"},_texts:function(txt){var i,len,sepLen,render=txt===1,o=this.options,sep=this._multi(o)?this._sep():null;if(render||_aNull(txt)){txt=this._userTxt||this._oldTxt}else if(typeof txt!=="string"){return[txt]}if(!o.caseSensitive){txt=txt.toLowerCase()}if(!sep){return txt?[txt]:[]}while(txt.indexOf(sep+sep)>0){txt=txt.replace(sep+sep,sep)}sepLen=sep.length;len=txt.length;if(render){if((i=txt.lastIndexOf(sep.charAt(0)))>0&&i===len-1){txt=txt.substring(0,len-=1)}if((i=txt.lastIndexOf(sep))>0&&i===(len-=sepLen)){txt=txt.substring(0,len)}}else if((i=txt.lastIndexOf(sep.charAt(0)))>0&&i===len-1&&sepLen>1){txt+=sep.charAt(1)}if(txt.indexOf(sep)===0){txt=txt.substring(sepLen)}return txt?txt.split(sep):[]},_fillKeys:function(fix){if((fix||!this._keyFixed)&&this._key!==this._key_){var count=this._count;while((count-=1)>=0){this._item(count,2)}}this._keyFixed=1},_wait:function(on){var css=this.css.waitFiltering,load=this._loadInd,elem=this.mainElem,holder=this._itemsHolder;if(on){elem.addClass(css);if(holder){holder.addClass(css)}if(!load&&elem.igLoading){load=elem.igLoading().data("igLoading");if(load){this._loadInd=load=load.indicator()}}if(load){load.show()}}else if(elem){elem.removeClass(css);if(holder){holder.removeClass(css)}if(load){load.hide()}}},filter:function(e,txtNew,noFilter){var filter,key,i=-1,casc=this._cascFilter,txt=casc?this._cascVal:typeof txtNew==="string"?[txtNew]:txtNew instanceof Array?txtNew:this._texts(),len=casc?0:txt.length,cond=len?txt.toString():null,ds=this._dataSource,o=this.options,expr=[],remote=casc===-1||this._filtering<0;if(noFilter||this._hasData&&cond&&this._filterTxt===cond){return}if(this._expr){this._filterNew={txt:txt,e:e};return}this._filterTxt=cond;delete this._filterNew;if(remote&&len>1&&!txt[len-1]){len=0}if(casc){cond="equals";key=this._cascKey;expr.push({fieldName:key,cond:cond,expr:txt})}else{cond=this._cond(o);key=remote||!this._isStrCond(cond)?this._key:this._key_;while((i+=1)<len){expr.push({fieldName:key,cond:cond,expr:txt[i]})}}if(expr.length===0&&!e){return}if(!this._fire("filtering",e,this._expr={owner:this,expression:expr},1)){delete this._expr;
return}if(remote&&this._hasData&&!this._fire("dataBinding",null,{owner:this,dataSource:ds},1)){delete this._expr;return}if(!casc){this._needsSel=txt;this._needsSelEnd=this._multi(o)&&this._sepEnd(this.text())}filter=ds.settings.filtering;filter.caseSensitive=o.caseSensitive;filter.type=o.filteringType;if(remote){this._wait(true);key=o.filterExprUrlKey;if(key){filter.filterExprUrlKey=key}filter.expressions=expr;this._waitFilter=!this._hasData;if(this._lod){txt=txtNew!==null&&txtNew!==undefined?txtNew:this.text();if(this._lodTxt!==txt){this._lodTxt=txt;ds._data=[];ds._dataView=[];ds._filteredDataView=[];ds._cachedDataView=null;ds.settings.paging.pageIndex=0;ds.pageSizeDirty(true)}}ds.dataBind();return}if(expr.length===0||!this._hasData&&!casc){ds.clearLocalFilter()}else{this._fillKeys();ds.filter(expr,"OR",this._noFilter)}this._dataChange(e,true)},_checkExpr:function(){var change,filterNew=this._filterNew,expr=this._expr,len=filterNew&&filterNew.txt?filterNew.txt.length||0:0;if(!filterNew){return}if(expr){expr=expr.expression}if(len!==(expr?expr.length:0)){change=1}while(!change&&(len-=1)>=0){change=filterNew.txt[len]!==expr[len].expr}if(change){delete this._expr;this.filter(filterNew.e,filterNew.txt,this._noFilter);return 1}delete this._filterNew},_fixType:function(val){var fields,type=this.options.valueKeyType;if(!_aNull(val)){if(type==="number"){return typeof val==="number"?val:parseFloat(val)}if(type==="bool"){return val==="true"||val===true}if(type==="date"&&!val.getTime){val=val.toString();fields=val.replace(/[\. :]/g,"-").split("-");return fields.length===7?new Date(parseInt(fields[0],10),parseInt(fields[1],10)-1,parseInt(fields[2],10),parseInt(fields[3],10),parseInt(fields[4],10),parseInt(fields[5],10),parseInt(fields[6],10)):Date.parse(val)}}return val},_initSel:function(o){var item,val,id,ii,custom,more=1,selItems=o.selectedItems,len=selItems?selItems.length:0,i=-1;while(!this._multi(o)&&len>1){selItems.splice(len-=1,1)}id=len;while(id-->0){item=selItems[id];item.value=this._fixType(val=item.value)}custom=o.text||(len===1&&this._custom(o)?val:null);o.text=null;while((i+=1)<this._count&&more){val=this._item(i);more=null;id=len;while((id-=1)>=0){item=selItems[id];if(_aNull(ii=item.index)||ii<0){if(_equals(item.value,val)){if(this.isSelected(i)){selItems.splice(id,1);len-=1}else{item.index=i;item.text=this._item(i,2)}}else{more=1;if(i===this._count-1){selItems.splice(id,1)}}}else{item.value=item.value||this._item(ii);item.text=item.text||this._item(ii,2)}}}if(custom&&(!selItems||!selItems.length)){this.text(custom)}else if(!this.text()||!this._custom(o)){this._updateFromList(null,1)}},_dataChange:function(e,local){var count,txt,selLen,selItems,data,top,firstMatch,fullMatch,firstFullMatch,item,cond,lod=this._lodWait,casc=this._cascFilter,more=!casc,i=-1,actID=-1,sel=this._needsSel,id=-1,keyVal=this._keyVal,key=this._key,dd=this._itemsHolder,ds=this._dataSource,filter=casc||this._filtering,o=this.options;if(!o||!this._multi||this._cascUrl){return}selItems=o.selectedItems;if(casc&&(_aNull(this._cascVal,true)||this._cascVal==="")){filter=false}else{data=ds.dataView()}this._data=data=data||[];this._count=count=top=data.length;if(!this._hasData&&!count&&o.dataSourceUrl&&o.selectedItems){this._urlSel=1}if(!keyVal){keyVal=o.valueKey;if(!keyVal&&data[0]){for(keyVal in data[0]){if(data[0].hasOwnProperty(keyVal)){break}}}this._keyVal=keyVal;key=o.textKey||keyVal;this._key_=this._key=key;this._keyFixed=!o.format;if(!this._keyFixed){this._key_+="_"}}if(count&&!o.valueKeyType){while(++i<count){if(!_aNull(item=this._item(i))){o.valueKeyType=item===true||item===false?"bool":typeof item==="number"?"number":item.getTime?"date":"string";break}}i=selItems?selItems.length:0;while(i-->0){selItems[i].value=this._fixType(selItems[i].value)}this._cascSel=this._fixType(this._cascSel)}if(this._hasData){if(this._checkExpr()){return}if(this._urlSel===1){this._initSel(o);this._urlSel=2}else{if(this._urlSel||lod&&this.selectedIndex()<0&&!o.autoComplete){txt=this.text()}if(!lod){this._activate(-1,e);this._clearSel();this._lastScroll=this._virtualTop=this._topID=0;this._scrollTo=-1}if(dd){if(!lod){dd.empty()}this._listChanged=1}if(txt){this._select(null,txt,2)}}}if(this._expr){if(filter<0){this._fire("dataBound",null,{owner:this,dataSource:ds},1)}if(!this._isStrCond(cond=this._cond(o))){cond="startsWith"}if(this._ddOn||e&&e.type==="keydown"){this._doDrop(1,e)}this._fillKeys(1);selLen=sel&&!casc?sel.length:0;if(casc){this._initSel(o);item=selItems?selItems[0]:null;if(item){while(++id<count){if(item.value===this._item(id)){item.index=id;break}}if(id===count){o.selectedItems=null;this.fieldElem.val("")}}}selItems=[];while((id+=1)<count&&more){txt=this._item(id,2);i=-1;more=null;while((i+=1)<selLen){if(sel[i]){more=1;if(txt&&ds._findMatch(txt,sel[i],"string",!o.caseSensitive,cond)){item=null;if(!selItems[i]){selItems[i]=item=this._createSelItem(id,txt)}fullMatch=txt.length===sel[i].length;if(!firstMatch||fullMatch){firstMatch=1;top=Math.min(top,id);if(fullMatch){if(!firstFullMatch){top=id}firstFullMatch=1;selItems[i]=item||this._createSelItem(id,txt);sel[i]=null;if(!this._multi(o)){id=count+1}break}}}}}}if(selItems[0]){txt=selItems[0].text}while((selLen-=1)>=0){item=selItems[selLen];if(!item||actID<0&&!this._needsSelEnd){if(item){actID=item.index}if(!item||item.text!==txt){selItems.splice(selLen,1)}}}if(!casc){if(this._selChange(selItems,e)){this._selChanged(e);if(this._needsSelEnd){this._updateFromList(e,1,1)}}}if(actID<0&&count){item=this._item(0,2);txt=this.text();if(item&&txt){if(!o.caseSensitive){item=item.toLowerCase();txt=txt.toLowerCase()}if(item.indexOf(txt)===0){actID=0}}}if(actID>=0){this._activate(top=actID,e,1)}this._fixSelScroll(this._scrollTo=top===count?0:top);this._fire("filtered",e,this._expr,1);this._autoComplete(1);this._wait();delete this._waitFilter;delete this._expr}else{if(this._urlSel!==2){txt=this.text();sel=this.selectedIndex();if(txt&&!this._custom(o)&&sel<0){if(!this._hasData||!o.autoComplete){this._select(null,txt,2)}}else{if(e===true&&!_aNull(sel=sel<0?this._cascSel:null)){selItems=null;while(!selItems&&++id<count){if(this._item(id)===sel){selItems=[this._createSelItem(id,null,sel)]}}o.selectedItems=selItems;if(!selItems){this.fieldElem.val("")}delete this._cascSel}if(!casc){this._initSel(o)}}}this._fire("dataBound",null,{owner:this,dataSource:ds},1);if(this._urlSel===2&&!casc){this._noFilter=1;this._updateFromList(null,1);delete this._noFilter;delete this._urlSel}else if(filter){this.filter(null,null,this._noFilter)}if(this._ddOn){this._doDrop(1,e,1)}}if(this._mode(o)>1&&this.selectedIndex()<0&&this.value()===null){this.selectedIndex(0)}if(data.length<1){this._fire("noMatchFound",e,{owner:this,text:this.text()})}this._hasData=1;this._fixClear();this._fixNull();this._save(o);if(this._lodWait&&!local){this._wait();this._fixSel();delete this._lodWait}this._lodLbl();if(_cascWait){more=_cascWait[id=e=this.element[0]];if(!more){more=_cascWait[id=e.id]}count=more?more.length:0;while(count-->0){item=more[count];i=casc=item.options.parentCombo;if(i===id||i==="#"+id){casc=e}else{if(casc&&typeof casc==="string"){casc=$(casc);if(casc.length!==1){casc=$("#"+i)}}if(casc&&casc.element){casc=casc.element[0]}else if(casc&&casc.length===1){casc=casc[0]}}if(casc===e){if(_cascWait){delete _cascWait[id];for(key in _cascWait){if(_cascWait.hasOwnProperty(key)){casc=null;break}}if(casc){_cascWait=undefined}}item._cascade(false,false,this)}}}if(this._valTime===1){delete this._valTime;this.value(this._valLast,true)}},_locale:function(key){var val=this.options[key];if(_aNull(val)){val=$.ig.Combo&&$.ig.Combo.locale?$.ig.Combo.locale[key]:null}return val||""},_titles:function(){var val=this._locale("clearButtonTitle");this.clearElem.attr("title",val).attr("longdesc",val);val=this._locale("dropDownButtonTitle");this.buttonElem.attr("title",val).attr("longdesc",val)},_fire:function(t,e,a,fire){return this._canFire||fire?this._trigger(t,e,a):true},_same:function(old,val){if(old===val){return true}if(!old||!val||typeof val==="string"){return}var p1,p2,item,key,i=val.length;if(i!==old.length||_aNull(i)){return}while(i-->0){item=val[i];if(item&&!old[i]||!item&&old[i]){return}for(key in item){if(item.hasOwnProperty(key)){p1=item[key];p2=old[i][key];if(p1!==p2&&(p1&&!p2||!p1&&p2||!p1.getTime||!p2.getTime||p1.getTime()!==p2.getTime())){return}}}}return true},_setOption:function(key,val){var o=this.options,field=this.fieldElem,elem=this.mainElem;if(this._same(o[key],val)){return this}if(key==="selectedItems"){this._clearSel()}if(key.indexOf("virt")===0||key.indexOf("Match")>0||key.indexOf("empl")>0||key.indexOf("drop")===0||key==="caseSensitive"||key==="format"||key==="enableActiveItem"){o=null;delete this._it}if(key==="multiSelection"||!o){this._listRemove()}$.Widget.prototype._setOption.apply(this,arguments);if(key.indexOf("par")===0||key.indexOf("casc")===0||key.indexOf("useT")===0){this._cascade();return this}if(typeof val==="function"||!o){return this}if(key==="width"||key==="height"||key==="showDropDownButton"){this._lastHeight=null;this._doSize()}else if(key==="selectedItems"||key==="multiSelection"){this._initSel(o);this._updateFromList(null,1);this._fixNull()}else if(key.indexOf("Title")>0){this._titles()}else if(key.indexOf("dataS")===0||key.indexOf("fil")===0||key.indexOf("Key")>0||key.indexOf("OnDem")>0){this._hasData=false;this._lod=this._totalAll=o._totalAll=this._count=0;this.selectedIndex(-1);this.activeIndex(-1);this.dataBind()}else if(key==="enableClearButton"){this._fixClear(1)}else if(key==="tabIndex"||key==="disabled"){field.attr(key,val);this._fixClear()}else if(key==="mode"){field.attr("readOnly",this._mode(o)>0);this._fixClear()}else if(key==="enableDisplayBlock"){elem.css("display",val?"block":"inline-block")}else if(key==="itemSeparator"){this._updateFromList()}else if(key==="text"){this.text(val)}else if(key==="nullText"){this._fixNull()}else if(key==="validatorOptions"){this.validator()}return this}});$.extend($.ui.igCombo,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI shared localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.SharedLocale){$.ig.SharedLocale={};$.extend($.ig.SharedLocale,{locale:{}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI jQuery Shared 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *	jquery-1.4.2.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.util.js
 */
(function($){$.widget("ui.igLoading",{options:{cssClass:null,includeVerticalOffset:true},_indicator:null,_create:function(){var offset,css;css=this.options.cssClass===null?"ui-igloadingmsg":this.options.cssClass;this._hgrid=this.element.closest(".ui-iggrid-root").closest(".ui-iggrid");if(this.element.children("."+css).length===0){this._indicator=$("<span></span>").appendTo(this.element).attr("id",this.element[0].id+"_loading").addClass(css);offset=this.element.offset();this.refreshPos()}this._yShift=this._indicator?Math.round(this._indicator.height()/2):0},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(refresh){if(refresh!==false){this.refreshPos()}if(this._resId){clearInterval(this._resId)}this._resId=setInterval($.proxy(this._resizeContainer,this),300);this._indicator.css("display","").css("visibility","visible")},hide:function(){this._indicator.css("display","none").css("visibility","hidden");clearInterval(this._resId);this._resId=null},_resizeContainer:function(){var offset=this.element.offset();if(offset.top+this.element.innerHeight()/2-this._yShift!==this._indicator.css("top")){this.refreshPos()}},refreshPos:function(){var offset=this.element.offset(),top=offset.top+this.element.innerHeight()/2-this._yShift,left=offset.left+this.element.innerWidth()/2,verticalOffset,relativeOffset;if(this._hgrid.length>0&&top>this._hgrid.offset().top+this._hgrid.height()){return}if(this._hgrid.length>0&&left>this._hgrid.offset().left+this._hgrid.width()){return}if(this.options.includeVerticalOffset&&top>$(window).height()){verticalOffset=($(window).height()-offset.top-$(window).scrollTop())/2;top=$(window).height()-verticalOffset<offset.top?offset.top+verticalOffset:$(window).height()-verticalOffset}relativeOffset=$.ig.util.getRelativeOffset(this._indicator);top-=relativeOffset.top;left-=relativeOffset.left;this._indicator.css("left",left).css("top",top)},destroy:function(){clearInterval(this._resId);this._indicator.remove()}});$.extend($.ui.igLoading,{version:"14.1.20141.2031"});$.widget("ui.igSlider",$.ui.mouse,{options:{animate:false,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:false,css:""}],showBookmarkTitle:true,syncHandleWithBookmark:true},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(options,element){this.options.bookmarks=[];$.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var o=this.options,self=this,css=this.css;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass(css.baseClasses);if(o.disabled){this.element.addClass(css.sliderDisabledClass)}if($(".ui-igslider-handle",this.element).length===0){$("<a href='#'></a>").appendTo(this.element).addClass(css.handleClass)}this.handles=$(".ui-igslider-handle",this.element).addClass("ui-state-default"+" ui-corner-all").bind({click:function(event){event.preventDefault()},mouseover:function(){if(!o.disabled){$(this).addClass("ui-state-hover")}},mouseout:function(){$(this).removeClass("ui-state-hover")},focus:function(){if(!o.disabled){$(".ui-igslider .ui-state-focus").removeClass("ui-state-focus");$(this).addClass("ui-state-focus")}else{$(this).blur()}},blur:function(){$(this).removeClass("ui-state-focus")},keydown:function(event){var ret=true,index=$(this).data("index.ui-igslider-handle"),allowed,curVal,newVal,step;if(self.options.disabled){return}switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:ret=false;if(!self._keySliding){self._keySliding=true;$(this).addClass("ui-state-active");allowed=self._start(event,index);if(allowed===false){return}}break}step=self.options.step;curVal=newVal=self.value();switch(event.keyCode){case $.ui.keyCode.HOME:newVal=self.options.min;break;case $.ui.keyCode.END:newVal=self.options.max;break;case $.ui.keyCode.PAGE_UP:newVal=self._trimValue(curVal+(self.options.max-self.options.min)/this._numpages);break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimValue(curVal-(self.options.max-self.options.min)/this._numpages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self.options.max){return}newVal=self._trimValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self.options.min){return}newVal=self._trimValue(curVal-step);break}self._slide(event,index,newVal);return ret},keyup:function(event){var index=$(this).data("index.ui-igslider-handle");if(self._keySliding){self._keySliding=false;self._stop(event,index);self._change(event,index);$(this).removeClass("ui-state-active")}}}).each(function(i){$(this).data("index.ui-igslider-handle",i)});this.handle=this.handles.eq(0);this._renderBookmarks();this._refreshValue();this._animateOff=false},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var len=this.options.bookmarks.length,i=0,o=this.options,css=this.css,mark,self=this;for(i;i<len;i++){mark=o.bookmarks[i];$("<a href='#'></a>").appendTo(this.element).data("index.ui-igslider-bookmark",i).addClass(mark.disabled?css.bookmarkDisabledClass:css.bookmarkClass).addClass(mark.css&&mark.css.length>0?mark.css:"").css("left",o.min!==o.max?(mark.value-o.min)/(o.max-o.min)*100+"%":"0%")}this.bookmarks=$(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(event){var noCancel=true,bookmarkIndex=$(this).data("index.ui-igslider-bookmark");event.preventDefault();event.stopPropagation();noCancel=self._bookmarkClicked(event,bookmarkIndex);if(self.options.syncHandleWithBookmark&&noCancel){self._slide(event,0,self.options.bookmarks[bookmarkIndex].value)}},mouseover:function(event){if(!o.disabled){$(this).addClass("ui-state-hover");if(self.options.showBookmarkTitle){self._showBookmarkTitle($(this),event)}}},mouseout:function(){if(!o.disabled){$(this).removeClass("ui-state-hover");if(self.options.showBookmarkTitle){self._hideBookmarkTitle($(this))}}},click:function(event){event.preventDefault()}});this._createBookmarkTooltip();this._buildBookmarkHit()}},destroy:function(){this.handles.remove();this.clearBookmarks();this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal"+" ui-igslider-vertical"+" ui-igslider-disabled").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_id:function(suffix){return this.element[0].id+suffix},_showBookmarkTitle:function(bookmark,browserEvent){var tooltip=$("#"+this._id("_tooltip")),title=this.options.bookmarks[bookmark.data("index.ui-igslider-bookmark")].title;if(title&&title.length>0){tooltip.igTooltip("option","text",title);tooltip.css("top",browserEvent.pageY-tooltip.outerHeight()-5).css("left",browserEvent.pageX-tooltip.width()/2+bookmark.width()/2).show()}},_hideBookmarkTitle:function(bookmark){$("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var html='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"></div>';$(html).appendTo($(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){if(this.bookmarks){this.bookmarks.remove()}},_mouseCapture:function(event){var o=this.options,position,normValue,index=0,handle=this.handles.eq(index),self=this,offset,mouseOverHandle;if(o.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);this._mouseSliding=true;self._handleIndex=index;handle.addClass("ui-state-active");if(!$.ig.util.isOpera){handle.focus()}offset=handle.offset();mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-igslider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-handle.width()/2,top:event.pageY-offset.top-handle.height()/2-(parseInt(handle.css("borderTopWidth"),10)||0)-(parseInt(handle.css("borderBottomWidth"),10)||0)+(parseInt(handle.css("marginTop"),10)||0)};this._slide(event,index,normValue);this._animateOff=true;this._mouseUpHandler=function(event){return self._mouseStop(event)};$(document).bind("mouseup."+this.widgetName,this._mouseUpHandler);return true},_mouseStart:function(event){$(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler);return this._start(event,this._handleIndex)},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false},_mouseStop:function(event){var self=this;this.handles.removeClass("ui-state-active");setTimeout(function(){self._mouseSliding=false},1e3);this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){var o=this.options,css=this.css;if(o.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(css.horizontalOrientationClass).addClass(css.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(css.verticalOrientationClass).addClass(css.horizontalOrientationClass)}},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}percentMouse=pixelMouse/pixelTotal;if(percentMouse>1){percentMouse=1}if(percentMouse<0){percentMouse=0}if(this.orientation==="vertical"){percentMouse=1-percentMouse}valueTotal=this.options.max-this.options.min;valueMouse=this.options.min+percentMouse*valueTotal;return this._trimValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this._trigger(this.events.start,event,uiHash)},_slide:function(event,index,newVal){var allowed;if(newVal!==this.value()){allowed=this._trigger(this.events.slide,event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal)}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this._trigger(this.events.stop,event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this._trigger(this.events.change,event,uiHash);this._checkBookmarkHit(uiHash.value,event);if(uiHash.value===this.options.max&&this._marksHit&&this._marksHit.length===0){this._buildBookmarkHit()}}},_checkBookmarkHit:function(currentValue,event){if(this._marksHit&&this._marksHit.length>0&&currentValue>=this._marksHit[0].value){var index=this._marksHit[0].index;this._marksHit.shift();this._bookmarkHit(event,index)}},_buildBookmarkHit:function(){var b=this.options.bookmarks||[],i=b.length-1;this._marksHit=[];for(i;i>=0;i--){if(!b[i].disabled){this._marksHit.push({value:b[i].value,index:i})}}this._marksHit.sort(this._sortBookmarksJSON);this._marksHit=$.extend(true,[],this._marksHit)},_sortBookmarksJSON:function(a,b){return a.value-b.value},_bookmarkClicked:function(event,index){var uiHash={bookmarkElement:this.bookmarks[index],bookmark:this.options.bookmarks[index]};return this._trigger(this.events.bookmarkClick,event,uiHash)},_bookmarkHit:function(event,index){var uiHash={bookmarkElement:this.bookmarks[index],bookmark:this.options.bookmarks[index]};if(uiHash.bookmarkElement){this._trigger(this.events.bookmarkHit,event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimValue(newValue);this._refreshValue();this._change(null,0)}return this._value()},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"disabled":if(value){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":if(this._mouseSliding===true){return}this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"bookmarks":this.clearBookmarks();this._renderBookmarks();break}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(val){if(val<this.options.min){return this.options.min}if(val>this.options.max){return this.options.max}var step=this.options.step>0?this.options.step:1,valModStep=val%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=valModStep>0?step:-step}return parseFloat(alignValue.toFixed(5))},_normPercentValue:function(val){var decrease=0,retVal=val;if(this.orientation==="vertical"){decrease=(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)*100}if(val-decrease>0){retVal=val-decrease}return retVal},_refreshValue:function(){var o=this.options,control=this,animate=!this._animateOff?o.animate:false,_set={},value=this.value(),valueMin=this.options.min,valueMax=this.options.max,valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0;_set[control.orientation==="horizontal"?"left":"bottom"]=this._normPercentValue(valPercent)+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate)}});$.extend($.ui.igSlider,{version:"14.1.20141.2031"});$.widget("ui.igProgressBar",{options:{animate:false,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:false,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:true,widget:function(){return this.element},_detectOrientation:function(){var css=this.css;if(this.options.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(css.horizontalOrientationClass).addClass(css.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(css.verticalOrientationClass).addClass(css.horizontalOrientationClass)}},_id:function(suffix){return this.element[0].id+suffix},_create:function(){var o=this.options,css=this.css;this._detectOrientation();this.element.addClass(css.baseClasses);if(o.disabled){this.element.addClass(css.disabledClass)}if(o.width!=="0px"){this.element.css("width",o.width)}if(o.height!=="0px"){this.element.css("height",o.height)}if(o.orientation==="horizontal"){$('<div id="'+this._id("_progress")+'" class="'+css.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"></div>').appendTo(this.element)}else{$('<div id="'+this._id("_progress")+'" class="'+css.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"></div>').appendTo(this.element)}this._refreshValue()},destroy:function(){this.element.removeClass("ui-igprogressbar"+" ui-igprogressbar-horizontal"+" ui-igprogressbar-vertical"+" ui-igprogressbar-disabled"+" ui-widget"+" ui-widget-content"+" ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar");$("#"+this._id("_progress")).remove();return this},_change:function(event){var uiHash={value:this.value()};this._trigger(this.events.change,event,uiHash)},value:function(newValue){if(arguments.length){this.options.value=this._trimValue(newValue);this._refreshValue();this._change(null)}return this.options.value},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);var o=this.options;switch(key){case"disabled":if(value){this.element.addClass(this.css.disabledClass)}else{this.element.removeClass(this.css.disabledClass)}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animationOff=true;o.value=this._trimValue(value);this._refreshValue();this._change(null);this._animationOff=false;break;case"endValue":o.endValue=this._trimValue(value);this._refreshValue();break;case"max":if(o.endValue>o.max){o.endValue=o.max;this._refreshValue()}break;case"width":this.element.css("width",value);break;case"height":this.element.css("height",value);break;case"animate":o.animate=value;break;case"animateTimeout":o.animateTimeout=value;break;default:break}},_trimValue:function(val){if(val<this.options.min){return this.options.min}if(val>this.options.max){return this.options.max}return parseInt(val,10)},_refreshValue:function(){var o=this.options,value=o.value,valueMin=o.min,valueMax=o.max,valueEnd=o.endValue,valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,valueEndPercent=value!==valueEnd?(valueEnd-value)/(valueMax-valueMin)*100:0,progressBar=$("#"+this._id("_progress"));if(o.range){if(o.orientation==="horizontal"){progressBar.css("left",valPercent+"%").css("width",valueEndPercent+"%")}else{progressBar.css("bottom",valPercent+"%").css("height",valueEndPercent+"%")}}else{if(o.animate===true){if(o.orientation==="horizontal"){if(progressBar[0].style.width==="0%"){progressBar.css({width:"0px"})}if(progressBar.is(":hidden")===false){progressBar.animate({width:valPercent+"%"},o.animateTimeout)}else{progressBar.css("width",valPercent+"%")}}else{if(progressBar[0].style.height==="0%"){progressBar.css({height:"0px"})}if(progressBar.is(":hidden")===false){progressBar.animate({height:valPercent+"%"},o.animateTimeout)}else{progressBar.animate({height:valPercent+"%"},o.animateTimeout)}}}else{if(o.orientation==="horizontal"){progressBar.css("width",valPercent+"%")}else{progressBar.css("height",valPercent+"%")}}}}});$.extend($.ui.igProgressBar,{version:"14.1.20141.2031"});$.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:false,css:null,onlyIcons:false,icons:{primary:null,secondary:null},title:false},_id:function(suffix){return this.element[0].id+suffix},_create:function(){var self=this,o=self.options,e=this.element,inputType,css={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};this._attached=false;o.css=$.extend(css,o.css);self._getInitValues();if(e.is("div")){self._renderDivButton()}else if(e.is("a")){self._renderAHref()}else if(e.is("input")){inputType=e.attr("type").toUpperCase();if(inputType==="BUTTON"||inputType==="SUBMIT"||inputType==="RESET"){self._renderInput()}else{return}}else if(e.is("button")){self._renderButton()}else{return}if(o.width!==null){self._setWidth(o.width)}if(o.height!==null){self._setHeight(o.height)}e.addClass(o.css.buttonClasses).addClass(o.css.buttonDefaultClasses);if(o.centerLabel===true){self._centerLabel()}if(o.disabled){self._disableButton()}else{self._enableButton()}self._setOnlyIcons();e.attr("role","button");e.attr("aria-disabled","false");self._attachButtonEvents();self.setTitle(o.title);return this},setTitle:function(title){var e=this.element;if(title===false){e.removeAttr("title")}else{e.attr("title",title)}},widget:function(){return this.element},_isRedirect:function(){return this.options.link.href!==null},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLinkOptions(true);this._setLabel()},_renderInput:function(){var e=this.element;e.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var self=this,e=self.element;e.addClass(self.options.css.buttonDisabledClass);if(e.is("a")===true){e.removeAttr("href");e.removeAttr("target");e.removeAttr("title")}else{e.attr("disabled","true")}},_enableButton:function(){var self=this,e=self.element,o=this.options;if(e.hasClass(o.css.buttonDisabledClass)){e.removeClass(o.css.buttonDisabledClass)}e.removeAttr("disabled");if(e.is("a")===true){self._setLinkOptions(true)}},_setLabel:function(){var e=this.element,o=this.options,icons=o.icons,css=o.css,html="",isSetPrimary=this._isSetPrimaryIcon(),isSetSecondary=this._isSetSecondaryIcon(),labelText=o.labelText===null||o.labelText===""?e.text():o.labelText;e.attr("title",o.labelText);if(e.is("input")){e.attr("value",o.labelText);return}if(isSetPrimary){html+='<span class="'+css.buttonPrimaryIconClass+" "+icons.primary+'" id="'+this._id("_picn")+'"></span>'}html+='<span class="'+o.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+labelText+"</span>";if(isSetSecondary){html+='<span class="'+css.buttonSecondaryIconClass+" "+icons.secondary+'" id="'+this._id("_sicn")+'"></span>'}if(isSetPrimary&&isSetSecondary&&!o.onlyIcons){e.addClass(css.buttonIcons)}else if(o.onlyIcons){this._setOnlyIcons()}else if(isSetPrimary){e.addClass(css.buttonMainElementPrimaryIconClass)}else if(isSetSecondary){e.addClass(css.buttonMainElementSecondaryIconClass)}else{e.addClass(css.buttonTextOnlyClass)}e.html(html)},_setOnlyIcons:function(){var e=this.element,css=this.options.css;if(this.options.onlyIcons===false){if(e.hasClass(css.buttonIconsOnly)){e.removeClass(css.buttonIconsOnly)}if(e.hasClass(css.buttonIconOnly)){e.removeClass(css.buttonIconOnly)}if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){e.addClass(css.buttonIcons)}}else{if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){e.addClass(css.buttonIconsOnly)}else{e.addClass(css.buttonIconOnly)}}},_setLinkOptions:function(isAHref){var self=this,e=self.element,o=this.options;if(isAHref){if(o.link!==null&&o.link.href!==null){e.attr("href",o.link.href)}else{e.removeAttr("href")}if(o.link!==null&&o.link.target!==null){e.attr("target",o.link.target)}else{e.removeAttr("target")}if(o.link!==null&&o.link.title!==null){e.attr("title",o.link.title)}else{e.removeAttr("title")}}},_setWidth:function(value){var e=this.element;if(value===null){e.css("width","")}else{e.css("width",value)}},_setHeight:function(value){var e=this.element;if(value===null){e.css("height","")}else{e.css("height",value)}},_setOption:function(key,val){var e=this.element,self=this;$.Widget.prototype._setOption.apply(this,[key,val]);switch(key){case"width":self._setWidth(val);break;case"height":self._setHeight(val);break;case"link":self._setLinkOptions(e.is("a")===true);break;case"disabled":val=Boolean(val);if(val===true){self._disableButton()}else{self._enableButton()}break;case"labelText":self._setLabel();break;case"centerLabel":val=Boolean(val);if(val){self._centerLabel()}else{self._removeCenterLabel()}break;case"onlyIcons":val=Boolean(val);self._setOnlyIcons();break;case"icons":self._setLabel();break;case"title":self.setTitle(val);break;default:break}},_centerLabel:function(){var self=this,e=self.element,l=$("#"+self._id("_lbl")),left=(e.width()-l.width())/2,top=(e.height()-l.height())/2;l.css({position:"relative",top:top+"px",left:left+"px"})},_removeCenterLabel:function(){var self=this,l=$("#"+self._id("_lbl"));if(l.length>0){l.css({position:"",top:"",left:""})}},_dettachEvents:function(){var self=this,e=self.element;this._attached=false;e.unbind(this._events);return},_onMouseOver:function(event){var noCancel;if(this.options.disabled===true){return}noCancel=this._trigger("mouseover",event);if(noCancel){this.element.addClass(this.options.css.buttonHoverClasses)}},_onMouseOut:function(event){var self=this,e=self.element,o=this.options,noCancel;if(o.disabled===true){return}noCancel=self._trigger("mouseout",event);if(noCancel){e.removeClass(o.css.buttonHoverClasses)}},_onClick:function(event){var e=this.element,self=this,o=this.options,noCancel;if(o.disabled===true){return}noCancel=self._trigger("click",event);if(noCancel){this.element.removeClass(o.css.buttonHoverClasses);if(self._isRedirect()===true&&e.is("a")===false){if(o.link.target==="_blank"){window.open(o.link.href)}else{window.location=o.link.href}}}},_onMouseDown:function(event){var e=this.element,o=this.options,noCancel;if(o.disabled===true){return}noCancel=this._trigger("mousedown",event);if(noCancel){e.removeClass(o.css.buttonHoverClasses);e.addClass(o.css.buttonActiveClasses)}},_onMouseUp:function(event){var o=this.options,noCancel;if(o.disabled===true){return}noCancel=this._trigger("mouseup",event);if(noCancel){this.element.removeClass(o.css.buttonHoverClasses);this.element.removeClass(o.css.buttonActiveClasses)}},_onFocus:function(event){var o=this.options,noCancel;if(o.disabled===true){return}noCancel=this._trigger("focus",event);if(noCancel){this.element.addClass(o.css.buttonFocusClasses)}},_onBlur:function(event){var o=this.options,noCancel;if(o.disabled===true){return}noCancel=this._trigger("blur",event);if(noCancel){this.element.removeClass(o.css.buttonActiveClasses);this.element.removeClass(o.css.buttonFocusClasses)}},_onKeyDown:function(event){var o=this.options;if(o.disabled===true){return}this._trigger("keydown",event)},_attachButtonEvents:function(){var self=this,e=self.element;if(this._attached===true){return}this._attached=true;this._events={mouseover:function(e){self._onMouseOver(e,self)},click:function(e){self._onClick(e)},mouseout:function(e){self._onMouseOut(e)},mousedown:function(e){self._onMouseDown(e)},mouseup:function(e){self._onMouseUp(e)},focus:function(e){self._onFocus(e)},blur:function(e){self._onBlur(e)},keydown:function(e){self._onKeyDown(e)}};e.bind(this._events)},_isSetPrimaryIcon:function(){var primary=this.options.icons.primary,isSet=false;if(primary!==undefined&&primary!==null){isSet=true}return isSet},_isSetSecondaryIcon:function(){var secondary=this.options.icons.secondary,isSet=false;if(secondary!==undefined&&secondary!==null){isSet=true}return isSet},_setAttribute:function(e,attr,attrName){if(attr!==undefined&&attr!==""&&attr!==null){e.attr(attrName,attr)}else{e.removeAttr(attrName)}},destroy:function(){this._dettachEvents();this._rollbackInitValues();this._events=null;$.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var e=this.element;this._innerHTML=e.html();this._cssClasses=e.attr("class");this._role=e.attr("role");this._href=e.attr("href");this._title=e.attr("title");this._target=e.attr("target");this._width=e.attr("width");this._height=e.attr("height");this._disabled=e.attr("disabled");this._value=e.val()},_rollbackInitValues:function(){var e=this.element;e.html(this._innerHTML);if(e.is("a")){this._setAttribute(e,this._href,"href");this._setAttribute(e,this._target,"target")}else if(e.is("input")){e.val(this._value)}this._setAttribute(e,this._title,"title");this._setAttribute(e,this._width,"width");this._setAttribute(e,this._height,"height");this._setAttribute(e,this._cssClasses,"class");this._setAttribute(e,this._role,"role");this._setAttribute(e,this._disabled,"disabled")}});$.extend($.ui.igButton,{version:"14.1.20141.2031"});$.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igpopover ui-igplayer-tooltip",arrowImageBaseClass:"ui-igpopover-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"text":$("div.ui-widget-content",this.element).html(value);break;case"arrowLocation":$("div",this.element).remove();this._renderTooltip();break}},_create:function(){if(this.element.is("div")){this._renderTooltip();this.element.addClass(this.css.baseClasses)}},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv();this._createContentDiv();break;case"bottom":this._createContentDiv();this._createArrowDiv();break;case"left":break;case"right":break}},_createContentDiv:function(){var t=this.options.text&&this.options.text.length>0?this.options.text:"";$('<div class="ui-widget-content ui-corner-all">'+t+"</div>").appendTo(this.element)},_createArrowDiv:function(){$('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"></div>').appendTo(this.element)},destroy:function(){this.element.children().remove();this.element.removeClass(this.css.baseClasses)}});$.extend($.ui.igTooltip,{version:"14.1.20141.2031"});$.widget("ui.mouseWrapper",$.ui.mouse,{options:{cancel:":input,option",distance:1,delay:0},events:{start:"start",drag:"drag",stop:"stop",capture:"capture"},_create:function(){var self=this,originalMouseDown=this._mouseDown;if($.ig.util.isIE9){this._mouseDown=function(event){var originalPreventDefault=event.preventDefault,result;event.preventDefault=function(){};result=originalMouseDown.apply(self,[event]);event.preventDefault=originalPreventDefault;return result}}this._mouseInit()},destroy:function(){this._mouseDestroy();return this},_mouseStart:function(event){return this._trigger(this.events.start,event)},_mouseDrag:function(event){return this._trigger(this.events.drag,event)},_mouseStop:function(event){return this._trigger(this.events.stop,event)},_mouseCapture:function(event){return this._trigger(this.events.capture,event)}});$.widget("ui.igResponsiveContainer",{options:{pollingInterval:500},_createWidget:function(options,element){this._callbacks=[];this._element=element;this._pollerHandler=$.proxy(this._pollerTick,this);this._startPoller();this._width=this._getCurrentWidth();this._height=this._getCurrentHeight();$.Widget.prototype._createWidget.apply(this,arguments)},destroy:function(){this._stopPoller();this._callbacks=[];$.Widget.prototype.destroy.call(this);return this},startPoller:function(){this._startPoller()},stopPoller:function(){this._stopPoller()},removeCallback:function(callbackId){if(callbackId>=0&&callbackId<this._callbacks.length){this._callbacks.splice(callbackId,1)}},addCallback:function(callback,owner,reactionStep,reactionDirection){return this._callbacks.push({callback:callback,owner:owner,step:reactionStep,left:reactionDirection==="xy"||reactionDirection==="x",top:reactionDirection==="xy"||reactionDirection==="y",cWidth:this._getCurrentWidth(),cHeight:this._getCurrentHeight()})-1},_startPoller:function(){this._intervalId=setInterval(this._pollerHandler,this.options.pollingInterval)},_stopPoller:function(){if(this._intervalId){clearInterval(this._intervalId);delete this._intervalId}},_pollerTick:function(){var nw=this._getCurrentWidth(),nh=this._getCurrentHeight(),cb,i,called=false;for(i=0;i<this._callbacks.length;i++){cb=this._callbacks[i];if(cb.left===true){if(Math.abs(cb.cWidth-nw)>cb.step){cb.callback.apply(cb.owner,[nw,nh]);cb.cWidth=nw;cb.cHeight=nh;called=true}}if(cb.top===true&&called===false){if(Math.abs(cb.cHeight-nh)>cb.step){cb.callback.apply(cb.owner,[nw,nh]);cb.cWidth=nw;cb.cHeight=nh}}}this._width=nw;this._height=nh},_getCurrentWidth:function(){return this._element.offsetWidth},_getCurrentHeight:function(){return this._element.offsetHeight}});$.extend($.ui.igResponsiveContainer,{version:"14.1.20141.2031"});if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("ig.ui.shared",["ig.util","jquery.ui.core","jquery.ui.widget"],function(){return $.ui.igLoading
})}})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Grid localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.Grid){$.ig.Grid={};$.extend($.ig.Grid,{locale:{noSuchWidget:"No such widget loaded: ",autoGenerateColumnsNoRecords:"autoGenerateColumns is enabled, but there are no records in the data source in order to determine the columns",optionChangeNotSupported:"Changing the following option after the igGrid has been created is not supported:",optionChangeNotScrollingGrid:"The following option cannot be changed after the grid is created because your initial grid is not scrolling and full re-rendering is required:",noPrimaryKeyDefined:"There is no primary key defined for the grid. In order to use features such as Grid Editing, you will need to define a primary key.",indexOutOfRange:"The row index you have specified is out of range.",noSuchColumnDefined:"The specified column key does not match any of the defined grid columns.",columnIndexOutOfRange:"The specified column index is out of range.",recordNotFound:"The record with the specified id could not be found in the data view:",columnNotFound:"No column was found matching key:",colPrefix:"Column ",columnVirtualizationRequiresWidth:"You have virtualization / columnVirtualization set to true, but no width could be inferred for grid columns. You should set one of a) grid width, b) defaultColumnWidth, c) define width for each column",virtualizationRequiresHeight:"You have virtualization set to true which requires grid height to be set too.",colVirtualizationDenied:"columnVirtualization is applicable for fixed virtualization only",noColumnsButAutoGenerateTrue:"You have autoGenerateColumns set to false, but there are no columns defined in the grid. Please set autoGenerateColumns to true, or specify columns manually",noPrimaryKey:"the igHierarchicalGrid widget requires a primary key to be defined.",templatingEnabledButNoTemplate:"You have jQueryTemplating set to true, but there is no rowTemplate defined.",expandTooltip:"Expand Row",collapseTooltip:"Collapse Row",movingNotAllowedOrIncompatible:"Moving of the requested column could not be completed. The column was not found or the result was not compatible with the column layout."}});$.ig.GridFiltering=$.ig.GridFiltering||{};$.extend($.ig.GridFiltering,{locale:{startsWithNullText:"Starts with...",endsWithNullText:"Ends with...",containsNullText:"Contains...",doesNotContainNullText:"Does not contain...",equalsNullText:"Equals...",doesNotEqualNullText:"Does not equal...",greaterThanNullText:"Greater than...",lessThanNullText:"Less than...",greaterThanOrEqualToNullText:"Greater than or equal to...",lessThanOrEqualToNullText:"Less than or equal to...",onNullText:"On...",notOnNullText:"Not on...",afterNullText:"After",beforeNullText:"Before",emptyNullText:"Empty",notEmptyNullText:"Not empty",nullNullText:"Null",notNullNullText:"Not null",startsWithLabel:"Starts with",endsWithLabel:"Ends with",containsLabel:"Contains",doesNotContainLabel:"Does not contain",equalsLabel:"Equals",doesNotEqualLabel:"Does not equal",greaterThanLabel:"Greater than",lessThanLabel:"Less than",greaterThanOrEqualToLabel:"Greater than or equal to",lessThanOrEqualToLabel:"Less than or equal to",trueLabel:"True",falseLabel:"False",afterLabel:"After",beforeLabel:"Before",todayLabel:"Today",yesterdayLabel:"Yesterday",thisMonthLabel:"This month",lastMonthLabel:"Last month",nextMonthLabel:"Next month",thisYearLabel:"This year",lastYearLabel:"Last year",nextYearLabel:"Next year",clearLabel:"Clear Filter",noFilterLabel:"No",onLabel:"On",notOnLabel:"Not on",advancedButtonLabel:"Advanced",filterDialogCaptionLabel:"ADVANCED SEARCH",filterDialogConditionLabel1:"Show records matching ",filterDialogConditionLabel2:" of the following criteria",filterDialogOkLabel:"Search",filterDialogCancelLabel:"Cancel",filterDialogAnyLabel:"ANY",filterDialogAllLabel:"ALL",filterDialogAddLabel:"Add",filterDialogErrorLabel:"Maximum filters count exceeded.",filterSummaryTitleLabel:"Search results",filterSummaryTemplate:"${matches} matching records",filterDialogClearAllLabel:"Clear ALL",tooltipTemplate:"${condition} filter applied",featureChooserText:"Hide Filter",featureChooserTextHide:"Show Filter",featureChooserTextAdvancedFilter:"Advanced Filter",virtualizationSimpleFilteringNotAllowed:"When horizontal virtualization is enabled, simple filtering (filter row) is not supported. Please set mode to 'advanced' and/or do not enable advancedModeEditorsVisible",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use loader or use one of the combined script files."}});$.ig.GridGroupBy=$.ig.GridGroupBy||{};$.extend($.ig.GridGroupBy,{locale:{emptyGroupByAreaContent:"Drag a column here or {0} to Group By",emptyGroupByAreaContentSelectColumns:"select columns",emptyGroupByAreaContentSelectColumnsCaption:"select columns",expandTooltip:"Expand Grouped Row",collapseTooltip:"Collapse Grouped Row",removeButtonTooltip:"Remove Grouped Column",featureChooserText:"Ungroup By",featureChooserTextHide:"Group By",modalDialogCaptionButtonDesc:"Click to sort ascending",modalDialogCaptionButtonAsc:"Click to sort descending",modalDialogCaptionButtonUngroup:"Click to ungroup",modalDialogGroupByButtonText:"Group By",modalDialogCaptionText:"Add to Group By",modalDialogDropDownLabel:"Showing:",modalDialogClearAllButtonLabel:"clear all",modalDialogRootLevelHierarchicalGrid:"root",modalDialogDropDownButtonCaption:"Click to show/hide",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel"}});$.ig.GridHiding=$.ig.GridHiding||{};$.extend($.ig.GridHiding,{locale:{columnChooserDisplayText:"Column Chooser",hiddenColumnIndicatorTooltipText:"Hidden Column(s)",columnHideText:"Hide",columnChooserCaptionLabel:"Column Chooser",columnChooserCheckboxesHeader:"view",columnChooserColumnsHeader:"column",columnChooserCloseButtonTooltip:"Close",hideColumnIconTooltip:"Hide",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",columnChooserShowText:"Show",columnChooserHideText:"Hide",columnChooserResetButtonLabel:"reset",columnChooserButtonApplyText:"Apply",columnChooserButtonCancelText:"Cancel"}});$.ig.GridPaging=$.ig.GridPaging||{};$.extend($.ig.GridPaging,{locale:{pageSizeDropDownLabel:"Show ",pageSizeDropDownTrailingLabel:"records",nextPageLabelText:"next",prevPageLabelText:"prev",firstPageLabelText:"",lastPageLabelText:"",currentPageDropDownLeadingLabel:"Pg",currentPageDropDownTrailingLabel:"of ${count}",currentPageDropDownTooltip:"Choose page index",pageSizeDropDownTooltip:"Choose number of records per page",pagerRecordsLabelTooltip:"Current records range",prevPageTooltip:"go to the previous page",nextPageTooltip:"go to the next page",firstPageTooltip:"go to the first page",lastPageTooltip:"go to the last page",pageTooltipFormat:"page ${index}",pagerRecordsLabelTemplate:"${startRecord} - ${endRecord} of ${recordCount} records"}});$.ig.GridSelection=$.ig.GridSelection||{};$.extend($.ig.GridSelection,{locale:{persistenceImpossible:"Persisting selection between states requires igGrid's primaryKey option to be set. To avoid receiving this error please define a primary key or disable persistence."}});$.ig.GridRowSelectors=$.ig.GridRowSelectors||{};$.extend($.ig.GridRowSelectors,{locale:{selectionNotLoaded:"igGridSelection is not initialized. To avoid receiving this error message please enable the Selection feature for the grid or set the requireSelection property of the Row Selectors feature to false."}});$.ig.GridSorting=$.ig.GridSorting||{};$.extend($.ig.GridSorting,{locale:{sortedColumnTooltipFormat:"sorted ${direction}",unsortedColumnTooltip:"click to sort column",ascending:"ascending",descending:"descending",modalDialogSortByButtonText:"sort by",modalDialogResetButton:"reset",modalDialogCaptionButtonDesc:"Click to sort descending",modalDialogCaptionButtonAsc:"Click to sort ascending",modalDialogCaptionButtonUnsort:"Click to remove sorting",featureChooserText:"Sort on Multiple",modalDialogCaptionText:"Sort Multiple",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel",sortingHiddenColumnNotSupport:"Sorting hidden column is not supported",featureChooserSortAsc:"Sort A to Z",featureChooserSortDesc:"Sort Z to A"}});$.ig.GridSummaries=$.ig.GridSummaries||{};$.extend($.ig.GridSummaries,{locale:{featureChooserText:"Hide Summaries",featureChooserTextHide:"Show Summaries",dialogButtonOKText:"OK",dialogButtonCancelText:"Cancel",emptyCellText:"",summariesHeaderButtonTooltip:"Show/hide summaries",defaultSummaryRowDisplayLabelCount:"Count",defaultSummaryRowDisplayLabelMin:"Min",defaultSummaryRowDisplayLabelMax:"Max",defaultSummaryRowDisplayLabelSum:"Sum",defaultSummaryRowDisplayLabelAvg:"Avg",defaultSummaryRowDisplayLabelCustom:"Custom",calculateSummaryColumnKeyNotSpecified:"Please specify column key to calculate summary",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files."}});$.ig.GridUpdating=$.ig.GridUpdating||{};$.extend($.ig.GridUpdating,{locale:{doneLabel:"Done",doneTooltip:"Stop editing and update",cancelLabel:"Cancel",cancelTooltip:"Stop editing and do not update",addRowLabel:"Add new row",addRowTooltip:"Click to start adding new row",deleteRowLabel:"",deleteRowTooltip:"Delete row",igEditorException:"The updating for ui.igGrid requires ui.igEditor to be loaded",igComboException:"In order to use the combo type for ui.igGrid, the ui.igCombo should be loaded",igRatingException:"In order to use the igRating as editor for ui.igGrid, the ui.igRating should be loaded",igValidatorException:"Validation options defined in igGridUpdating require ui.igValidator to be loaded",noPrimaryKeyException:'In order to support update operations after a row was deleted, application should define "primaryKey" in options of igGrid.',hiddenColumnValidationException:"Cannot edit row which has a hidden column with enabled validation.",dataDirtyException:'Grid has pending transactions which may affect rendering of data. To prevent exception, application may enable "autoCommit" option of igGrid, or it should process "dataDirty" event of igGridUpdating and return false. While processing that event, application also may do "commit()" data in igGrid.',rowEditDialogCaptionLabel:"Edit row data"}});$.ig.ColumnMoving=$.ig.ColumnMoving||{};$.extend($.ig.ColumnMoving,{locale:{movingDialogButtonApplyText:"Apply",movingDialogButtonCancelText:"Cancel",movingDialogCaptionButtonDesc:"Move Down",movingDialogCaptionButtonAsc:"Move Up",movingDialogCaptionText:"Move Columns",movingDialogDisplayText:"Move Columns",dropDownMoveLeftText:"Move Left",dropDownMoveRightText:"Move Right",dropDownMoveFirstText:"Move First",dropDownMoveLastText:"Move Last",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",movingToolTipMove:"Move",featureChooserSubmenuText:"Move To"}});$.ig.ColumnFixing=$.ig.ColumnFixing||{};$.extend($.ig.ColumnFixing,{locale:{headerFixButtonText:"Click to fix this column",headerUnfixButtonText:"Click to unfix this column",featureChooserTextFixedColumn:"Fix column",featureChooserTextUnfixedColumn:"Unfix column",groupByNotSupported:"igGridGroupBy is not supported with ColumnFixing",virtualizationNotSupported:"Virtualization is not supported with ColumnFixing",columnMovingNotSupported:"igGridColumnMoving is not supported with ColumnFixing",hidingNotSupported:"igGridHiding is not supported with ColumnFixing",hierarchicalGridNotSupported:"igHierarchicalGrid is not supported with ColumnFixing",responsiveNotSupported:"igGridResponsive is not supported with ColumnFixing",noGridWidthHeightNotSupported:"When grid hasn't width and height Column Fixing is not supported"}});$.ig.GridLoadOnDemand=$.ig.GridLoadOnDemand||{};$.extend($.ig.GridLoadOnDemand,{locale:{loadMoreDataButtonText:"Load more data",loadOnDemandRequiresHeight:"Load On Demand feature requires height",groupByNotSupported:"igGridGroupBy is not supported with LoadOnDemand",pagingNotSupported:"igGridPaging is not supported with LoadOnDemand",cellMergingNotSupported:"igGridCellMerging is not supported with LoadOnDemand",virtualizationNotSupported:"virtualization is not supported with LoadOnDemand"}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Grid 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on: 
 *	jquery-1.4.4.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.dataSource.js
 *	infragistics.ui.shared.js
 *	infragistics.util.js
 */
if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function($){var _hovTR,_aNull=function(val){return val===null||val===undefined};$.widget("ui.igGrid",{css:{baseClass:"ui-widget ui-helper-clearfix ui-corner-all",baseContentClass:"ui-widget-content",gridClasses:"ui-iggrid",recordClass:"ui-ig-record ui-iggrid-record",recordAltClass:"ui-ig-altrecord ui-iggrid-altrecord",headerClass:"ui-iggrid-header ui-widget-header",headerTextClass:"ui-iggrid-headertext",headerCellFeatureEnabledClass:"ui-iggrid-headercell-featureenabled",baseHeaderClass:"ui-widget-header",gridTableClass:"ui-iggrid-table ui-widget-content",gridHeaderTableClass:"ui-iggrid-headertable",gridFooterTableClass:"ui-iggrid-footertable ui-widget-footer",gridFooterClass:"",gridCaptionTableClass:"ui-iggrid-captiontable",gridHeaderCaptionClass:"ui-iggrid-headercaption ui-widget-header ui-corner-top",gridTableBodyClass:"ui-iggrid-tablebody",gridScrollDivClass:"ui-iggrid-scrolldiv ui-widget-content",gridFooterCaptionClass:"ui-iggrid-footercaption",deletedRecord:"ui-iggrid-deletedrecord",modifiedRecord:"ui-iggrid-modifiedrecord",rtl:"ui-iggrid-rtl"},options:{width:null,height:null,autoAdjustHeight:true,avgRowHeight:25,avgColumnWidth:null,defaultColumnWidth:null,autoGenerateColumns:true,virtualization:false,virtualizationMode:"fixed",requiresDataBinding:true,rowVirtualization:false,columnVirtualization:false,virtualizationMouseWheelStep:null,adjustVirtualHeights:false,rowTemplate:null,jQueryTemplating:false,templatingEngine:"infragistics",columns:[{headerText:null,key:null,formatter:null,format:null,dataType:"string",width:null,hidden:false,template:null,unbound:false,group:[],rowspan:0,formula:null,unboundValues:null}],dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseTotalRecCountKey:null,requestType:"GET",responseContentType:"application/json; charset=utf-8",showHeader:true,showFooter:true,fixedHeaders:true,fixedFooters:true,caption:null,features:[{}],tabIndex:0,accessibilityRendering:false,localSchemaTransform:true,primaryKey:null,serializeTransactionLog:true,autoCommit:false,aggregateTransactions:false,autoFormat:"date",renderCheckboxes:false,updateUrl:null,restSettings:{create:{url:null,template:null,batch:false},update:{url:null,template:null,batch:false},remove:{url:null,template:null,batch:false},encodeRemoveInRequestUri:true,contentSerializer:null,contentType:"application/json; charset=utf-8"},alternateRowStyles:true,autofitLastColumn:true,enableHoverStyles:true,enableUTCDates:false,mergeUnboundColumns:false,jsonpRequest:false,enableResizeContainerCheck:true},events:{cellClick:"cellClick",dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",dataRendering:"dataRendering",dataRendered:"dataRendered",headerRendering:"headerRendering",headerRendered:"headerRendered",footerRendering:"footerRendering",footerRendered:"footerRendered",headerCellRendered:"headerCellRendered",rowsRendering:"rowsRendering",rowsRendered:"rowsRendered",schemaGenerated:"schemaGenerated",columnsCollectionModified:"columnsCollectionModified",requestError:"requestError",created:"igcontrolcreated",destroyed:"igcontroldestroyed"},resizeTimeout:300,speedupDOMCleanup:false,cloneChildElements:false,widget:function(){return this.element},_createWidget:function(options,element){this.options.columns=[];this.options.features=[];if(options&&options.dataSource&&($.type(options.dataSource)==="array"||$.type(options.dataSource)==="object")){this.tmpDataSource=options.dataSource;options.dataSource=null;this._originalOptions=options}$.Widget.prototype._createWidget.apply(this,arguments)},_setOption:function(key,value){var header,isScrolling,hasWidthInPercent=this._gridHasWidthInPercent(),caption;if(value===this.options[key]){return}isScrolling=this.options.height!==null||this.options.width!==null;$.Widget.prototype._setOption.apply(this,arguments);if(key==="virtualization"||key==="autoGenerateColumns"||key==="accessibilityRendering"||key==="rowVirtualization"||key==="columnVirtualization"||key==="fixedHeaders"||key==="scrollbars"){throw new Error($.ig.Grid.locale.optionChangeNotSupported+" "+key)}if(key==="width"){if(isScrolling===true){this.container().css("width",value);this.element.css("width",value);if(this.options.fixedHeaders){this.headersTable().css("width",value)}if(!this._allColumnWidthsInPercentage||!hasWidthInPercent){if(this.options.virtualization===true||this.options.columnVirtualization===true||this.options.rowVirtualization===true){this._gridInnerWidth=this._vdisplaycontainer().width()+this._scrollbarWidth()}else{this._gridInnerWidth=this.scrollContainer().width()}}if(this.options.width!==null&&this.options.height!==null){this._updateGridContentWidth()}}else{throw new Error($.ig.Grid.locale.optionChangeNotScrollingGrid+" "+key)}}else if(key==="height"){if(isScrolling===true){this.scrollContainer().css("overflow-y","auto");if(this.options.autoAdjustHeight){this.container().css("height",value);this._virtualHeightReset=true;this._initializeHeights()}else{this.scrollContainer().css("height",value)}}else{throw new Error($.ig.Grid.locale.optionChangeNotScrollingGrid+" "+key)}}else if(key==="dataSource"){this.options.dataSource=value;this.dataBind()}else if(key==="showHeader"){header=this.headersTable();if(header.length>0&&header.is("table")){if(value===true){header.show()}else{header.hide()}}else{header=this.element.find("thead tr");if(value===true){header.show()}else{header.hide()}}}else if(key==="caption"){caption=this._caption();if(caption.length===0){this._renderCaption();if(this.options.autoAdjustHeight){this._initializeHeights()}}else{caption.text(value)}}},_initialized:false,_headersInitialized:false,_footerInitialized:false,_create:function(){var grid=this,i,container,attr;this._isHierarchicalGrid=false;this._hasUnboundColumns=false;if(this.options._isHierarchicalGrid===true){this._isHierarchicalGrid=true}if(this.cloneChildElements&&this.element.is("table")&&this.element.children().length>0){this._initialChildren=this.element.children().clone(true)}this._initialAttributes=[];attr=this.element[0].attributes;for(i=0;i<attr.length;i++){if(attr[i].name!=="id"){this._initialAttributes.push({name:attr[i].name,value:attr[i].value})}}this._rtl=this.element.css("direction")==="rtl";this._padding=this._rtl?"padding-left":"padding-right";if(this.tmpDataSource!==null&&this.tmpDataSource!==undefined){this.options.dataSource=this.tmpDataSource;this._originalOptions.dataSource=this.tmpDataSource}this._testInnerHtml();this._headerInitCallbacks=[];this._footerInitCallbacks=[];this._cellStyleSubscribers=[];this._firstBind=true;this._isMultiColumnGrid=false;this._unboundValues={};if(this._isMultiColumnHeader()===true){this._isMultiColumnGrid=true;this._generateColumnFlatStructure(this.options.columns);this._headerCells=[]}if(this.options.rowVirtualization===true&&this.options.virtualizationMode==="continuous"){this.options.virtualization=true}if(this.options.columnVirtualization===true){this.options.virtualization=true;if(this.options.virtualizationMode==="continuous"){throw new Error($.ig.Grid.locale.colVirtualizationDenied)}this.options.virtualizationMode="fixed"}if(this.options.virtualization===true||this.options.columnVirtualization===true||this.options.rowVirtualization===true){if(this.options.virtualizationMode===undefined||this.options.virtualizationMode===""){this.options.virtualizationMode="fixed"}if(this.options.virtualizationMode==="fixed"){this.options.fixedHeaders=true;this.options.fixedFooters=true}}if(this.options.virtualization===true&&this.options.virtualizationMode==="continuous"){this.options.fixedHeaders=true}if((this.options.height===null||parseInt(this.options.height,10)<=0)&&this.options.fixedHeaders===true){this.options.fixedHeaders=false}if((this.options.height===null||parseInt(this.options.height,10)<=0)&&this.options.fixedFooters===true){this.options.fixedFooters=false}this.dataBind(true);this._cellClickHandler=function(event){var $et=$(event.target),row=$et.closest("tr"),key=row.attr("data-id"),colKey,$td,res,colIndex=$et.closest("td").index(),dataColIndex=colIndex-row.children("td.ui-iggrid-expandcolumn,th").length;if(key===""||key===null||key===undefined){key=row.index()}if(grid.hasFixedColumns()){$td=$(event.target);if(!$td.is("td")){$td=$(event.target).closest("td")}if($td.length===1){res=grid._getColumnByTD($td);if(res!==null){colKey=res.column.key;colIndex=res.index}}}else{if(dataColIndex>=0&&dataColIndex<grid._visibleColumns().length){colKey=grid._visibleColumns()[dataColIndex].key}}if(!$et.closest("tr").parent().is("thead")&&($et.is("td")||$et.closest("td").length===1&&$et.closest("td").parent().attr("data-container")!=="true")){key=grid._fixPKValue(key);grid._trigger(grid.events.cellClick,event,{rowIndex:row.index(),rowKey:key,colIndex:colIndex,colKey:colKey,cellElement:event.target,owner:grid})}};this.element.bind({click:this._cellClickHandler});if(this.options.enableResizeContainerCheck&&(this.options.height!==null&&this.options.height.indexOf&&this.options.height.indexOf("%")!==-1||this.options.width!==null&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1||!this.element.is(":visible"))){if(!this.element.is(":visible")){this._recheckVisibility=true}if($.ig.util.isIE&&$.ig.util.browserVersion<=10){container=this.container();if(container.length>0&&container[0].attachEvent){this._resizeContainerHandler=$.proxy(this.resizeContainer,this);container[0].attachEvent("onresize",this._resizeContainerHandler)}}if(!this._resizeContainerHandler){this._resId=setInterval($.proxy(this.resizeContainer,this),this.resizeTimeout)}}for(i=0;i<this.options.columns.length;i++){if(this.options.columns[i].hidden===undefined){this.options.columns[i].hidden=false}}this._uiSoftDirtyHandler=$.proxy(this._onFeaturesSoftDirty,this);this.element.bind("iggriduisoftdirty",this._uiSoftDirtyHandler);this._oldScrollTop=0;this.element.trigger(this.events.created,{owner:this});if(this._rtl){this.container().addClass(this.css.rtl)}},_fixPKValue:function(val){var col,data,pk=this.options.primaryKey;if(pk){col=this.columnByKey(pk);if(col&&col.dataType){if(col.dataType==="number"||col.dataType==="numeric"){val=parseInt(val,10)}}else{data=this.dataSource._data;if(data&&data.length>0){if(typeof data[0][pk]==="number"){val=parseInt(val,10)}}}}return val},hasFixedDataSkippedColumns:function(){return this._hasFixedDataSkippedColumns},hasFixedColumns:function(){if(this._hasFixedDataSkippedColumns||this._fixedColumns!==null&&this._fixedColumns!==undefined&&this._fixedColumns.length>0){return true}return false},isFixedColumn:function(colKey){var isFixed=false,typeColKey=$.type(colKey),cols;if(!this.hasFixedColumns()){return false}if(typeColKey==="string"){$.each(this._fixedColumns,function(ind,c){if(c.key===colKey){isFixed=true;return false}})}else if(typeColKey==="number"){cols=this._visibleColumns();if(colKey<0||colKey>=cols.length){return false}isFixed=cols[colKey].fixed===true}return isFixed},_onColumnFixed:function(colInd,isFixed,colsCount,isInit,visibleIndex){var result={colInd:colInd,isFixed:isFixed,fixedColsCount:colsCount,isInit:isInit,visibleIndex:visibleIndex};this._fireInternalEvent("_columnFixed",result)},_testInnerHtml:function(){var t=document.createElement("table");try{t.innerHTML="<tr><td> t </td></tr>";this._canreplaceinner=true}catch(e){this._canreplaceinner=false}},resizeContainer:function(){var scrollContainerWidth,o=this.options,visibilityChanged=false,v=o.virtualization===true||o.rowVirtualization===true||o.columnVirtualization===true;if(this._recheckVisibility&&this.element.is(":visible")){this._prevContainerHeight=0;visibilityChanged=true;this._recheckVisibility=false;if(this._resId&&!(this.options.height!==null&&this.options.height.indexOf&&this.options.height.indexOf("%")!==-1||this.options.width!==null&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1)){clearInterval(this._resId)}}if(o.autoAdjustHeight&&this.container().height()!==this._prevContainerHeight){this._initializeHeights();if(v&&visibilityChanged){this._avgRowHeight=null;this._updateVirtualScrollContainer();this._onVirtualVerticalScroll()}}if(o.width!==null&&o.height!==null){if(v===false){scrollContainerWidth=this.scrollContainer().width()}else{scrollContainerWidth=this._vdisplaycontainer().width()+this._scrollbarWidth()}if(this._gridInnerWidth!==scrollContainerWidth&&(this._gridInnerWidth>0||scrollContainerWidth>0)){this._gridInnerWidth=scrollContainerWidth;this._updateHScrollbarVisibility()}if(v===false&&this.scrollContainer().get(0).scrollHeight>this.scrollContainer().get(0).clientHeight!==this._hasVerticalScrollbar){this._adjustLastColumnWidth()}}},_isMultiColumnHeader:function(){var cols=this.options.columns,i;for(i=0;i<cols.length;i++){if(cols[i].group!==undefined&&cols[i].group!==null){return true}}return false},_analyzeMultiColumnHeaders:function(cols,newCols,level,oldCols,children,isHidden){var i,j,res,colsLength=cols.length,colspan=0,ind=[],groupChildren=[],identifier,hidden;for(i=0;i<colsLength;i++){if(cols[i].group!==undefined&&cols[i].group!==null){if(cols[i].key!==undefined&&cols[i].key!==null){identifier=cols[i].key.toString()}else{identifier=(this._multiColumnIdentifier++).toString()}if(!cols[i].identifier){cols[i].identifier=identifier}groupChildren=[];hidden=false;if(isHidden===true||cols[i].hidden===true){hidden=true}res=this._analyzeMultiColumnHeaders(cols[i].group,newCols,level+1,oldCols[i].group,groupChildren,hidden);oldCols[i].colspan=res.colspan;oldCols[i].children=groupChildren;for(j=0;j<groupChildren.length;j++){children.push(groupChildren[j])}ind.push(i);colspan+=res.colspan}else{colspan++;oldCols[i].level=0;oldCols[i].level0=true;if(isHidden===true){cols[i].hidden=true}children.push(cols[i]);newCols.push(cols[i])}}for(j=0;j<ind.length;j++){oldCols[ind[j]].level=this._maxLevel-level}return{colspan:colspan}},_getMultiHeaderColumnById:function(id,level,cols){var i,colsLength,res=null;if(cols===null||cols===undefined){if(this._oldCols===null||this._oldCols===undefined){return null}cols=this._oldCols}colsLength=cols.length;for(i=0;i<colsLength;i++){if(cols[i].identifier===id&&(level===undefined||cols[i].level===level)){return cols[i]}if(cols[i].group!==null&&cols[i].group!==undefined){res=this._getMultiHeaderColumnById(id,level,cols[i].group);if(res!==null){return res}}}return null},_getMaxLevelRecursive:function(level,cols){var i,colsLength=cols.length,ml=level,l,rowspan;for(i=0;i<colsLength;i++){rowspan=1;if(cols[i].rowspan!==null&&cols[i].rowspan!==undefined&&cols[i].rowspan>0){rowspan=cols[i].rowspan}if(cols[i].group!==undefined&&cols[i].group!==null){l=this._getMaxLevelRecursive(level+rowspan,cols[i].group);if(l>ml){ml=l}}else if(rowspan>0){l=level+rowspan-1;if(l>ml){ml=l}}}return ml},_headerInit:function(tr,colgroup,prepend){var i;for(i=0;i<this._headerInitCallbacks.length;i++){this._headerInitCallbacks[i].func(tr,colgroup,prepend)}},_footerInit:function(tr,colgroup,prepend,cssClass){var i;for(i=0;i<this._footerInitCallbacks.length;i++){this._footerInitCallbacks[i].func(tr,colgroup,prepend,cssClass)}},id:function(){return this.element[0].id},_caption:function(){return this.container().find("caption")},_rootContainer:function(){var rootElement;if(!this._rContainer||this._rContainer.length===0){rootElement=this.element.closest(".ui-iggrid-root");this._rContainer=rootElement.length===1?rootElement.data("igGrid").container():this.container()}return this._rContainer},container:function(){if(!this._container||this._container.length===0){this._container=this.element.closest("div[id="+this.id()+"_container]")}return this._container},headersTable:function(){if(this.options.fixedHeaders===true&&this.options.height!==null){return this.container().find("#"+this.id()+"_headers")}return this.element},footersTable:function(){if(this.options.fixedFooters===true&&this.options.height!==null){return this.container().find("#"+this.id()+"_footers")}return this.element},scrollContainer:function(){return this.container().children("#"+this.id()+"_scroll")},fixedContainer:function(){return this.container().find("#"+this.id()+"_mainFixedContainer")},fixedBodyContainer:function(){return this.container().find("#"+this.id()+"_fixedBodyContainer")},fixedFooterContainer:function(){return this.container().find("#"+this.id()+"_fixedFooterContainer")},fixedHeaderContainer:function(){return this.container().find("#"+this.id()+"_fixedHeaderContainer")},fixedHeadersTable:function(){if(this.options.fixedHeaders===true&&this.options.height!==null){return this.container().find("#"+this.id()+"_headers_fixed")}return this.container().find("#"+this.id()+"_fixed")},fixedFootersTable:function(){if(this.options.fixedFooters===true&&this.options.height!==null){return this.container().find("#"+this.id()+"_footers_fixed")}return this.container().find("#"+this.id()+"_fixed")},_vdisplaycontainer:function(){return this.container().find("#"+this.id()+"_displayContainer")},_virtualcontainer:function(){return this.container().find("#"+this.id()+"_virtualContainer")},_vhorizontalcontainer:function(){return this.container().find("#"+this.id()+"_horizontalScrollContainer")},_fixedfooters:function(){return this.container().find("#"+this.id()+"_footer_container")},cellAt:function(x,y,isFixed){var i;if(x===undefined||y===undefined){return null}if(this.table===undefined){this.table=this.element[0]}i=this._dataRowIndex(y);if(isFixed===true){if(this._fixedTable===undefined){this._fixedTable=this.element}return this._fixedTable[0].rows[i].cells[x]}return this.table.rows[i].cells[x]},cellById:function(rowId,columnKey){var colIndex,i,cols,row,skippedCells,isFixed=this.isFixedColumn(columnKey);if(_aNull(rowId)||_aNull(columnKey)){return null}if(this.table===undefined){this.table=this.element[0]}cols=this._visibleColumns(isFixed);for(i=0;i<cols.length;i++){if(cols[i].key===columnKey){colIndex=i;break}}if(_aNull(colIndex)){return null}if(isFixed){row=this.fixedBodyContainer().find("tbody").first().children("[data-id="+rowId+"]").first()}else{row=this.element.children("tbody").children("[data-id="+rowId+"]").first()}skippedCells=row.children("th,[data-skip=true],[data-parent]").length;return row.children("td:nth-child("+(colIndex+1+skippedCells)+")")},fixedTable:function(){if(this._fixedTable===undefined){this._fixedTable=this.element[0]}return this._fixedTable},_calculateHeaderFooterRows:function(){var theadCount=0,tfootCount=0;theadCount=this.element.children("thead").children("tr").length;if($.ig.util.isOpera){tfootCount=this.element.children("tfoot").children("tr").length}return theadCount+tfootCount},_dataRowIndex:function(i){var extrahr,j;if(this.table===undefined){this.table=this.element[0]}if(this._additionalTrCount===undefined||this._additionalTrCount===null){this._additionalTrCount=this._calculateHeaderFooterRows()}if(this._hc===true){extrahr=this.element.children("tbody").children("tr[data-container]");for(j=0;j<extrahr.length;j++){if($(extrahr[j]).index()<=i){i+=1}}}i=i+this._additionalTrCount;if(i>=this.table.rows.length){i=this.table.rows.length-1}else if(i<0){i=0}return i},immediateChildrenWidgets:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){if($(this).children(".ui-iggrid-scrolldiv").length>0){return $(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table").data("igGrid")}return $(this).children(".ui-iggrid-table").data("igGrid")})},childrenWidgets:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table").map(function(){return $(this).data("igGrid")})},children:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table")},immediateChildren:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){if($(this).children(".ui-iggrid-scrolldiv").length>0){return $(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table")}return $(this).children(".ui-iggrid-table")})},rowAt:function(i){i=this._dataRowIndex(i);return this.table.rows[i]},rowById:function(rowId,isFixed){if(_aNull(rowId)){return null}if(isFixed){return this.fixedBodyContainer().find("tbody").first().children("[data-id="+rowId+"]").first()}return this.element.children("tbody").children("[data-id="+rowId+"]").first()},fixedRowAt:function(i){var rows=this.fixedBodyContainer().find("tbody>tr");if(rows.length>0){return rows[i]}return null},fixedRows:function(){return this.fixedBodyContainer().children("tbody").children("tr")},rows:function(){return this.element.children("tbody").children("tr")},allFixedRows:function(){return this.fixedBodyContainer().find("tbody tr")},allRows:function(){return this.element.find("tbody tr")},columnByKey:function(key){var cols=this.options.columns,i;for(i=0;i<cols.length;i++){if(String(cols[i].key)===String(key)){return cols[i]}}return null},columnByText:function(text){var cols=this.options.columns,i;for(i=0;i<cols.length;i++){if(cols[i].headerText===text){return cols[i]}}return null},activeCell:function(){return this._activeCell},activeRow:function(){if(this._activeRow){if(this.hasFixedColumns()){if(this._activeFixedRow){this._activeRow.fixedElement=this._activeFixedRow.element}else{this._activeRow.fixedElement=this.fixedBodyContainer().find("tbody tr:nth-child("+(this._activeRow.index+1)+")")}}else if(this._activeRow.fixedElement){this._activeRow.fixedElement=null}}return this._activeRow},selectedCell:function(){return this._selectedCell},selectedRow:function(){return this._selectedRow},selectedCells:function(){return this._selectedCells},selectedRows:function(){return this._selectedRows},getCellValue:function(rowId,colKey){var id=parseInt(rowId,10),i,cols=this.options.columns,colFound=false,rec,primaryKeyCol,tx;tx=this.dataSource.pendingTransactions();if(this.options.autoCommit===false&&tx.length>0){for(i=0;i<tx.length;i++){if(tx[i].rowId===rowId){if(tx[i].type==="cell"&&tx[i].col===colKey){return tx[i].value}if(tx[i].type==="row"||tx[i].type==="newrow"){return tx[i].row[colKey]}}}}if($.type(colKey)==="string"){for(i=0;i<cols.length;i++){if(cols[i].key===colKey){colFound=true;break}}if(colFound===false){throw new Error($.ig.Grid.locale.noSuchColumnDefined)}}if(this.options.primaryKey!==null){primaryKeyCol=this.columnByKey(this.options.primaryKey);if(primaryKeyCol.dataType==="number"||primaryKeyCol.dataType==="numeric"){rec=this.dataSource.findRecordByKey(parseInt(rowId,10))}else{rec=this.dataSource.findRecordByKey(rowId)}if(rec===null||rec===undefined){throw new Error($.ig.Grid.locale.recordNotFound+" "+rowId)}return rec[colKey]}if(id>=this.dataSource.dataView().length){throw new Error($.ig.Grid.locale.indexOutOfRange)}if($.type(colKey)==="string"){return this.dataSource.dataView()[id][colKey]}if(cols.length<=colKey){throw new Error($.ig.Grid.locale.columnIndexOutOfRange)}return this.dataSource.dataView()[id][colKey]},getCellText:function(rowId,colKey){var colIndex;if($.type(colKey)==="string"){colIndex=this._getCellIndexByColumnKey(colKey)}else{colIndex=colKey}if(colIndex===undefined){throw new Error($.ig.Grid.locale.columnNotFound+" "+colKey)}if(this.options.primaryKey!==null){return this.element.find("tr[data-id='"+rowId+"']>td:nth-child("+(colIndex+1)+")").text()}return $(this.cellAt(colIndex,parseInt(rowId,10))).text()},setColumnTemplate:function(col,tmpl,render){var colIdx=this._getColIdxById(this.options.columns,col);if(colIdx===null||colIdx===undefined){return}col=this.options.columns[colIdx];col.template=tmpl;render=render===null||render===undefined?true:render;if(render&&!col.hidden){this._renderData()}},commit:function(id){var key;key=this._normalizedKey(id);this.dataSource.commit(key);if(this._fireInternalEvent("_gridCommit")){return}if(this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization){if(this.options.virtualizationMode==="continuous"){this._renderVirtualRecords()}else{this._buildVirtualDom();this.virtualScrollTo(this._startRowIndex)}}else{this._renderData()}},rollback:function(id,updateUI){var rec,tr,key;key=this._normalizedKey(id);this.dataSource.rollback(key);if(updateUI===true&&id!==null&&id!==undefined){if(this.options.primaryKey!==null){rec=this.dataSource.findRecordByKey(key);if(rec===undefined||rec===null){throw new Error($.ig.Grid.locale.recordNotFound+" "+id)}tr=this.element.find("tr[data-id='"+id+"']")[0]}else{if(key>=this.dataSource.dataView().length){throw new Error($.ig.Grid.locale.indexOutOfRange)}rec=this.dataSource.dataView()[key];tr=this.rowAt(key)}$(tr).removeClass(this.css.deletedRecord);tr._deleted=null;this._renderRow(rec,tr)}else if(id===true||updateUI===true){this.dataBind()}if((updateUI===true||updateUI===undefined)&&(id===undefined||id===null)){this._renderData()}},findRecordByKey:function(key){return this.dataSource.findRecordByKey(key)},getDetachedRecord:function(t){return this.dataSource.getDetachedRecord(t)},pendingTransactions:function(){return this.dataSource.pendingTransactions()},allTransactions:function(){return this.dataSource.allTransactions()},transactionsAsString:function(){return this.dataSource.transactionsAsString()},_normalizedKey:function(id){var key,primaryKeyCol;if(id===undefined||id===null){return null}key=id;if(this.options.primaryKey!==null){primaryKeyCol=this.columnByKey(this.options.primaryKey);if(primaryKeyCol.dataType==="number"||primaryKeyCol.dataType==="numeric"){key=parseInt(id,10)}}else{key=parseInt(id,10)}return key},saveChanges:function(success,error){this.dataSource.saveChanges(success,error)},_renderRow:function(rec,tr,rowId){var i,td,col,id=0,css,cols=this.options.columns,content,index;for(i=0;i<tr.cells.length;i++){td=$(tr.cells[i]);css=td[0].className;if(id>0||!(td.attr("data-skip")||css&&(css.indexOf("-expandcolumn")>0||css.indexOf("-rowselector")>0))){while(true){col=cols[id];if(!col){return tr}if(!col.hidden){break}id++}if(col.template&&col.template.length){content=this._renderTemplatedCell(rec,col);if(content.indexOf("<td")===0){td.html($(content).html())}else{td.html(content)}}else{td.html(this._renderCell(rec[col.key],col,rec))}id++}}return tr},renderNewRow:function(rec,key){var tbody=this.element.children("tbody"),index,self=this,virt=this.options.virtualization===true||this.options.rowVirtualization===true,fv=this.options.virtualizationMode==="fixed";if(virt){if(fv){this._buildVirtualDom()}else{this._renderVirtualRecordsContinuous();this._startRowIndex=0}this.virtualScrollTo(this._totalRowCount)}else{index=tbody.children('[data-container!="true"]').length;MSApp.execUnsafeLocalFunction(function(){tbody.append(self._renderRecord(rec,index))})}},_findTableRowByKey:function(key){var primaryKeyIndex,cols=this.options.columns,r,i;if(this.options.primaryKey!==null){for(i=0;i<cols.length;i++){if(cols[i].key===this.options.primaryKey){primaryKeyIndex=i;break}}if(primaryKeyIndex===undefined){throw new Error($.ig.Grid.locale.columnNotFound+" "+this.options.primaryKey)}r=this.element.find("td:nth-child('"+(primaryKeyIndex+1)+"'):contains('"+key+"')").parent();return r.length===0?null:r[0]}return this.rowAt(parseInt(key,10))},dataSourceObject:function(dataSource){if(dataSource!==undefined){this.options.dataSource=dataSource}else{return this.options.dataSource}},totalRecordsCount:function(){return this.dataSource.totalRecordsCount()},dataBind:function(internal){var dataOptions,i,noCancel=true,noCancelRendering=true;if(!this._initialized){noCancelRendering=this._trigger(this.events.rendering,null,{owner:this})}if(noCancelRendering){noCancel=this._trigger(this.events.dataBinding,null,{owner:this});if(internal===undefined){this.options.requiresDataBinding=true}if(noCancel){if(this.options.requiresDataBinding){if(this._hasUnboundColumns){this._rebindUnboundColumns=true}dataOptions=this._generateDataSourceOptions(this.options);this._setupDataSource(dataOptions);this._dataOptions=dataOptions;if(!this._initialized){if(this.element.is("div")){this._isWrapped=true;this.element=$("<table></table>").appendTo(this.element).attr("id",this.id()+"_table");this.element.data("igGrid",this)}for(i=0;i<this.options.features.length;i++){this._initFeature(this.options.features[i],dataOptions)}if(this.options.autoGenerateColumns!==true){this._captureInitiallyHiddenColumns()}this._visibleColumnsArray=undefined}else{this._isDataBoundCalled=true;this.element.trigger("iggriduidirty",{owner:this});for(i=0;i<this.options.features.length;i++){this._initFeatureSettings(this.options.features[i])}this._trigger("headerExtraCellsModified",null,{owner:this})}this._renderGrid();if(this._loadingIndicator===undefined){this._initLoadingIndicator()}if(this._loadingIndicator){this._loadingIndicator.show()}this.dataSource.dataBind();this.options.requiresDataBinding=false}else{this._renderGrid()}}}else{this._cancelRendering=true}},_mergeUnboundValues:function(){var i,primaryKeyCol,metadataUC,rec,ucLength,primaryKeyColIsNumber,col,schema,type,dataLength,data,key,val,j,pk=this.options.primaryKey,metadata=this.dataSource.metadata("unboundValues"),self=this,hasPrimaryKey=pk!==null&&pk!==undefined,metaDataMergeFunction;if(metadata===undefined||metadata===null||metadata.length===0||!this._unboundColumns){return}if(hasPrimaryKey){metaDataMergeFunction=function(ind,val){if(primaryKeyColIsNumber){rec=self.dataSource.findRecordByKey(parseInt(ind,10))}else{rec=self.dataSource.findRecordByKey(ind)}if(rec===null||rec===undefined){return true}if(schema!==undefined&&schema!==null){val=schema._convertType(type,val,rec[pk],key)}self._addUnboundColumnValue(key,val);rec[key]=val};primaryKeyCol=this.columnByKey(pk);primaryKeyColIsNumber=primaryKeyCol.dataType==="number"}ucLength=this._unboundColumns.length;schema=this.dataSource.schema();for(i=0;i<ucLength;i++){key=this._unboundColumns[i].key;metadataUC=metadata[key];if(metadataUC===null||metadataUC===undefined){continue}col=this.getUnboundColumnByKey(key);type=null;if(col!==null&&col.dataType){type=col.dataType}if(hasPrimaryKey){$.each(metadataUC,metaDataMergeFunction)}else{self.setUnboundValues(key,metadataUC)}if(type==="bool"||type==="boolean"){data=this.dataSource.data();val=schema._convertType(type,undefined);dataLength=data.length;if(dataLength<=metadataUC.length){continue}for(j=0;j<dataLength;j++){if(data[j][key]===undefined){data[j][key]=val}}}}},_generateDataSourceOptions:function(options){var schema,dataOptions,t,headers,i,instanceOfDs,instanceOfSchema;if(!this.options.dataSource&&!this.options.dataSourceUrl&&this.element.is("table")&&this.element.find("tbody").children().length>0){this.options.dataSource=this.element[0]}if(this.options.dataSource&&this.options.dataSource.tagName&&this.options.dataSource.nodeType){t=$(this.options.dataSource);if(t.is("table")&&t.find("thead th").length>0){headers=t.find("thead tr th");this._tb_h=true;this._tb_h_arr=[];for(i=0;i<headers.length;i++){this._tb_h_arr.push($(headers[i]).text())}}}dataOptions={callback:$.proxy(this._renderData,this),callee:this,responseDataKey:this.options.responseDataKey,responseTotalRecCountKey:this.options.responseTotalRecCountKey,dataSource:this.options.dataSource,requestType:this.options.requestType,responseContentType:this.options.responseContentType,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.localSchemaTransform,autoCommit:this.options.autoCommit,aggregateTransactions:this.options.aggregateTransactions,serializeTransactionLog:this.options.serializeTransactionLog,updateUrl:this.options.updateUrl,restSettings:this.options.restSettings};if(this.options.dataSourceType!==null){dataOptions.type=this.options.dataSourceType}instanceOfDs=this.options.dataSource&&typeof this.options.dataSource._xmlToArray==="function"&&typeof this.options.dataSource._encodePkParams==="function";instanceOfSchema=instanceOfDs&&this.options.dataSource.settings.schema&&this.options.dataSource.settings.schema.hasOwnProperty("schema")&&typeof this.options.dataSource.settings.schema._xmlHasNamespaces==="function";
if(instanceOfDs&&instanceOfSchema){schema=this.options.dataSource.settings.schema}else{schema=this._generateDataSourceSchema()}if(instanceOfDs&&(this.options.dataSource.settings.schema===null||!this.options.dataSource.settings.schema.fields||this.options.dataSource.settings.schema.fields&&this.options.dataSource.settings.schema.fields.length>=0)||!instanceOfDs){dataOptions=$.extend(dataOptions,{schema:schema})}return dataOptions},_insertUnboundColumn:function(column){if(this._unboundColumns===null||this._unboundColumns===undefined){this._unboundColumns=[]}this._unboundColumns.push(column);if(column.key&&(this._unboundValues[column.key]===null||this._unboundValues[column.key]===undefined)){this._unboundValues[column.key]=[]}if(column.unboundValues&&column.unboundValues.length>0){this._isToSetUnboundColumns=true}this._hasUnboundColumns=true},_addUnboundColumnValue:function(key,value,index){if(this._unboundValues[key]===null||this._unboundValues[key]===undefined){this._unboundValues[key]=[]}if(index!==undefined&&index!==null){this._unboundValues[key][index]=value}else{this._unboundValues[key].push(value)}},_generateDataSourceSchema:function(){var schema,i,rec,prop,count=0,cols=this.options.columns,ds=this.options.dataSource,cl,counter=0;if(ds&&typeof ds._xmlToArray==="function"&&typeof ds._encodePkParams==="function"){if($.type(ds.settings.dataSource)==="array"||$.type(ds.settings.dataSource)==="object"){ds=ds.settings.dataSource}else if($.type(ds.settings.dataSource)!=="string"){ds=ds.data()}else{ds=[]}}if($.type(ds)==="object"&&this.options.responseDataKey){ds=$.ig.findPath(ds,this.options.responseDataKey)}schema={};schema.fields=[];schema.searchField=this.options.responseDataKey;if(cols.length>0&&!this.options.autoGenerateColumns){if(this.options.dataSource&&this.options.dataSource.schema&&this.options.dataSource.schema()&&this.options.dataSource.schema().hasOwnProperty("schema")&&typeof this.options.dataSource.schema()._xmlHasNamespaces==="function"){schema=this.options.dataSource.schema().schema}else{for(i=0;i<cols.length;i++){if(cols[i].unbound===true||cols[i].unboundDS===true){this._insertUnboundColumn(cols[i]);if(cols[i].unbound===true){continue}}schema.fields[counter]={};schema.fields[counter].name=cols[i].key;schema.fields[counter].type=cols[i].dataType;counter++}}}else if(this.options.autoGenerateColumns){if(ds&&ds.tagName&&$(ds).is("table")&&$(ds).find("tbody tr").length>0){rec=$(ds).find("tbody tr")[0];$(rec).find("td").each(function(){if(cols.length>count){schema.fields.push({name:cols[count].key||count+1,type:cols[count].dataType||"string"})}else{schema.fields.push({name:count+1,type:"string"})}count++})}else if(ds&&ds.length&&ds.length>0&&$.type(ds)==="array"){for(i=0;i<ds.length;i++){rec=ds[i];for(prop in rec){if(rec.hasOwnProperty(prop)){if(this.columnByKey(prop)===null&&!this._fieldExists(prop,schema)&&$.type(rec[prop])!=="object"&&$.type(rec[prop])!=="array"){schema.fields.push({name:prop,type:$.ig.getColType(rec[prop])})}else if(this.columnByKey(prop)!==null){schema.fields.push({name:prop,type:this.columnByKey(prop).dataType})}count++}}if(!this.options._recurseSchema){break}}}for(i=0;i<cols.length;i++){if(cols[i].unbound===true||cols[i].unboundDS===true){this._insertUnboundColumn(cols[i])}}}this._trigger(this.events.schemaGenerated,null,{owner:this,schema:schema,dataSource:ds});cl=this.options.columnLayouts;if(cl&&cl.length&&cl.length>0){for(i=0;i<cl.length;i++){schema.fields.push({name:cl[i].key})}}return schema},_fieldExists:function(prop,schema){var i;for(i=0;i<schema.fields.length;i++){if(schema.fields[i].name===prop){return true}}return false},_setupDataSource:function(dataOptions){var callee;if(!this.options.dataSource||typeof this.options.dataSource._xmlToArray!=="function"||typeof this.options.dataSource._encodePkParams!=="function"){if($.type(dataOptions.dataSource)==="string"&&(this.options.jsonpRequest||$.ig.util.isJsonpUrl(dataOptions.dataSource))){this.dataSource=new $.ig.JSONPDataSource(dataOptions)}else if(this.options.restSettings.update.url!==null||this.options.restSettings.update.template!==null||this.options.restSettings.create.url!==null||this.options.restSettings.create.template!==null||this.options.restSettings.remove.url!==null||this.options.restSettings.remove.template!==null){this.dataSource=new $.ig.RESTDataSource(dataOptions)}else{this.dataSource=new $.ig.DataSource(dataOptions)}}else{this.dataSource=this.options.dataSource;if(this.dataSource.settings.responseDataKey!==null){delete dataOptions.responseDataKey;if(dataOptions.schema){dataOptions.schema.searchField=this.dataSource.settings.responseDataKey}}this._tds=this.dataSource.settings.dataSource;this.dataSource.settings.dataSource=null;if($.ig.util.isIE8&&dataOptions.callee){callee=dataOptions.callee;dataOptions.callee=null}this.dataSource.settings=$.extend(true,{},this.dataSource.settings,dataOptions);if($.ig.util.isIE8&&callee){this.dataSource.settings.callee=callee}this.dataSource.settings.dataSource=this._tds;this._tds=null;if(dataOptions.schema){this.dataSource._initSchema()}}},_generateColumns:function(){var r,key,i,hasExplicitCols=this.options.columns.length>0,hasHeaders=false,len,col,isTable=false,arr=[],ds=this.options.dataSource,cdp=this.options.childrenDataProperty,newDs,colType;if(ds&&typeof ds._xmlToArray==="function"&&typeof ds._encodePkParams==="function"){ds=ds.data()}else if(typeof ds==="string"){ds=this.dataSource.data()}if($.type(ds)==="object"&&this.options.responseDataKey){newDs=$.ig.findPath(ds,this.options.responseDataKey);if($.type(newDs)==="array"){ds=newDs}}if(ds&&ds.tagName&&$(ds).is("table")){len=$(ds).find("tbody tr").length;isTable=true}else if(ds&&ds.length){len=ds.length}if(ds&&len&&len===0&&this.options.columns.length===0){throw new Error($.ig.Grid.locale.autoGenerateColumnsNoRecords)}if(ds&&len&&len>0){if(isTable){r=$(ds).find("tbody tr")[0]}else{r=ds[0]}if($.type(r)==="array"||isTable){hasHeaders=this._tb_h;if(isTable){$(r).find("td").each(function(){arr.push($(this).text())});r=arr}for(i=0;i<r.length;i++){if(this.columnByKey(i+1)===null&&$.ig.getColType(r[i])!=="object"){col={headerText:hasHeaders?this._tb_h_arr[i]:$.ig.Grid.locale.colPrefix+(i+1),key:String(i+1),dataType:$.ig.getColType(r[i]),hidden:false};col.headerText=(col.headerText||"").toString().trim();if(this._isMultiColumnGrid){col.level0=true;col.level=0;this._oldCols.push(col)}this.options.columns.push(col);this._visibleColumnsArray=undefined}else if(hasHeaders&&!this.columnByKey(i+1).headerText){this.columnByKey(i+1).headerText=this._tb_h_arr[i]}}}else{for(key in r){if(r.hasOwnProperty(key)&&this.columnByKey(key)===null){colType=$.ig.getColType(r[key]);if((cdp&&cdp!==key||!cdp)&&(colType!=="object"||r[key]===null)&&key!=="ig_pk"){col={headerText:key,key:key,dataType:$.ig.getColType(r[key]),hidden:false};this.options.columns.push(col);if(this._isMultiColumnGrid){col.level0=true;col.level=0;this._oldCols.push(col)}this._visibleColumnsArray=undefined}}}}}if((this.dataSource.schema()===null||this.dataSource.schema().fields().length===0)&&!hasExplicitCols){this.dataSource.settings.schema=this._generateDataSourceSchema();this.dataSource._initSchema()}if(this.options.width===null){this._setContainerWidth(this.container())}this._trigger("columnsgenerated",null,{owner:this,key:this.options.key})},_renderGrid:function(){var gridElement=this.element[0],containerId,containerDiv,tbody=this.element.children("tbody"),ar=this.options.accessibilityRendering;this._cancelRendering=false;if(!this._initialized){if(ar){this.element.attr("role","grid")}if(this.options.virtualization===true||this.options.rowVirtualization===true||this.options.columnVirtualization===true){if(this.options.height===undefined||this.options.height===null){throw new Error($.ig.Grid.locale.virtualizationRequiresHeight)}this._createVirtualGrid()}else if(this.options.height!==null||this.options.width!==null){this._createScrollingGrid()}else{containerId=gridElement.id+"_container";containerDiv='<div id="'+containerId+'" class="'+this.css.gridClasses+" "+this.css.baseClass+'" style="position: relative"> </div>';this.element.wrap(containerDiv);this.element.addClass(this.css.gridTableClass);if(ar){this.element.attr("aria-describedby",containerId)}this._setContainerWidth(this.container());this.container().attr("tabIndex",this.options.tabIndex);if(this.options.height!==null){this.container().css("overflow-y","hidden")}}this._touch();if(this.options.columns.length>0&&this.options.virtualization!==true&&this.options.rowVirtualization!==true&&this.options.columnVirtualization!==true&&this.options.autogenerateColumns===false&&this.options.columns.length>0){this._renderColgroup(this.element[0],false,false,this.options.autofitLastColumn)}$(gridElement).attr("cellpadding","0");$(gridElement).attr("cellspacing","0");$(gridElement).attr("border","0");$(gridElement).css("table-layout","fixed");$(gridElement).addClass(this.css.gridTableClass);if(this.options.autoGenerateColumns===false&&this.options.columns.length>0&&this._headerRenderCancel!==true){this._renderHeader()}this._renderCaption();if(this.options.autoAdjustHeight){this._initializeHeights()}}if(tbody.length===0){tbody=$("<tbody></tbody>").appendTo(gridElement).addClass(this.css.baseContentClass).addClass(this.css.gridTableBodyClass).addClass(this.css.recordClass)}if(this.dataSource.type()!=="htmlTableDom"&&this.dataSource.type()!=="htmlTableId"){tbody.empty()}},_setContainerWidth:function(element,rendered){var cols=this._visibleColumns(),width=0;if(cols.length>0){width=this._calculateContainerWidth(true);if(width>0){if(rendered){width=0;this.container().find(".ui-iggrid-header").each(function(){width+=$(this).outerWidth()});element.width(width)}else{width+=this._calculateSpecialColumnsWidth();element.css("width",width)}}}else if(this.options.width!==null){element.css("width",this.options.width)}},_calculateContainerWidth:function(addScrollWidth){var width=0,cols=this.options.columns,i;for(i=0;i<cols.length;i++){if(cols[i].hidden!==true&&(this._initialHiddenColumns===undefined||$.inArray(cols[i],this._initialHiddenColumns)===-1)){width+=cols[i].width?parseInt(cols[i].width,10):this.options.defaultColumnWidth===null?0:parseInt(this.options.defaultColumnWidth,10)}}if(this.options.height!==null&&width>0&&addScrollWidth===true){width+=this._scrollbarWidth()}return width},_createScrollingGrid:function(){var self=this,containerWidth,totalWidth,scrollbarWidth=this._scrollbarWidth(),id=this.id()+"_scroll",dataContainer,scrollDiv='<div id="'+id+'"></div>';this.element.wrap(scrollDiv);dataContainer=this.element.parent();if(this.options.accessibilityRendering){this.element.attr("aria-describedby",id)}dataContainer.addClass(this.css.gridScrollDivClass).wrap("<div id='"+this.id()+"_container'></div>");if($.ig.util.isIE7){dataContainer.css("padding-bottom",this._scrollbarWidth())}this.container().attr("tabIndex",this.options.tabIndex).addClass(this.css.baseClass).addClass(this.css.gridClasses);if(this.options.width!==null){this.container().css("width",this.options.width);if(this.options.width.indexOf&&this.options.width.indexOf("%")!==-1){this.element.css("width","100%")}if(this.options.height!==null){this._addHorizontalScrollBar(dataContainer);this.scrollContainer().css("overflow-x","hidden");containerWidth=dataContainer.width();totalWidth=this._getHScrollContainerInner().width();dataContainer.bind("scroll",function(e){var container=$(this),hScroller=self._hscrollbarcontent(),containerLeft=container.scrollLeft(),hScrollerLeft=hScroller.scrollLeft();if(containerLeft!==hScrollerLeft){if(totalWidth===0){totalWidth=self._getHScrollContainerInner().width()}if(containerLeft+containerWidth>totalWidth+scrollbarWidth){container.scrollLeft(hScrollerLeft)}else{hScroller.scrollLeft(containerLeft)}}})}}else{this._setContainerWidth(this.container());this.scrollContainer().css("overflow-x","hidden")}this.container().css("position","relative");if(this.options.height!==null){this.scrollContainer().css("overflow-y","auto");if(this.options.autoAdjustHeight){this.container().css("height",this.options.height)}else{this.scrollContainer().css("height",this.options.height)}}},_touch:function(){var id=this.id(),div=this.scrollContainer();if(div.length!==1){div=this._vdisplaycontainer()}if(div.length){div.attr("data-scroll","true").attr("data-oneDirection","true");if(this._hscrollbarcontent()[0]){div.attr("data-xScroller","#"+id+"_hscroller")}else if(this._vhorizontalcontainer()[0]){div.attr("data-xScroller","#"+id+"_horizontalScrollContainer")}if(this._scrollContainer()[0]){div.attr("data-yScroller","#"+id+"_scrollContainer")}if(typeof Modernizr==="object"&&Modernizr.touch===true&&this.element.igScroll!==undefined){div.css("overflow-y","hidden")}}},_createVirtualGrid:function(){var id=this.id(),grid,newW,percWidthStr=$.ig.util.isWebKit?"width=100%":"",totalWidth,scrollContainerInner,scrollbarWidth,w=0,virtualGridMarkup='<div id="'+id+'_container" style="margin:0px; border:0px; padding:0px;"><table border="0" cellspacing="0" cellpadding="0" class="ui-iggrid-layout-helper" style="border-spacing:0px" id="'+id+'_virtualContainer" ><tbody><tr><td colspan="2" style="border-width:0px"><div id="'+id+'_headers_v" style="overflow:hidden;"></div></td></tr><tr><td style="border-width:0px;"><div id="'+id+'_displayContainer"></td>$verticalMarkup$</tr>$horizontalMarkup$</tbody></table></div>',verticalMarkup,horizontalMarkup='<tr><td colspan="2" style="border-width: 0px"><div id="'+id+'_horizontalScrollContainer"></div></td></tr>';scrollbarWidth=this._scrollbarWidth();if($.ig.util.isIE){scrollbarWidth+=1}if(parseInt(this.options.height,10)>0){verticalMarkup='<td style="border-width: 0px;"><div id="'+id+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+scrollbarWidth+"px; height:"+this.options.height+';"></div></td>'}else{verticalMarkup='<td style="border-width: 0px;"><div id="'+id+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+scrollbarWidth+'px;"></div></td>'}if(this.options.virtualization===true){virtualGridMarkup=virtualGridMarkup.replace("$verticalMarkup$",verticalMarkup).replace("$horizontalMarkup$",horizontalMarkup)}else if(this.options.rowVirtualization===true){virtualGridMarkup=virtualGridMarkup.replace("$verticalMarkup$",verticalMarkup).replace("$horizontalMarkup$","")}else if(this.options.columnVirtualization===true){virtualGridMarkup=virtualGridMarkup.replace("$horizontalMarkup$",horizontalMarkup).replace("$verticalMarkup$","")}if(this.options.virtualization===true||this.options.columnVirtualization===true){this.element.css("width","100%")}this.element.wrap(virtualGridMarkup);this.container().addClass(this.css.baseClass).addClass(this.css.gridClasses);if(this.options.width!==null){this.container().width(this.options.width)}else{this._setContainerWidth(this.container())}this._vdisplaycontainer().append(this.element[0]);grid=this;totalWidth=this._calculateContainerWidth(false);if(this.options.width!==null){w=parseInt(this.options.width,10)}else{w=totalWidth}if(this.options.height!==null&&this.options.width!==null){w-=this._scrollbarWidth()}if(w<=0){w=undefined}if(w>0&&this.options.expandColWidth&&!this.options.width){w+=this.options.expandColWidth}$("<colgroup><col "+(w<=0?percWidthStr:'width="'+w+'"')+'></col><col width="'+this._scrollbarWidth()+'"></col></colgroup>').prependTo(this._virtualcontainer());newW=this.options.width;if(newW&&newW.indexOf&&newW.indexOf("%")!==-1){newW="100%"}this._virtualcontainer().css("width",newW).css("max-width",newW);scrollContainerInner='<div style="width:1px; overflow:hidden; height:'+this._totalRowCount*parseInt(this.options.avgRowHeight,10)+'px;"></div>';this._scrollContainer().append(scrollContainerInner);if((this.options.virtualization===true||this.options.columnVirtualization===true)&&this.options.width&&totalWidth>parseInt(this.options.width,10)){this._renderHorizontalScrollContainer(totalWidth)}if(parseInt(this.options.height,10)>0){this._vdisplaycontainer().css("height",this.options.height).css("vertical-align","top")}this._vdisplaycontainer().css("position","relative").css("width",w).css("maxWidth",w);if(this.options.virtualization===true){this.container().find("#"+id+"_headers_v").append("<a href='#' id='"+id+"_displayContainer_a' tabindex='-1' style='position:absolute;top:-100px;left:-100px'>&nbsp;</a>")}if(this.options.width&&this.options.virtualization===false&&this.options.columnVirtualization===false){this._vdisplaycontainer().css({"overflow-y":"hidden","overflow-x":"auto"})}else{this._vdisplaycontainer().css("overflow","hidden")}this._vdisplaycontainer().parent().bind({mouseenter:function(event){grid._isMouseOverVirtualTable=true},mouseleave:function(event){grid._isMouseOverVirtualTable=false}});this._documentEvents={DOMMouseScroll:function(event){var dir="down",delta,step;step=grid.options.virtualizationMouseWheelStep===null?parseInt(grid.options.avgRowHeight,10):grid.options.virtualizationMouseWheelStep;delta=-event.originalEvent.detail/3;if(delta>0){dir="up"}if(grid._isMouseOverVirtualTable){grid._onVirtualVerticalScroll(event,step,dir);event.preventDefault()}},mousewheel:function(event){var dir="down",delta,step;step=grid.options.virtualizationMouseWheelStep===null?parseInt(grid.options.avgRowHeight,10):grid.options.virtualizationMouseWheelStep;delta=event.originalEvent.wheelDelta/120;if(delta>0){dir="up"}if(grid._isMouseOverVirtualTable){grid._onVirtualVerticalScroll(event,step,dir);event.preventDefault()}}};$(document).bind(this._documentEvents);if(this.options.virtualization===true||this.options.rowVirtualization===true){this._scrollContainer().bind({scroll:function(event){grid._onVirtualVerticalScroll(event);grid._virtualScrollMouseDown=false},mousedown:function(event){grid._virtualScrollMouseDown=true}})}if(this.options.virtualization===true||this.options.columnVirtualization===true){this._vhorizontalcontainer().bind({scroll:function(event){grid._onVirtualHorizontalScroll(event)}})}if(this._vhorizontalcontainer().length===0&&this.options.width!==null){if(!this.options.width.indexOf||this.options.width.indexOf("%")===-1){this._addHorizontalScrollBar(this._virtualcontainer())}this._vdisplaycontainer().css("overflow-x","hidden")}this.element.height(this._scrollContainer().height());if(this.options.width&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1){this.container().find("#"+id+"_virtualContainer > colgroup > col:first").css("width","100%");this._vhorizontalcontainer().css("width","100%");this._vdisplaycontainer().css("width","100%").css("max-width","100%")}},_renderHorizontalScrollContainer:function(totalWidth){var horizontalScrollContainerInner,w=this.options.width;if(w&&w.indexOf&&w.indexOf("%")!==-1&&(this.options.virtualization===true||this.options.rowVirtualization===true)){return}this._vhorizontalcontainer().css("height",this._scrollbarWidth()+"px").css("overflow","scroll");if($.ig.util.isIE){this._vhorizontalcontainer().css("width",parseInt(this.options.width,10)+1).css("height","100%")}else{this._vhorizontalcontainer().css("width",this.options.width)}horizontalScrollContainerInner='<div style="width:'+totalWidth+'px;height:1px;"></div>';this._vhorizontalcontainer().append(horizontalScrollContainerInner)},_onVirtualVerticalScroll:function(event,offset,dir){this._isHorizontal=false;var scrollContainer=this._scrollContainer(),scrollTopDiff,isIE=$.ig.util.isIE,current=scrollContainer.scrollTop(),mode=this.options.virtualizationMode;if(offset!==undefined){if(dir==="down"){scrollContainer.scrollTop(current+offset)}else{scrollContainer.scrollTop(current-offset)}current=scrollContainer.scrollTop()}scrollTopDiff=scrollContainer.scrollTop()-this._oldScrollTop;if(Math.abs(scrollTopDiff)<5&&$.ig.util.isFF&&!isIE){return}if(mode===undefined||mode===""){mode="continuous"}if(mode==="fixed"){this._startRowIndex=Math.ceil(scrollContainer.scrollTop()/parseInt(this.options.avgRowHeight,10));if(!isIE&&this._startRowIndex===this._oldStartRowIndex&&this._virtualScrollMouseDown){if(scrollTopDiff>0&&scrollTopDiff<parseInt(this.options.avgRowHeight,10)){this._startRowIndex++;scrollContainer.scrollTop(scrollContainer.scrollTop()-scrollTopDiff+parseInt(this.options.avgRowHeight,10))}else if(scrollTopDiff<0&&Math.abs(scrollTopDiff)<parseInt(this.options.avgRowHeight,10)){this._startRowIndex--;scrollContainer.scrollTop(scrollContainer.scrollTop()-scrollTopDiff-parseInt(this.options.avgRowHeight,10))}}if(this._startRowIndex>this._totalRowCount-this._virtualRowCount){this._startRowIndex=this._totalRowCount-this._virtualRowCount}if(this._startRowIndex<0){this._startRowIndex=0}this._oldStartRowIndex=this._startRowIndex;this._renderVirtualRecords()}else if(mode==="continuous"){this._virtualScrollToInternal(current)}this._oldScrollTop=scrollContainer.scrollTop()},_scrollContainer:function(){if(!this._scrollContainerObj||this._scrollContainerObj.length===0){this._scrollContainerObj=this.container().find("#"+this.id()+"_scrollContainer")}return this._scrollContainerObj},_onVirtualHorizontalScroll:function(event){var id=this.id(),internallyTriggered=event===undefined,horizontalScrollContainer=this._vhorizontalcontainer(),scrollLeft=horizontalScrollContainer.scrollLeft(),hiddenContentWidth=horizontalScrollContainer[0].scrollWidth-horizontalScrollContainer[0].offsetWidth,deltaScroll=scrollLeft-this._oldScrollLeft;if(!internallyTriggered&&Math.abs(deltaScroll)<5&&$.ig.util.isIE&&!$.ig.util.isIE){return}if(this.options.virtualization===true&&this.options.virtualizationMode==="continuous"){this._setDisplayContainerScrollLeft(this._getDisplayContainerScrollLeft()+deltaScroll);this._oldScrollLeft=horizontalScrollContainer.scrollLeft();this.container().find("#"+id+"_headers_v").scrollLeft(this.container().find("#"+id+"_headers_v").scrollLeft()+deltaScroll);this.container().find("#"+id+"_footer_container").scrollLeft(this.container().find("#"+id+"_footer_container").scrollLeft()+deltaScroll);return}this._isHorizontal=true;if(hiddenContentWidth>0){this._startColIndex=Math.ceil(scrollLeft*this._totalColumnCount/hiddenContentWidth);this._startColIndex=Math.min(this._startColIndex,this._totalColumnCount-this._virtualColumnCount)}else{this._startColIndex=0}if(internallyTriggered||this._oldStartColIndex!==this._startColIndex){this._renderVirtualRecords();this._trigger("virtualhorizontalscroll",null,{startColIndex:this._startColIndex,endColIndex:this._startColIndex+this._virtualColumnCount-1})}this._oldScrollLeft=horizontalScrollContainer.scrollLeft();this._oldStartColIndex=this._startColIndex},_initLoadingIndicator:function(){var widget;if(this.container().data("igLoading")){this._loadingIndicator=this.container().data("igLoading").indicator()}else{widget=this.container().igLoading().data("igLoading");if(widget){this._loadingIndicator=widget.indicator()}}},_addHorizontalScrollBar:function(parent){var sb=$("<div id='"+this.id()+"_hscroller_container' ></div>").css("height",this._scrollbarWidth()+"px").css("position","relative").css("display","none").css("overflow","hidden").append($("<div id='"+this.id()+"_hscroller' ></div>").css("width","100%").css("position","absolute").css("bottom","0px").css("overflow-x","scroll").css("overflow-y","scroll").append($("<div id='"+this.id()+"_hscroller_inner' ></div>").css("height","1px")).bind("scroll",$.proxy(this._scrollData,this)));if(parent){sb.insertAfter(parent)}},_updateVirtualHorizontalScrollbar:function(){var horizontalScrollContainerInner,horizontalScrollContainer;horizontalScrollContainerInner=this.container().find("#"+this.id()+"_horizontalScrollContainer div");horizontalScrollContainerInner.css("width",this._calculateContainerWidth(false));horizontalScrollContainer=this._vhorizontalcontainer();if(horizontalScrollContainer.width()>horizontalScrollContainerInner.width()){horizontalScrollContainer.css("display","none")}else{horizontalScrollContainer.css("display","")}},_generateColumnFlatStructure:function(treeStructure){var cols,oldCols,newCols=[];cols=treeStructure.slice(0);oldCols=treeStructure.slice(0);this._multiColumnIdentifier=0;this._maxLevel=this._getMaxLevelRecursive(0,cols);this._hiddenColumns={};this._analyzeMultiColumnHeaders(cols,newCols,0,oldCols,[]);this._oldCols=oldCols;this.options.columns=newCols},moveColumn:function(column,target,after,inDom){var grid=this,found,nColArray,movingParams,hcPreserve;nColArray=this._buildColumnLayoutArray();after=after===null||after===undefined?true:after;inDom=inDom===null||inDom===undefined?true:inDom;movingParams={column:column,target:target,after:after};if(this._oldCols){found=this._performInternalMove(movingParams,this._oldCols);hcPreserve=jQuery.extend(true,{},this._hiddenColumns);this._generateColumnFlatStructure(this._oldCols);this._hiddenColumns=hcPreserve;this._preserveColspans(this._oldCols)}else{found=this._performInternalMove(movingParams,this.options.columns)}column=movingParams.column;target=movingParams.target;after=movingParams.after;if(found===false){throw new Error($.ig.Grid.locale.movingNotAllowedOrIncompatible)}if(inDom===true){this._loadingIndicator.show();setTimeout(function(){grid._columnMovingResets();grid._performDomColumnMove(column,target,after,nColArray);grid._loadingIndicator.hide()},0)}else{this._columnMovingResets();this._performColumnMove(column,target,after,nColArray)}},_columnMovingResets:function(){var i,$th;this._updateHeaderColumnIndexes();delete this._virtualDom;delete this._visibleColumnsArray;this._headerCells=[];for(i=0;i<this.options.columns.length;i++){$th=this.container().find("#"+this.id()+"_"+this.options.columns[i].key).data("columnIndex",i);$th.data("data-mch-order",i);if($th.is(":visible")){this._headerCells.push($th)}}},_preserveColspans:function(cols){var i,cs=0,col,res;for(i=0;i<cols.length;i++){col=cols[i];if(col.group!==undefined&&col.group!==null){res=this._preserveColspans(col.group);col.colspan=res;cs+=res}else{if(col.hidden!==true){cs++}}}return cs},_columnVisible:function(col){return!col.hidden},_buildColumnLayoutArray:function(){var i=0,j=0,col,id,colrs,l,x=0,cCols=this._oldCols?jQuery.extend(true,[],this._oldCols):jQuery.extend(true,[],this.options.columns),nCols,level=0,width=this.container().find("#"+this.id()+" colgroup:first>col").not("[data-skip=true]").length,height=this.container().find("#"+this.id()+(this.options.fixedHeaders===true?"_headers ":" ")+"thead tr").length,array=[];if(height===0&&this.options.showHeader===false){height=1}for(i=0;i<width;i++){array[i]=[]}i=0;while(level<height){nCols=[];while(i<cCols.length){col=cCols[i];if(col.hidden===true){i++;continue}colrs=col.rowspan||1;id=this._getColMarkForLevel(col);l=col.colspan||1;for(j=0;j<l;j++){array[x+j][level]=id}if(col.crs===colrs&&col.group){nCols.push.apply(nCols,$.grep(col.group,this._columnVisible).slice(0))}else{nCols.push(col)}x+=l;i++}cCols=nCols;level++;x=0;i=0}return array},_getColMarkForLevel:function(col){if(!col.crs){col.crs=0}col.crs++;if(col.crs>1){return-1}return col.key||col.identifier},_performInternalMove:function(movingParams,subset){var i=0,j,success=true;i=this._getColIdxById(subset,movingParams.column);if(typeof movingParams.column==="number"){movingParams.column=subset[i].key||subset[i].identifier}if(i||i===0){j=this._getColIdxById(subset,movingParams.target);if(typeof movingParams.target==="number"){movingParams.target=subset[j].key||subset[j].identifier;if(j<i){movingParams.after=false}else{movingParams.after=true}}if(j||j===0){success=success&&this._rearrangeArray(subset,i,1,movingParams.after===true?j+1:j);return success}return false}for(i=0;i<subset.length;i++){if(subset[i].group){if(this._performInternalMove(movingParams,subset[i].group)===true){return true}}}return false},_getColIdxById:function(array,id){var i,col;if(typeof id==="number"){return id}for(i=0;i<array.length;i++){col=array[i];if(col.key){if(col.key===id){return i}}else if(col.identifier){if(col.identifier===id){return i}}}},_getCellIndexByColumnKey:function(key){var i=this._getVisibleIndexByKey(key);return i===-1?i:i+this.element.find("tbody>tr:not([data-grouprow='true']):first").children("th,td[data-skip='true'],td[data-parent]").length},_findColAreaInLayout:function(col,nColArray,depth){var i,j,res={};for(i=0;i<nColArray.length;i++){if(nColArray[i][depth]===col){res.start=i;for(j=i;j<nColArray.length;j++){if(nColArray[j][depth]!==col){break}}res.length=j-i;return res}}return null},_rearrangeArray:function(array,start,length,at){var col,targetAfter=start<at,n;if(start===at||start<0||at<0||start>=array.length||at>array.length){return false}col=array.splice(start,length);for(n=0;n<col.length;n++){array.splice(targetAfter?at-length+n:at+n,0,col[n])}return true},_moveColumnInHeader:function(column,target,after,nColArray){var rmil,movedColumn,targetColumn,targetIndex,targetObject,spStart,spEnd,i,j,cols,n,header;header=this.container().find("#"+this.id()+(this.options.fixedHeaders===true?"_headers ":" ")+">thead");for(j=0;j<nColArray[0].length;j++){movedColumn=this._findColAreaInLayout(column,nColArray,j);if(movedColumn){targetColumn=this._findColAreaInLayout(target,nColArray,j);if(targetColumn){break}}}rmil=[movedColumn,targetColumn];if(this.options.showHeader===false){return rmil}this._moveThs(header,column,target,after);while(++j<nColArray[0].length){cols=[];n=null;for(i=movedColumn.start;i<movedColumn.start+movedColumn.length;i++){if(nColArray[i][j]===-1){continue}if(nColArray[i][j]!==n){n=nColArray[i][j];cols.push(n)}}targetIndex=after===true?targetColumn.start+targetColumn.length-1:targetColumn.start;if(nColArray[targetIndex][j]!==-1){this._moveThs(header,cols,nColArray[targetIndex][j],after);continue}if(after===true){spStart=targetColumn.start+targetColumn.length;spEnd=movedColumn.start>targetColumn.start+targetColumn.length-1?movedColumn.start:nColArray.length;targetObject=this._findTargetRight(spStart,spEnd,j,nColArray);if(!targetObject){spStart=targetColumn.start+targetColumn.length-2;spEnd=movedColumn.start>targetColumn.start+targetColumn.length-1?-1:movedColumn.start+movedColumn.length;targetObject=this._findTargetLeft(spStart,spEnd,j,nColArray)}}else{spStart=targetColumn.start-1;spEnd=movedColumn.start>targetColumn.start+targetColumn.length-1?-1:movedColumn.start+movedColumn.length;targetObject=this._findTargetLeft(spStart,spEnd,j,nColArray);if(!targetObject){spStart=targetColumn.start+1;spEnd=movedColumn.start>targetColumn.start+targetColumn.length-1?movedColumn.start:nColArray.length;targetObject=this._findTargetRight(spStart,spEnd,j,nColArray)}}if(targetObject&&targetObject.pos&&targetObject.left!==undefined&&targetObject.left!==null){this._moveThs(header,cols,nColArray[targetObject.pos][j],targetObject.left)}}return rmil},_moveColumnInBodyFooter:function(area,movedColumn,targetColumn,after){var i,j,trs,$tr,tds,tar,skip;trs=area.find(">tr:not([data-container='true'],[data-grouprow='true'])");if(trs.length>0){skip=trs.eq(0).find("[data-parent],[data-skip='true'],th").length}for(j=0;j<trs.length;j++){tds=$();$tr=trs.eq(j);for(i=movedColumn.start;i<movedColumn.start+movedColumn.length;i++){tds=tds.add($tr.children().eq(i+skip))}if(after===true){tar=$tr.children().eq(targetColumn.start+targetColumn.length+skip-1);tds.detach().insertAfter(tar)}else{tar=$tr.children().eq(targetColumn.start+skip);tds.detach().insertBefore(tar)}}this._updateVerticalScrollbarCellPadding(true)},_findTargetRight:function(start,end,level,nColArray){var i,colFound={};for(i=start;i>=0&&i<end&&i<nColArray.length;i++){if(nColArray[i][level]!==-1){colFound.pos=i;colFound.left=false;return colFound}}},_findTargetLeft:function(start,end,level,nColArray){var i,colFound={};for(i=start;i>=0&&i>end&&i<nColArray.length;i--){if(nColArray[i][level]!==-1){colFound.pos=i;colFound.left=true;return colFound}}},_moveCols:function(area,movedColumn,targetColumn,after){var i,cols=$(),tCol,skip=area.children("[data-skip='true']").length;for(i=movedColumn.start;i<movedColumn.start+movedColumn.length;i++){cols=cols.add(area.children().eq(i+skip))}if(after===true){tCol=area.children().eq(targetColumn.start+targetColumn.length+skip-1);
cols.detach().insertAfter(tCol)}else{tCol=area.children().eq(targetColumn.start+skip);cols.detach().insertBefore(tCol)}},_moveThs:function(header,ids,tar,after){var $tar,$ids=$(),$id,i,$pid;$tar=header.find("th[data-mch-id='"+tar+"'],th[id='"+this.id()+"_"+tar+"']");if(typeof ids==="object"){for(i=0;i<ids.length;i++){$id=header.find("th[data-mch-id='"+ids[i]+"'],th[id='"+this.id()+"_"+ids[i]+"']");if($id.attr("data-vscr-padding-icrement")){$pid=$id}$ids=$ids.add($id)}}else{$ids=header.find("th[data-mch-id='"+ids+"'],th[id='"+this.id()+"_"+ids+"']");if($ids.attr("data-vscr-padding-icrement")){$pid=$ids}}$ids.detach();if(after){$ids.insertAfter($tar)}else{$ids.insertBefore($tar)}if($tar.attr("data-vscr-padding-icrement")&&after===true){$ids.last().css(this._padding,$tar.css(this._padding)).attr("data-vscr-padding-icrement",$tar.attr("data-vscr-padding-icrement"));$tar.css(this._padding,"");$tar.removeAttr("data-vscr-padding-icrement")}else if($pid){$pid.parent().children(":last").css(this._padding,$pid.css(this._padding)).attr("data-vscr-padding-icrement",$pid.attr("data-vscr-padding-icrement"));$pid.css(this._padding,"");$pid.removeAttr("data-vscr-padding-icrement")}},_moveSpecialThs:function(movedColumn,targetColumn,after){var i,j,spTrs,header,skip,ths,$tr,tar;header=this.container().find("#"+this.id()+(this.options.fixedHeaders===true?"_headers ":" ")+"thead");spTrs=header.find(">tr[data-role]");if(spTrs.length>0){skip=spTrs.eq(0).find("[data-parent],[data-skip='true']").length}for(j=0;j<spTrs.length;j++){ths=$();$tr=$(spTrs[j]);for(i=movedColumn.start;i<movedColumn.start+movedColumn.length;i++){ths=ths.add($tr.children("td,th").eq(i+skip))}if(after===true){tar=$tr.children().eq(targetColumn.start+targetColumn.length+skip-1);ths.detach().insertAfter(tar)}else{tar=$tr.children().eq(targetColumn.start+skip);ths.detach().insertBefore(tar)}}},_performDomColumnMove:function(column,target,after,nColArray){var rmil=this._moveColumnInHeader(column,target,after,nColArray),movedColumn=rmil[0],targetColumn=rmil[1],footer;this._moveSpecialThs(movedColumn,targetColumn,after);if(this.options.fixedHeaders===true){this._moveCols(this.container().find("#"+this.id()+"_headers>colgroup"),movedColumn,targetColumn,after)}this._moveColumnInBodyFooter(this.element.find(">tbody"),movedColumn,targetColumn,after);this._moveCols(this.element.find(">colgroup"),movedColumn,targetColumn,after);if(this.options.fixedFooters===true){footer=this.footersTable();this._moveColumnInBodyFooter(footer.children("tfoot"),movedColumn,targetColumn,after);this._moveCols(footer.children("colgroup"),movedColumn,targetColumn,after)}else{this._moveColumnInBodyFooter(this.element.find("tfoot"),movedColumn,targetColumn,after)}this._trigger("_columnsmoved",null,{owner:this,start:movedColumn.start,len:movedColumn.length,index:after===true?targetColumn.start+targetColumn.length:targetColumn.start})},_performColumnMove:function(column,target,after,nColArray){var rmil=this._moveColumnInHeader(column,target,after,nColArray),movedColumn=rmil[0],targetColumn=rmil[1];if(this.options.fixedHeaders===true){this._moveCols(this.container().find("#"+this.id()+"_headers>colgroup"),movedColumn,targetColumn,after)}this._renderData();this._renderFooter();this._rerenderColgroups()},showColumn:function(column){var grid=this;this._loadingIndicator.show();if(!this._isShowingAllowed([column])){return false}setTimeout(function(){grid._setHidden(column,false);grid._loadingIndicator.hide()},0);return true},hideColumn:function(column){var grid=this;this._loadingIndicator.show();if(!this._isHidingAllowed([column])){return false}setTimeout(function(){grid._setHidden(column,true);grid._loadingIndicator.hide()},0);return true},_setHidden:function(column,hidden){var col;if(typeof column==="number"){col=this.options.columns[column]}else{col=this.columnByKey(column)}if(col&&col.hidden!==hidden){this._setHiddenColumns([col],hidden,false)}},_visibleAreaWidth:function(w){if(w!==undefined){this._minVAreaWidth=w}else{return this._minVAreaWidth}},_isShowingAllowed:function(columns){if(!this.hasFixedColumns()){return true}var i,columnsLength=columns.length,totalW=0,w,gridW,colType,col;for(i=0;i<columnsLength;i++){colType=typeof columns[i];if(colType==="string"){col=this.columnByKey(columns[i])}else if(colType==="number"){col=this.options.columns[columns[i]]}else{col=columns[i]}if(!col||!col.hidden){continue}if(col.fixed&&(col.width||col.oWidth)){w=col.width||col.oWidth;w=parseInt(w,10);totalW+=w}}if(totalW!==0){gridW=this.container().outerWidth();if(gridW-parseInt(this.fixedContainer().outerWidth(),10)-totalW<this._visibleAreaWidth()){return false}}return true},_isHidingAllowed:function(columns){if(!this.hasFixedColumns()){return true}var i,columnsLength=columns.length,col,colType,fixed=[],unfixed=[];for(i=0;i<columnsLength;i++){colType=typeof columns[i];if(colType==="string"){col=this.columnByKey(columns[i])}else if(colType==="number"){col=this.options.columns[columns[i]]}else{col=columns[i]}if(!col||col.hidden){continue}if(col.fixed){fixed.push(col)}else{unfixed.push(col)}}if(fixed.length!==0&&this._visibleColumns(true).length<=fixed.length||this._visibleColumns(false).length<=unfixed.length){return false}return true},_setHiddenColumns:function(columns,hidden,initial){var columnNumberChanged=false,self=this,hasVirtualization=this.options.virtualization===true||this.options.columnVirtualization===true||this.options.rowVirtualization===true,hasColumnVirtualization=this.options.virtualizationMode!=="continuous"&&(this.options.virtualization===true&&this.options.width||this.options.columnVirtualization===true),isContinuos=false,visibleColumnsLength,visibleColumnsWithWidthLength,gridWidth,hasNoWidthPercentage,overflow,colgroup;if(columns.length===0){return}this._fireInternalEvent("_hidingFinishing",{columns:columns,hidden:hidden});if(hasVirtualization){isContinuos=this.options.virtualizationMode==="continuous";self._updateVirtColCounters();if(!isContinuos){$.each(columns,function(index,col){var oldVirtualColumnCount=self._virtualColumnCount;col.hidden=hidden;self._visibleColumnsArray=undefined;self._updateVirtColCounters();if(self._virtualColumnCount!==oldVirtualColumnCount){if(self._virtualColumnCount<oldVirtualColumnCount){self._detachColumn(col)}else if(self._virtualColumnCount>oldVirtualColumnCount){self._attachColumn(col)}columnNumberChanged=true;self._virtualDom=null}});if(hasColumnVirtualization){this._vheaders=undefined;this._updateVirtualHorizontalScrollbar();this._onVirtualHorizontalScroll();if(!this._initialized){this._adjustLastColumnWidth(true)}}this._renderVirtualRecords()}}if(!hasVirtualization||isContinuos){$.each(columns,function(index,col){col.hidden=hidden;self._visibleColumnsArray=undefined;if(col.hidden){self._detachColumn(col)}else{self._attachColumn(col)}});this._cleanupTBody();columnNumberChanged=true;if(hasVirtualization){this._renderVirtualRecords()}else{this._renderRecords()}}if(columnNumberChanged){if(!this._initialized){this._rerenderColgroups(initial);this._adjustLastColumnWidth(true)}else{if(this._visibleColumns().length>0){this._rerenderColgroups(initial);this._adjustLastColumnWidth(true);visibleColumnsLength=this._visibleColumns().length;visibleColumnsWithWidthLength=$.grep(this._visibleColumns(),function(col){return col.width}).length;if(visibleColumnsWithWidthLength===visibleColumnsLength){if(this.options.width&&parseInt(this.options.width,10)>0){this._updateGridContentWidth()}else{this._setContainerWidth(this.container());if(hasVirtualization){gridWidth=this._calculateContainerWidth(true);if(this.options.height!==null){gridWidth-=this._scrollbarWidth()}this._vdisplaycontainer().css("width",gridWidth).css("max-width",gridWidth)}}}}}}this._fireInternalEvent("_hidingFinished",{columns:columns,hidden:hidden});this.element.trigger("iggriduisoftdirty",{owner:this});this._trigger(this.events.columnsCollectionModified,null,{owner:this});if(columnNumberChanged&&hasVirtualization&&this._visibleColumns().length>0&&visibleColumnsWithWidthLength===visibleColumnsLength){if(this.options.virtualizationMode==="continuous"){gridWidth+=this._calculateSpecialColumnsWidth();this._vdisplaycontainer().css("width",gridWidth).css("max-width",gridWidth)}this.container().find("#"+this.id()+"_virtualContainer>colgroup col").eq(0).attr("width",gridWidth);if(this.options.width===null||this.options.width===undefined){this._setContainerWidth(this.container().find("#"+this.id()+"_headers_v"))}}this._origWidth=parseInt(this.container().css("width"),10);if(columnNumberChanged&&$.ig.util.isSafari&&this.options.showHeader){this._refreshUI()}if(columnNumberChanged&&($.ig.util.isFF||$.ig.util.isIE8)){hasNoWidthPercentage=false;if($.ig.util.isIE8&&typeof this.options.width==="string"&&this.options.width.indexOf("%")!==-1){this._refreshUI()}if(this.options.fixedHeaders===true&&this.options.height!==null||this.options.showHeader===false){colgroup=this.element.children("colgroup").detach();this.element.prepend(colgroup);if(this.options.width||this.options.defaultColumnWidth&&this.options.defaultColumnWidth.indexOf("%")===-1){hasNoWidthPercentage=true}colgroup.find("col").each(function(){var w=this.style.width;if(w&&w.indexOf("%")===-1){hasNoWidthPercentage=false;return false}})}overflow=this.element[0].style.overflow;this.element[0].style.overflow="hidden";setTimeout(function(){self.element[0].style.overflow=overflow},0);if(this.options.showHeader){colgroup=this.headersTable().children("colgroup").detach();this.headersTable().prepend(colgroup);if(hasNoWidthPercentage){overflow=this.headersTable()[0].style.overflow;this.headersTable()[0].style.overflow="hidden";setTimeout(function(){self.headersTable()[0].style.overflow=overflow},0)}}if(this.options.fixedFooters===true&&this.options.height!==null){colgroup=this.footersTable().children("colgroup").detach();this.footersTable().prepend(colgroup);if(hasNoWidthPercentage){overflow=this.footersTable()[0].style.overflow;this.footersTable()[0].style.overflow="hidden";setTimeout(function(){self.footersTable()[0].style.overflow=overflow},0)}}}},_calculateSpecialColumnsWidth:function(){var width=0;this.headersTable().find("> colgroup > col[data-skip=true]").each(function(){var colWidth=this.style.width;if(colWidth){width+=parseInt(colWidth,10)}});if(width>0){this._origSum=width}return width},_allSpecialColumnsInPercentage:function(){var specCols=this.headersTable().find("> colgroup > col[data-skip=true]"),i;for(i=0;i<specCols.length;i++){if(!specCols[i].style.width.endsWith("%")){return false}}return true},_synchronizeHScroll:function(){var hasFixedHeaders=this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null,hasFixedFooters=this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null,scroller=this._hscrollbarcontent(),scrollContainer=this.scrollContainer(),horizontalScrollContainer=$("#"+this.id()+"_horizontalScrollContainer"),scrLeft=scroller.scrollLeft(),headers,displayContainer,footers;if(scroller.length===0&&horizontalScrollContainer.length===1){displayContainer=$("#"+this.id()+"_displayContainer");scrLeft=displayContainer.scrollLeft()}else{scrollContainer.scrollLeft(scrLeft);scrLeft=scrollContainer.scrollLeft();scroller.scrollLeft(scrLeft)}if(hasFixedHeaders){headers=this.headersTable().parent();headers.scrollLeft(scrLeft)}if(hasFixedFooters){footers=this._fixedfooters();footers.scrollLeft(scrLeft)}},_updateFixedGridContentWidth:function(minAllowWidth){var fixedContainerWidth=0,gridW,gridInnerWidth;$.each(this._fixedColumns,function(index,col){var colW;if(!col.width||col.width.charAt&&col.width.endsWith("%")||col.hidden){return true}colW=parseInt(col.width,10);if(col.fixed===true){fixedContainerWidth+=colW}});this._setGridFixedTablesWidth(fixedContainerWidth);if(this._gridHasWidthInPixels()){gridW=parseInt(this.options.width,10);gridInnerWidth=gridW-parseInt(this.fixedContainer().outerWidth(),10);this._hscrollbar().css("width",gridInnerWidth+"px");if(this.options.height!==null){this._gridInnerWidth=gridInnerWidth;this._gridInnerWidth=this.scrollContainer().width();this._updateHScrollbarVisibility()}}},_updateGridContentWidth:function(){var gridWidth=0,scroller,scrLeft,hasFixedHeader=this.options.height!==null&&this.options.fixedHeaders===true&&this.options.showHeader&&this._headerParent;$.each(this._visibleColumns(),function(index,col){if(col.fixed===true){return true}if(gridWidth!==undefined&&col.width&&!(col.width.charAt&&col.width.endsWith("%"))){gridWidth+=parseInt(col.width,10)}else{gridWidth=undefined}});if(gridWidth===undefined){return}gridWidth+=this._calculateSpecialColumnsWidth();if(!hasFixedHeader&&this._hasVerticalScrollbar){gridWidth-=this._scrollbarWidth()}if(this.options.width!==null&&this.options.height!==null){scroller=this._hscrollbarcontent();scrLeft=scroller.scrollLeft()}this._setGridContentWidth(gridWidth);if(this.options.height!==null&&this.options.width!==null){this._updateVerticalScrollbarCellPadding()}if(this.options.width!==null&&this.options.height!==null){scroller.scrollLeft(scrLeft);this._synchronizeHScroll()}},_updateVerticalScrollbarCellPadding:function(skipHeaderFooters){var hasFixedHeaders=this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null,hasFixedFooters=this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null,emptySpace,paddingIncrement;if(this.options.height===null){return}if(!hasFixedHeaders&&!hasFixedFooters){return}if(this._gridInnerWidth===undefined||this._gridContentWidth===undefined){emptySpace=0}else{emptySpace=this._gridInnerWidth-this._gridContentWidth}if(this._hasVerticalScrollbar){paddingIncrement=this._scrollbarWidth()}else{paddingIncrement=0}if(emptySpace>=0){paddingIncrement-=emptySpace}if(paddingIncrement<0){paddingIncrement=0}this._updateVScrollbarCellPaddingHelper(paddingIncrement,skipHeaderFooters)},_updateVScrollbarCellPaddingHelper:function(paddingIncrement,skipHeaderFooters){var hasFixedHeaders=this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null,hasFixedFooters=this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null;if(hasFixedHeaders&&!skipHeaderFooters){this._increaseLastHeaderCellVScrollbarPadding(this.headersTable(),paddingIncrement)}if(hasFixedFooters&&!skipHeaderFooters){this._increaseLastCellVScrollbarPadding(this.footersTable(),"tfoot","td",paddingIncrement)}this._increaseLastCellVScrollbarPadding(this.element,"tbody","td",paddingIncrement)},_increaseLastHeaderCellVScrollbarPadding:function(table,paddingIncrement){var lastCells=table.children("thead").children("tr").not("[data-skip=true]").children("th:last-child").not("[data-skip=true]"),currIncrement=parseInt(lastCells.first().attr("data-vscr-padding-icrement"),10),paddingValue;paddingValue=parseInt(lastCells.first().css(this._padding),10);if(currIncrement){paddingValue-=currIncrement}this._removeHeaderCellPadding(table);lastCells.css(this._padding,paddingValue+paddingIncrement);lastCells.first().attr("data-vscr-padding-icrement",paddingIncrement);lastCells.find("[data-nonpaddedindicator=right]").css(this._rtl?"margin-left":"margin-right",-parseInt(lastCells.css(this._padding),10)+"px")},_removeHeaderCellPadding:function(table,removeAllPaddings){var withoutLastCell=":not(:last)";if(removeAllPaddings===true){withoutLastCell=""}table.find("thead > tr > th"+withoutLastCell+"[data-vscr-padding-icrement],thead > tr > td:not(:last)[data-vscr-padding-icrement]").removeAttr("data-vscr-padding-icrement").css(this._padding,"")},_removeCellPadding:function(table,tableGroup,rowElement,removeAllPaddings){var i,$cell,cells,withoutLastCell=":not(:last)";if(removeAllPaddings===true){withoutLastCell=""}cells=table.find(" > "+tableGroup+" > tr:first > "+rowElement+withoutLastCell+"[data-vscr-padding-icrement]");for(i=0;i<cells.length;i++){$cell=$(cells[i]);$cell.removeAttr("data-vscr-padding-icrement");table.find(" > "+tableGroup+" > tr > "+rowElement+":nth-child("+($cell.index()+1)+")").css(this._padding,"")}},_increaseLastCellVScrollbarPadding:function(table,tableGroup,rowElement,paddingIncrement){var paddingValue,lastCells=table.find(" > "+tableGroup+" > tr > "+rowElement+":last-child"),currIncrement=parseInt(lastCells.first().attr("data-vscr-padding-icrement"),10);this._removeCellPadding(table,tableGroup,rowElement);paddingValue=parseInt(lastCells.first().css(this._padding),10);if(currIncrement){paddingValue-=currIncrement}lastCells.css(this._padding,paddingValue+paddingIncrement);lastCells.first().attr("data-vscr-padding-icrement",paddingIncrement)},_updateHScrollbarVisibility:function(){var scrollerContainer=this._hscrollbar(),scrollerWasHidden=scrollerContainer.css("display")==="none";scrollerContainer.css("display","");if(this._gridInnerWidth<this._gridContentWidth){if(this.options.virtualizationMode==="continuous"&&scrollerContainer.length===0&&this._getHScrollContainerInner().length===0){this._renderHorizontalScrollContainer(this._calculateContainerWidth(false));scrollerWasHidden=true}if(scrollerWasHidden){if(this.options.autoAdjustHeight){this._initializeHeights()}}}else{if(this.options.virtualizationMode==="continuous"&&scrollerContainer.length===0&&this._getHScrollContainerInner().length===1){this._vhorizontalcontainer().empty().attr("style","");scrollerWasHidden=false}scrollerContainer.css("display","none");if(!scrollerWasHidden){if(this.options.autoAdjustHeight){this._initializeHeights()}}}},_setGridContentWidth:function(gridContentWidth){var o=this.options,w,v=o.virtualization===true||o.rowVirtualization===true||o.columnVirtualization===true;if(this.options.height!==null){if(gridContentWidth){this._gridContentWidth=gridContentWidth}if(this._gridContentWidth){w=this._hasVerticalScrollbar&&this.options.fixedHeaders?this._gridContentWidth-this._scrollbarWidth():this._gridContentWidth;this._getHScrollContainerInner().css("width",w)}this._updateHScrollbarVisibility()}if(v===false){this._setGridTablesWidth(gridContentWidth)}},_setGridFixedTablesWidth:function(width){var hasFixedHeaders=this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null,hasFixedFooters=this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null;this.fixedTable().width(width);if(hasFixedHeaders){this.fixedHeadersTable().width(width)}if(hasFixedFooters){this.fixedFootersTable().width(width)}},_setGridTablesWidth:function(width){var hasFixedHeaders=this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null,hasFixedFooters=this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null;this.element.width(width);if(hasFixedHeaders){this.headersTable().width(width)}if(hasFixedFooters){this.footersTable().width(width)}},_detachHiddenColumns:function(){var col,i;for(i=0;i<this.options.columns.length;i++){col=this.options.columns[i];if(col.hidden){this._detachColumn(col)}}},_rerenderColgroups:function(){var hasFixedHeader=this.options.height!==null&&this.options.fixedHeaders===true&&this.options.showHeader,hasFixedFooter=this.options.height!==null&&this.options.fixedFooters===true&&this.options.showFooter,initial=this.options.autofitLastColumn;if(hasFixedHeader){this.headersTable().children("colgroup").remove();this._renderColgroup(this.headersTable()[0],true,false,initial)}if(hasFixedFooter){this.footersTable().children("colgroup").remove();this._renderColgroup(this.footersTable()[0],false,true,initial)}this.element.children("colgroup").remove();this._renderColgroup(this.element[0],false,false,initial)},_detachColumn:function(col){var position,cols,headerCells,isMultiColumnGrid=this._isMultiColumnGrid;col.hidden=false;this._visibleColumnsArray=undefined;cols=this._visibleColumns();position=$.inArray(col,cols);col.hidden=true;this._visibleColumnsArray=undefined;this._initializeDetachedContainers();headerCells=this.headersTable().children("thead").children("tr").not("[data-skip=true]");if(isMultiColumnGrid){this._hideMultiHeaderCells(this._headerCells,position,col.key);headerCells=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]");this._detachCells(headerCells,function(row){return row.children("th, td").not("[data-skip=true]")},position,this._detachedHeaderCells,col.key)}else{this._detachCells(headerCells,function(row){return row.children("th, td").not("[data-skip=true]")},position,this._detachedHeaderCells,col.key)}this._detachCells(this.footersTable().children("tfoot").children("tr"),function(row){return row.children("td").not("[data-skip=true]")},position,this._detachedFooterCells,col.key)},_attachColumn:function(col){var headerCells,visibleCols=this._visibleColumns(),position=$.inArray(col,visibleCols);this._initializeDetachedContainers();if(this._isMultiColumnGrid){this._showMultiHeaderCells(col.key);headerCells=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]");this._attachCells(headerCells,function(row){return row.children("th, td").not("[data-skip=true]")},position,this._detachedHeaderCells,col.key)}else{this._attachCells(this.headersTable().children("thead").children("tr").not("[data-skip=true]"),function(row){return row.children("th, td").not("[data-skip=true]")},position,this._detachedHeaderCells,col.key)}this._attachCells(this.footersTable().children("tfoot").children("tr"),function(row){return row.children("td").not("[data-skip=true]")},position,this._detachedFooterCells,col.key)},_initializeDetachedContainers:function(){if(!this._detachedContainersInitialized){this._detachedHeaderCells={};this._detachedFooterCells={};this._detachedContainersInitialized=true}},_getParentsMultiHeader:function(key){var i,cols=this._oldCols,colsLength=cols.length,arr=[];for(i=0;i<colsLength;i++){if(cols[i].key===key||cols[i].identifier===key){arr.push(cols[i]);break}if(cols[i].group){if(this._getParentsMultiHeaderRecursive(key,cols[i].group,arr)===true){arr.push(cols[i]);break}}}return arr},_getParentsMultiHeaderRecursive:function(key,arr,resArr){var i,cols=arr,colsLength=arr.length,res=false;for(i=0;i<colsLength;i++){if(cols[i].key===key||cols[i].identifier===key){resArr.push(cols[i]);res=true;break}if(cols[i].group&&this._getParentsMultiHeaderRecursive(key,cols[i].group,resArr)===true){resArr.push(cols[i]);res=true;break}}return res},_hideMultiHeaderCells:function(headerCells,position,key){var i,currentCell,parents=this._getParentsMultiHeader(key),parent,colspan,$th,headersTable=this.headersTable().find("thead > tr"),$tr;currentCell=headerCells[position];this._headerCells.splice(position,1);$tr=currentCell.closest("tr");if($tr[0].style.height===""){$tr[0].style.height=$tr.outerHeight()+"px"}currentCell.css("display","none");this._hiddenColumns[key]=currentCell;if(parents.length>0){for(i=0;i<parents.length;i++){parent=parents[i];if(parent.level===0){continue}$th=headersTable.find("th[data-mch-id="+parent.identifier+"]");if($th.length===0){$th=this.fixedHeadersTable().find("thead > tr").find("th[data-mch-id="+parent.identifier+"]")}colspan=parseInt($th.attr("colspan"),10);if(colspan>1){$th.attr("colspan",--colspan);parent.colspan=colspan}else{$tr=$th.closest("tr");if($tr[0].style.height===""){$tr[0].style.height=$tr.outerHeight()+"px"}$th.attr("ishidden",1);$th.css("display","none");parent.hidden=true;parent.colspan=0}}}},_detachCells:function(rows,cellSelectorFunction,position,container,key){var detachedCells=[],i,cells,currentCell;if(rows.length>0){for(i=0;i<rows.length;i++){cells=cellSelectorFunction(rows.eq(i));currentCell=cells.eq(position);if(cells.length===1){currentCell.after($("<"+currentCell[0].tagName+"></"+currentCell[0].tagName+">").attr("data-hiddenreplacement","true").css("height",currentCell.height()).attr("class",currentCell.attr("class")))}detachedCells.push(currentCell.detach())}container[key]=detachedCells}},_showMultiHeaderCells:function(key){var i,currentCell=this._hiddenColumns[key],parents=this._getParentsMultiHeader(key),parent,colspan,$th,currentOrder,order,headerCellsLength=this._headerCells.length,headersTable=this.headersTable().find("thead > tr"),isHidden;if(currentCell===null||currentCell===undefined){return}currentOrder=currentCell.data("data-mch-order");for(i=0;i<headerCellsLength;i++){order=this._headerCells[i].data("data-mch-order");if(currentOrder<order){this._headerCells.splice(i,0,currentCell);break}}if(i===headerCellsLength){this._headerCells.push(currentCell)}currentCell.css("display","");currentCell.removeAttr("ishidden");if(parents.length>0){for(i=0;i<parents.length;i++){parent=parents[i];if(parent.level===0){continue}$th=headersTable.find("th[data-mch-id="+parent.identifier+"]");if($th.length===0){$th=this.fixedHeadersTable().find("thead > tr").find("th[data-mch-id="+parent.identifier+"]")}isHidden=$th.attr("ishidden")==="1";colspan=parseInt($th.attr("colspan"),10);if(!isHidden){$th.attr("colspan",++colspan);parent.colspan=colspan}else{$th.removeAttr("ishidden");$th.css("display","");parent.hidden=false;parent.colspan=1}}}},_attachCells:function(rows,cellSelectorFunction,position,container,key){var detachedCells,i,cells,replacementCell,storedKey;if(rows.length>0){if(this.options.virtualization===true||this.options.columnVirtualization===true){detachedCells=container[key];if(detachedCells===null||detachedCells===undefined){for(storedKey in container){if(container.hasOwnProperty(storedKey)){detachedCells=container[storedKey];delete container[storedKey];break}}}else{delete container[key]}}else{detachedCells=container[key];delete container[key]}if(detachedCells===undefined||detachedCells===null){return}for(i=0;i<rows.length;i++){cells=cellSelectorFunction(rows.eq(i)).not("[data-hiddenreplacement=true]");if(position===0){if(cells.length===0){replacementCell=rows.eq(i).find("[data-hiddenreplacement=true]");replacementCell.after(detachedCells[i]);replacementCell.remove()}else{cells.eq(0).before(detachedCells[i])}}else{cells.eq(position-1).after(detachedCells[i])}}}},_cleanupTBody:function(){var tbody=this.element.children("tbody");if($.ui.igGrid.speedupDOMCleanup===false){tbody.empty()}else{if(tbody.children().length>0){this.element[0].removeChild(tbody[0]);tbody=$("<tbody></tbody>").appendTo(this.element).addClass(this.css.baseContentClass).addClass(this.css.gridTableBodyClass).addClass(this.css.recordClass)}}return tbody},_captureInitiallyHiddenColumns:function(){this._initialHiddenColumns=$.grep(this.options.columns,function(column,index){var hidden=column.hidden;column.hidden=false;return hidden})},getUnboundValues:function(key){var res;if(key===undefined||key===null){return this._unboundValues}res=this._unboundValues[key];if(res===undefined||res===null){if(this.getUnboundColumnByKey(key)!==null){res=[]}else{res=null}}return res},setUnboundValues:function(key,values){this._setRenderUndobundValues(values,key)},_setRenderUndobundValues:function(values,key,notToRender){var i,data=this.dataSource.data(),dataLength=data.length,valuesLength=values.length,isToConvert=false,type="string",pk=this.options.primaryKey,col,schema,pkVal;if(valuesLength===0){return}col=this.getUnboundColumnByKey(key);if(col===null){return}if(this.dataSource&&this.dataSource.schema){if(col.dataType){type=col.dataType;isToConvert=true;schema=this.dataSource.schema()}}if(pk===undefined){pk=null}for(i=0;i<valuesLength;i++){if(data[i]===undefined||data[i]===null){break}if(isToConvert){if(pk===null){pkVal=i}else{pkVal=data[i][pk]}values[i]=schema._convertType(type,values[i],pkVal,key)}data[i][key]=values[i];this._addUnboundColumnValue(key,values[i],i)}if((type==="bool"||type==="boolean")&&valuesLength<dataLength){for(i=valuesLength;i<dataLength;i++){data[i][key]=schema._convertType(type,null,pkVal,key)}}if(this.options.virtualization===true||this.options.rowVirtualization===true){this._scrollTo(0)}if(notToRender!==true){this._renderColumnData(key,this.dataSource.dataView())}},getUnboundColumnByKey:function(key){if(this._unboundColumns===undefined||this._unboundColumns===null||this._unboundColumns.length===0||key===null||key===undefined){return null}var column=null;$.each(this._unboundColumns,function(ind,col){if(col.key===key){column=col;return false}});return column},_renderColumnData:function(key,values){if(values.length===0){return}var visibleColumns=this._visibleColumns(),grid=this,tdIndex,index,tds,column,ds,isToConvertToString=false,hasTemplate,temp;index=this._getVisibleIndexByKey(key);column=visibleColumns[index];hasTemplate=column.template&&column.template.length>0;if(column===undefined||column===null){return}isToConvertToString=column.dataType==="bool";if(hasTemplate){ds=this.dataSource.dataView()}tdIndex=index+this.headersTable().find(">thead>tr:eq(0)>th[data-skip=true]").length;tds=this.element.find(">tbody> tr > td:not([data-skip]):nth-child("+(tdIndex+1)+")");$.each(values,function(ind,val){var innerHtml;if(val[key]===undefined){return true}if(hasTemplate){temp=grid._renderTemplatedCell(ds[ind],column);if(temp.indexOf("<td")===0){innerHtml=$(temp).html()}else{innerHtml=temp}}else{innerHtml=grid._renderCell(val[key],column,val);if(isToConvertToString===true){innerHtml=innerHtml.toString()}}if(!tds[ind]){return false}$(tds[ind]).html(innerHtml)})},_renderData:function(success,errmsg){if(!(this._isDataBoundCalled===true&&success===undefined)||success!==undefined){this._trigger(this.events.dataBound,null,{owner:this});this._isDataBoundCalled=false}var gridElement=this.element,self=this,noCancel=true,sum=0,cols,colsToUnbound,colsLength,data,key,j,i,f,diff=0,isTable=false,noCancelError=true,isRemoteDS=this._inferOpType()==="remote",ucFormulaFunction,tbody,newW,totalWidth,isToRefreshUI=false,jsrnd=String(this.options.templatingEngine).toLowerCase()==="jsrender",displayCont;if((this.options.requiresDataBinding===true||this._isToSetUnboundColumns===true||isRemoteDS)&&this._hasUnboundColumns){this._isToSetUnboundColumns=false;if(this._hasInitialUnboundValues===null||this._hasInitialUnboundValues===undefined){this._hasInitialUnboundValues={}}cols=this.options.columns;colsLength=cols.length;data=this.dataSource.data();ucFormulaFunction=function(data,formula){$.each(data,function(ind,val){val[key]=formula(val,gridElement);self._addUnboundColumnValue(key,val[key],ind)})};colsToUnbound=[];if(isRemoteDS){this._unboundValues={}}for(i=0;i<colsLength;i++){if(cols[i].unbound===true){key=cols[i].key;if(cols[i].unboundValues!==null&&cols[i].unboundValues!==undefined&&$.type(cols[i].unboundValues)==="array"){if(this._rebindUnboundColumns===true||cols[i].unboundValues.length>0&&this._hasInitialUnboundValues[key]===undefined){this._hasInitialUnboundValues[key]=true;this._setRenderUndobundValues(cols[i].unboundValues,key,true)}}else if(cols[i].formula!==null&&cols[i].formula!==undefined){f=null;if($.type(cols[i].formula)==="function"){f=cols[i].formula}else if(window[cols[i].formula]&&typeof window[cols[i].formula]==="function"){f=window[cols[i].formula]}if(f){ucFormulaFunction(data,f)}}else if(this._unboundValues[key]&&this._unboundValues[key].length>0){colsToUnbound.push(key)}}}if(this.options.localSchemaTransform===true&&colsToUnbound.length>0&&data.length>0){for(i=0;i<colsToUnbound.length;i++){key=colsToUnbound[i];if(data[0][key]===undefined){this.setUnboundValues(key,this._unboundValues[key])}}}if(this.options.mergeUnboundColumns===false){this._mergeUnboundValues()}}if(success===false){noCancelError=this._trigger(this.events.requestError,null,{owner:this,message:errmsg});if(noCancelError){throw new Error(errmsg)}}if(this._cancelRendering===true){this._cancelRendering=false;return}this.element.trigger("iggriduisoftdirty",{owner:this});if(!this._initialized){if(this.options.autoGenerateColumns===true){this._generateColumns();if((this.options.virtualization===true||this.options.columnVirtualization===true)&&this.options.width){totalWidth=this._calculateContainerWidth(false);if(totalWidth>parseInt(this.options.width,10)&&$("#"+this.id()+"_horizontalScrollContainer").children().length===0){this._renderHorizontalScrollContainer(totalWidth)
}}for(i=0;i<this.options.features.length;i++){this._initFeature(this.options.features[i],this._dataOptions)}}}tbody=gridElement.children("tbody");noCancel=this._trigger(this.events.dataRendering,null,{owner:this,tbody:tbody});if(noCancel){if(!(this.options.dataSource&&this.options.dataSource.tagName&&$(this.options.dataSource).is("table"))){tbody=this._cleanupTBody()}else{isTable=true}this._virtualDom=null;if(!this._initialized){if(this.options.autoGenerateColumns===true){this._captureInitiallyHiddenColumns();this._visibleColumnsArray=undefined;this._updateVirtColCounters()}if(isTable){tbody.empty()}if(this._renderHeaderCalled!==true){this._renderHeader();this._renderCaption()}else{if(this.options.width!==null&&this.options.height===null){this.scrollContainer().css("overflow-y","hidden").css("overflow-x","auto")}}if(this.element.find("colgroup").length===0||this.element.find("colgroup").children().length===0){this._renderColgroup(this.element[0],false,false,this.options.autofitLastColumn)}this._renderFooter()}this._trigger("dataEmpty",null,{owner:this,tbody:tbody});if(this.options.autoGenerateColumns===false&&(this.options.columns&&this.options.columns.length===0||!this.options.columns)){throw new Error($.ig.Grid.locale.noColumnsButAutoGenerateTrue)}this._tmplWrappers=jsrnd?$.render:{};this._setTemplateDefinition(jsrnd);if(this._initialHiddenColumns===undefined||this._initialHiddenColumns.length===0){if(this.options.columns.length>0){if(this.options.virtualization===true||this.options.rowVirtualization===true||this.options.columnVirtualization===true){this._scrollContainer()[0].scrollTop=0;this._renderVirtualRecords()}else{this._renderRecords()}if(this._initialized){this._adjustLastColumnWidth(false);if(this.options.width!==null&&this.options.height!==null){this._synchronizeHScroll()}}else{if(this.options.height!==null&&this.options.autoAdjustHeight){this._initializeHeights()}this._adjustLastColumnWidth(true)}}}if(!this._initialized){if(this.options.autoAdjustHeight){this._initializeHeights()}}if(this._initialHiddenColumns!==undefined&&this._initialHiddenColumns.length>0){this._setHiddenColumns(this._initialHiddenColumns,true,true);if(this._initialHiddenCells!==undefined&&this._initialHiddenCells.length>0){$.each(this._initialHiddenCells,function(index,cell){cell.css("display","")})}$.each(this._initialHiddenColumns,function(index,column){column._initiallyHidden=true});this._initialHiddenCells=undefined;this._initialHiddenColumns=undefined;if($.ig.util.isFF){isToRefreshUI=true}}this._registerAdditionalEvents();this._trigger(this.events.dataRendered,null,{owner:this});this._updateVirtualScrollContainer();this._fireInternalEvent("_dataRendered");if(this._loadingIndicator===undefined){this._initLoadingIndicator()}this._loadingIndicator.hide()}if(this._fixScrollY){this.scrollContainer().css("overflow-y",this.rows().length>1?"hidden":"visible")}if(this.options.width===null&&this.container()[0]&&this.container()[0].style.width){cols=this.element.find("colgroup > col[data-skip]");if(cols.length>0){for(j=0;j<cols.length;j++){sum+=parseInt(cols[j].style.width,10)}}if(!this._origSum){this._origSum=0}diff=sum-this._origSum;if(diff<0){diff=0}newW=parseInt(this.container()[0].style.width,10)+diff;this.container().css("width",newW);displayCont=this._vdisplaycontainer();if(displayCont.length>0){displayCont.css("width",newW-this._scrollbarWidth()).css("max-width",newW-this._scrollbarWidth());this.container().find("#"+this.id()+"_headers_v").css("width",newW);this._fixedfooters().css("width",newW)}this._origSum=sum}if(this.options.dataSourceUrl!==null&&this._firstBind){this.options.dataSource=this.options.dataSourceUrl;this.dataSource.settings.dataSource=this.options.dataSourceUrl;this.dataSource.settings.type="remoteUrl";this.dataSource._runtimeType=this.dataSource.analyzeDataSource();this._firstBind=false}if(!this._initialized){this._trigger(this.events.rendered,null,{owner:this});this._hc=this.container().find(".ui-iggrid-expandheadercell").length>0;this._initialized=true;if(document.documentMode===7||$.ig.util.isIE7){$.each($("#"+this.id()+"_container colgroup col"),function(){var $col=$(this),styleWidth=parseInt(this.style.width,10),width=$col.outerWidth();if(styleWidth&&styleWidth<width){$col.width(2*styleWidth-width)}})}}if(isToRefreshUI){this._refreshUI()}this._fireInternalEvent("_gridRendered",this.container())},_refreshUI:function(){var self=this;self.container().hide();setTimeout(function(){self.container().show()},0)},_updateVirtualScrollContainer:function(){var headersHeight=0;this._totalRowCount=this._getTotalRowCount();if((this.options.virtualization||this.options.rowVirtualization)&&this._totalRowCount){if(this._avgRowHeight===undefined||this._avgRowHeight===null){this._avgRowHeight=this._calculateAvgRowHeight()}if(this.options.showHeader){headersHeight=this.headersTable().height()}if(this._totalRowCount*this._avgRowHeight<=parseInt(this.options.height,10)-headersHeight){this.element.height("");if(this.options.virtualizationMode==="fixed"){this.element.find(".ui-iggrid-virtualrow").height(this._avgRowHeight)}this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight)}else{this.element.height(this._initialVirtualHeight);if(this.options.virtualizationMode==="continuous"){this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight)}}}},_hasColumnTemplates:function(){var i,hasTemplates=false,t;for(i=0;i<this.options.columns.length;i++){t=this.options.columns[i].template;if(t!==null&&t!==undefined&&t!==""&&t.length>0){hasTemplates=true;break}}return hasTemplates},_gridHasWidthInPixels:function(){if(typeof this.options.width==="string"&&this.options.width.indexOf("%")!==-1){return false}return parseInt(this.options.width,10)>0},_gridHasWidthInPercent:function(){if(typeof this.options.width==="string"&&this.options.width.indexOf("%")!==-1){return true}return false},_adjustLastColumnWidth:function(colgroupsRerendered){var grid=this,hasFixedHeader=this.options.height!==null&&this.options.fixedHeaders===true&&this.options.showHeader&&this._headerParent,hasFixedFooter=this.options.height!==null&&this.options.fixedFooters===true&&this.options.showFooter&&this._footerParent,hasHeight=this.options.height&&parseInt(this.options.height,10)>0,hasWidthInPixels=this._gridHasWidthInPixels(),hasWidthInPercent=this._gridHasWidthInPercent(),hasVirtualization=this.options.virtualization===true||this.options.columnVirtualization===true||this.options.rowVirtualization===true,gridWidth,specialColumnsWidth;if(hasHeight&&!hasVirtualization){if(this.options.autoAdjustHeight&&this.element.height()<=this.scrollContainer().height()||!this.options.autoAdjustHeight&&this.options.avgRowHeight*this.element[0].rows.length<parseInt(this.options.height,10)){this._hasVerticalScrollbar=false}else{this._hasVerticalScrollbar=true}}if(colgroupsRerendered){if(hasVirtualization){if(hasFixedHeader){this._headerParent.css(this._padding,this._scrollbarWidth())}if(hasFixedFooter){this._footerParent.css(this._padding,this._scrollbarWidth())}}if(hasWidthInPixels||hasWidthInPercent){if(this._allColumnWidthsInPixels){gridWidth=this._totalColPixelWidth;specialColumnsWidth=this._calculateSpecialColumnsWidth();if(specialColumnsWidth>0){if(this._autoadjustedColumn&&this._lastColPixelWidth){if(this._autoadjustedColumn.difference<specialColumnsWidth){this._lastColPixelWidth-=this._autoadjustedColumn.difference;gridWidth-=this._autoadjustedColumn.difference-specialColumnsWidth}else{this._lastColPixelWidth-=specialColumnsWidth}this._autoadjustedColumn.width=this._lastColPixelWidth;if(hasFixedHeader){this._lastHeaderCol.css("width",this._lastColPixelWidth+"px")}if(hasFixedFooter){this._lastFooterCol.css("width",this._lastColPixelWidth+"px")}this._lastDataCol.css("width",this._lastColPixelWidth+"px")}else{gridWidth+=specialColumnsWidth}}if(!hasFixedHeader&&this._gridWidthGTColWidth&&this._hasVerticalScrollbar){gridWidth-=this._scrollbarWidth();this._lastColPixelWidth-=this._scrollbarWidth();this._lastDataCol.css("width",this._lastColPixelWidth+"px")}}else if(this._allColumnWidthsInPercentage){gridWidth=this.container().width();specialColumnsWidth=this._calculateSpecialColumnsWidth();if(this._allSpecialColumnsInPercentage()===true&&specialColumnsWidth>0){this._lastColPercentWidth=this._lastColPercentWidth-specialColumnsWidth}this._lastDataCol.css("width",this._lastColPercentWidth+"%");if(hasFixedHeader){this._lastHeaderCol.css("width",this._lastColPercentWidth+"%")}if(hasFixedFooter){this._lastFooterCol.css("width",this._lastColPercentWidth+"%")}}else if(hasWidthInPixels){gridWidth=parseInt(grid.options.width,10)}else if(hasWidthInPercent){gridWidth=this.container().width()}if(!this._allColumnWidthsInPercentage||!hasWidthInPercent){if(hasVirtualization===false){this._gridInnerWidth=this.scrollContainer().width()}else{this._gridInnerWidth=this._vdisplaycontainer().width()+this._scrollbarWidth()}grid._setGridContentWidth(gridWidth)}}}else{this._setGridContentWidth()}if(hasHeight&&!hasVirtualization){if(this.options.width!==null&&this.options.height!==null){if(this._hasVerticalScrollbar){this._hscrollbarcontent().css("overflow-y","scroll")}else{this._hscrollbarcontent().css("overflow-y","hidden")}}if(this._allColumnWidthsInPercentage&&hasWidthInPercent||!(hasWidthInPixels||hasWidthInPercent)){if(this._hasVerticalScrollbar){if(hasFixedHeader){this._headerParent.css(this._padding,this._scrollbarWidth())}if(hasFixedFooter){this._footerParent.css(this._padding,this._scrollbarWidth())}}else{if(hasFixedHeader){this._headerParent.css(this._padding,"")}if(hasFixedFooter){this._footerParent.css(this._padding,"")}}}else{this._updateVerticalScrollbarCellPadding()}}},_initializeHeights:function(){var initialHeight,hscrollerContainerHeight;if(this.options.height===null||this.options.height===undefined){return}initialHeight=parseInt(this.options.height,10);if(this.hasFixedColumns()){if(this.options.showHeader&&this.options.fixedHeaders===true&&this.options.height!==null){initialHeight-=this.fixedHeadersTable().height()}hscrollerContainerHeight=this._hscrollbar().height();if(this.fixedBodyContainer().height()<initialHeight+hscrollerContainerHeight){initialHeight-=hscrollerContainerHeight}}if(this.options.height.indexOf&&this.options.height.indexOf("%")!==-1){this.scrollContainer().height("100%")}else{this.scrollContainer().height(initialHeight)}this._initializeHeightsInternal()},_initializeHeightsInternal:function(){var children,height,i,$child,ch,heightChanged=false,dc=this._vdisplaycontainer(),sc=this._scrollContainer();ch=this.container().height();this._prevContainerHeight=ch;if(this.options.height!==null){children=this.container().children(":visible");height=0;for(i=0;i<children.length;i++){$child=$(children[i]);if(($child.attr("id")!==undefined&&!$child.attr("id").endsWith("_scroll")&&!$child.attr("data-fixed-container")&&!$child.attr("id").endsWith("_virtualContainer")&&!$child.attr("id").endsWith("_loading")||!$child.attr("id"))&&$child.is(":visible")&&$child.data("efh")!=="1"){if($child.is("table")&&$child.children().first().is("caption")){height+=$child.children().first().outerHeight()}else{if($child.css("position")!=="absolute"){height+=$child.outerHeight()}}}}if(height>0){this._trigger("_heightChanging",null,{ch:ch,h:height});this.scrollContainer().height(ch-height);heightChanged=true}if(this.options.virtualization||this.options.rowVirtualization){if($.type(this.options.height)==="string"&&this.options.height.indexOf("%")!==-1||ch!==parseInt(this.options.height,10)){this.container().height(this.options.height);if($.type(this.options.height)==="string"&&this.options.height.indexOf("%")!==-1){ch=parseInt(this.container().height(),10)}}height+=this.container().find("#"+this.id()+"_headers_v").outerHeight();height+=this.container().find("#"+this.id()+"_footers_v").outerHeight();height+=this._fixedfooters().outerHeight();height+=this._vhorizontalcontainer().outerHeight();if(!this._virtualHeightReset){height=height*2;this._virtualHeightReset=true}if(height>0&&dc.height()!==ch-height){if(!heightChanged){this._trigger("_heightChanging",null,{ch:ch,h:height})}dc.height(ch-height);sc.height(ch-height);this.element.height(ch-height);this._initialVirtualHeight=ch-height;heightChanged=true}}if(heightChanged){this._trigger("_heightChanged",null,{ch:ch,h:height})}}},_registerAdditionalEvents:function(){var css="ui-state-hover",topmostGrid=this.element.closest(".ui-iggrid-root").data("igGrid")||this;if(this.options.enableHoverStyles){if(this._hovEvts){this.element.unbind(this._hovEvts)}this._hovEvts={mousemove:function(e){var par,tag,tr=e.target;while(tr){par=tr.parentNode;tag=tr.nodeName;if(tag==="TR"&&par.nodeName==="TBODY"){break}tr=tag==="TABLE"?null:par}if(_hovTR!==tr){if(_hovTR&&$(_hovTR).attr("data-container")!=="true"){$("td",_hovTR).removeClass(css)}if(tr&&$(tr).attr("data-container")!=="true"&&e.target.id.indexOf("_scrollContainer")===-1&&e.target.parentNode.id.indexOf("_scrollContainer")===-1){if(!topmostGrid._cancelHoveringEffects){$("td",tr).addClass(css)}}_hovTR=tr}},mouseleave:function(e){if(_hovTR){$("td",_hovTR).removeClass(css);_hovTR=null}}};this.element.bind(this._hovEvts)}},_renderColgroup:function(table,isHeader,isFooter,autofitLastColumn){var colgroup,hasFixedColumns=this.hasFixedColumns(),i,lc,cols=this._visibleColumns(),defWidth=this.options.defaultColumnWidth,totalColWidth=0,totalGridWidth,hasWidthInPixels=this._gridHasWidthInPixels(),hasWidthInPercent=this._gridHasWidthInPercent(),hasWidth=hasWidthInPixels||hasWidthInPercent,hasVirtualization=this.options.virtualization===true||this.options.columnVirtualization===true||this.options.rowVirtualization===true,hasColumnVirtualization=this.options.virtualization===true&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===true,hasColumnsWithNoWidth=false,isPercentage=true,desiredColWidth,desiredColWidthNumber,lastCol,lastColWidth,difference;colgroup=$(table).find("colgroup");if(colgroup.length===0){colgroup=$("<colgroup></colgroup>").prependTo(table)}if(hasVirtualization&&this.options.virtualizationMode==="fixed"||hasColumnVirtualization){this._updateVirtColCounters();cols=cols.slice(0,this._virtualColumnCount)}for(i=0;i<cols.length;i++){if(cols[i].fixed){continue}if(cols[i].width){if(cols[i].oWidth){desiredColWidth=cols[i].oWidth}else{desiredColWidth=cols[i].width}}else{desiredColWidth=defWidth;cols[i].width=defWidth}if(desiredColWidth){if(!desiredColWidth.charAt||!desiredColWidth.endsWith("%")){isPercentage=false}desiredColWidthNumber=parseInt(desiredColWidth,10);if(desiredColWidthNumber<=0){desiredColWidthNumber=undefined}}else{desiredColWidthNumber=undefined;isPercentage=false}if(desiredColWidthNumber){lastCol=$("<col></col>").appendTo(colgroup).css("width",desiredColWidth);lastColWidth=desiredColWidthNumber;totalColWidth+=desiredColWidthNumber;cols[i].width=desiredColWidthNumber;if(desiredColWidth&&desiredColWidth.charAt&&desiredColWidth.endsWith("%")){cols[i].width=cols[i].width+"%"}}else{lastCol=$("<col></col>").appendTo(colgroup);lastColWidth=undefined;hasColumnsWithNoWidth=true}lc=cols[i]}if(!hasColumnVirtualization&&autofitLastColumn&&hasWidth&&!hasColumnsWithNoWidth&&lastColWidth){if(isPercentage){if(totalColWidth<100){lastColWidth+=100-totalColWidth;lastCol.css("width",lastColWidth+"%");this._autoadjustedColumn=cols.slice(-1)[0];if(!this._autoadjustedColumn.oWidth){this._autoadjustedColumn.oWidth=this._autoadjustedColumn.width}this._autoadjustedColumn.width=lastColWidth+"%";lc.width=lastColWidth+"%"}}else{if(hasWidthInPixels){if(hasFixedColumns){totalGridWidth=this.container().width()-this.fixedContainer().outerWidth()}else{totalGridWidth=parseInt(this.options.width,10)}}else if(hasWidthInPercent){totalGridWidth=this.container().width()}if(totalGridWidth&&totalGridWidth>totalColWidth){difference=totalGridWidth-totalColWidth;lastColWidth+=difference;totalColWidth+=difference;lastCol.css("width",lastColWidth+"px");this._autoadjustedColumn=cols.slice(-1)[0];if(!this._autoadjustedColumn.oWidth){this._autoadjustedColumn.oWidth=this._autoadjustedColumn.width}this._autoadjustedColumn.width=lastColWidth+"px";this._autoadjustedColumn.difference=difference;lc.width=lastColWidth+"px";this._gridWidthGTColWidth=true}}}else{this._autoadjustedColumn=undefined}if(hasWidth&&hasVirtualization&&!hasColumnsWithNoWidth&&lastColWidth){if(!isPercentage){lastColWidth-=this._scrollbarWidth();lastCol.css("width",lastColWidth+"px")}}if(isHeader){this._lastHeaderCol=lastCol}if(isFooter){this._lastFooterCol=lastCol}if(!isHeader&&!isFooter){this._lastDataCol=lastCol}this._allColumnWidthsInPercentage=isPercentage&&!hasColumnsWithNoWidth&&cols.length>0;this._allColumnWidthsInPixels=!isPercentage&&!hasColumnsWithNoWidth&&cols.length>0;if(this._allColumnWidthsInPixels){this._lastColPixelWidth=lastColWidth;this._totalColPixelWidth=totalColWidth}else if(this._allColumnWidthsInPercentage){this._lastColPercentWidth=lastColWidth;this._totalColPixelWidth=undefined}else{this._lastColPixelWidth=undefined;this._totalColPixelWidth=undefined}},_renderRecords:function(start,end){var prime,grid=this,tbody=this.element.children("tbody"),ph,ds=this.dataSource.dataView(),i,d="",noCancel=true,tbodytmp;this._trigger("_rowsRendering",null,{owner:this,tbody:tbody,vrtWnd:{start:start,end:end}});noCancel=this._trigger(this.events.rowsRendering,null,{owner:this,tbody:tbody,vrtWnd:{start:start,end:end}});if(start===undefined){start=0;end=ds.length-1}if(start!==undefined&&end===undefined){end=start;if(end>ds.length-1){end=ds.length-1}start=0}if(start<0){start=0}if(end>ds.length-1){end=ds.length-1}if(noCancel){for(i=start;i<=end;i++){d+=grid._renderRecord(ds[i],i)}if(!this._canreplaceinner||$.ig.util.isWebKit){ph=document.createElement("div");ph.innerHTML="<table><tbody>"+d+"</tbody></table>";tbodytmp=ph.firstChild.firstChild;this.element[0].replaceChild(tbodytmp,tbody[0])}else if(this._canreplaceinner){MSApp.execUnsafeLocalFunction(function(){tbody[0].innerHTML=d})}d="";this._buildVirtualDomForContinuousVirtualization();this._trigger(this.events.rowsRendered,null,{owner:this,tbody:tbody})}},_reapplyZebraStyle:function(from){var dataRows,toChange;if(!this.options.alternateRowStyles){return}dataRows=this.element.children("tbody").children("tr:not([data-container],[data-grouprow])");from=from||0;toChange=dataRows.slice(from);toChange.filter(from%2===0?":odd":":even").addClass(this.css.recordAltClass);toChange.filter(from%2===0?":even":":odd").removeClass(this.css.recordAltClass);if(this.hasFixedColumns()){dataRows=this.fixedContainer().find("tbody").children("tr:not([data-container],[data-grouprow])");toChange=dataRows.slice(from);toChange.filter(from%2===0?":odd":":even").addClass(this.css.recordAltClass);toChange.filter(from%2===0?":even":":odd").removeClass(this.css.recordAltClass)}},_buildFormatters:function(){var i,cols=this.options.columns,ret={};for(i=0;i<cols.length;i++){if(cols[i].formatter!==undefined){if($.type(cols[i].formatter)==="function"){ret[cols[i].key+"Formatter"]=cols[i].formatter}else if(window[cols[i].formatter]&&typeof window[cols[i].formatter]==="function"){ret[cols[i].key+"Formatter"]=window[cols[i].formatter]}}}return ret},_getVisibleIndexByKey:function(columnKey){var hasFixedColumns=this.hasFixedColumns(),fixedCounters,unfixedCounters,prevColumn,cols=this._visibleColumns(),index=-1;if(hasFixedColumns){fixedCounters=0;unfixedCounters=0;prevColumn=null;$.each(cols,function(ind,value){var isFixed=value.fixed===true,prevColumnFixed=prevColumn&&prevColumn.fixed===true;if(prevColumn===null||prevColumnFixed!==isFixed){if(value.fixed===true){fixedCounters=0}else{unfixedCounters=0}}prevColumn=value;if(value.hidden){return true}if(isFixed!==true){unfixedCounters++}else{fixedCounters++}if(value.key===columnKey){if(isFixed){index=fixedCounters-1}else{index=unfixedCounters-1}if(index===-1){index=0}return false}})}else{$.each(cols,function(ind,value){if(value.key===columnKey){index=ind;return false}})}return index},_isColumnHidden:function(columnKey){var cols=this.options.columns,i=cols.length;while(i-->=0){if(cols[i].key===columnKey){return cols[i].hidden||false}}return true},_visibleColumns:function(isFixed){var vcArr;if(isFixed!==undefined){vcArr=$.grep(this.options.columns,function(col){var fixed=col.fixed===true;return!col.hidden&&fixed===isFixed});return vcArr}if(this._visibleColumnsArray===undefined){this._visibleColumnsArray=$.grep(this.options.columns,function(col){return!col.hidden})}return this._visibleColumnsArray},_visibleMchColumns:function(curLvl){var vmch=[],cl=curLvl||this._oldCols,self=this;if(!cl){return null}$.each(cl,function(){if(!this.hidden||this.hidden===false){vmch.push($.extend({},this));if(this.group){vmch[vmch.length-1].group=self._visibleMchColumns(this.group)}}});return vmch},_renderVirtualRecordsFixed:function(){var i,j,row,c,val,headersTexts,headerText,vheaderNode,iRow,tr,ds=this.dataSource,data=ds.dataView(),key=this.options.primaryKey,noVirtualDom=this._virtualDom===null||this._virtualDom===undefined,visibleCols=this._visibleColumns();this._trigger("virtualrendering",null,{isBuiltVirtualDom:!noVirtualDom});if(this._startRowIndex===undefined||this._startRowIndex===null){this._startRowIndex=0}if(this._startColIndex===undefined||this._startColIndex===null){this._startColIndex=0}if(noVirtualDom){this._buildVirtualDom();if(this.options.adjustVirtualHeights===true){this._adjustVirtualHeights()}}else{for(i=0;i<this._virtualRowCount&&i<this._totalRowCount&&this._startRowIndex+i<data.length;i++){if($.type(data[i])==="array"){row=$(this._renderRecord([data[this._startRowIndex+i]],i))}else{row=$(this._renderRecord(data[this._startRowIndex+i],i))}c=row.children();for(j=0;j<this._virtualColumnCount;j++){this._virtualDom[i][j].innerHTML=c[j+this._startColIndex].innerHTML;this._virtualDom[i][j].className=""}iRow=this._startRowIndex+i;tr=this._virtualDom[i][0].parentNode;tr.className=i%2===0&&this.options.alternateRowStyles?"ui-iggrid-virtualrow ui-ig-altrecord":"ui-iggrid-virtualrow";if(data[iRow]){if(!_aNull(key)){tr.setAttribute("data-id",this._kval_from_key(key,data[iRow]))}else if(!_aNull(data[iRow].ig_pk)){tr.setAttribute("data-id",data[iRow].ig_pk)}}}}if(this._isHorizontal){this._isHorizontal=false;if((this.options.virtualization===true||this.options.columnVirtualization===true)&&parseInt(this.options.width,10)>0){if(!this._vheaders){headersTexts=this.headersTable().find("thead > tr > th > a > span:first-child");if(headersTexts.length>0){this._vheaders=headersTexts}else{this._vheaders=this.headersTable().find("thead > tr > th > span")}}for(j=0;j<this._virtualColumnCount;j++){headerText=visibleCols[j+this._startColIndex].headerText;vheaderNode=$(this._vheaders[j]);vheaderNode.closest("th").attr("id",this.element[0].id+"_"+visibleCols[j+this._startColIndex].key);vheaderNode.html(headerText)}}}this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom,isBuiltVirtualDom:!noVirtualDom})},_updateVirtColCounters:function(){var visibleColsLength=this._visibleColumns().length;if(this.options.columns){this._totalColumnCount=visibleColsLength;this._maxVirtualColumnCount=this.options.columns.length}else{this._totalColumnCount=this.dataSource.dataView()[0].length;this._maxVirtualColumnCount=this._totalColumnCount}if(this.options.columnVirtualization===false&&this.options.virtualization===false){this._virtualColumnCount=visibleColsLength}else{if(this.options.width===null){this._virtualColumnCount=this._totalColumnCount}else{this._virtualColumnCount=Math.ceil(parseInt(this.options.width,10)/this._avgColumnWidth());this._maxVirtualColumnCount=Math.min(this._maxVirtualColumnCount,this._virtualColumnCount);this._virtualColumnCount=Math.min(this._totalColumnCount,this._virtualColumnCount);this._vhorizontalcontainer().children().first().css("width",this._calculateContainerWidth(false))}}},_buildVirtualDom:function(){var grid=this,markup="",row,i,j,dataLinkFn,ar=this.options.accessibilityRendering,shouldHide=false,visibleCols=this._visibleColumns(),key=this.options.primaryKey,data=this.dataSource.dataView(),temp;if(this._startRowIndex===undefined||this._startRowIndex===null){this._startRowIndex=0;this._startColIndex=0;this._oldStartRowIndex=0;this._oldStartColIndex=0}this._virtualDom=[];this._totalRowCount=data.length;if(this.options.height===null){this._virtualRowCount=this._totalRowCount}else{if(this.options.height.indexOf&&this.options.height.indexOf("%")!==-1){this._virtualRowCount=Math.ceil(this._vdisplaycontainer().innerHeight()/parseInt(this.options.avgRowHeight,10),10)}else{this._virtualRowCount=Math.ceil(this._vdisplaycontainer().innerHeight()/parseInt(this.options.avgRowHeight,10),10)}}this._updateVirtColCounters();if(this.options.height!==null){this._setScrollContainerHeight(this._totalRowCount*parseInt(this.options.avgRowHeight,10))}dataLinkFn=function(row,i,vc){for(j=0;j<vc;j++){if(j<grid._totalColumnCount){grid._virtualDom[i][j]=row[0].cells[j]}}};this.element.children("tbody").empty();for(i=0;i<this._virtualRowCount;i++){shouldHide=false;this._virtualDom[i]=[];markup="";for(j=this._startColIndex;j<this._virtualColumnCount+this._startColIndex;j++){if(j>=this._totalColumnCount){break}if(ar){markup+='<td role="gridcell" aria-describedby="'+visibleCols[j].key+'"'}else{markup+="<td"}if(!data[i]){shouldHide=true;markup+="></td>"}else{if(this.options.autoFormat!==false){if(visibleCols[j].template&&visibleCols[j].template.length){temp=this._renderTemplatedCell(data[i],visibleCols[j]);if(temp.indexOf("<td")===0){markup+=temp.substring(3)}else{markup+=">"+temp}markup=grid._editCellStyle(markup,data[i],visibleCols[j].key||j)}else{markup+=grid._addCellStyle(data[i],visibleCols[j].key||j)+">"+this._renderCell(data[i][visibleCols[j].key],visibleCols[j],data[i])}}else{markup+=grid._addCellStyle(data[i],visibleCols[j].key)+">"+data[i][visibleCols[j].key]}markup+="</td>"}}row=$("<tr>"+markup+"</tr>").appendTo(this.element.children("tbody"));if(shouldHide){row.css("visibility","hidden")}if(i%2===0&&this.options.alternateRowStyles){row.addClass("ui-ig-altrecord")}row.addClass("ui-iggrid-virtualrow");if(i%2===0&&this.options.alternateRowStyles){row.addClass("ui-ig-altrecord")}if(ar){row.attr("role","row")}if(data[i]){if(!_aNull(key)){row.attr("data-id",this._kval_from_key(key,data[i]))}else if(!_aNull(data[i].ig_pk)){row.attr("data-id",data[i].ig_pk)}}dataLinkFn(row,i,this._virtualColumnCount);if(i===data.length-1){break}}this._updateVirtualScrollContainer();this._trigger("virtualdombuilt",null,{rows:this.element.children("tbody").children("tr")})},_adjustVirtualHeights:function(){var c=this._vdisplaycontainer(),tbody=c.find("tbody"),h=tbody.children().first().height();if(this.options.height===null){return}if(this.options.avgRowHeight!==h){this.options.avgRowHeight=h;this._buildVirtualDom()}},_verticalScroller:function(){if(!this._verticalScrollerObj||this._verticalScrollerObj.length===0){this._verticalScrollerObj=this._scrollContainer().children().first()}return this._verticalScrollerObj},_hscrollbar:function(){return this.container().find("#"+this.id()+"_hscroller_container")},_hscrollbarcontent:function(){return this.container().find("#"+this.id()+"_hscroller")},_hscrollbarinner:function(){return this.container().find("#"+this.id()+"_hscroller_inner")},_avgColumnWidth:function(){var width=0,cols=this.options.columns,count=cols.length,def=this.options.defaultColumnWidth,i;if(this.options.avgColumnWidth!==null){return parseInt(this.options.avgColumnWidth,10)}for(i=0;i<count;i++){width+=parseInt(cols[i].width,10)}if((count===0||isNaN(width))&&def){return parseInt(def,10)}if(count>0&&this.options.autoGenerateColumns&&isNaN(width)){if(this.options.width===null||this.options.width===undefined){throw new Error($.ig.DataSourceLocale.locale.columnVirtualizationRequiresWidth)}return parseInt(this.options.width,10)/count}if(width===0||width<def){return def}return width/count},_scrollData:function(){var scroller=this._hscrollbarcontent(),scrollContainer;if(this.options.virtualization===true||this.options.rowVirtualization===true){scrollContainer=this._vdisplaycontainer()}else{scrollContainer=this.scrollContainer()}scrollContainer.scrollLeft(scroller.scrollLeft())},_scrollHeader:function(){var scroller=this._hscrollbarcontent(),headers=this.headersTable().parent();headers.scrollLeft(scroller.scrollLeft())},_scrollFooter:function(){var scroller=this._hscrollbarcontent(),footers=this._fixedfooters();footers.scrollLeft(scroller.scrollLeft())},_renderCaption:function(){var colgroup,caption,tbl,scrollc;if(this.options.caption!==null){if(this.container().find(".ui-iggrid-headercaption").length>0){return}if(this.options.fixedHeaders===true&&this.options.showHeader===true){colgroup=this.headersTable().children("colgroup").first();if(colgroup.length===0){caption=$("<caption></caption>").prependTo(this.headersTable())}else{caption=$("<caption></caption>").insertAfter(colgroup)}caption.text(this.options.caption).attr("id",this.id()+"_caption").addClass(this.css.gridHeaderCaptionClass)}else{scrollc=this.scrollContainer();if(scrollc.length===0){tbl=$("<table></table>").prependTo(this.container())}else{tbl=$("<table></table>").insertBefore(scrollc)}caption=$("<caption></caption>").appendTo(tbl.css("width","100%").addClass(this.css.captionTable)).text(this.options.caption).attr("id",this.id()+"_caption").addClass(this.css.gridHeaderCaptionClass)}caption.parent().css("margin",0)}},_renderFixedCaption:function(){var colgroup,caption;if(this.options.caption!==null){if(this.options.fixedHeaders===true&&this.options.showHeader===true){colgroup=this.fixedHeadersTable().children("colgroup").first();if(colgroup.length===0){caption=$("<caption></caption>").prependTo(this.fixedHeadersTable())}else{caption=$("<caption></caption>").insertAfter(colgroup)}caption.text(this.options.caption).attr("id",this.id()+"_caption_fixed").addClass(this.css.gridHeaderCaptionClass)}caption.parent().css("margin",0)}},_createHeaderColumnMarkup:function(column,index){var headerClass=this.css.headerClass,ar=this.options.accessibilityRendering,headerText=$("<span>"+column.headerText+"</span>").addClass(this.css.headerTextClass),markup="<th></th>",headerCell;if(ar){headerCell=$(markup).append(headerText).attr("id",this.id()+"_"+column.key).attr("role","rowheader").addClass(headerClass).data("columnIndex",index)}else{headerCell=$(markup).append(headerText).attr("id",this.id()+"_"+column.key).addClass(headerClass).data("columnIndex",index)}return headerCell},_updateHeaderColumnIndexes:function(){var grid=this,cols=this.options.columns;if(this.options.virtualization===true&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===true){cols=cols.slice(0,this._maxVirtualColumnCount)}grid._initialHiddenCells=[];$(cols).each(function(i){grid.container().find("#"+grid.id()+"_"+this.key).data("columnIndex",i)})},_renderHeaderColumns:function(header){var grid=this,cols=this.options.columns;if(this.options.virtualization===true&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===true){cols=cols.slice(0,this._maxVirtualColumnCount)}grid._initialHiddenCells=[];$(cols).each(function(i){var headerCell,key=this.key;if(key){headerCell=grid._createHeaderColumnMarkup(this,i);header.append(headerCell);grid._trigger(grid.events.headerCellRendered,null,{owner:grid,th:headerCell,columnKey:this.key});$.each(grid._initialHiddenColumns,function(){if(this.key===key){grid._initialHiddenCells.push(headerCell);headerCell.css("display","none");return false}})}})},renderMultiColumnHeader:function(cols){var topmostGrid,layout;this._origSum=0;this.options.columns=cols;this.destroy(true);this._initialized=false;this.options.requiresDataBinding=true;this._renderHeaderCalled=false;if(this._isHierarchicalGrid){topmostGrid=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid");if(topmostGrid){if(topmostGrid.element[0].id!==this.element[0].id&&this.options.key){layout=topmostGrid._findLayout(topmostGrid.options.columnLayouts,this.options.key);
layout.columns=cols;topmostGrid._setOption("columnLayouts",topmostGrid.options.columnLayouts);topmostGrid._create();return}topmostGrid._regevents(topmostGrid.element,topmostGrid)}}this._create()},_renderHeader:function(){var w,header,id,headerDom,headerMarkup="",scrollc=this.scrollContainer(),noCancel=true,headerParent=this.element[0],width,headerScrollDiv,existingHeader,o=this.options,v=o.virtualization===true||o.rowVirtualization===true||o.columnVirtualization===true;this._renderHeaderCalled=true;if(this.options.showHeader){noCancel=this._trigger(this.events.headerRendering,null,{owner:this});if(noCancel){id=this.id();headerMarkup="<thead><tr data-header-row></tr></thead>";headerParent=this.container();width=scrollc.css("width");if(this.options.showHeader&&this.options.fixedHeaders&&this.options.height!==null){if(v===false){if(headerParent.length===0){scrollc.removeClass(this.css.gridClasses).removeClass(this.css.baseClasses).css("width","").wrap("<div id='"+id+"_container'></div>");headerParent=this.container().addClass(this.css.baseClasses).addClass(this.css.gridClasses).css("width",width);this._isWrapped=true}}else{width=this.element.parents(".ui-widget").css("width");headerParent=this.container().find("#"+id+"_headers_v").css("width",width);if(this.options.expandColWidth&&!this.options.width){headerParent.css("width",parseInt(width,10)+this.options.expandColWidth+"px")}if(o.width!==null){w=o.width;if(w.indexOf&&w.indexOf("%")!==-1){w="100%"}headerParent.css("width",w).css("max-width",w).css("overflow-x","hidden")}}headerParent=$("<table id='"+id+"_headers'></table>").prependTo(headerParent).addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0");if(v===false){headerScrollDiv=$("<div></div>").prependTo(headerParent.parent());headerScrollDiv.css("overflow","hidden").css("position","relative").css("white-space","nowrap");headerScrollDiv.addClass("ui-widget-header ui-helper-reset");headerScrollDiv.append(headerParent)}else if(this.options.rowVirtualization===true){headerParent.addClass("ui-widget-header ui-helper-reset")}this._hscrollbarcontent().bind("scroll",$.proxy(this._scrollHeader,this));this._renderColgroup(headerParent,true,false,this.options.autofitLastColumn)}else if(this.options.fixedHeaders!==true&&this.options.showHeader){headerParent=this.element}if(this.options.width===null&&this.options.height===null){headerParent=this.element}if(this.options.width!==null&&this.options.height===null){this._fixScrollY=1;scrollc.css("overflow-y","hidden").css("overflow-x","auto");headerParent=this.element}if(this._isMultiColumnGrid===true){this._headerParent=headerParent;this._fireInternalEvent("_renderingMultiColumnHeader");if(this.options.virtualization===true||this.options.rowVirtualization===true){this.container().find("#"+id+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses);headerParent.addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0")}}else{if(this.options.showHeader){if(this.options.headerTemplate===null||this.options.headerTemplate===undefined){if(this.options.virtualization===true||this.options.rowVirtualization===true){this.container().find("#"+id+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses);headerParent.addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0")}this.element.find(">thead").remove();existingHeader=headerParent.find(">thead");if(existingHeader.length===0){header=$(headerMarkup).appendTo(headerParent).children().first()}else{existingHeader.empty();header=$("<tr data-header-row></tr>").appendTo(existingHeader)}this._renderHeaderColumns(header)}else{headerDom=this.options.headerTemplate;if(this.options.virtualization===true||this.options.rowVirtualization===true){$(headerDom).children().each(function(){this.appendTo(this.container().find("#"+id+"_headers"))});header=this.headersTable().addClass(this.css.gridClasses)}else{header=$(headerMarkup).appendTo(headerParent).append(headerDom)}}}this._headerParent=headerParent;this._trigger(this.events.headerRendered,null,{owner:this,table:this.headersTable()});this._headerRenderCancel=false}}else{this._headerRenderCancel=true}}this._trigger("headerRenderedInternal",null,{owner:this,table:this.headersTable()})},_renderFooter:function(){var gridId=this.id(),w,o=this.options,elemParent,footerId=gridId+"_footer_container",footerMarkup='<tfoot class="'+this.css.gridFooterClass+'"></tfoot>',$footer=this.container().find("#"+footerId),$table,width,noCancel,tableGrid=this.element,$tableGridContainer;if(tableGrid.length===0){return}if($footer.length===0&&o.showFooter){noCancel=this._trigger(this.events.footerRendering,null,{owner:this});if(noCancel){if((o.virtualization===true||o.rowVirtualization===true||o.columnVirtualization===true)&&(o.height!==null&&o.height!==undefined||o.width!==null&&o.width!==undefined)){$tableGridContainer=this._vdisplaycontainer();this.options.fixedFooters=true;w=o.width;if(w&&w.indexOf&&w.indexOf("%")!==-1){w="100%"}$tableGridContainer=$('<tr><td colspan="2" style="border-width: 0px;"></td></tr>').insertAfter($tableGridContainer.closest("tr"));$footer=$("<div></div>").attr("id",footerId).css({overflow:"hidden",position:"relative"}).addClass("ui-widget-footer").addClass(this.css.footerContainer).width(w).appendTo($tableGridContainer.find("td"));$table=$("<table></table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo($footer).addClass(this.css.gridFooterTableClass).width(w).attr("id",gridId+"_footers");this._renderColgroup($table,false,true,this.options.autofitLastColumn);$(footerMarkup).appendTo($table);if(this.options.showFooter&&this.options.fixedFooters===true&&this.options.height!==null){elemParent=this.element.parents(".ui-widget:first");if(elemParent.length===1&&elemParent[0].style){width=elemParent[0].style.width;if(width&&(!width.indexOf||width.indexOf("%")===-1)){$footer.css("width",width)}}}if(o.expandColWidth&&!o.width){$footer.css("width",parseInt($footer.width(),10)+o.expandColWidth+"px")}this._hscrollbarcontent().bind("scroll",$.proxy(this._scrollFooter,this))}else if(o.fixedFooters===true&&o.height!==null){if(o.width!==null){$tableGridContainer=this._hscrollbar()}else{$tableGridContainer=this.scrollContainer()}if($tableGridContainer.length===0){$tableGridContainer=tableGrid}$footer=$("<div></div>").attr("id",footerId).css({overflow:"hidden",position:"relative","white-space":"nowrap"}).addClass(this.css.footerContainer).addClass("ui-widget-footer").insertAfter($tableGridContainer);$table=$("<table></table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo($footer).addClass(this.css.gridFooterTableClass).attr("id",gridId+"_footers");this._renderColgroup($table,false,true,this.options.autofitLastColumn);$(footerMarkup).appendTo($table);if(o.virtualization!==true&&o.rowVirtualization!==true&&o.columnVirtualization!==true){this._hscrollbarcontent().bind("scroll",$.proxy(this._scrollFooter,this))}}else{$tableGridContainer=tableGrid;$footer=$(footerMarkup).attr("id",footerId).insertBefore($tableGridContainer.find("tbody:eq(0)"))}$footer.css("display","none");this._footer=$footer;this._footerParent=$table;this._trigger(this.events.footerRendered,null,{owner:this,table:this.footersTable()})}}return $footer},_renderRecord:function(data,rowIndex){var i,key=this.options.primaryKey,ar=this.options.accessibilityRendering,grid=this,dstr="",cols=this.options.columns,noVisibleColumns,temp;dstr+="<tr";if(rowIndex%2!==0&&this.options.alternateRowStyles){dstr+=' class="'+grid.css.recordAltClass+'"'}if(!_aNull(key)){dstr+=' data-id="'+this._kval_from_key(key,data)+'"'}else if(!_aNull(data.ig_pk)){dstr+=' data-id="'+data.ig_pk+'"'}if(this.options.virtualization&&this.options.virtualizationMode==="continuous"){dstr+=' data-row-idx="'+rowIndex+'"'}if(ar){dstr+=' role="row">'}else{dstr+=">"}noVisibleColumns=true;$(cols).each(function(colIndex){if(cols[colIndex].hidden||cols[colIndex].fixed===true){return}noVisibleColumns=false;if(ar){dstr+='<td role="gridcell" aria-describedby="'+this.key+'"'}else{dstr+="<td"}if(cols[colIndex].template&&cols[colIndex].template.length){temp=grid._renderTemplatedCell(data,this);if(temp.indexOf("<td")===0){dstr+=temp.substring(3)}else{dstr+=">"+temp}dstr=grid._editCellStyle(dstr,data,this.key)}else{dstr+=grid._addCellStyle(data,this.key?this.key:colIndex)+">"+grid._renderCell(data[this.key?this.key:colIndex],this,data)}dstr+="</td>"});if(noVisibleColumns){dstr+='<td role="gridcell"></td>'}dstr+="</tr>";return dstr},_editCellStyle:function(dstr,data,col,isFixed){var lastCellIdx,lastCellClass,start,end,nc="",i;if(!this._cellStyleSubscribers||this._cellStyleSubscribers.length===0){return dstr}for(i=0;i<this._cellStyleSubscribers.length;i++){nc+=this._cellStyleSubscribers[i](data,col,isFixed)+" "}nc=nc.trim();if(nc.length===0){return dstr}lastCellIdx=dstr.lastIndexOf("<td");lastCellClass=dstr.indexOf("class",lastCellIdx);if(lastCellClass>0){start=dstr.substring(0,lastCellClass+7);end=dstr.substring(lastCellClass+7);dstr=start+nc+" "+end}else{start=dstr.substring(0,lastCellIdx+3);end=dstr.substring(lastCellIdx+3);dstr=start+' class="'+nc+'"'+end}return dstr},_addCellStyle:function(data,col,isFixed){var dstr="",i;if(!this._cellStyleSubscribers||this._cellStyleSubscribers.length===0){return dstr}for(i=0;i<this._cellStyleSubscribers.length;i++){dstr+=this._cellStyleSubscribers[i](data,col,isFixed)+" "}dstr=dstr.trim();return dstr.length>0?' class="'+dstr+'"':dstr},_enableHeaderCellFeature:function(th){var $th;if($.type(th)==="string"){$th=this.container().find("#"+this.id()+"_"+th)}else{$th=th}$th.addClass(this.css.headerCellFeatureEnabledClass)},_renderRecordInArray:function(darr,tbody,data,rowIndex){var i,key=this.options.primaryKey,ar=this.options.accessibilityRendering,grid=this,appendBehavior=false,cols=this.options.columns,temp;if(darr===null){darr=[];appendBehavior=true}darr.push("<tr");if(rowIndex%2!==0&&this.options.alternateRowStyles){darr.push(' class="'+grid.css.recordAltClass+'"')}if(!_aNull(key)){darr.push(' data-id="'+this._kval_from_key(key,data)+'"')}else if(!_aNull(data.ig_pk)){darr.push(' data-id="'+data.ig_pk+'"')}if(ar){darr.push(' role="row">')}else{darr.push(">")}$(cols).each(function(colIndex){if(cols[colIndex].hidden){return}if(ar){darr.push('<td role="gridcell" aria-describedby="'+this.key+'" ')}else{darr.push("<td ")}if(data[this.key]===undefined){if(cols[colIndex].template&&cols[colIndex].template.length){temp=grid._renderTemplatedCell(data,this);if(temp.indexOf("<td")===0){darr[darr.length-1]=temp.replace("<td",darr[darr.length-1])}else{darr.push(">"+temp)}darr[darr.length-1]=grid._editCellStyle(darr[darr.length-1],data,colIndex)}else{darr.push(grid._addCellStyle(data,colIndex)+">"+grid._renderCell(data[colIndex],this,data))}darr.push("</td>")}else{if(cols[colIndex].template&&cols[colIndex].template.length){temp=grid._renderTemplatedCell(data,this);if(temp.indexOf("<td")===0){darr[darr.length-1]=temp.replace("<td",darr[darr.length-1])}else{darr.push(">"+temp)}darr[darr.length-1]=grid._editCellStyle(darr[darr.length-1],data,this.key)}else{darr.push(grid._addCellStyle(data,this.key)+">"+grid._renderCell(data[this.key],this,data))}darr.push("</td>")}});darr.push("</tr>");if(appendBehavior){tbody.append(darr.join(""))}},_fixDate:function(val,col){var d,i;if(!col||!val){return val}if(col.dataType==="date"&&!val.getTime){i=val.indexOf?val.indexOf("ate("):-1;if(i>0){d=val.substring(i+4);i=d.indexOf(")");if(i>0){d=parseInt(d.substring(0,i),10);if(!isNaN(d)){val=new Date(d)}}}}return val},_renderCell:function(val,col,record,displayStyle,returnObject){var type=col.dataType,format=col.format,o=this.options,auto=o.autoFormat;val=this._fixDate(val,col);if(col.formatter){return col.formatter(val,record)}if(!format&&type==="bool"&&o.renderCheckboxes){format="checkbox"}if(format==="checkbox"&&type!=="bool"){format=null}type=type==="date"||type==="number"?type:"";if(format||(auto===true||auto==="dateandnumber")&&type||auto&&auto===type){return $.ig.formatter(val,type,format,true,o.enableUTCDates,displayStyle)}if(returnObject){return val}return val||val===0||val===false?val.toString():"&nbsp;"},_renderTemplatedCell:function(val,col){var v,d=$.extend({},val);if(val===undefined||val===null||val[col.key]===undefined){if(col.unbound===true){v="&nbsp;"}else{v=this._renderCell(val,col,val,null,true)}}else{v=this._renderCell(val[col.key],col,val,null,true)}d[col.key]=v;return this._tmplWrappers[this.id()+"_"+col.key](d,col.template)},_defaultTemplateFunc:function(d,tmpl){return $.ig.tmpl(tmpl,d)},_setTemplateDefinition:function(jsrnd){var i,key;for(i=0;i<this.options.columns.length;i++){if(this.options.columns[i].template&&this.options.columns[i].template.length){key=this.id()+"_"+this.options.columns[i].key;if(jsrnd){$.templates(key,this.options.columns[i].template)}else{this._tmplWrappers[key]=this._defaultTemplateFunc}}}},_scrollbarWidth:function(){if(!this._scrollbarWidthResolved){var $div=$('<div id="'+this.id()+'_tmp"></div>').css({width:50,height:50,position:"absolute",top:-500,left:-500}).prependTo("body").append("<div></div>").find("div").css({height:100}),w1,w2;if(document.documentMode===7||$.ig.util.isIE7){w1=$div.innerWidth();$div.parent().css("overflow-y","scroll");w2=$div.innerWidth();this._scrollbarWidthResolved=w1-w2}else{$div.parent().css({overflow:"auto"});$div.css({width:"100%"});this._scrollbarWidthResolved=50-$div.width()}$("#"+this.id()+"_tmp").remove()}return this._scrollbarWidthResolved},_fireInternalEvent:function(name,args){var i,f,featureName,feature;for(i=0;i<this.options.features.length;i++){f=this.options.features[i];if(f!==undefined&&f!==null&&f.name!==undefined){featureName="igGrid"+f.name;feature=this.element.data(featureName);if(feature!==null&&feature!==undefined&&feature[name]){if(args){feature[name](args)}else{feature[name]()}}}}},_initFeature:function(featureObject,dataOptions,destroy){if(!featureObject){return}if(featureObject.name===undefined){return}var widget="igGrid"+featureObject.name;if($.type(this.element[widget])!=="function"){throw new Error($.ig.Grid.locale.noSuchWidget+" "+widget)}if(this.element.data(widget)){this.element[widget]("destroy")}this.element[widget](featureObject);this.element.data(widget)._injectGrid(this)},_initFeatureSettings:function(featureObject){if(!featureObject){return}if(featureObject.name===undefined){return}var widget="igGrid"+featureObject.name;if($.type(this.element[widget])!=="function"){throw new Error($.ig.Grid.locale.noSuchWidget+" "+widget)}if(this.element.data(widget)){this.element.data(widget)._injectGrid(this,true)}},_onFeaturesSoftDirty:function(e,args){var i,feature;if(args.owner.options.type!=="remote"){return}for(i=0;i<this.options.features.length;i++){feature=this.element.data("igGrid"+this.options.features[i].name);if(feature&&feature!==args.owner&&feature.options&&feature.options.type==="local"){if(feature._onUIDirty&&$.type(feature._onUIDirty)==="function"){feature._onUIDirty(e,args)}}}},_kval_from_key:function(key,data){var k,k_val="",i;if(key.indexOf(",")!==-1){k=key.split(",");for(i=0;i<k.length;i++){k_val+=data[k[i]];if(i<k.length-1){k_val+=","}}}else{k_val=data[key]}return k_val},_rowId:function(rec,index){var key=this.options.primaryKey;key=key?this._kval_from_key(key,rec):null;if(!key){key=index;if(key!==0){key=this.rows().length-1}}return key},_inferOpType:function(){if(this.options.dataSourceUrl||this.dataSource.type()==="remoteUrl"){return"remote"}return"local"},_renderVirtualRecords:function(){this._trigger("virtualrendering");var mode=this.options.virtualizationMode;if(mode===undefined||mode===""){mode="continuous"}if(mode==="fixed"||this.options.columnVirtualization===true){this._renderVirtualRecordsFixed()}else if(mode==="continuous"){this._renderVirtualRecordsContinuous();this._trigger("virtualrecordsrender",null,{owner:this,dom:this._virtualDom})}},_getHScrollContainerInner:function(){var ret=this._hscrollbarinner();if(ret.length===0&&this.options.virtualizationMode==="continuous"){ret=this.container().find("#"+this.id()+"_horizontalScrollContainer div")}return ret},_getScrollContainerHeight:function(){return this._scrollContainer().children(":first-child").height()},_getDisplayContainerHeight:function(){return this._vdisplaycontainer().height()},_getDisplayContainerWidth:function(){return this._vdisplaycontainer().width()},_setDisplayContainerWidth:function(width){if(width===undefined){return}this._vdisplaycontainer().css("max-width",width);this._vdisplaycontainer().width(width)},_getVHeadersWidth:function(){return this.container().find("#"+this.id()+"_headers_v").width()},_setVHeadersWidth:function(width){if(width===undefined){return}this.container().find("#"+this.id()+"_headers_v").width(width)},_setScrollContainerHeight:function(height){var sc=this._scrollContainer(),funcIEScroll;if(height===undefined){return}sc.children(":first-child").height(height);if($.ig.util.isIE){funcIEScroll=function(){sc.scrollTop(sc.scrollTop()+2);sc.scrollTop(sc.scrollTop()-2)};if($.ig.util.browserVersion<=8){setTimeout(function(){funcIEScroll()},0)}else{funcIEScroll()}}},_setScrollContainerScrollTop:function(top){if(top===undefined){return}this._scrollContainer().scrollTop(top)},_getScrollContainerScrollTop:function(){return this._scrollContainer().scrollTop()},_setDisplayContainerScrollTop:function(top){if(top===undefined){return}this._vdisplaycontainer().scrollTop(top)},_getDisplayContainerScrollTop:function(){return this._vdisplaycontainer().scrollTop()},_setDisplayContainerScrollLeft:function(left){if(left===undefined){return}this._vdisplaycontainer().scrollLeft(left)},_getDisplayContainerScrollLeft:function(){return this._vdisplaycontainer().scrollLeft()},_calculateAvgRowHeight:function(){var rowHeightSum=this.container().find("#"+this.id()+" > tbody").height();if(rowHeightSum===0){rowHeightSum=parseInt(this.options.height,10)}if(this.options.virtualizationMode==="fixed"){if(this._fixedAvgRowHeight){return this._fixedAvgRowHeight}this._fixedAvgRowHeight=rowHeightSum/this._virtualRowCount}return rowHeightSum/this._virtualRowCount},_getDisplayContainerVisibleArea:function(){var scrollTop=this._getDisplayContainerScrollTop(),height=this._getDisplayContainerHeight();return{top:scrollTop,bottom:scrollTop+height}},virtualScrollTo:function(scrollerPosition){var avgRowHeight,$scrollContainer=this._scrollContainer(),pos=parseInt(scrollerPosition,10);if($.type(scrollerPosition)!=="string"){if(this.options.virtualizationMode==="fixed"){avgRowHeight=parseInt(this.options.avgRowHeight,10)}else{if(this._avgRowHeight){avgRowHeight=this._avgRowHeight}else{avgRowHeight=this._calculateAvgRowHeight()}}scrollerPosition--;pos=avgRowHeight*scrollerPosition;pos=Math.ceil(pos);this._virtualScrollToIndex=scrollerPosition}$scrollContainer.scrollTop(pos)},_virtualScrollToInternal:function(virtualScrollerY){var tableId,firstRow,lastRow,scrollData,scrollResult;if(virtualScrollerY===this._oldScrollTop){return}tableId="#"+this.id();firstRow=this.container().find(tableId+" > tbody > tr:first");lastRow=this.container().find(tableId+" > tbody > tr:last");if(firstRow.length===0||lastRow.length===0){return}scrollData={virtualScrollerY:this._getScrollContainerScrollTop(),deltaScroll:virtualScrollerY-this._oldScrollTop,firstRow:firstRow,lastRow:lastRow,firstRowDataIndex:parseInt(firstRow.attr("data-row-idx"),0),lastRowDataIndex:parseInt(lastRow.attr("data-row-idx"),0),visibleArea:this._getDisplayContainerVisibleArea()};scrollResult={action:"SA_INITIAL"};if(!this._tryScroll(scrollData,scrollResult)){this._rebuildVirtualRows(scrollData,scrollResult)}this._correctScrollPosition(this._getTotalRowsCount())},_getTotalRowsCount:function(){return this.dataSource.dataView().length},_tryScroll:function(scrollData,scrollResult){var deltaScroll,firstRow,lastRow,displayContainerHeight,displayContainerScrollTop;if(scrollResult===undefined){throw new Error("scrollResult parameter should be provided")}deltaScroll=scrollData.deltaScroll;firstRow=scrollData.firstRow;lastRow=scrollData.lastRow;displayContainerHeight=this._getDisplayContainerHeight();displayContainerScrollTop=this._getDisplayContainerScrollTop();if(deltaScroll>0){if(lastRow[0].offsetTop+lastRow.outerHeight()>=displayContainerScrollTop+deltaScroll+displayContainerHeight||isNaN(scrollData.lastRowDataIndex)||scrollData.lastRowDataIndex===this.dataSource.dataView().length-1){this._setDisplayContainerScrollTop(displayContainerScrollTop+deltaScroll);scrollResult.action="SA_SUCCESSFUL";return true}if(deltaScroll<=this._avgRowHeight*this._virtualRowCount){if(deltaScroll+displayContainerHeight>this._avgRowHeight*this._virtualRowCount){scrollResult.action="SA_NEED_SOME_PAGE";return false}scrollResult.action="SA_NEED_NEXT_PAGE";return false}}if(deltaScroll<0){if(firstRow[0].offsetTop<=displayContainerScrollTop+deltaScroll||scrollData.firstRowDataIndex===0){this._setDisplayContainerScrollTop(displayContainerScrollTop+deltaScroll);scrollResult.action="SA_SUCCESSFUL";return true}if(Math.abs(deltaScroll)<=this._avgRowHeight*this._virtualRowCount){scrollResult.action="SA_NEED_PREV_PAGE";return false}}scrollResult.action="SA_NEED_SOME_PAGE";return false},_rebuildVirtualRows:function(scrollData,scrollResult){var noCancel,virtualScrollerY,deltaScroll,tableId,visibleArea,tbody,expandedRowsHeight,trs,i,scrollerHeight,firstVisibleTR,firstVisibleTRRelativeOffset,startIndexToBeLoaded,newFirstVisibleRow,displayContainerScrollTop,maxScrollPos,avgRowHeight,tr,lastVisibleTR,lastVisibleTRIndex,firstVisibleTRIndex,endIndexToBeLoaded,dataRowIndexToBeFirst,hasOverflow;noCancel=this._trigger("rebuildingvirtualrows",null,{owner:this,scrollData:scrollData,scrollResult:scrollResult});if(noCancel===false){return}virtualScrollerY=scrollData.virtualScrollerY;deltaScroll=scrollData.deltaScroll;tableId="#"+this.id();visibleArea=scrollData.visibleArea;tbody=this.container().find(tableId+" > tbody");expandedRowsHeight=0;trs=this.container().find(tableId+" > tbody > tr[data-container='true']");for(i=0;i<trs.length;i++){expandedRowsHeight+=$(trs[i]).outerHeight()}if(expandedRowsHeight>0){scrollerHeight=this._getScrollContainerHeight();this._setScrollContainerHeight(scrollerHeight-expandedRowsHeight)}if(deltaScroll>0&&scrollResult.action==="SA_NEED_NEXT_PAGE"){firstVisibleTR=this._getFirstVisibleTR(visibleArea);firstVisibleTRRelativeOffset=Math.abs(firstVisibleTR[0].offsetTop-visibleArea.top);startIndexToBeLoaded=parseInt(firstVisibleTR.attr("data-row-idx"),0);dataRowIndexToBeFirst=startIndexToBeLoaded;endIndexToBeLoaded=parseInt(this._virtualRowCount,0)+startIndexToBeLoaded-1;hasOverflow=false;if(endIndexToBeLoaded>this.dataSource.dataView().length-1){endIndexToBeLoaded=this.dataSource.dataView().length-1;startIndexToBeLoaded=endIndexToBeLoaded-this._virtualRowCount+1;hasOverflow=true}tbody.empty();this._renderRecords(startIndexToBeLoaded,endIndexToBeLoaded);if(hasOverflow){tr=this.container().find(tableId+" > tbody > tr[data-row-idx='"+dataRowIndexToBeFirst+"']");firstVisibleTRRelativeOffset=tr[0].offsetTop+firstVisibleTRRelativeOffset}this._setDisplayContainerScrollTop(firstVisibleTRRelativeOffset+deltaScroll)}if(deltaScroll<0&&scrollResult.action==="SA_NEED_PREV_PAGE"){lastVisibleTR=this._getLastVisibleTR(visibleArea);lastVisibleTRIndex=parseInt(lastVisibleTR.attr("data-row-idx"),0);firstVisibleTR=this._getFirstVisibleTR(visibleArea);firstVisibleTRIndex=parseInt(firstVisibleTR.attr("data-row-idx"),0);endIndexToBeLoaded=lastVisibleTRIndex;startIndexToBeLoaded=endIndexToBeLoaded-parseInt(this._virtualRowCount,0)+1;if(startIndexToBeLoaded<0){startIndexToBeLoaded=0;endIndexToBeLoaded=startIndexToBeLoaded+this._virtualRowCount-1}tbody.empty();this._renderRecords(startIndexToBeLoaded,endIndexToBeLoaded);tableId="#"+this.id();newFirstVisibleRow=this.container().find(tableId+' > tbody > tr[data-row-idx="'+firstVisibleTRIndex+'"]');this._setDisplayContainerScrollTop(newFirstVisibleRow[0].offsetTop+deltaScroll)}if(scrollResult.action==="SA_NEED_SOME_PAGE"){startIndexToBeLoaded=Math.floor(virtualScrollerY/this._avgRowHeight);endIndexToBeLoaded=startIndexToBeLoaded+this._virtualRowCount-1;if(startIndexToBeLoaded<0){startIndexToBeLoaded=0;endIndexToBeLoaded=startIndexToBeLoaded+this._virtualRowCount-1}if(endIndexToBeLoaded>=this.dataSource.dataView().length-1){endIndexToBeLoaded=this.dataSource.dataView().length-1;startIndexToBeLoaded=endIndexToBeLoaded-this._virtualRowCount+1}tbody.empty();this._renderRecords(startIndexToBeLoaded,endIndexToBeLoaded);displayContainerScrollTop=0;maxScrollPos=this._getScrollContainerHeight()-this._getDisplayContainerHeight();if(maxScrollPos-3<=virtualScrollerY&&virtualScrollerY<=maxScrollPos+3){displayContainerScrollTop=1e4}this._setDisplayContainerScrollTop(displayContainerScrollTop)}avgRowHeight=this._calculateAvgRowHeight();if(avgRowHeight>this._avgRowHeight){this._avgRowHeight=avgRowHeight}this._startRowIndex=startIndexToBeLoaded;this._startColIndex=0;this._trigger("virtualrecordsrender",null,{owner:this,tbody:tbody,dom:this._virtualDom})},_correctScrollPosition:function(totalRowCount){var scrollTop,maxScrollPos,tableId,firstRow,firstRowDataIndex,lastRow,lastRowDataIndex,visibleArea,tbody,rowsLeft,displayContainerScrollTop,targetRow,delta;scrollTop=this._getScrollContainerScrollTop();maxScrollPos=this._getScrollContainerHeight()-this._getDisplayContainerHeight();tableId="#"+this.id();firstRow=this.container().find(tableId+" > tbody > tr:first");firstRowDataIndex=parseInt(firstRow.attr("data-row-idx"),0);lastRow=this.container().find(tableId+" > tbody > tr:last");lastRowDataIndex=parseInt(lastRow.attr("data-row-idx"),0);visibleArea=this._getDisplayContainerVisibleArea();tbody=this.container().find(tableId+" > tbody");if(scrollTop===0){if(visibleArea.top>0){this._scrollTo(visibleArea.top,true)}else if(firstRowDataIndex>0){this._scrollTo(firstRowDataIndex*this._avgRowHeight,true)}}else if(scrollTop>=maxScrollPos-3&&scrollTop<=maxScrollPos+3){if(visibleArea.bottom<tbody.height()&&lastRowDataIndex===totalRowCount-1){this._scrollTo(this._getScrollContainerScrollTop()-(tbody.height()-visibleArea.bottom),true)}else if(lastRowDataIndex<totalRowCount-1){rowsLeft=totalRowCount-lastRowDataIndex;this._setScrollContainerHeight(this._getScrollContainerHeight()+rowsLeft*this._avgRowHeight)}}displayContainerScrollTop=this._getDisplayContainerScrollTop();if(displayContainerScrollTop===0&&firstRowDataIndex===0&&this._getScrollContainerScrollTop()!==0){this._scrollTo(0,true)}if(displayContainerScrollTop===tbody.height()-this._getDisplayContainerHeight()&&lastRowDataIndex===totalRowCount-1){this._scrollTo(this._getScrollContainerHeight(),true)}if(this._virtualScrollToIndex!==undefined&&this._virtualScrollToIndex!==null){targetRow=this.container().find(tableId+" > tbody > tr[data-row-idx="+this._virtualScrollToIndex+"]");delta=0;if(targetRow.length===1&&firstRowDataIndex!==this._virtualScrollToIndex){delta=targetRow.offset().top-firstRow.offset().top}this._virtualScrollToIndex=null;if(delta>0){this._vdisplaycontainer().scrollTop(delta)}}},_scrollTo:function(scrollTop,suppressScrollEvent){if(suppressScrollEvent){this._suppressScroll=true}this._setScrollContainerScrollTop(scrollTop)},_getFirstVisibleTR:function(visibleArea){var tableId="#"+this.element[0].id,firstVisibleTR,visibleAreaTop=visibleArea.top;$(tableId+" > tbody > tr:visible").each(function(index){firstVisibleTR=$(this);if(this.offsetTop+firstVisibleTR.height()>visibleAreaTop){return false}});return firstVisibleTR},_getLastVisibleTR:function(visibleArea){var tableId="#"+this.id(),lastVisibleTR;lastVisibleTR=this.container().find(tableId+" > tbody > tr:visible").filter(function(index){return this.offsetTop<visibleArea.bottom}).last();return lastVisibleTR},_determineVirtualRowCount:function(){var div,rowNumber=10,ds,rows="",i,height,avgRowHeight,displayContainerHeight,rowsPerPage,result;ds=this.dataSource.dataView();if(rowNumber>ds.length){rowNumber=ds.length}div=$("<div></div>)").appendTo("body").css({position:"absolute",top:-1800,left:-1800,visibility:"hidden"});for(i=0;i<rowNumber;i++){rows+=this._renderRecord(ds[i],i)}div.html(rows);height=div.height();avgRowHeight=height/rowNumber;displayContainerHeight=this._getDisplayContainerHeight();rowsPerPage=displayContainerHeight/avgRowHeight;result=Math.ceil(rowsPerPage*3);div.remove();this._fireInternalEvent("_virtRowCountDetermined",result);return result},_getTotalRowCount:function(){return this.dataSource.dataView().length},_renderVirtualRecordsContinuous:function(){this._totalRowCount=this._getTotalRowCount();if(this._totalRowCount===0){this._setScrollContainerHeight(0);this._virtualDom=[];return}this._virtualRowCount=this._determineVirtualRowCount();if(this._virtualRowCount>this._totalRowCount){this._virtualRowCount=this._totalRowCount}this._scrollTo(0,true);this._renderRecords(this._virtualRowCount-1);this._avgRowHeight=this._calculateAvgRowHeight();this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight)},_rerenderVirtualRecordsContinuous:function(){var tableId="#"+this.id(),lastRow,lastRowDataIndex;lastRow=this.container().find(tableId+" > tbody > tr:last");lastRowDataIndex=parseInt(lastRow.attr("data-row-idx"),0);this._renderRecords(this._startRowIndex,lastRowDataIndex);this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom})},_buildVirtualDomForContinuousVirtualization:function(){var rows,cells,i,j;if(this.options.virtualization===true&&this.options.virtualizationMode==="continuous"){this._virtualDom=[];rows=this.container().find("#"+this.id()+" > tbody > tr");for(i=0;i<rows.length;i++){this._virtualDom[i]=[];cells=rows[i].children;for(j=0;j<cells.length;j++){this._virtualDom[i][j]=cells[j]}}this._updateVirtualScrollContainer()}},_isFixedElement:function($td){if(this.hasFixedColumns()&&$td.closest("div").attr("data-fixed-container")!==undefined){return true}return false},_getColumnByTD:function($td){var i,ind=0,isFixed,$tr=$td.closest("tr"),res={},visibleInd,visibleColumns;if($tr.length===0){return null}if($td.attr("data-parent")||$td.attr("data-skip")){return null}visibleInd=$td.index()-$tr.find("td[data-parent='true'],td[data-skip='true']").length;if($td.is("td")){visibleInd-=$tr.find("th").length}if(visibleInd<0){return null}visibleColumns=this._visibleColumns();if(visibleColumns.length<=visibleInd){return null}if(this.hasFixedColumns()){res.index=visibleInd;isFixed=$td.closest("div").attr("data-fixed-container")!==undefined;for(i=0;i<visibleColumns.length;i++){if(isFixed&&visibleColumns[i].fixed===true||!isFixed&&visibleColumns[i].fixed!==true){if(ind++===visibleInd){res.column=visibleColumns[i];break}}}}else{res={column:visibleColumns[visibleInd],index:visibleInd}}return res},_savePersistenceData:function(data,feature,layout){var topmostGrid=this,featureId=feature;if($.type(layout)==="string"&&layout.length>0){topmostGrid=this.element.closest(".ui-iggrid-root").data("igGrid")||this;if(layout!==topmostGrid.element[0].id){featureId=feature+"_"+layout}}topmostGrid.persistenceData=topmostGrid.persistenceData||{};topmostGrid.persistenceData[featureId]=data},_getPersistenceData:function(feature,layout){var topmostGrid=this,featureId=feature;if($.type(layout)==="string"&&layout.length>0){topmostGrid=this.element.closest(".ui-iggrid-root").data("igGrid")||this;if(layout!==topmostGrid.element[0].id){featureId=feature+"_"+layout}}topmostGrid.persistenceData=topmostGrid.persistenceData||{};return topmostGrid.persistenceData[featureId]},destroy:function(notToCallDestroy){var prev=this.container().prev(),i,prepend=false,a,attr;if(this._scrollHeader&&this._hscrollbarcontent().length>0){this._hscrollbarcontent().unbind("scroll",$.proxy(this._scrollHeader,this))}this._headerInitCallbacks=[];this._footerInitCallbacks=[];this.tmpDataSource=null;
for(i=0;i<this.options.features.length;i++){if(this.element.data("igGrid"+this.options.features[i].name)){this.element["igGrid"+this.options.features[i].name]("destroy")}}if(prev.length===0){prev=this.container().parent();prepend=true}if(prepend){prev.prepend(this.element)}else{this.element.insertAfter(prev)}this.element.unbind("click",this._cellClickHandler);delete this._cellClickHandler;this.element.find("thead").empty();this.element.find("colgroup").empty();if(notToCallDestroy!==true){$.Widget.prototype.destroy.call(this)}if(this._isWrapped&&this.container().parent().data("igGrid")){this.container().parent().removeData("igGrid");if($.ui.igGrid.prototype.widgetFullName&&$.ui.igGrid.prototype.widgetFullName!=="igGrid"&&this.container().parent().data($.ui.igGrid.prototype.widgetFullName)){this.container().parent().removeData($.ui.igGrid.prototype.widgetFullName)}}this.container().remove();this._container=null;this.element.find("tbody").empty().removeClass(this.css.gridTableBodyClass).removeClass(this.css.gridRecordClass);this.element.removeClass(this.css.gridTableClass);if(this._resizeContainerHandler&&this.container().length>0){this.container()[0].detachEvent("onresize",this._resizeContainerHandler)}if(this._documentEvents){$(document).unbind(this._documentEvents)}this.element.unbind("iggriduisoftdirty",this._uiSoftDirtyHandler);this.element.trigger(this.events.destroyed,{owner:this});delete this._uiSoftDirtyHandler;if(this._resId){clearInterval(this._resId)}if(this._isWrapped){this.element.remove()}if(this._hovEvts){this.element.unbind(this._hovEvts);this._hovEvts=null}if(notToCallDestroy===true){return}if(this.dataSource){this._dataSource=null;this.dataSource=null}this._dataOptions=null;this._originalOptions=null;this._padding=null;this._originalOptions=null;this._loadingIndicator=null;this._headerParent=null;this._footerParent=null;this._footer=null;this._hovEvts=null;this._lastDataCol=null;this._lastFooterCol=null;this._lastHeaderCol=null;if(this.element.is("table")){this.element.empty();if(this._initialChildren){this._initialChildren.appendTo(this.element)}}attr=this.element[0].attributes;a=[];for(i=0;i<attr.length;i++){if(attr[i].name!=="id"){a.push(attr[i].name)}}for(i=0;i<a.length;i++){this.element.removeAttr(a[i])}for(i=0;i<this._initialAttributes.length;i++){if(this._initialAttributes[i].name!=="id"){this.element.attr(this._initialAttributes[i].name,this._initialAttributes[i].value)}}return this}});$.extend($.ui.igGrid,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Grid Multi Headers 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 * Depends on:
 *	jquery-1.4.4.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.ui.grid.framework.js
 *	infragistics.ui.shared.js
 *	infragistics.dataSource.js
 *	infragistics.util.js
 */
if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function($){$.widget("ui.igGridMultiColumnHeaders",{css:{multiHeaderCell:"ui-iggrid-multiheader-cell"},options:{},_createWidget:function(){$.Widget.prototype._createWidget.apply(this,arguments)},_renderingMultiColumnHeader:function(){this._renderHeaderColumns(this.grid._headerParent);this.grid._trigger(this.grid.events.headerRendered,null,{owner:this.grid,table:this.grid.headersTable()});this.grid._headerRenderCancel=false},_analyzeRowspanRows:function(oldCols,level){var i,col,groups=[],ml=this.grid._maxLevel-level,rowspan;for(i=0;i<oldCols.length;i++){rowspan=1;col=oldCols[i];if($.type(col.rowspan)==="string"){col.rowspan=parseInt(col.rowspan,10)}if(col.rowspan>0){rowspan=col.rowspan}if(col.group!==undefined&&col.group!==null){groups.push({group:col.group,level:level+rowspan})}else{if(col.level===0){if(col.rowspan===null||col.rowspan===undefined||isNaN(col.rowspan)){if(ml+1-col.level>0){col.rowspan=ml+1-col.level}}}}if(this._rows[ml]===undefined||this._rows[ml]===null){this._rows[ml]=[]}this._rows[ml].push(col)}for(i=0;i<groups.length;i++){this._analyzeRowspanRows(groups[i].group,groups[i].level)}},_renderRow:function(headerContainer,row,level){var col,i,$headerCell,$tr=$('<tr data-mch-level="'+level+'"></tr>').appendTo(headerContainer);for(i=0;i<row.length;i++){col=row[i];$headerCell=this._createHeaderColumnMarkup(col.headerText,col.colspan,col.key,col.level,col.identifier,col.rowspan);$headerCell.appendTo($tr)}},_renderHeaderColumns:function($container){var $th,i,j,k,oldCols,parents,key,headersTable,parentCol,mchElement,cols=this.grid.options.columns,mchChildren,isToHide,colsLength=cols.length,initHiddenCols=this.grid._initialHiddenColumns,gridId=this.grid.id(),$thead;this._arrayTargetRowspan=[];this._totalColumnsLength=$container.find("colgroup col").length;$thead=$container.find("thead");if($thead.length>0){$container=$thead.empty()}else{$container=$("<thead></thead>").appendTo($container)}this._tr={};oldCols=this.grid._oldCols;this._rows={};this._analyzeRowspanRows(oldCols,0);for(i=this.grid._maxLevel;i>=0;i--){if(this._rows[i]!==null&&this._rows[i]!==undefined){this._renderRow($container,this._rows[i],i)}}for(i=0;i<colsLength;i++){$th=this.grid.container().find("#"+gridId+"_"+cols[i].key).data("columnIndex",i);$th.data("data-mch-order",i);this.grid._headerCells.push($th)}if(initHiddenCols){headersTable=this.grid.headersTable().find("thead");for(i=0;i<initHiddenCols.length;i++){key=initHiddenCols[i].key;this.grid.container().find("#"+gridId+"_"+key).css("display","none");parents=this.grid._getParentsMultiHeader(key);for(j=0;j<parents.length;j++){parentCol=parents[j];if(parentCol.level>0){mchElement=this.grid._getMultiHeaderColumnById(parentCol.identifier);if(mchElement&&mchElement.children){mchChildren=mchElement.children;isToHide=true;if(mchElement.hidden!==true){for(k=0;k<mchChildren.length;k++){if(mchChildren[k].level===0){$th=this.grid.container().find("#"+gridId+"_"+mchChildren[k].key)}else{$th=headersTable.find("th[data-mch-id="+mchChildren[k].identifier+"]")}if(!$th.is(":visible")){isToHide=false;break}}}if(isToHide){headersTable.find("th[data-mch-id="+parentCol.identifier+"]").css("display","none")}}}}}}},_createHeaderColumnMarkup:function(headerText,colSpan,columnKey,level,identifier,rowspan){var grid=this.grid,id,isMultiColumnHeader=true,headerClass=grid.css.headerClass,$th=$("<th></th>"),$headerCell;$headerCell=$th.append('<span class="'+grid.css.headerTextClass+'">'+headerText+"</span>").attr("role","rowheader").addClass(headerClass);if(colSpan>1){$th.attr("colspan",colSpan)}if(rowspan>1){$headerCell.attr("rowspan",rowspan)}if(columnKey){$headerCell.attr("id",this.grid.element[0].id+"_"+columnKey)}if(level===0){id=columnKey;isMultiColumnHeader=false;$headerCell.attr("data-isheadercell",true)}else{id=identifier;$headerCell.addClass(this.css.multiHeaderCell);$headerCell.attr("data-mch-id",identifier)}grid._trigger(grid.events.headerCellRendered,null,{owner:grid,th:$headerCell,columnKey:id,isMultiColumnHeader:isMultiColumnHeader});return $headerCell},getMultiColumnHeaders:function(){return this.grid._oldCols},destroy:function(){$.Widget.prototype.destroy.call(this);return this},_injectGrid:function(gridInstance,isRebind){this.grid=gridInstance}});$.extend($.ui.igGridMultiHeaders,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Tree localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.Tree){$.ig.Tree={};$.extend($.ig.Tree,{locale:{invalidArgumentType:"Invalid argument type provided.",errorOnRequest:"An error has occurred while retrieving data: ",noDataSourceUrl:"The igTree control requires a dataSourceUrl provided in order to initiate a request for data to that URL.",incorrectPath:"A node was not found at the provided path: ",incorrectNodeObject:"The provided argument is not a jQuery node element.",setOptionError:"Runtime changes are not allowed for the following option: ",moveTo:"<strong>Move to</strong> {0}",moveBetween:"<strong>Move between</strong> {0} and {1}",moveAfter:"<strong>Move after</strong> {0}",moveBefore:"<strong>Move before</strong> {0}",copyTo:"<strong>Copy to</strong> {0}",copyBetween:"<strong>Copy between</strong> {0} and {1}",copyAfter:"<strong>Copy after</strong> {0}",copyBefore:"<strong>Copy before</strong> {0}",and:"and"}})}})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Tree 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.4.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.draggable.js
 *	jquery.ui.droppable.js
 *	infragistics.templating.js
 *	infragistics.dataSource.js
 *  infragistics.ui.shared.js
 *	infragistics.util.js
 *	infragistics.ui.tree-en.js
 */
if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function($){$.widget("ui.igTree",{_const:{dragCursorAt:{top:-10,left:-10}},css:{tree:"ui-widget ui-igtree",treeCollection:"ui-igtree-collection",treeNode:"ui-igtree-node",treeRoot:"ui-igtree-root ui-widget-content",treeRootNode:"ui-igtree-noderoot",nodeNoChildren:"ui-igtree-node-nochildren",parentNode:"ui-igtree-parentnode",collapseIcon:"ui-icon ui-icon-triangle-1-s",expandIcon:"ui-icon ui-icon-triangle-1-e",nodeExpander:"ui-igtree-expander",nodeNormal:"ui-state-default",nodeHightlight:"ui-state-highlight",nodeHovered:"ui-state-hover",nodeSelected:"ui-state-active",nodeActive:"ui-state-focus",checkbox:"ui-state-default ui-corner-all ui-igcheckbox-normal",checkboxOff:"ui-icon ui-icon-check ui-igcheckbox-normal-off",checkboxOn:"ui-icon ui-icon-check ui-igcheckbox-normal-on",checkboxPartial:"ui-icon ui-icon-check ui-state-disabled ui-igcheckbox-normal-on",invalidDropIndicator:"ui-widget ui-igtree-dropindicator ui-state-error ui-corner-all",dropIndicator:"ui-widget ui-igtree-dropindicator ui-state-highlight ui-corner-all",moveMarkupIcon:"ui-icon ui-icon-arrowthick-1-e",invalidMoveMarkupIcon:"ui-icon ui-icon-cancel",copyMarkupIcon:"ui-icon ui-icon-plus",insertLine:"ui-state-default ui-igtree-insertline"},options:{width:null,height:null,checkboxMode:"off",singleBranchExpand:false,hotTracking:true,parentNodeImageUrl:null,parentNodeImageClass:null,parentNodeImageTooltip:null,leafNodeImageUrl:null,leafNodeImageClass:null,leafNodeImageTooltip:null,animationDuration:200,pathSeparator:"_",dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,requestType:"GET",responseContentType:null,initialExpandDepth:-1,loadOnDemand:false,bindings:{textKey:"Text",textXPath:"@Text",valueKey:"Value",valueXPath:"@Value",imageUrlKey:"ImageUrl",imageUrlXPath:"@ImageUrl",navigateUrlKey:"NavigateUrl",navigateUrlXPath:"@NavigateUrl",targetKey:"Target",expandedKey:"Expanded",primaryKey:null,nodeContentTemplate:null,childDataProperty:"Nodes",childDataXPath:"Children",searchFieldXPath:"Nodes",bindings:{}},defaultNodeTarget:"_self",dragAndDrop:false,updateUrl:null,dragAndDropSettings:{allowDrop:false,dragAndDropMode:"default",dragOpacity:.75,revert:true,revertDuration:500,zIndex:10,dragStartDelay:200,expandOnDragOver:true,expandDelay:1e3,helper:"default",customDropValidation:null,containment:false,invalidMoveToMarkup:"<div><p><span></span><strong>{0}</strong></p></div>",moveToMarkup:"<div><p><span></span><strong>Move to</strong> {0}</p></div>",moveBetweenMarkup:"<div><p><span></span><strong>Move between</strong> {0} and {1}</p></div>",moveAfterMarkup:"<div><p><span></span><strong>Move after</strong> {0}</p></div>",moveBeforeMarkup:"<div><p><span></span><strong>Move before</strong> {0}</p></div>",copyToMarkup:"<div><p><span></span><strong>Copy to</strong> {0}</p></div>",copyBetweenMarkup:"<div><p><span></span><strong>Copy between</strong> {0} and {1}</p></div>",copyAfterMarkup:"<div><p><span></span><strong>Copy after</strong> {0}</p></div>",copyBeforeMarkup:"<div><p><span></span><strong>Copy before</strong> {0}</p></div>"}},events:{dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",selectionChanging:"selectionChanging",selectionChanged:"selectionChanged",nodeCheckstateChanging:"nodeCheckstateChanging",nodeCheckstateChanged:"nodeCheckstateChanged",nodePopulating:"nodePopulating",nodePopulated:"nodePopulated",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeClick:"nodeClick",nodeDoubleClick:"nodeDoubleClick",dragStart:"dragStart",drag:"drag",dragStop:"dragStop",nodeDropping:"nodeDropping",nodeDropped:"nodeDropped"},widget:function(){return this.element},_createWidget:function(options,element){this.options.bindings=null;this.options.dragAndDropSettings.moveToMarkup="<div><p><span></span>"+$.ig.Tree.locale.moveTo+"</p></div>";this.options.dragAndDropSettings.moveBetweenMarkup="<div><p><span></span>"+$.ig.Tree.locale.moveBetween+"</p></div>";this.options.dragAndDropSettings.moveAfterMarkup="<div><p><span></span>"+$.ig.Tree.locale.moveAfter+"</p></div>";this.options.dragAndDropSettings.moveBeforeMarkup="<div><p><span></span>"+$.ig.Tree.locale.moveBefore+"</p></div>";this.options.dragAndDropSettings.copyToMarkup="<div><p><span></span>"+$.ig.Tree.locale.copyTo+"</p></div>";this.options.dragAndDropSettings.copyBetweenMarkup="<div><p><span></span>"+$.ig.Tree.locale.copyBetween+"</p></div>";this.options.dragAndDropSettings.copyAfterMarkup="<div><p><span></span>"+$.ig.Tree.locale.copyAfter+"</p></div>";this.options.dragAndDropSettings.copyBeforeMarkup="<div><p><span></span>"+$.ig.Tree.locale.copyBefore+"</p></div>";$.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var opt=this.options;this.dataBind();this.element.addClass(this.css.tree);this._attachEvents();if($.ig.util.isIE&&$.ig.util.browserVersion===7&&this.element.css("position")==="static"){this.element.css("position","relative")}if(opt.width){this.element.css("width",opt.width)}if(opt.height){this.element.css("height",opt.height)}},_setOption:function(option,value){var css=this.css,elements,prevValue=this.options[option];if(prevValue===value){return}$.Widget.prototype._setOption.apply(this,arguments);switch(option){case"width":this.element.css("width",value);break;case"height":this.element.css("height",value);break;case"parentNodeImageUrl":elements=this.element.find("img[data-role=parent-node-image]");if(elements.length>0){elements.attr("src",value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"parentNodeImageTooltip":elements=this.element.find("img[data-role=parent-node-image]");if(elements.length<=0){elements=this.element.find("span[data-role=parent-node-image]")}if(elements.length>0){elements.attr("title",value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"parentNodeImageClass":elements=this.element.find("span[data-role=parent-node-image]");if(elements.length>0){elements.removeClass();elements.addClass(value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"leafNodeImageUrl":elements=this.element.find("img[data-role=leaf-node-image]");if(elements.length>0){elements.attr("src",value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"leafNodeImageTooltip":elements=this.element.find("img[data-role=leaf-node-image]");if(elements.length<=0){elements=this.element.find("span[data-role=leaf-node-image]")}if(elements.length>0){elements.attr("title",value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"leafNodeImageClass":elements=this.element.find("span[data-role=leaf-node-image]");if(elements.length>0){elements.removeClass();elements.addClass(value)}else{throw new Error($.ig.Tree.locale.setOptionError+option)}break;case"hotTracking":if(value){this.element.delegate("a",{mouseover:function(event){$(event.target).addClass(css.nodeHovered)},mouseout:function(event){$(event.target).removeClass(css.nodeHovered)}})}else{this.element.undelegate("a","mouseover");this.element.undelegate("a","mouseout")}break;case"checkboxMode":if(value.toLowerCase()==="off"){this._removeCheckboxes()}else if(prevValue==="off"){this._addCheckboxes()}break;case"dataSource":this.dataBind();break;case"dragAndDrop":if(value){this._initDragAndDrop()}else{this._destroyDragAndDrop()}break;case"updateUrl":this.options.dataSource.root().settings.updateUrl=value;break;case"bindings":case"loadOnDemand":case"pathSeparator":case"initialExpandDepth":case"defaultNodeTarget":throw new Error($.ig.Tree.locale.setOptionError+option);break;default:break}},_removeCheckboxes:function(){this.element.find("span[data-role=checkbox]").remove()},_addCheckboxes:function(){var self=this;this.element.find("li[data-role=node]").each(function(index,element){var $this=$(this);if($this.children("span[data-role=expander]").length>0){$this.children("span[data-role=expander]").after(self._renderCheckbox())}else{$this.prepend(self._renderCheckbox())}})},_initDataOptions:function(){var dataOptions,ul,s;s=this._initDataSourceSchema();if(!this.options.dataSource&&!this.options.dataSourceUrl){if(!this.element.is("ul")){ul=this.element.children("ul");this.options.dataSource=ul[0]}else{this.options.dataSource=this.element[0]}}else if(!this.options.dataSource&&this.options.dataSourceUrl){this.options.dataSource=this.options.dataSourceUrl}else if($.type(this.options.dataSource)==="object"&&typeof this.options.dataSource._encodeHierarchicalUrlParams!=="function"&&typeof this.options.dataSource._xmlToArray!=="function"&&!this.options.dataSourceType){this.options.dataSource=[this.options.dataSource]}dataOptions={callback:this._constructFromData,callee:this,dataSource:this.options.dataSource,requestType:this.options.requestType,responseContentType:this.options.responseContentType,defaultChildrenDataProperty:this.options.bindings.childDataProperty,responseDataType:this.options.responseDataType,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.dataSourceType&&this.options.dataSourceType==="xml"?true:false,schema:s,updateUrl:this.options.updateUrl};if(this.options.dataSourceType){dataOptions.type=this.options.dataSourceType}if(this.options.responseDataKey){dataOptions.responseDataKey=this.options.responseDataKey}return dataOptions},_initDataSourceSchema:function(){var schema={},opt=this.options,bindings=opt.bindings;if(bindings===null){opt.bindings={};schema.text={name:"Text",type:"string"};opt.bindings.textKey="Text";schema.value={name:"Value",type:"string"};opt.bindings.valueKey="Value";schema.imageUrl={name:"ImageUrl",type:"string"};opt.bindings.imageUrlKey="ImageUrl";schema.navigateUrl={name:"NavigateUrl",type:"string"};opt.bindings.navigateUrlKey="NavigateUrl";schema.childData={name:"Nodes",type:"object"};opt.bindings.childDataProperty="Nodes";schema.target={name:"Target",type:"string"};opt.bindings.targetKey="Target";bindings=opt.bindings}else if(opt.dataSourceType==="xml"){if(bindings.searchFieldXPath){schema.searchField=bindings.searchFieldXPath}}schema.fields=[];if(bindings.textKey){schema.fields.push({name:bindings.textKey,type:"string",xpath:bindings.textXPath});schema.textKey=bindings.textKey}if(bindings.valueKey){schema.fields.push({name:bindings.valueKey,type:"string",xpath:bindings.valueXPath});schema.valueKey=bindings.valueKey}if(bindings.navigateUrlKey){schema.fields.push({name:bindings.navigateUrlKey,type:"string",xpath:bindings.navigateUrlXPath});schema.navigateUrlKey=bindings.navigateUrlKey}if(bindings.imageUrlKey){schema.fields.push({name:bindings.imageUrlKey,type:"string",xpath:bindings.imageUrlXPath});schema.imageUrlKey=bindings.imageUrlKey}if(bindings.targetKey){schema.fields.push({name:bindings.targetKey,type:"string"});schema.targetKey=bindings.targetKey}if(bindings.expandedKey){schema.fields.push({name:"Expanded",type:"boolean"});schema.expandedKey=bindings.expandedKey}if(bindings.primaryKey){schema.fields.push({name:bindings.primaryKey,type:"string"});schema.primaryKey=bindings.primaryKey}if(bindings.childDataProperty){schema.fields.push({name:bindings.childDataProperty,type:"object",xpath:bindings.childDataXPath});schema.childDataProperty=bindings.childDataProperty}if(!schema.searchField&&opt.responseDataKey){schema.searchField=opt.responseDataKey}return schema},_initDataSource:function(dataOptions){var opt=this.options;if(!opt.dataSource||typeof opt.dataSource._encodeHierarchicalUrlParams!=="function"){opt.dataSource=new $.ig.HierarchicalDataSource(dataOptions)}},_helper:null,_insertLine:{html:null},_originalHelper:{html:null},_sourceNode:{data:null,element:null,owner:null},_validationObject:{valid:true,dropAfter:true,expandTimeout:null,target:null},_helperDirty:false,_dropAfter:true,_initDragOptions:function(){var self=this,dragAndDropSettings=self.options.dragAndDropSettings,helper=dragAndDropSettings.helper==="default"?function(event){var target=$(event.target).closest("li[data-role=node]"),markup=$(self.options.dragAndDropSettings.invalidMoveToMarkup.replace("{0}",target.children("a").text()));markup.addClass(self.css.invalidDropIndicator).find("span").addClass(self.css.invalidMoveMarkupIcon);return markup}:dragAndDropSettings.helper,opt={revert:dragAndDropSettings.revert?"invalid":false,opacity:dragAndDropSettings.dragOpacity,zIndex:dragAndDropSettings.zIndex,cursorAt:this._const.dragCursorAt,helper:helper,revertDuration:dragAndDropSettings.revertDuration,appendTo:self.element,delay:dragAndDropSettings.dragStartDelay,containment:dragAndDropSettings.containment,start:function(event,ui){var node=self.nodeFromElement($(this)),noCancel;noCancel=self._triggerDragStart(event,ui,node.element);if(noCancel){self._originalHelper.html=ui.helper.html();self._sourceNode.data=$.extend(false,{},node.data);self._sourceNode.owner=self;self._sourceNode.element=$(this)}else{return false}},drag:function(event,ui){var noCancel=self._triggerDrag(event,ui,self._sourceNode.element);if(noCancel){self._performDrag(event,ui)}else{self._resetSourceNode();self._resetValidationObject();return false}},stop:function(event,ui){self._triggerDragStop(event,ui);$(document).find("div[data-role=insert-line]").remove();self._helperDirty=false;self._resetSourceNode();self._resetValidationObject()}};return opt},_performDrag:function(event,ui){var target=$(event.originalEvent.target),markup,copy=event.ctrlKey&&this.options.dragAndDropSettings.dragAndDropMode==="default"||this.options.dragAndDropSettings.dragAndDropMode==="copy",targetTop,dragTop,self=this;if(target.is("div[data-role=insert-line]")){return}this._validationObject.valid=this._accept(this._sourceNode.element,target);$(document).find("div[data-role=insert-line]").remove();if(this.options.dragAndDropSettings.expandOnDragOver){if((target.is("a")||target.closest("a").parent().is("li[data-role=node]"))&&this._validationObject.target!==target.closest("li[data-role=node]")){clearTimeout(this._validationObject.expandTimeout);this._validationObject.target=target.closest("li[data-role=node]");if(this._validationObject.target.hasClass("ui-igtree-parentnode")){this._validationObject.expandTimeout=setTimeout(function(){self.expand(self._validationObject.target)},this.options.dragAndDropSettings.expandDelay)}}else{clearTimeout(this._validationObject.expandTimeout);this._validationObject.expandTimeout=null;this._validationObject.target=null}}if((target.is("a")||target.closest("a").parent().is("li[data-role=node]"))&&this._validationObject.valid){if(copy){markup=$(this.options.dragAndDropSettings.copyToMarkup.replace("{0}",target.text()));markup.find("span").addClass(this.css.copyMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.moveToMarkup.replace("{0}",target.text()));markup.find("span").addClass(this.css.moveMarkupIcon)}this._helper=markup.html();ui.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper);this._helperDirty=true}else if(target.is("li[data-role=node]")&&this._validationObject.valid){targetTop=target.offset().top+target.height()/2;dragTop=ui.offset.top+this._const.dragCursorAt.top;if(dragTop>targetTop){this._validationObject.dropAfter=true;if(copy){if(target.next("li[data-role=node]").length>0){markup=$(this.options.dragAndDropSettings.copyBetweenMarkup.replace("{0}",target.children("a").text()).replace("{1}",target.next("li[data-role=node]").children("a").text()));markup.find("span").addClass(this.css.copyMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.copyAfterMarkup.replace("{0}",target.children("a").text()));markup.find("span").addClass(this.css.copyMarkupIcon)}}else{if(target.next("li[data-role=node]").length>0){markup=$(this.options.dragAndDropSettings.moveBetweenMarkup.replace("{0}",target.children("a").text()).replace("{1}",target.next("li[data-role=node]").children("a").text()));markup.find("span").addClass(this.css.moveMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.moveAfterMarkup.replace("{0}",target.children("a").text()));markup.find("span").addClass(this.css.moveMarkupIcon)}}$(this._insertLine.html).appendTo(target);this._helper=markup.html();ui.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper)}else{this._validationObject.dropAfter=false;if(copy){if(target.prev("li[data-role=node]").length>0){markup=$(this.options.dragAndDropSettings.copyBetweenMarkup.replace("{0}",target.children("a").text()).replace("{1}",target.prev("li[data-role=node]").children("a").text()));markup.find("span").addClass(this.css.copyMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.copyBeforeMarkup.replace("{0}",target.children("a").text()));markup.find("span").addClass(this.css.copyMarkupIcon)}}else{if(target.prev("li[data-role=node]").length>0){markup=$(this.options.dragAndDropSettings.moveBetweenMarkup.replace("{0}",target.prev("li[data-role=node]").children("a").text()).replace("{1}",target.children("a").text()));markup.find("span").addClass(this.css.moveMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.moveBeforeMarkup.replace("{0}",target.children("a").text()));markup.find("span").addClass(this.css.moveMarkupIcon)}}if(target.index()===0){$(this._insertLine.html).prependTo(target).css("padding-bottom","0.1em")}else{$(this._insertLine.html).appendTo(target.prev())}this._helper=markup.html();ui.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper)}this._helperDirty=true}else if(target.is(":ui-igTree")){if(copy){markup=$(this.options.dragAndDropSettings.copyToMarkup.replace("{0}",target.text()));markup.find("span").addClass(this.css.copyMarkupIcon)}else{markup=$(this.options.dragAndDropSettings.moveToMarkup.replace("{0}",target.text()));markup.find("span").addClass(this.css.moveMarkupIcon)}this._helper=markup.html();ui.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper);this._helperDirty=true}else{$(document).find("div[data-role=insert-line]").remove();if(this._helperDirty){this._helper=null;ui.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(this._originalHelper.html);this._helperDirty=false}}},_resetSourceNode:function(){this._originalHelper.html=null;this._sourceNode.data=null;this._sourceNode.owner=null;this._sourceNode.element=null},_resetValidationObject:function(){this._validationObject.valid=true;this._validationObject.dropAfter=true;clearTimeout(this._validationObject.expandTimeout);this._validationObject.expandTimeout=null;this._validationObject.target=null},_initDropOptions:function(){var self=this,opt={tolerance:"pointer",greedy:true,drop:function(event,ui){if(self._sourceNode.element===null&&self._sourceNode.owner===null){return false}return self._performDrop(event,ui)},accept:function(dropElem){return self._validationObject.valid}};return opt},_performDrop:function(event,ui){var self=this,parent,target=$(event.originalEvent.target),noCancel;if(target.is("div[data-role=insert-line]")){target=target.closest("li[data-role=node]")}self.element.find("div[data-role=insert-line]").remove();noCancel=self._triggerNodeDropping(event,ui,target.closest("li[data-role=node]"),target.next("li[data-role=node]").length>0||!self._validationObject.dropAfter?target.index()+(self._validationObject.dropAfter?1:0):target.index());if(noCancel){if(target.is("a")||target.closest("a").parent().is("li[data-role=node]")){target=target.closest("li[data-role=node]");switch(self.options.dragAndDropSettings.dragAndDropMode){case"move":self.addNode(self._sourceNode.data,target);self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"));break;case"copy":self.addNode(self._sourceNode.data,target);break;default:if(!event.ctrlKey){self.addNode(self._sourceNode.data,target);self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"))}else{self.addNode(self._sourceNode.data,target)}break}}else if(target.is("li")){parent=self.parentNode(target);switch(self.options.dragAndDropSettings.dragAndDropMode){case"move":self.addNode(self._sourceNode.data,parent,target.next("li[data-role=node]").length>0||!self._validationObject.dropAfter?target.index()+(self._validationObject.dropAfter?1:0):null);self._sourceNode.element.attr("data-path",self._sourceNode.element.attr("data-path")+"_remove");self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"));break;case"copy":self.addNode(self._sourceNode.data,parent,target.next("li[data-role=node]").length>0||!self._validationObject.dropAfter?target.index()+(self._validationObject.dropAfter?1:0):null);break;default:if(!event.ctrlKey){self.addNode(self._sourceNode.data,parent,target.next("li[data-role=node]").length>0||!self._validationObject.dropAfter?target.index()+(self._validationObject.dropAfter?1:0):null);self._sourceNode.element.attr("data-path",self._sourceNode.element.attr("data-path")+"_remove");self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"))}else{self.addNode(self._sourceNode.data,parent,target.next("li[data-role=node]").length>0||!self._validationObject.dropAfter?target.index()+(self._validationObject.dropAfter?1:0):null)}break}}else if(target.is(":ui-igTree")){switch(self.options.dragAndDropSettings.dragAndDropMode){case"move":self.addNode(self._sourceNode.data);self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"));break;case"copy":self.addNode(self._sourceNode.data);break;default:if(!event.ctrlKey){self.addNode(self._sourceNode.data);self._sourceNode.owner.removeAt(self._sourceNode.element.attr("data-path"))}else{self.addNode(self._sourceNode.data)}break}}self._triggerNodeDropped(event,ui,target)}else{return false}},_accept:function(dropElem,target){var valid=true,node=target.closest("li[data-role=node]"),dropPath=dropElem.attr("data-path"),tree=target.closest(".ui-widget.ui-igtree"),sourceBinding=this._retrieveCurrentDepthBinding(parseInt(this._sourceNode.element.closest("ul").attr("data-depth"),10)),destinationBinding;if(target.is("a")&&target.parent().is("li[data-role=node]")||target.closest("a").parent().is("li[data-role=node]")){destinationBinding=tree.data("igTree")._retrieveCurrentDepthBinding(parseInt(target.closest("ul").attr("data-depth"),10)+1)}else{if(target.is("li[data-role=node]")){destinationBinding=tree.data("igTree")._retrieveCurrentDepthBinding(parseInt(target.closest("ul").attr("data-depth"),10))}else if(target.is(":ui-igTree")){destinationBinding=tree.data("igTree")._retrieveCurrentDepthBinding(0)}else{destinationBinding=false}}if(node.length>0&&(node.attr("data-path")===dropPath||node.attr("data-path").indexOf(dropPath)===0)&&this===tree.data("igTree")){valid=false}else if(this!==tree.data("igTree")&&!tree.igTree("option","dragAndDropSettings").allowDrop){valid=false}else if(typeof tree.igTree("option","dragAndDropSettings").customDropValidation==="function"){valid=tree.igTree("option","dragAndDropSettings").customDropValidation.apply(target,[dropElem])}if(sourceBinding&&destinationBinding&&valid){valid=this._validateBindings(sourceBinding,destinationBinding)}return valid},_validateBindings:function(sourceBinding,destinationBinding){var valid=true;if(destinationBinding.hasOwnProperty("primaryKey")){if(!sourceBinding.hasOwnProperty("primaryKey")||sourceBinding.primaryKey!==destinationBinding.primaryKey){valid=false}}if(destinationBinding.textKey!==sourceBinding.textKey){valid=false}if(destinationBinding.hasOwnProperty("valueKey")&&sourceBinding.hasOwnProperty("valueKey")&&destinationBinding.valueKey!==sourceBinding.valueKey){valid=false}if(destinationBinding.hasOwnProperty("childDataProperty")&&sourceBinding.hasOwnProperty("childDataProperty")&&destinationBinding.childDataProperty!==sourceBinding.childDataProperty){valid=false}return valid},_initDragAndDrop:function(element){var dragOptions=this._initDragOptions(),dropOptions=this._initDropOptions();if(!this._insertLine.html){this._insertLine.html='<div data-role="insert-line" class="'+this.css.insertLine+'"></div>'}if(!element){this.element.find("li[data-role=node]").draggable(dragOptions);this.element.droppable(dropOptions);this.element.delegate("a","mousedown",function(event){$(this).focus()})}else{element.draggable(dragOptions);element.find("li[data-role=node]").draggable(dragOptions)}},_destroyDragAndDrop:function(){this.element.find("li[data-role=node]").draggable("destroy");this.element.droppable("destroy");this.element.undelegate("a","mousedown")},_constructFromData:function(){var ul,data=this.options.dataSource._rootds.data();this._triggerDataBound(data);this._triggerRendering(data);this.element.attr("data-scroll",true);if(this.element.is("ul")){this.element.empty();ul=this.element;ul.addClass(this.css.treeCollection).addClass(this.css.treeRoot).attr("data-depth",0);ul.html(this._initChildrenRecursively("",data));this._triggerRendered()}else{this.element.empty();ul='<ul class="'+this.css.treeCollection+" "+this.css.treeRoot+'" data-depth="0">';ul+=this._initChildrenRecursively("",data);ul+="</ul>";ul=$(ul);ul.appendTo(this.element);this._triggerRendered()}if(this.options.dragAndDrop){this._initDragAndDrop();if(typeof this.options.dragAndDropSettings.customDropValidation==="string"){if(window[this.options.dragAndDropSettings.customDropValidation]&&typeof window[this.options.dragAndDropSettings.customDropValidation]==="function"){this.options.dragAndDropSettings.customDropValidation=window[this.options.dragAndDropSettings.customDropValidation]}}}},_attachEvents:function(){var self=this,css=this.css,noCancel,target;this.element.delegate("span[data-role=expander]","click",function(event){self.toggle($(event.target).closest("li[data-role=node]"),event)});if(this.options.hotTracking){this.element.delegate("a",{click:function(event){target=$(event.target).closest("a");noCancel=self._triggerNodeClick(event,target.parent());if(noCancel){self.select(target.parent(),event);if($.ig.util.isWebKit){target.focus()}}else{event.preventDefault()}},dblclick:function(event){event.preventDefault();self._triggerNodeDoubleClick(event,$(event.target.parentNode))},keydown:function(event){self._kbNavigation(event)},focus:function(event){self._focusNode(event)},blur:function(event){self._blurNode(event)},mouseover:function(event){target=$(event.target).closest("a");target.addClass(css.nodeHovered)},mouseout:function(event){target=$(event.target).closest("a");target.removeClass(css.nodeHovered)}})}else{this.element.delegate("a",{click:function(event){target=$(event.target).closest("a");noCancel=self._triggerNodeClick(event,target.parent());if(noCancel){self.select(target.parent(),event);if($.ig.util.isWebKit){target.focus()}}else{event.preventDefault()}},dblclick:function(event){event.preventDefault();self._triggerNodeDoubleClick(event,$(event.target.parentNode))},keydown:function(event){self._kbNavigation(event)},focus:function(event){self._focusNode(event)},blur:function(event){self._blurNode(event)}})}this.element.delegate("span[data-role=checkbox] > span",{click:function(event){self.toggleCheckstate($(event.target).closest("li[data-role=node]"),event)},mouseover:function(event){$(event.target).closest("span[data-role=checkbox]").addClass(css.nodeHovered)},mouseout:function(event){$(event.target).closest("span[data-role=checkbox]").removeClass(css.nodeHovered)}})},_initChildrenRecursively:function(path,data,depth,checkFlag,indexFeed){var childUl,opt=this.options,childPath,binding,value,display,liStr=[],i=0,li,children,tempPath;if(!indexFeed){indexFeed=0}if(!depth){depth=0}binding=this._retrieveCurrentDepthBinding(depth);if(!data.hasOwnProperty("length")&&data.hasOwnProperty(binding.textKey)){data=[data]}for(i;i<data.length;i++){childUl="";value="";if(path.length<=0){if(binding.hasOwnProperty("primaryKey")&&data[i].hasOwnProperty(binding.primaryKey)){childPath=typeof data[i][binding.primaryKey]==="function"?data[i][binding.primaryKey]():data[i][binding.primaryKey]}else{childPath=i+indexFeed}}else{if(binding.hasOwnProperty("primaryKey")&&data[i].hasOwnProperty(binding.primaryKey)){childPath=path+opt.pathSeparator+(typeof data[i][binding.primaryKey]==="function"?data[i][binding.primaryKey]():data[i][binding.primaryKey])}else{childPath=path+opt.pathSeparator+(i+indexFeed)}}if(binding.hasOwnProperty("valueKey")&&data[i].hasOwnProperty(binding.valueKey)){if(typeof data[i][binding.valueKey]==="function"){value=data[i][binding.valueKey]()}else{value=data[i][binding.valueKey]}}li='<li class="'+this._buildNodeCssString(data[i],depth,binding)+'" data-path="'+childPath+'" data-value="'+value+'" data-role="node">';children=data[i][binding.childDataProperty];if(typeof children==="function"){children=children()}if(children&&children.length>0||children&&opt.loadOnDemand){if(depth<=opt.initialExpandDepth&&!opt.loadOnDemand||binding.hasOwnProperty("expandedKey")&&data[i].hasOwnProperty(binding.expandedKey)&&data[i][binding.expandedKey]){li+=this._renderExpanderImage(true);display="block"}else{li+=this._renderExpanderImage(false);display="none"}}if(opt.checkboxMode&&opt.checkboxMode.toLowerCase()!=="off"){li+=this._renderCheckbox(checkFlag)}li+=this._renderNodeImage(data[i],binding);if(!binding.nodeContentTemplate){li+=this._renderAnchor(data[i],binding)}else{li+=this._renderNodeTemplate(data[i],binding)}if(children&&children.length>0||children&&opt.loadOnDemand){childUl='<ul style="display: '+display+'" data-depth="'+(depth+1)+'"';if(children.length>0&&!opt.loadOnDemand){childUl+=">"+this._initChildrenRecursively(childPath,children,depth+1,checkFlag)}else{childUl+=' data-populated="false">'}childUl+="</ul>"}li+=childUl;li+="</li>";liStr.push(li)}return liStr.join("")},_buildNodeCssString:function(data,depth,binding){var css=this.css,str=css.treeNode,children;if(depth===0){str+=" "+css.treeRootNode}children=data[binding.childDataProperty];if(typeof children==="function"){children=children()}if(children&&children.length>0||children&&this.options.loadOnDemand){str+=" "+css.parentNode}else{str+=" "+css.nodeNoChildren}return str},_retrieveCurrentDepthBinding:function(depth){var binding=this.options.bindings,i=0;for(i;i<depth;i++){if(binding.hasOwnProperty("bindings")){binding=binding.bindings}else{break}}return binding},_renderExpanderImage:function(expanded){var self=this,css=self.css,expander="";if(expanded){expander='<span data-role="expander" data-exp="true" class="'+css.collapseIcon+" "+css.nodeExpander+'"></span>'}else{expander='<span data-role="expander" data-exp="false" class="'+css.expandIcon+" "+css.nodeExpander+'"></span>'}return expander},_renderAnchor:function(data,binding){var href,target,text;if(binding.hasOwnProperty("navigateUrlKey")&&data[binding.navigateUrlKey]){if(typeof data[binding.navigateUrlKey]==="function"){href=data[binding.navigateUrlKey]()}else if(data[binding.navigateUrlKey].length<=0){href="#"}else{href=data[binding.navigateUrlKey]}}else{href="#"}if(binding.targetKey&&binding.targetKey.length>0&&data.hasOwnProperty(binding.targetKey)){target=data[binding.targetKey]}else{target=this.options.defaultNodeTarget}if(typeof data[binding.textKey]==="function"){text=data[binding.textKey]()}else{text=data[binding.textKey]}return'<a href="'+href+'" target="'+target+'">'+text+"</a>"},_renderNodeTemplate:function(data,binding){var div=$("<div></div>"),html,href,target,template=binding.nodeContentTemplate;if(binding.hasOwnProperty("navigateUrlKey")&&data[binding.navigateUrlKey]){if(typeof data[binding.navigateUrlKey]==="function"){href=data[binding.navigateUrlKey]()}else if(data[binding.navigateUrlKey].length<=0){href="#"}else{href=data[binding.navigateUrlKey]}}else{href="#"}if(binding.targetKey&&binding.targetKey.length>0&&data.hasOwnProperty(binding.targetKey)){target=data[binding.targetKey]}else{target=this.options.defaultNodeTarget}if(typeof $.ig.tmpl==="function"){div.html($.ig.tmpl(template,data));if(div.children("a").length<=0){html='<a href="'+href+'" target="'+target+'">'+div.html()+"</a>"
}else if(!div.children("a").attr("href")){div.children("a").attr({href:href,target:target});html=div.html()}else{html=div.html()}}else{$.tmpl(template,data).appendTo(div);if(div.children("a").length<=0){html='<a href="'+href+'" target="'+target+'">'+div.html()+"</a>"}else if(!div.children("a").attr("href")){div.children("a").attr({href:href,target:target});html=div.html()}else{html=div.html()}}return html},_renderCheckbox:function(checkFlag){var self=this,css=self.css;return'<span data-chk="'+(checkFlag?"on":"off")+'" data-role="checkbox" class="'+css.checkbox+'"><span class="'+(checkFlag?css.checkboxOn:css.checkboxOff)+'"></span></span>'},_renderNodeImage:function(data,binding){var opt=this.options,hasChildren,img="",src;hasChildren=data[binding.childDataProperty]&&data[binding.childDataProperty].length>0||data[binding.childDataProperty]&&opt.loadOnDemand;if(binding.hasOwnProperty("imageUrlKey")&&data.hasOwnProperty(binding.imageUrlKey)){if(typeof data[binding.imageUrlKey]==="function"){src=data[binding.imageUrlKey]();if(src&&src.length>0){img='<img src="'+src+'" alt="error" data-role="node-image" />'}}else if(data[binding.imageUrlKey].length>0){img='<img src="'+data[binding.imageUrlKey]+'" alt="error" data-role="node-image" />'}}if(opt.parentNodeImageUrl&&hasChildren){img+='<img src="'+opt.parentNodeImageUrl+'" alt="error" title="'+(opt.parentNodeImageTooltip!==null?opt.parentNodeImageTooltip:"")+'" data-role="parent-node-image" />'}else if(opt.parentNodeImageClass&&hasChildren){img+='<span title="'+(opt.parentNodeImageTooltip!==null?opt.parentNodeImageTooltip:"")+'" class="'+opt.parentNodeImageClass+'" data-role="parent-node-image"></span>'}else if(!hasChildren&&opt.leafNodeImageUrl){img+='<img src="'+opt.leafNodeImageUrl+'" alt="error" title="'+(opt.leafNodeImageTooltip!==null?opt.leafNodeImageTooltip:"")+'" data-role="leaf-node-image" />'}else if(!hasChildren&&opt.leafNodeImageClass){img+='<span title="'+(opt.leafNodeImageTooltip!==null?opt.leafNodeImageTooltip:"")+'" class="'+opt.leafNodeImageClass+'" data-role="leaf-node-image"></span>'}return img},_focusNode:function(event){$(event.target).addClass(this.css.nodeActive)},_blurNode:function(event){$(event.target).removeClass(this.css.nodeActive)},_kbNavigation:function(event){var opt=this.options,css=this.css,li=$(event.target.parentNode),nextLi,seq=li.index(),expander;if(event.keyCode===$.ui.keyCode.UP){nextLi=this._nextVisibleNodeUp(li);if(!nextLi){return}if(event.ctrlKey){li.children("a").blur();nextLi.children("a").focus()}else if(event.shiftKey&&opt.multipleSelection){opt=this.options}else{li.children("a").blur();nextLi.children("a").focus();this.select(nextLi,null)}event.preventDefault()}else if(event.keyCode===$.ui.keyCode.DOWN){nextLi=this._nextVisibleNodeDown(li,seq);if(!nextLi){return}if(event.ctrlKey){li.children("a").blur();nextLi.children("a").focus()}else if(event.shiftKey&&opt.multipleSelection){opt=this.options}else{li.children("a").blur();nextLi.children("a").focus();this.select(nextLi,null)}event.preventDefault()}else if(event.keyCode===$.ui.keyCode.RIGHT){if(li.children("ul").length>0){expander=li.children("."+css.nodeExpander);if(!expander.attr("data-exp")||expander.attr("data-exp")==="false"){this.toggle(li,null)}else{nextLi=li.find("ul > li:first");if(nextLi.length>0){if(event.ctrlKey){li.children("a").blur();nextLi.children("a").focus()}else if(event.shiftKey&&opt.multipleSelection){opt=this.options}else{li.children("a").blur();nextLi.children("a").focus();this.select(nextLi,null)}}}}}else if(event.keyCode===$.ui.keyCode.LEFT){expander=li.children("."+css.nodeExpander);if(expander.attr("data-exp")&&expander.attr("data-exp")!=="false"){this.toggle(li,null)}else if(li.parent().parent().is("li")){nextLi=li.parent().parent();if(event.ctrlKey){li.children("a").blur();nextLi.children("a").focus()}else if(event.shiftKey&&opt.multipleSelection){opt=this.options}else{li.children("a").blur();nextLi.children("a").focus();this.select(nextLi,null)}}}else if(event.keyCode===$.ui.keyCode.NUMPAD_ADD){if(li.children("ul").length>0){expander=li.children("."+css.nodeExpander);if(!expander.attr("data-exp")||expander.attr("data-exp")==="false"){this.toggle(li,null)}}}else if(event.keyCode===$.ui.keyCode.NUMPAD_SUBTRACT){if(li.children("ul").length>0){expander=li.children("."+css.nodeExpander);if(expander.attr("data-exp")&&expander.attr("data-exp")!=="false"){this.toggle(li,null)}}}else if(event.keyCode===$.ui.keyCode.SPACE){if(opt.checkboxMode&&opt.checkboxMode.toLowerCase()!=="off"){this.toggleCheckstate(li,null);event.preventDefault();event.stopPropagation()}}else if(event.keyCode===$.ui.keyCode.HOME){li.children("a").blur();li=this.element.find("li:first");if(li.length>0){li.children("a").focus();this.select(li)}event.preventDefault()}else if(event.keyCode===$.ui.keyCode.END){li.children("a").blur();li=this._lastVisibleNode();if(li){li.children("a").focus();this.select(li)}event.preventDefault()}},_nextVisibleNodeDown:function(node,nodeSeq){var expander=node.children("."+this.css.nodeExpander),parentLi,seq=nodeSeq,result=null;if(expander.length>0&&expander.attr("data-exp")&&expander.attr("data-exp")!=="false"&&node.children("ul").children("li:first").length>0){return node.children("ul").children("li:first")}if(seq===node.siblings().length){parentLi=node.parent().parent();while(parentLi.is("li")){seq=parentLi.index();if(seq!==parentLi.siblings().length){result=parentLi.next();break}parentLi=parentLi.parent().parent()}}else{result=node.next()}return result},_nextVisibleNodeUp:function(node){var li=node.prev(),expander,result=null;if(li.length<=0){if(node.parent().parent().is("li")){result=node.parent().parent()}}else{while(li.length>0){expander=li.children("."+this.css.nodeExpander);if(li.children("ul").children("li").length<=0||!expander.attr("data-exp")||expander.attr("data-exp")==="false"){result=li;break}li=li.children("ul").children("li:last")}}return result},_lastVisibleNode:function(){var li=this.element.is("ul")?this.element.children("li:last"):this.element.children("ul").children("li:last"),expander,result;if(li.length<=0){result=null}else{while(li.length>0){expander=li.children("."+this.css.nodeExpander);if(li.children("ul").children("li").length<=0||!expander.attr("data-exp")||expander.attr("data-exp")==="false"){result=li;break}li=li.children("ul").children("li:last")}}return result},_populatingNode:null,_populateNodeData:function(success,msg,data){if(!success){throw new Error($.ig.Tree.locale.errorOnRequest+msg)}var ul=this._populatingNode.ul,originalData=this.nodeDataFor(this._populatingNode.node.attr("data-path")),depth=ul.attr("data-depth"),binding=this._retrieveCurrentDepthBinding(depth-1),checked,newData=data.data();if(this.options.checkboxMode.toLowerCase()==="tristate"){checked=this.isChecked(this._populatingNode.node)}ul.children('li[data-role="loading"]').remove();if(!originalData[binding.childDataProperty]||!originalData[binding.childDataProperty].length){originalData[binding.childDataProperty]=newData}else{originalData[binding.childDataProperty]=originalData[binding.childDataProperty].concat(newData)}this._triggerNodePopulated(null,this._populatingNode.node);this._triggerRendering(newData);ul.append(this._initChildrenRecursively(this._populatingNode.node.attr("data-path"),newData,parseInt(ul.attr("data-depth"),10),checked));ul.attr("data-populated",true);if(this.options.dragAndDrop){this._initDragAndDrop(ul)}this._triggerRendered();this.toggle(this._populatingNode.node);this._populatingNode.indicator.hide();this._populatingNode.indicator.destroy();this._populatingNode=null;this._loadRequest()},_prepareRequest:function(node,event){var opt=this.options,pathKeyArr,path,key,data,binding,parentBinding,noCancel;if(this._populatingNode!==null){return}noCancel=this._triggerNodePopulating(event,node);if(noCancel){pathKeyArr=this._buildRequestString(node);binding=this._retrieveCurrentDepthBinding(parseInt(node.children("ul").attr("data-depth"),10));if(!pathKeyArr){return}path=pathKeyArr[0];key=pathKeyArr[1];data=this.nodeDataFor(node.attr("data-path"));parentBinding=this._retrieveCurrentDepthBinding(parseInt(node.children("ul").attr("data-depth"),10)-1);if(data.hasOwnProperty(parentBinding.childDataProperty)){data=data[parentBinding.childDataProperty]}if(data&&data.__deferred&&data.__deferred.uri){this._executeODataRequest(node,data)}else if(data&&data.length>0&&!opt.dataSourceUrl){this._renderOnDemand(node,data)}else{this._executeUrlRequest(node,binding,path,key)}}},_executeODataRequest:function(node,data){var dataSource,ul,indicator,opt=this.options,li;dataSource=new $.ig.JSONPDataSource({dataSource:data.__deferred.uri+"?$format=json&$callback=?",responseDataKey:opt.responseDataKey});ul=node.children("ul");li=$('<li style="width: 20px" data-role="loading">&nbsp;</li>').appendTo(ul);ul.show();indicator=li.igLoading({includeVerticalOffset:false}).data("igLoading").indicator();indicator.show();this._populatingNode={ul:ul,node:node,indicator:indicator};dataSource.dataBind(this._populateNodeData,this)},_renderOnDemand:function(node,data){var ul,checked;ul=node.children("ul");if(this.options.checkboxMode.toLowerCase()==="tristate"){checked=this.isChecked(node)}this._triggerNodePopulated(null,node);this._triggerRendering(data);ul.html(this._initChildrenRecursively(node.attr("data-path"),data,parseInt(ul.attr("data-depth"),10),checked));ul.attr("data-populated",true);if(this.options.dragAndDrop){this._initDragAndDrop(ul)}this._triggerRendered();this.toggle(node);this._loadRequest()},_executeUrlRequest:function(node,binding,path,key){var opt=this.options,ul,indicator,dataSource,li;if(opt.dataSourceUrl&&opt.dataSourceUrl.lastIndexOf("?")===-1){opt.dataSourceUrl+="?"}else if(!opt.dataSourceUrl){throw new Error($.ig.Tree.locale.noDataSourceUrl)}dataSource=new $.ig.DataSource({dataSource:opt.dataSourceUrl+"&"+this._encodeUrlPath(path,key)+"&"+this._encodeBinding(binding)+"&depth="+node.parent().attr("data-depth"),dataSourceType:"remoteUrl"});ul=node.children("ul");li=$('<li style="width: 20px" data-role="loading">&nbsp;</li>').appendTo(ul);ul.show();indicator=li.igLoading({includeVerticalOffset:false}).data("igLoading").indicator();indicator.show();this._populatingNode={ul:ul,node:node,indicator:indicator};dataSource.dataBind(this._populateNodeData,this)},_buildRequestString:function(node){var nodePath,key="",path="",binding=this.options.bindings,i,result;nodePath=node.attr("data-path").split(this.options.pathSeparator);for(i=0;i<nodePath.length;i++){if(key.length>0){key+="/"}key+=binding.childDataProperty;if(path.length>0){path+="/"}path+=(binding.primaryKey?binding.primaryKey+":":"")+nodePath[i];if(binding.bindings){binding=binding.bindings}}if(path.length<=0){result=null}else{result=[path,key]}return result},_encodeBinding:function(binding){var temp="binding=",item;for(item in binding){if(binding.hasOwnProperty(item)&&item!=="bindings"&&item!=="nodeContentTemplate"){temp+=item.toString()+":"+binding[item]+","}}temp=temp.substr(0,temp.length-1);return temp},_encodeUrlPath:function(path,key){var result;if(path.lastIndexOf("/")===-1){path+="/@"+key;result="path="+path}else{result="path="+path.substr(path.lastIndexOf("/")+1,path.length)+"/@"+key.substr(key.lastIndexOf("/")+1,key.length)}return result},_updateParentState:function(parent){var expander=parent.children("span[data-role=expander]"),self=this;if(expander.length<=0){parent.removeClass(this.css.nodeNoChildren).addClass(this.css.parentNode);$(this._renderExpanderImage(false)).prependTo(parent)}else if(parent.children("ul").children("li").length<=0){parent.removeClass(this.css.parentNode).addClass(this.css.nodeNoChildren);parent.children("ul").remove();expander.remove()}this._updateImage(parent)},_updateParentCheckbox:function(parent){var checkbox=parent.children("span[data-role=checkbox]"),checkIcon=checkbox.children("span"),checkState=checkbox.attr("data-chk"),shouldBe,checkCount=0,css=this.css;parent.children("ul").children("li").each(function(index,element){if($(element).children("span[data-role=checkbox]").attr("data-chk")==="on"){checkCount++}});if(checkCount===0){shouldBe="off"}else if(checkCount===parent.children("ul").children("li").length){shouldBe="on"}else{shouldBe="partial"}if(checkState!==shouldBe){checkbox.attr("data-chk",shouldBe);switch(shouldBe){case"off":checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff);break;case"partial":checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxOff).addClass(css.checkboxPartial);break;case"on":checkIcon.removeClass(css.checkboxPartial).removeClass(css.checkboxOff).addClass(css.checkboxOn);break;default:checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff)}parent=this.parentNode(parent);if(parent){this._updateParentCheckbox(parent)}}},_updateImage:function(parent){var hasChildren=parent.children("ul").children("li").length>0,opt=this.options,img;if(!hasChildren){if(opt.leafNodeImageUrl){img=parent.children("img[data-role=parent-node-image]");if(img.length>0){img.attr("title",opt.leafNodeImageTooltip!==null?opt.leafNodeImageTooltip:"");img.attr("src",opt.leafNodeImageUrl);img.attr("data-role","leaf-node-image")}}else if(opt.leafNodeImageClass){img=parent.children("span[data-role=parent-node-image]");if(img.length>0){img.attr("title",opt.leafNodeImageTooltip!==null?opt.leafNodeImageTooltip:"");img.removeClass(opt.parentNodeImageClass).addClass(opt.leafNodeImageClass);img.attr("data-role","leaf-node-image")}}}else{if(opt.parentNodeImageUrl){img=parent.children("img[data-role=leaf-node-image]");if(img.length>0){img.attr("title",opt.parentNodeImageTooltip!==null?opt.parentNodeImageTooltip:"");img.attr("src",opt.parentNodeImageUrl);img.attr("data-role","parent-node-image")}}else if(opt.parentNodeImageClass){img=parent.children("span[data-role=leaf-node-image]");if(img.length>0){img.attr("title",opt.parentNodeImageTooltip!==null?opt.parentNodeImageTooltip:"");img.removeClass(opt.leafNodeImageClass).addClass(opt.parentNodeImageClass);img.attr("data-role","parent-node-image")}}}},_addData:function(data,path,depth,dataIndex){var originalData=this.nodeDataFor(path),binding=this._retrieveCurrentDepthBinding(depth),temp,i;if(!binding.hasOwnProperty("primaryKey")){if(!originalData){if(this.options.dataSource._rootds._data.length<=this.element.find(".ui-igtree-noderoot").length||this.element.find(".ui-igtree-noderoot").length<=0){if(dataIndex===0){if($.type(data)==="array"){this.options.dataSource._rootds._data=data.concat(this.options.dataSource._rootds._data)}else{this.options.dataSource._rootds._data=[data].concat(this.options.dataSource._rootds._data)}}else if(!dataIndex){if($.type(data)==="array"){for(i=0;i<data.length;i++){this.options.dataSource._rootds._data.push(data[i])}}else{this.options.dataSource._rootds._data.push(data)}}else{this.options.dataSource._rootds._data.splice(dataIndex,0,data)}}}else{if(typeof originalData[binding.childDataProperty]!=="function"){if(!originalData.hasOwnProperty(binding.childDataProperty)||!originalData[binding.childDataProperty]||originalData[binding.childDataProperty].length===0){originalData[binding.childDataProperty]=[]}if(dataIndex===0){if($.type(data)==="array"){originalData[binding.childDataProperty]=data.concat(originalData[binding.childDataProperty])}else{originalData[binding.childDataProperty]=[data].concat(originalData[binding.childDataProperty])}}else if(!dataIndex){originalData[binding.childDataProperty]=originalData[binding.childDataProperty].concat(data)}else{temp=originalData[binding.childDataProperty].slice(0,dataIndex);temp=temp.concat(data);originalData[binding.childDataProperty]=temp.concat(originalData[binding.childDataProperty].slice(dataIndex))}}else{if(originalData[binding.childDataProperty]().length<=this.nodeByPath(path).children("ul").children("li").length){if(dataIndex===0){temp=$("<li></li>").appendTo(this.nodeByPath(path).children("ul"));originalData[binding.childDataProperty].unshift(data);temp.remove()}else if(!dataIndex){temp=$("<li></li>").appendTo(this.nodeByPath(path).children("ul"));originalData[binding.childDataProperty].push(data);temp.remove()}else{temp=$("<li></li>").appendTo(this.nodeByPath(path).children("ul"));originalData[binding.childDataProperty]().splice(dataIndex,0,data);temp.remove()}}}}}else{if(!originalData){if(this.options.dataSource._rootds._data.length<=this.element.find(".ui-igtree-noderoot").length||this.element.find(".ui-igtree-noderoot").length<=0){if($.type(data)==="array"){for(i=0;i<data.length;i++){this.options.dataSource._rootds._data.push(data[i])}}else{this.options.dataSource._rootds._data.push(data)}}}else{if(typeof originalData[binding.childDataProperty]!=="function"){if(!originalData.hasOwnProperty(binding.childDataProperty)||!originalData[binding.childDataProperty]||originalData[binding.childDataProperty].length===0){originalData[binding.childDataProperty]=[]}originalData[binding.childDataProperty]=originalData[binding.childDataProperty].concat(data)}else{if(originalData[binding.childDataProperty]().length<=this.nodeByPath(path).children("ul").children("li").length){temp=$("<li></li>").appendTo(this.nodeByPath(path).children("ul"));originalData[binding.childDataProperty].push(data);temp.remove()}}}}},_removeData:function(path){var splitPath=path.split(this.options.pathSeparator),data=this.options.dataSource._rootds.data(),i,j,binding=this.options.bindings,key;if(splitPath.length===1){if(!binding.hasOwnProperty("primaryKey")){data.splice(parseInt(splitPath[0],10),1)}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)){key=typeof data[j][binding.primaryKey]==="function"?data[j][binding.primaryKey]():data[j][binding.primaryKey];if(key.toString()===splitPath[0].toString()){data.splice(j,1);break}}}}return}for(i=0;i<splitPath.length-1;i++){if(!binding.hasOwnProperty("primaryKey")){data=data[parseInt(splitPath[i],10)]}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)){key=typeof data[j][binding.primaryKey]==="function"?data[j][binding.primaryKey]():data[j][binding.primaryKey];if(key.toString()===splitPath[i].toString()){data=data[j];break}}}}if(i<splitPath.length-2){if(data[binding.childDataProperty]&&typeof data[binding.childDataProperty]==="function"){data=data[binding.childDataProperty]()}else{data=data[binding.childDataProperty]}}if(binding.hasOwnProperty("bindings")&&i<splitPath.length-2){binding=binding.bindings}}if(data[binding.childDataProperty]&&typeof data[binding.childDataProperty]!=="function"){if(data[binding.childDataProperty]&&data[binding.childDataProperty].length<=1){delete data[binding.childDataProperty]}else{data=data[binding.childDataProperty];if(binding.hasOwnProperty("bindings")){binding=binding.bindings}if(!binding.hasOwnProperty("primaryKey")&&data.length){data.splice(parseInt(splitPath[splitPath.length-1],10),1)}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)&&data[j][binding.primaryKey].toString()===splitPath[i].toString()){data.splice(j,1);break}}}}}else{data=data[binding.childDataProperty]();if(binding.hasOwnProperty("bindings")){binding=binding.bindings}if(!binding.hasOwnProperty("primaryKey")&&data.length){data.splice(parseInt(splitPath[splitPath.length-1],10),1)}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)){key=typeof data[j][binding.primaryKey]==="function"?data[j][binding.primaryKey]():data[j][binding.primaryKey];if(key.toString()===splitPath[splitPath.length-1].toString()){data.splice(j,1);break}}}}}},_recalculatePaths:function(path){var splitPath=path.split(this.options.pathSeparator),index=path.length>0?splitPath[splitPath.length-1]:0,node,parentPath,newPath,ul,child;if(splitPath.length>1){splitPath.splice(splitPath.length-1,1);parentPath=splitPath.join(this.options.pathSeparator);node=this.nodeByPath(parentPath);for(index;index<node.children("ul").children("li").length;index++){newPath=parentPath+this.options.pathSeparator+index;child=$(node.children("ul").children("li")[index]);child.attr("data-path",newPath);if(child.children("ul").length>0&&child.children("ul").children("li").length>0){this._recalculatePaths(newPath+this.options.pathSeparator+"0")}}}else{ul=this.element.is("ul")?this.element:this.element.children("ul");for(index;index<ul.children("li").length;index++){child=$(ul.children("li")[index]);child.attr("data-path",index);if(child.children("ul").length>0&&child.children("ul").children("li").length>0){this._recalculatePaths(index+this.options.pathSeparator+"0")}}}},_loadQueue:null,_toSelect:false,_triggerChainRequest:function(path,toSelect){var list=path.split(this.options.pathSeparator),i,newPath="";if(this._loadQueue===null){this._loadQueue=[]}if(toSelect){this._toSelect=true}for(i=0;i<list.length;i++){newPath+=list[i];this._loadQueue.push(newPath);newPath+=this.options.pathSeparator}this._loadRequest()},_loadRequest:function(){var node;if(this._populatingNode===null){if(this._loadQueue&&this._loadQueue.length>0){node=this.nodeByPath(this._loadQueue.shift());if(this._loadQueue.length>0){this.expand(node)}else if(this._toSelect){this.select(node);this._toSelect=false}}}},_replaceUIValue:function(node,data,item){var element=node.element,binding=this._retrieveCurrentDepthBinding(parseInt(element.parent().attr("data-depth"),10)),value;switch(item){case binding.textKey:value=typeof data[item]==="function"?data[item]():data[item];element.children("a").text(value);break;case binding.valueKey:value=typeof data[item]==="function"?data[item]():data[item];element.attr("data-value",value);break;case binding.navigateUrlKey:value=typeof data[item]==="function"?data[item]():data[item];element.children("a").attr("href",value);break;case binding.imageUrlKey:value=typeof data[item]==="function"?data[item]():data[item];element.children("img[data-role=node-image]").attr("src",value);break}},dataBind:function(){var dataOpt;dataOpt=this._initDataOptions();this._initDataSource(dataOpt);this._triggerDataBinding();this.options.dataSource.dataBind(this._constructFromData,this)},toggleCheckstate:function(node,event){var self=this,opt=self.options,css=self.css,childCheckboxes,childCheckIcons,checkbox,checkIcon,parentLi,noCancel;if(!node){throw new Error($.ig.Tree.locale.incorrectNodeObject)}if(!opt.checkboxMode||opt.checkboxMode.toLowerCase()==="off"){return}checkbox=node.children("span[data-role=checkbox]");checkIcon=checkbox.children("span");noCancel=self._triggerNodeCheckstateChanging(event,node);if(noCancel){if(opt.checkboxMode.toLowerCase()==="tristate"){if(checkbox.attr("data-chk")==="on"||checkbox.attr("data-chk")==="partial"){childCheckboxes=node.find("span[data-role=checkbox]");childCheckIcons=childCheckboxes.children("span");checkbox.attr("data-chk","off");checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff);childCheckboxes.attr("data-chk","off");childCheckIcons.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff);parentLi=checkbox.parent().parent().parent();while(parentLi&&parentLi.is("li")){if(parentLi.find("ul > li > span[data-chk=on]").length<=0){checkbox=parentLi.children("span[data-role=checkbox]");checkIcon=checkbox.children("span");checkbox.attr("data-chk","off");checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff);parentLi=this.parentNode(parentLi)}else{checkbox=parentLi.children("span[data-role=checkbox]");checkIcon=checkbox.children("span");checkbox.attr("data-chk","partial");checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxOff).addClass(css.checkboxPartial);parentLi=this.parentNode(parentLi)}}}else{childCheckboxes=node.find("span[data-role=checkbox]");childCheckIcons=childCheckboxes.children("span");checkbox.attr("data-chk","on");checkIcon.removeClass(css.checkboxOff).removeClass(css.checkboxPartial).addClass(css.checkboxOn);childCheckboxes.attr("data-chk","on");childCheckIcons.removeClass(css.checkboxOff).removeClass(css.checkboxPartial).addClass(css.checkboxOn);parentLi=checkbox.parent().parent().parent();while(parentLi&&parentLi.is("li")){if(parentLi.find("ul > li > span[data-chk=on]").length===parentLi.find("ul > li").length){checkbox=parentLi.children("span[data-role=checkbox]");checkIcon=checkbox.children("span");checkbox.attr("data-chk","on");checkIcon.removeClass(css.checkboxOff).removeClass(css.checkboxPartial).addClass(css.checkboxOn);parentLi=this.parentNode(parentLi)}else{checkbox=parentLi.children("span[data-role=checkbox]");checkIcon=checkbox.children("span");checkbox.attr("data-chk","partial");checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxOff).addClass(css.checkboxPartial);parentLi=this.parentNode(parentLi)}}}}else{if(checkbox.attr("data-chk")==="on"||checkbox.attr("data-chk")==="partial"){checkbox.attr("data-chk","off");checkIcon.removeClass(css.checkboxOn).removeClass(css.checkboxPartial).addClass(css.checkboxOff)}else{checkbox.attr("data-chk","on");checkIcon.removeClass(css.checkboxOff).addClass(css.checkboxOn)}}self._triggerNodeCheckstateChanged(event,node)}},toggle:function(node,event){var self=this,opt=self.options,css=self.css,noCancel,sibling,siblingExpander,i=0,expander;if(!node){throw new Error($.ig.Tree.locale.incorrectNodeObject)}if(!event){expander=node.children("."+css.nodeExpander)}else{expander=$(event.target).closest("span[data-role=expander]")}if(node.children("ul").attr("data-populated")&&node.children("ul").attr("data-populated")==="false"){this._prepareRequest(node,event);return}if(expander.attr("data-exp")&&expander.attr("data-exp")!=="false"){noCancel=self._triggerNodeCollapsing(event,node);if(noCancel){$(node).children("ul").hide(opt.animationDuration,function(){self._triggerNodeCollapsed(event,node)});expander.removeClass(css.collapseIcon).addClass(css.expandIcon).attr("data-exp",false)}}else{noCancel=self._triggerNodeExpanding(event,node);if(noCancel){if(opt.singleBranchExpand){sibling=node.siblings();for(i;i<sibling.length;i++){siblingExpander=$(sibling[i]).children("."+css.nodeExpander);if(siblingExpander.length>0&&(siblingExpander.attr("data-exp")==="true"||siblingExpander.attr("data-exp")===true)){noCancel=self._triggerNodeCollapsing(event,$(sibling[i]));if(noCancel){$(sibling[i]).children("ul").hide(opt.animationDuration,$.proxy(this._triggerNodeCollapsed(event,$(sibling[i])),this));siblingExpander.removeClass(css.collapseIcon).addClass(css.expandIcon).attr("data-exp",false)}}}}node.children("ul").show(opt.animationDuration,function(){self._triggerNodeExpanded(event,node)});expander.removeClass(css.expandIcon).addClass(css.collapseIcon).attr("data-exp",true)}}},expandToNode:function(node,toSelect){var parentNode,cachedanimationDuration;if(node&&node.length>0){if(typeof node==="string"&&this.nodeByPath(node).length>0){node=this.nodeByPath(node)}if(typeof node==="string"&&this.options.loadOnDemand){this._triggerChainRequest(node,toSelect);return}if(toSelect){this.select(node)}parentNode=this.parentNode(node);cachedanimationDuration=this.options.animationDuration;this.options.animationDuration=0;while(parentNode){this.expand(parentNode);parentNode=this.parentNode(parentNode)}this.options.animationDuration=cachedanimationDuration}},expand:function(node){var self=this,opt=self.options,css=self.css,sibling,siblingExpander,i=0,expander;if(!node||node.length<=0){throw new Error($.ig.Tree.locale.incorrectNodeObject)}if(node.children("ul").attr("data-populated")&&node.children("ul").attr("data-populated")==="false"){this._prepareRequest(node);return}expander=node.children("."+css.nodeExpander);if(!expander.attr("data-exp")||expander.attr("data-exp")==="false"){if(opt.singleBranchExpand){sibling=node.siblings();for(i;i<sibling.length;i++){siblingExpander=$(sibling[i]).children("."+css.nodeExpander);if(siblingExpander.length>0&&(siblingExpander.attr("data-exp")==="true"||siblingExpander.attr("data-exp")===true)){$(sibling[i]).children("ul").hide(opt.animationDuration);siblingExpander.removeClass(css.collapseIcon).addClass(css.expandIcon).attr("data-exp",false)}}}node.children("ul").show(opt.animationDuration);expander.removeClass(css.expandIcon).addClass(css.collapseIcon).attr("data-exp",true)}},collapse:function(node){var self=this,opt=self.options,css=self.css,expander;if(!node||node.length<=0){throw new Error($.ig.Tree.locale.incorrectNodeObject)}expander=node.children("."+css.nodeExpander);if(expander.attr("data-exp")&&expander.attr("data-exp")!=="false"){$(node).children("ul").hide(opt.animationDuration);expander.removeClass(css.collapseIcon).addClass(css.expandIcon).attr("data-exp",false)}},parentNode:function(node){if(!node){throw new Error($.ig.Tree.locale.incorrectNodeObject)}var parent=node.parent().closest("li[data-role=node]");return parent.length>0?parent:null},nodeByPath:function(nodePath){return this.element.find('li[data-path="'+nodePath+'"]')},nodesByValue:function(value){return this.element.find('li[data-value="'+value+'"]')},checkedNodes:function(){var elements=this.element.find("span[data-chk=on]").parent(),i=0,collection=[];if(elements.length>0){for(i;i<elements.length;i++){collection.push(this.nodeFromElement($(elements[i])))}return collection}},uncheckedNodes:function(){var elements=this.element.find("span[data-chk=off]").parent(),i=0,collection=[];if(elements.length>0){for(i;i<elements.length;i++){collection.push(this.nodeFromElement($(elements[i])))}return collection}},partiallyCheckedNodes:function(){var elements=this.element.find("span[data-chk=partial]").parent(),i=0,collection=[];if(elements.length>0){for(i;i<elements.length;i++){collection.push(this.nodeFromElement($(elements[i])))}return collection}},select:function(node,event){if(!node||node.length<=0){throw new Error($.ig.Tree.locale.incorrectNodeObject)}var css=this.css,nodeId=node.attr("data-path"),noCancel,prevent=false;if(event&&(node.children("a").attr("href")==="#"||node.children("a").attr("href")===document.URLUnencoded+"#")){prevent=true}if(!this._selectedNode){this._selectedNode=[{path:null,element:null,data:null,binding:null}]}if(this._selectedNode[0].path!==null){if(this._selectedNode[0].path!==nodeId){noCancel=this._triggerSelectionChanging(event,node);if(noCancel){this._selectedNode[0].element.children("a").removeClass(css.nodeSelected);node.children("a").addClass(css.nodeSelected);this._selectedNode[0]=this.nodeFromElement(node);this._triggerSelectionChanged(event)}else if(event){prevent=true}}}else{noCancel=this._triggerSelectionChanging(event,node);if(noCancel){node.children("a").addClass(css.nodeSelected);this._selectedNode[0]=this.nodeFromElement(node);this._triggerSelectionChanged(event)}else if(event){prevent=true}}if(prevent){event.preventDefault()}},deselect:function(node){if(!node){throw new Error($.ig.Tree.locale.incorrectNodeObject)}var opt=this.options,css=this.css,nodeId=node.attr("data-path");if(!this._selectedNode){this._selectedNode=[{path:null,element:null,data:null,binding:null}]}if(opt.multipleSelection){opt=this.options}else{if(this._selectedNode[0].path!==null){if(this._selectedNode[0].path===nodeId){node.children("a").removeClass(css.nodeSelected);this._selectedNode[0].path=null;this._selectedNode[0].element=null;this._selectedNode[0].data=null;this._selectedNode[0].binding=null}}}},clearSelection:function(){var css=this.css,i=0;if(this._selectedNode&&this._selectedNode[0].path!==null){for(i;i<this._selectedNode.length;i++){this._selectedNode[i].element.children("a").removeClass(css.nodeSelected)}this._selectedNode=[{path:null,element:null,data:null,binding:null}]}},selectedNode:function(){if(!this._selectedNode){this._selectedNode=[{path:null,element:null,data:null,binding:null}]}return this._selectedNode[0]},findNodesByText:function(text,parent){var collection=[],nodes,self=this;nodes=parent?parent.find('li > a:contains("'+text+'")'):this.element.find('li > a:contains("'+text+'")');nodes.each(function(index,element){collection.push(self.nodeFromElement($(this).closest("li[data-role=node]")))
});return collection},findImmediateNodesByText:function(text,parent){var collection=[],nodes,self=this;nodes=parent?parent.children("ul").children("li").children('a:contains("'+text+'")'):this.element.is("ul")?this.element.children("li").children('a:contains("'+text+'")'):this.element.children("ul").children("li").children('a:contains("'+text+'")');nodes.each(function(index,element){collection.push(self.nodeFromElement($(this).closest("li[data-role=node]")))});return collection},nodeByIndex:function(index,parent){var node;if(!parent){if(this.element.is("ul")){node=this.element.children().eq(index)}else{node=this.element.children("ul").children().eq(index)}}else{node=parent.children("ul").children().eq(index)}return node},nodeFromElement:function(element){if(element.length>0){var nodeElement={path:element.attr("data-path"),element:element,data:this.nodeDataFor(element.attr("data-path")),binding:this._retrieveCurrentDepthBinding(element.parent().attr("data-depth"))};return nodeElement}},children:function(parent){var children=[],self=this,child,ul;if(parent&&parent.length>0){ul=parent.children("ul");if(ul.length>0){ul.children("li").each(function(index){child=$(this);children.push(self.nodeFromElement(child))})}return children}throw new Error($.ig.Tree.locale.incorrectNodeObject)},childrenByPath:function(path){var node=this.nodeByPath(path),children=[],self=this,child,ul;if(node.length>0){ul=node.children("ul");if(ul.length>0){ul.children("li").each(function(index){child=$(this);children.push(self.nodeFromElement(child))})}return children}throw new Error($.ig.Tree.locale.incorrectPath+path)},isSelected:function(node){if(!this._selectedNode){this._selectedNode=[{path:null,element:null,data:null,binding:null}]}if(node&&node.length>0){return this._selectedNode[0].path===node.attr("data-path")}throw new Error($.ig.Tree.locale.incorrectNodeObject)},isExpanded:function(node){if(node&&node.length>0){var expander=node.children("span[data-role=expander]");if(expander.length>0){return expander.attr("data-exp")==="true"}}else{throw new Error($.ig.Tree.locale.incorrectNodeObject)}},isChecked:function(node){if(node&&node.length>0){var checkbox=node.children("span[data-role=checkbox]");if(checkbox.length>0){return checkbox.attr("data-chk")==="on"}}else{throw new Error($.ig.Tree.locale.incorrectNodeObject)}},checkState:function(node){if(node&&node.length>0){var checkbox=node.children("span[data-role=checkbox]");if(checkbox.length>0){return checkbox.attr("data-chk")}}else{throw new Error($.ig.Tree.locale.incorrectNodeObject)}},addNode:function(node,parent,nodeIndex){if(!node||node.length<=0){return}if(!nodeIndex&&typeof parent==="number"){nodeIndex=parent;parent=null}var ul,path,checked,isLi,li,isEmpty,r,binding;if(!parent){parent=this.element.is("ul")?this.element:this.element.children("ul");if(parent.children().length<=0){this._addData(node,"",0);this._triggerRendering(node);r=$(this._initChildrenRecursively("",node)).appendTo(parent);if(this.options.dragAndDrop){this._initDragAndDrop(r)}this._triggerRendered();this.options.dataSource.root().addNode({data:node,parentPath:"",path:r.attr("data-path")});return}}isLi=parent.is("li");ul=isLi?parent.children("ul"):parent;if(ul.length<=0){ul=$('<ul data-depth="'+(parseInt(parent.parent().attr("data-depth"),10)+1)+'" style="display: none"></ul>').appendTo(parent)}path=isLi?parent.attr("data-path"):"";binding=this._retrieveCurrentDepthBinding(parseInt(ul.attr("data-depth"),10));if(this.options.checkboxMode.toLowerCase()==="tristate"){checked=isLi?this.isChecked(parent):false}this._addData(node,path,parseInt(ul.attr("data-depth"),10)-1,nodeIndex);this._triggerRendering(node);isEmpty=ul.children("li").length<=0;if(nodeIndex===0){li=$(this._initChildrenRecursively(path,node,parseInt(ul.attr("data-depth"),10),checked,ul.children("li").length)).prependTo(ul);if(!binding.hasOwnProperty("primaryKey")){this._recalculatePaths(path)}}else if(!nodeIndex){li=$(this._initChildrenRecursively(path,node,parseInt(ul.attr("data-depth"),10),checked,ul.children("li").length)).appendTo(ul)}else{li=$(this._initChildrenRecursively(path,node,parseInt(ul.attr("data-depth"),10),checked,ul.children("li").length)).insertBefore(ul.children("li:eq("+nodeIndex+")"));if(!binding.hasOwnProperty("primaryKey")){this._recalculatePaths(path)}}if(isLi&&isEmpty){this._updateParentState(parent)}if(this.options.dragAndDrop){this._initDragAndDrop(li)}this._triggerRendered();r=[];li.each(function(index,value){r.push($(value).attr("data-path"))});this.options.dataSource.root().addNode({data:node,parentPath:path,path:r});this._trigger("nodeAdded",null,{owner:this,element:li,data:node,index:nodeIndex,binding:binding})},removeAt:function(path){var node=this.nodeByPath(path),depth=parseInt(node.parent().attr("data-depth"),10),binding,parent=this.parentNode(node),data;if(node.length<=0){return}if(path.indexOf("_remove")!==-1){path=path.replace("_remove","")}binding=this._retrieveCurrentDepthBinding(depth);data={data:$.extend(false,{},this.nodeDataFor(path)),path:path};this._removeData(path,binding);node.remove();if(!binding.hasOwnProperty("primaryKey")){this._recalculatePaths(path)}if(parent&&parent.children("ul").children("li").length<=0){this._updateParentState(parent)}if(this.options.checkboxMode.toLowerCase()==="tristate"&&parent){this._updateParentCheckbox(parent)}this.options.dataSource.root().removeNode(data);this._trigger("nodeDeleted",null,{owner:this,data:data.data,path:path})},removeNodesByValue:function(value){var nodes=this.nodesByValue(value),self=this;nodes.each(function(index,value){self.removeAt($(value).attr("data-path"))})},applyChangesToNode:function(element,data){var node=this.nodeFromElement(element),item;for(item in node.data){if(node.data.hasOwnProperty(item)){this._replaceUIValue(node,data,item)}}},transactionLog:function(){return this.options.dataSource.root()._transactionLog},_triggerSelectionChanging:function(event,node){var args={owner:this,selectedNodes:this._selectedNode,newNodes:[this._constructNodeObject(node)]};return this._trigger(this.events.selectionChanging,event,args)},_triggerSelectionChanged:function(event){var args={owner:this,selectedNodes:this._selectedNode,newNodes:this._selectedNode};this._trigger(this.events.selectionChanged,event,args)},_triggerNodeCollapsing:function(event,node){var args={owner:this,node:this._constructNodeObject(node)};return this._trigger(this.events.nodeCollapsing,event,args)},_triggerNodeCollapsed:function(event,node){var args={owner:this,node:this._constructNodeObject(node)};this._trigger(this.events.nodeCollapsed,event,args)},_triggerNodeExpanding:function(event,node){var args={owner:this,node:this._constructNodeObject(node)};return this._trigger(this.events.nodeExpanding,event,args)},_triggerNodeExpanded:function(event,node){var args={owner:this,node:this._constructNodeObject(node)};this._trigger(this.events.nodeExpanded,event,args)},_triggerNodePopulating:function(event,node){var args=this._constructNodeObject(node);return this._trigger(this.events.nodePopulating,event,args)},_triggerNodePopulated:function(event,node){var args=this._constructNodeObject(node);this._trigger(this.events.nodePopulated,event,args)},_triggerNodeCheckstateChanging:function(event,node){var state=node.children("span[data-role=checkbox]").attr("data-chk"),args={owner:this,node:this._constructNodeObject(node),currentState:state,newState:state==="off"?"on":"off",currentCheckedNodes:this.checkedNodes()};return this._trigger(this.events.nodeCheckstateChanging,event,args)},_triggerNodeCheckstateChanged:function(event,node){var state=node.children("span[data-role=checkbox]").attr("data-chk"),args={owner:this,node:this._constructNodeObject(node),newState:state,newCheckedNodes:this.checkedNodes(),newPartiallyCheckedNodes:this.partiallyCheckedNodes()};return this._trigger(this.events.nodeCheckstateChanged,event,args)},_triggerNodeClick:function(event,node){var args={owner:this,node:this._constructNodeObject(node)};return this._trigger(this.events.nodeClick,event,args)},_triggerNodeDoubleClick:function(event,node){var args=this._constructNodeObject(node);return this._trigger(this.events.nodeDoubleClick,event,args)},_triggerDataBinding:function(){var args={owner:this};this._trigger(this.events.dataBinding,null,args)},_triggerDataBound:function(dataView){var args={owner:this,dataView:dataView};this._trigger(this.events.dataBound,null,args)},_triggerRendering:function(dataView){var args={owner:this,dataView:dataView};this._trigger(this.events.rendering,null,args)},_triggerRendered:function(){var args={owner:this};this._trigger(this.events.rendered,null,args)},_triggerDragStart:function(event,ui,node){var obj=this._constructNodeObject(node),args=$.extend(false,obj,ui);return this._trigger(this.events.dragStart,event,args)},_triggerDrag:function(event,ui,node){var obj=this._constructNodeObject(node),args=$.extend(false,obj,ui);return this._trigger(this.events.drag,event,args)},_triggerDragStop:function(event,ui){this._trigger(this.events.dragStop,event,ui)},_triggerNodeDropping:function(event,ui,node,targetIndex){var obj=this._constructNodeObject(node),args,indexDecrement;obj.targetIndex=targetIndex;obj.originalIndex=ui.draggable.index();indexDecrement=this._sourceNode.element.parent().attr("data-depth")===node.parent().attr("data-depth")&&obj.targetIndex>obj.originalIndex?-1:0;obj.targetIndex+=indexDecrement;args=$.extend(false,obj,ui);return this._trigger(this.events.nodeDropping,event,args)},_triggerNodeDropped:function(event,ui,node){var obj=this._constructNodeObject(node),args=$.extend(false,obj,ui);this._trigger(this.events.nodeDropped,event,args)},_constructNodeObject:function(node){var nodeData=this.nodeDataFor(node!==null?node.attr("data-path"):null),nodeObject={path:node!==null?node.attr("data-path"):null,element:node!==null?node:null,data:nodeData,binding:node!==null?this._retrieveCurrentDepthBinding(parseInt(node.parent().attr("data-depth"),10)):null};return nodeObject},nodeDataFor:function(path){if(!path){return}var splitPath=path.split(this.options.pathSeparator),data=this.options.dataSource._rootds.data(),i,j,binding=this.options.bindings,temp;for(i=0;i<splitPath.length-1;i++){if(!binding.hasOwnProperty("primaryKey")){if(typeof data[parseInt(splitPath[i],10)][binding.childDataProperty]==="function"){data=data[parseInt(splitPath[i],10)][binding.childDataProperty]()}else{data=data[parseInt(splitPath[i],10)][binding.childDataProperty]}}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)){temp=typeof data[j][binding.primaryKey]==="function"?data[j][binding.primaryKey]():data[j][binding.primaryKey];if(temp.toString()===splitPath[i].toString()){data=typeof data[j][binding.childDataProperty]==="function"?data[j][binding.childDataProperty]():data[j][binding.childDataProperty];break}}}}if(binding.hasOwnProperty("bindings")){binding=binding.bindings}}if(!binding.hasOwnProperty("primaryKey")&&data.length){data=data[parseInt(splitPath[splitPath.length-1],10)]}else{for(j=0;j<data.length;j++){if(data[j].hasOwnProperty(binding.primaryKey)){temp=typeof data[j][binding.primaryKey]==="function"?data[j][binding.primaryKey]():data[j][binding.primaryKey];if(temp.toString()===splitPath[i].toString()){data=data[j];break}}}}if(typeof data==="function"){data=data()}return data},destroy:function(){$.Widget.prototype.destroy.apply(this,arguments);this.element.undelegate();this.element.removeClass(this.css.tree);this.element.removeClass(this.css.treeCollection);this.element.removeClass(this.css.treeRoot);if(this.options.width){this.element.css("width","")}if(this.options.height){this.element.css("height","")}if(this.options.dragAndDrop){this._destroyDragAndDrop()}this.element.removeAttr("data-depth");this.element.removeAttr("data-scroll");this.element.empty();return this}});$.extend($.ui.igTree,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Shared localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.PivotShared){$.ig.PivotShared={};$.extend($.ig.PivotShared,{locale:{invalidDataSource:"The passed data source either null or not supported.",measureList:"Measures",ok:"OK",cancel:"Cancel",addToMeasures:"Add to Measures",addToFilters:"Add to Filters",addToColumns:"Add to Columns",addToRows:"Add to Rows"}})}})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Shared 14.1.20141.2031
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on: 
*   jquery-1.4.4.js
*   jquery.ui.core.js
*   jquery.ui.widget.js
*   jquery.ui.draggable.js
*   jquery.ui.droppable.js
*   infragistics.util.js
*   infragistics.datasource.js
*   infragistics.olapxmladatasource.js
*   infragistics.olapflatdatasource.js
*   infragistics.templating.js
*   infragistics.ui.shared.js
*   infragistics.ui.scroll.js
*   infragistics.ui.tree.js
*/
(function($){var _aNull=function(val){return val===null||val===undefined},_draggable=$.ui.draggable.prototype.widgetFullName||$.ui.draggable.prototype.widgetName,_tree=$.ui.igTree.prototype.widgetFullName||$.ui.igTree.prototype.widgetName;$.ig=$.ig||{};$.ig.Pivot=$.ig.Pivot||{};$.ig.Pivot._pivotShared=$.ig.Pivot._pivotShared||{_isInstance:function(object,typeName){return typeName!==undefined&&!_aNull(object)&&object.$type&&object.$type.name===typeName},_const:{index:0,dragCursorAt:{top:-10,left:10},dragHelperMarkup:"<div class='ui-widget ui-corner-all ui-igpivot-draghelper'><p><span></span><strong>{0}</strong></p></div>",touchEvents:{mousedown:"touchstart",mouseover:"mouseover",mouseout:"mouseover"},ie:!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},_insertIndex:0,_showLastLevelExpanders:true,_createDataSource:function(dataSource,dataSourceOptions){var ds=null,dsOptions;if(!_aNull(dataSource)&&(this._isInstance(dataSource,"OlapXmlaDataSource")||this._isInstance(dataSource,"OlapFlatDataSource"))){ds=dataSource}else if(!_aNull(dataSourceOptions)){dsOptions=$.extend({},dataSourceOptions);delete dsOptions.xmlaOptions;delete dsOptions.flatDataOptions;if(!_aNull(dataSourceOptions.xmlaOptions)&&!_aNull(dataSourceOptions.xmlaOptions.serverUrl)){dsOptions=$.extend(dsOptions,dataSourceOptions.xmlaOptions);ds=new $.ig.OlapXmlaDataSource(dsOptions)}else if(!_aNull(dataSourceOptions.flatDataOptions)&&(!_aNull(dataSourceOptions.flatDataOptions.dataSource)||!_aNull(dataSourceOptions.flatDataOptions.dataSourceUrl))){dsOptions=$.extend(dsOptions,dataSourceOptions.flatDataOptions);ds=new $.ig.OlapFlatDataSource(dsOptions)}}return ds},_isTouch:function(){var isTouch=typeof window.Modernizr==="object"&&window.Modernizr.touch===true;if(!isTouch||navigator.appVersion.indexOf("Windows")!==-1){if(navigator.appVersion.indexOf("Windows")!==-1&&navigator.appVersion.indexOf("Tablet")!==-1){return true}}return false},_addingKpiMetadataItems:function(dataSource,name){var kpi,kpiMeasure,kpiValue,kpiGoal,kpiStatus,kpiTrend,kpiWeight,item;kpi=dataSource.getCoreElement(function(el){return el.uniqueName()===name},$.ig.Kpi.prototype.getType());item=[];kpiValue=kpi.kpiValue();kpiGoal=kpi.kpiGoal();kpiStatus=kpi.kpiStatus();kpiTrend=kpi.kpiTrend();kpiWeight=kpi.kpiWeight();if(null!==kpiValue&&""!==kpiValue){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiValue},$.ig.Measure.prototype.getType());if(null===kpiMeasure){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiValue},$.ig.KpiMeasure.prototype.getType())}item.push(kpiMeasure)}if(null!==kpiGoal&&""!==kpiGoal){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiGoal},$.ig.Measure.prototype.getType());if(null===kpiMeasure){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiGoal},$.ig.KpiMeasure.prototype.getType())}item.push(kpiMeasure)}if(null!==kpiStatus&&""!==kpiStatus){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiStatus},$.ig.KpiMeasure.prototype.getType());item.push(kpiMeasure)}if(null!==kpiTrend&&""!==kpiTrend){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiTrend},$.ig.KpiMeasure.prototype.getType());item.push(kpiMeasure)}if(null!==kpiWeight&&""!==kpiWeight){kpiMeasure=dataSource.getCoreElement(function(el){return el.uniqueName()===kpiWeight},$.ig.KpiMeasure.prototype.getType());item.push(kpiMeasure)}return item},_getEvent:function(event){if(this._isTouch()){return this._const.touchEvents[event]}return event},_makeDroppable:function(droppable){var $this=this;if(!this._isTouch()){droppable.droppable({tolerance:"pointer",accept:function(draggable){return draggable.hasClass("ui-igpivot-dragover")===false&&draggable.closest("li.ui-igtree-node").length===0&&(draggable.hasClass("ui-igpivot-metadataitem")||draggable.find(".ui-igpivot-metadataitem:first").length>0)},over:function(event,ui){var isValid=true,markup=$(ui.helper.html()),element=ui.draggable,typeName,name;if(!element.hasClass("ui-igpivot-metadataitem")){element=element.find(".ui-igpivot-metadataitem:first")}if(element.length>0){typeName=element.attr("data-type");name=element.attr("data-name")}else{return false}if($.isFunction($this.options.customMoveValidation)){isValid=$this.options.customMoveValidation.call($this.element,$this.widgetName,typeName,name)}if(ui.helper.hasClass("ui-igpivot-draghelper")){if(isValid){markup.find("span").removeClass("ui-icon-plus ui-icon-cancel").addClass("ui-icon-close").siblings("strong");ui.helper.removeClass($this.css.dropIndicator).addClass($this.css.invalidDropIndicator).html(markup)}else{markup.find("span").removeClass("ui-icon-plus ui-icon-close").addClass("ui-icon-cancel").siblings("strong");ui.helper.removeClass($this.css.dropIndicator).addClass($this.css.invalidDropIndicator).html(markup)}}},out:function(event,ui){var markup=$(ui.helper.html());if(ui.helper.hasClass("ui-igpivot-draghelper")){markup.find("span").removeClass("ui-icon-close ui-icon-plus").addClass("ui-icon-cancel").siblings("strong");ui.helper.removeClass($this.css.dropIndicator).addClass($this.css.invalidDropIndicator).html(markup)}},drop:function(event,ui){var element=ui.draggable,isValid=true,typeName,type,name,item,noCancel,location,dataRole;ui.draggable.unbind("."+$this.widgetName);if(!element.hasClass("ui-igpivot-metadataitem")){element=element.find(".ui-igpivot-metadataitem:first")}if(element.length>0){typeName=element.attr("data-type");name=element.attr("data-name")}else{return false}if($.isFunction($this.options.customMoveValidation)){dataRole=$(this).attr("data-role");location=dataRole===undefined?$this.widgetName:dataRole;isValid=$this.options.customMoveValidation.call($this.element,location,typeName,name)}if(!isValid){return false}switch(typeName){case $.ig.Dimension.prototype.getType().typeName():type=$.ig.Dimension.prototype.getType();break;case $.ig.Hierarchy.prototype.getType().typeName():type=$.ig.Hierarchy.prototype.getType();break;case $.ig.Measure.prototype.getType().typeName():type=$.ig.Measure.prototype.getType();break;case $.ig.MeasureList.prototype.getType().typeName():type=$.ig.MeasureList.prototype.getType();break;case $.ig.Kpi.prototype.getType().typeName():type=$.ig.Kpi.prototype.getType();break;case $.ig.KpiMeasure.prototype.getType().typeName():type=$.ig.KpiMeasure.prototype.getType();break;default:return false}item=$this._ds.getCoreElement(function(el){return el.uniqueName()===name},type);if(item){noCancel=$this._triggerMetadataRemoving(event,element,item);if(noCancel){$this._ds.removeFilterItem(item);$this._ds.removeRowItem(item);$this._ds.removeColumnItem(item);$this._ds.removeMeasureItem(item);$this._triggerMetadataRemoved(event,item);$this._updateDataSource();return true}}return false}})}},_createDropAreaOptions:function(){var $this=this,dropAreaOptions={greedy:true,tolerance:"pointer",activeClass:this.css.activeDropArea,accept:function(draggable){return $this._accept($(this),draggable)},over:function(event,ui){$this._onDraggableOver(event,ui)},out:function(event,ui){$this._onDraggableOut(event,ui)},drop:function(event,ui){var element=ui.draggable,type,name;if(!element.hasClass("ui-igpivot-metadataitem")){element=element.find(".ui-igpivot-metadataitem:first")}if(element.length>0){type=element.attr("data-type");name=element.attr("data-name");if(!name){name="null"}return $this._onDrop(event,ui,$(this),element,type,name)}return false}};return dropAreaOptions},_onDataSourceCollectionChanged:function(collection,collectionChangedArgs,dropArea,isDisabled){var action,items,i,length,name,filter,startingIndex,previousItem,destroyDraggable;action=collectionChangedArgs.action();switch(action){case $.ig.NotifyCollectionChangedAction.prototype.add:items=collectionChangedArgs.newItems().__inner;startingIndex=collectionChangedArgs.newStartingIndex();if(startingIndex===0){this._createMetadataElement(items[0],isDisabled,"prependTo",dropArea)}else{previousItem=dropArea.find(".ui-igpivot-metadataitem")[startingIndex-1];this._createMetadataElement(items[0],isDisabled,"insertAfter",previousItem)}break;case $.ig.NotifyCollectionChangedAction.prototype.remove:items=collectionChangedArgs.oldItems().__inner;filter=function(ind,itemElement){return $(itemElement).attr("data-name")===name};destroyDraggable=function(ind,el){var draggable=$(el).data(_draggable);if(draggable){draggable.destroy()}};for(i=0,length=items.length;i<length;i++){if(this._isInstance(items[i],"MeasureList")){dropArea.find(".ui-igpivot-metadataitem[data-type="+$.ig.MeasureList.prototype.getType().typeName()+"]").each(destroyDraggable).remove()}else{name=items[i].uniqueName();dropArea.find(".ui-igpivot-metadataitem").filter(filter).each(destroyDraggable).remove()}}break;case $.ig.NotifyCollectionChangedAction.prototype.reset:destroyDraggable=function(ind,el){var draggable=$(el).data(_draggable);if(draggable){draggable.destroy()}};dropArea.find(".ui-igpivot-metadataitem").each(destroyDraggable).remove();break}},_createMetadataElement:function(item,isDisabled,appendFunc,target){var $this=this,dragAndDropSettings=this.options.dragAndDropSettings,metadataElement,metadataElementMarkup;metadataElementMarkup="<li ";if(this._isInstance(item,"MeasureList")&&item.caption()===null){item.caption($.ig.PivotShared.locale.measureList)}else{metadataElementMarkup+="data-name='"+item.uniqueName()+"' "}metadataElementMarkup+="title='"+item.caption()+"' data-type='"+item.getType().typeName()+"'>";if(this._isInstance(item,"Hierarchy")&&!isDisabled){metadataElementMarkup+="<span style='display:block; float:left;' class='ui-icon "+this.css.filterIcon+"'></span>"}if(this.widget()[0].className.indexOf("ui-igpivotdataselector ui-droppable")!==-1&&target!==undefined){metadataElementMarkup+="<div style='float:left; display:block; width: calc(100%";if("Hierarchy"===item.getType().typeName()){metadataElementMarkup+=" - 28px"}else{metadataElementMarkup+=" - 16px"}metadataElementMarkup+=");overflow-x:hidden !important; text-overflow:ellipsis !important;'>";metadataElementMarkup+="<span data-role='caption'>";metadataElementMarkup+=item.caption();metadataElementMarkup+="</span>";metadataElementMarkup+="</div>"}else{metadataElementMarkup+="<span data-role='caption'>"+item.caption()+"</span>"}if(!isDisabled){metadataElementMarkup+="<span class='ui-icon ui-icon-close'></span>"}metadataElementMarkup+="</li>";metadataElement=$(metadataElementMarkup).addClass(this.css.metadataItem);metadataElement[appendFunc](target);if(!isDisabled){metadataElement.find("span.ui-icon-pivot-smallfilter").click(function(event){$this._createFilterDropDown(event,this,item);return false});metadataElement.find("span.ui-icon-close").click(function(event){var noCancel=$this._triggerMetadataRemoving(event,metadataElement,item);if(noCancel){$this._ds.removeFilterItem(item);$this._ds.removeRowItem(item);$this._ds.removeColumnItem(item);$this._ds.removeMeasureItem(item);$this._triggerMetadataRemoved(event,item);$this._updateDataSource();return false}return false});if(!this._isTouch()){metadataElement.draggable({appendTo:dragAndDropSettings.appendTo,containment:dragAndDropSettings.containment,opacity:dragAndDropSettings.dragOpacity,zIndex:dragAndDropSettings.zIndex,cursorAt:this._const.dragCursorAt,revert:false,cancel:".ui-icon",helper:function(event){var target=$(event.target).closest(".ui-igpivot-metadataitem").find("span[data-role='caption']"),markup=$($this._const.dragHelperMarkup.replace("{0}",target.text()));markup.addClass($this.css.invalidDropIndicator).find("span").addClass("ui-icon");return markup},start:function(event,ui){return $this._triggerDragStart(event,ui,item)},drag:function(event,ui){return $this._triggerDrag(event,ui,item)},over:function(event,ui){$this._onDraggableOver(event,ui)},out:function(event,ui){$this._onDraggableOut(event,ui)},stop:function(event,ui){$this._triggerDragStop(event,ui)}})}metadataElement.click(function(event){$this._createMetadataItemDropDown(event,this,item)})}return metadataElement},_accept:function(targetElement,draggable){var target,typeName,isValid=false,isMeasureDimension,dimension,dataSource=this._ds;if(!draggable.hasClass("ui-igpivot-metadataitem")){draggable=draggable.find(".ui-igpivot-metadataitem:first")}typeName=draggable.attr("data-type");target=targetElement.attr("data-role");dimension=dataSource.getCoreElement(function(el){return el.dimensionType()===$.ig.DimensionType.prototype.measure},$.ig.Dimension.prototype.getType());isMeasureDimension=draggable.text()===dimension.name()||draggable.text()===dimension.caption();if(typeName){switch(target){case"rows":case"columns":isValid=typeName===$.ig.Hierarchy.prototype.getType().typeName()||typeName===$.ig.Dimension.prototype.getType().typeName()&&!isMeasureDimension||typeName===$.ig.MeasureList.prototype.getType().typeName();break;case"filters":isValid=typeName===$.ig.Hierarchy.prototype.getType().typeName()||typeName===$.ig.Dimension.prototype.getType().typeName()&&!isMeasureDimension;break;case"measures":isValid=(typeName===$.ig.Measure.prototype.getType().typeName()||typeName===$.ig.Kpi.prototype.getType().typeName()||typeName===$.ig.KpiMeasure.prototype.getType().typeName()||isMeasureDimension)&&"MeasureList"!==draggable.attr("data-type");break}}return isValid},_onDraggableOver:function(event,ui){var $this=this,isValid=true,markup=$(ui.helper.html()),element=ui.draggable,typeName,name;ui.draggable.addClass("ui-igpivot-dragover");if(!element.hasClass("ui-igpivot-metadataitem")){element=element.find(".ui-igpivot-metadataitem:first")}if(element.length>0){typeName=element.attr("data-type");name=element.attr("data-name")}else{return false}if($.isFunction(this.options.customMoveValidation)){isValid=this.options.customMoveValidation.call(this.element,$(event.target).attr("data-role"),typeName,name)}if(ui.helper.hasClass("ui-igpivot-draghelper")){if(isValid){markup.find("span").removeClass("ui-icon-cancel ui-icon-close").addClass("ui-icon-plus").siblings("strong");ui.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(markup)}else{markup.find("span").removeClass("ui-icon-plus ui-icon-close").addClass("ui-icon-cancel").siblings("strong");ui.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(markup)}}if(!isValid){return false}ui.draggable.bind("drag."+this.widgetName,function(event1,ui1){$this._onDraggableDrag(event1,ui1)})},_onDraggableDrag:function(event,ui){var target=$(event.originalEvent.target),insertItem="<li class='"+this.css.insertItem+"'></li>";if(target.hasClass("ui-igpivot-insertitem")){if(!this._const.ie||this._const.ie&&document.documentMode!==8){return}}$(document).find(".ui-igpivot-insertitem").remove();if(target.is("span")){target=target.closest(".ui-igpivot-metadataitem")}if(!(target.parent().hasClass("ui-igpivot-droparea")||target.hasClass("ui-igpivot-droparea"))){return}if(target.is(".ui-igpivot-metadataitem")){if(this._shouldAppendToTarget(target,ui)){this._insertIndex=target.index()+1;$(insertItem).insertAfter(target)}else{if(target.index()===0){this._insertIndex=0;$(insertItem).insertBefore(target)}else{this._insertIndex=target.index();$(insertItem).insertBefore(target)}}}else if(target.is(".ui-igpivot-droparea")){target=target.find(".ui-igpivot-metadataitem:last");this._insertIndex=target.index()+1;$(insertItem).insertAfter(target)}},_onDraggableOut:function(event,ui){var markup=$(ui.helper.html()),invalidIcon;ui.draggable.removeClass("ui-igpivot-dragover");invalidIcon=ui.draggable.closest("li.ui-igtree-node").length===0?"ui-icon-close":"ui-icon-cancel";if(ui.helper.hasClass("ui-igpivot-draghelper")){markup.find("span").removeClass("ui-icon-plus").addClass(invalidIcon).siblings("strong");ui.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(markup)}ui.draggable.unbind("drag."+this.widgetName);$(document).find(".ui-igpivot-insertitem").remove();this._insertIndex=0},_getDefaultHierarchy:function(dimensionName,name,dataSource,typeName){var i,firstHierarchy,returnValue;dimensionName=name.substr(1,name.length-2);if(null!==dataSource.getDimension(name)&&$.ig.DimensionType.prototype.measure===dataSource.getDimension(name).dimensionType()){for(i=dataSource.metadataTree().children().length-1;i>=0;i--){if(name===dataSource.metadataTree().children()[i].item().uniqueName()){firstHierarchy=dataSource.metadataTree().children()[i];while(null!==firstHierarchy.children()){firstHierarchy=firstHierarchy.children()[0]}name=firstHierarchy.item().uniqueName();returnValue=dataSource.getMeasure(name)}}}else if(typeName===$.ig.Dimension.prototype.getType().typeName()){for(i=dataSource.metadataTree().children().length-1;i>=0;i--){if(dimensionName===dataSource.metadataTree().children()[i].item().name()||dimensionName===dataSource.metadataTree().children()[i].item().name().replace(" ","")){if(typeof dataSource.metadataTree().children()[i].item().defaultHierarchy==="function"&&dataSource.metadataTree().children()[i].item().defaultHierarchy()){name=dataSource.metadataTree().children()[i].item().defaultHierarchy()}else if(null!==dataSource.metadataTree().children()[i].children()[0].item()){name=dataSource.metadataTree().children()[i].children()[0].item().uniqueName()}else{firstHierarchy=dataSource.metadataTree().children()[i].children()[0];while(null===firstHierarchy.item()){firstHierarchy=firstHierarchy.children()[0]}name=firstHierarchy.item().uniqueName()}break}}returnValue=dataSource.getHierarchy(name)}else{returnValue=null}return returnValue},_onDrop:function(event,ui,targetElement,draggedElement,typeName,name){var dataSource=this._ds,isValid=true,targetRole=$(targetElement).attr("data-role"),targetIndex=this._insertIndex,item,type,sourceRole,sourceIndex,filterMembers,i,noCancel,firstHierarchy,dimensionName;ui.draggable.unbind("."+this.widgetName);$(document).find(".ui-igpivot-insertitem").remove();if($.isFunction(this.options.customMoveValidation)){isValid=this.options.customMoveValidation.call(this.element,$(event.target).attr("data-role"),typeName,name)}if(!isValid){return false}switch(typeName){case $.ig.Dimension.prototype.getType().typeName():type=$.ig.Dimension.prototype.getType();break;case $.ig.Hierarchy.prototype.getType().typeName():type=$.ig.Hierarchy.prototype.getType();break;case $.ig.Measure.prototype.getType().typeName():type=$.ig.Measure.prototype.getType();break;case $.ig.Kpi.prototype.getType().typeName():type=$.ig.Kpi.prototype.getType();break;case $.ig.KpiMeasure.prototype.getType().typeName():type=$.ig.KpiMeasure.prototype.getType();break;case $.ig.MeasureList.prototype.getType().typeName():type=$.ig.MeasureList.prototype.getType();break;default:return false}item=this._getDefaultHierarchy(dimensionName,name,dataSource,typeName);if(null===item){item=dataSource.getCoreElement(function(el){return el.uniqueName()===name},type)}if(!item){return false}noCancel=this._triggerMetadataDropping(event,ui,targetElement,draggedElement,item,targetIndex);if(noCancel){if((sourceIndex=$.inArray(item,dataSource.filters()))>-1){sourceRole="filters"}else if((sourceIndex=$.inArray(item,dataSource.rowAxis()))>-1){sourceRole="rows"}else if((sourceIndex=$.inArray(item,dataSource.columnAxis()))>-1){sourceRole="columns"}else if((sourceIndex=$.inArray(item,dataSource.measures()))>-1||item instanceof Array){sourceRole="measures"}else{sourceRole=null}if(sourceRole!==null&&sourceRole===targetRole&&sourceIndex<targetIndex){targetIndex--}if(this._isInstance(item,"MeasureList")){dataSource.setMeasureListLocation(targetRole);dataSource.setMeasureListIndex(targetIndex)}else{if(this._isInstance(item,"Hierarchy")){filterMembers=dataSource.getFilterMemberNames(name)}switch(sourceRole){case"filters":dataSource.removeFilterItem(item);break;case"rows":dataSource.removeRowItem(item);break;case"columns":dataSource.removeColumnItem(item);break;case"measures":if(item instanceof Array){for(i=0;i<item.length;i++){dataSource.removeMeasureItem(item[i])}}else{dataSource.removeMeasureItem(item)}break}switch(targetRole){case"filters":dataSource.insertFilterItem(targetIndex,item);break;case"rows":dataSource.insertRowItem(targetIndex,item);break;case"columns":dataSource.insertColumnItem(targetIndex,item);break;case"measures":if(item instanceof Array){for(i=0;i<item.length;i++){dataSource.addMeasureItem(item[i])}}else if(item instanceof $.ig.Kpi){item=this._addingKpiMetadataItems(dataSource,item.name());for(i=0;i<item.length;i++){dataSource.removeMeasureItem(item[i]);dataSource.addMeasureItem(item[i])}}else{dataSource.insertMeasureItem(targetIndex,item)}break}if(this._isInstance(item,"Hierarchy")){for(i=0;i<filterMembers.length;i++){dataSource.addFilterMember(name,filterMembers[i])}}}if(this.widgetName==="igPivotGrid"&&ui.draggable.data(_draggable)){delete ui.draggable.data(_draggable).plugins.stop}this._updateDataSource();this._triggerMetadataDropped(event,ui,targetElement,draggedElement,item,targetIndex);return true}return false},_createMetadataItemDropDown:function(event,targetElement,metadataItem){var $this=this,options=this.options,dataSource=this._ds,closestDropArea,dropDownParent,dropDownElement,menu,addMeasureList,addHierarchy,items,item,customValidation,dimensionName,defaultHierarchy,defaultHierarchyElement,i;closestDropArea=$(targetElement).closest(".ui-igpivot-droparea").attr("data-role");if($.isFunction(this.options.customMoveValidation)){customValidation=function(location){return $this.options.customMoveValidation.call($this.element,location,metadataItem.getType().name,metadataItem.uniqueName()||undefined)}}else{customValidation=function(){return true}}dropDownParent=$(this.options.dropDownParent).first();dropDownElement=$("<div class='"+this.css.metadataItemDropDown+"'></div>");dropDownElement.data("efh","1");dropDownElement.appendTo(dropDownParent).bind(this._getEvent("mousedown"),function(event1){event1.stopPropagation()});menu=$("<ul class='ui-widget'></ul>").appendTo(dropDownElement);defaultHierarchy=this._getDefaultHierarchy(dimensionName,metadataItem.uniqueName(),dataSource,metadataItem.getType().typeName());if(defaultHierarchy){metadataItem=defaultHierarchy}defaultHierarchyElement=$("li[data-name='"+metadataItem.uniqueName()+"']");if(0<defaultHierarchyElement.length){closestDropArea=defaultHierarchyElement.parent().attr("data-role")}if(this._isInstance(metadataItem,"Measure")||this._isInstance(metadataItem,"Kpi")){if(!options.disableMeasuresDropArea&&closestDropArea!=="measures"&&customValidation("measures")){$("<li><span class='ui-icon ui-icon-pivot-measures'></span>"+$.ig.PivotShared.locale.addToMeasures+"</li>").appendTo(menu).click(function(){if($this._isInstance(metadataItem,"Kpi")){item=$this._addingKpiMetadataItems($this._ds,$(targetElement).attr("data-name"));for(i=0;i<item.length;i++){$this._ds.removeMeasureItem(item[i]);$this._ds.addMeasureItem(item[i])}dropDownElement.remove();$this._updateDataSource()}else{$this._ds.removeMeasureItem(metadataItem);$this._ds.addMeasureItem(metadataItem);dropDownElement.remove();$this._updateDataSource()}})}}else if(this._isInstance(metadataItem,"MeasureList")){addMeasureList=function(location,index){$this._ds.setMeasureListLocation(location);$this._ds.setMeasureListIndex(index);dropDownElement.remove();$this._updateDataSource()};if(!options.disableColumnsDropArea&&closestDropArea!=="columns"&&customValidation("columns")){$("<li><span class='ui-icon ui-icon-pivot-clumns'></span>"+$.ig.PivotShared.locale.addToColumns+"</li>").appendTo(menu).click(function(){addMeasureList("columns",$this._ds.columnAxis().length)})}if(!options.disableRowsDropArea&&closestDropArea!=="rows"&&customValidation("rows")){$("<li><span class='ui-icon ui-icon-pivot-rows'></span>"+$.ig.PivotShared.locale.addToRows+"</li>").appendTo(menu).click(function(){addMeasureList("rows",$this._ds.rowAxis().length)})}}else{addHierarchy=function(addMethod){var i,name=metadataItem.uniqueName(),filterMembers=$this._ds.getFilterMemberNames(name);$this._ds.removeFilterItem(metadataItem);$this._ds.removeColumnItem(metadataItem);$this._ds.removeRowItem(metadataItem);$this._ds[addMethod](metadataItem);for(i=0;i<filterMembers.length;i++){$this._ds.addFilterMember(name,filterMembers[i])}dropDownElement.remove();$this._updateDataSource()};if(!options.disableFiltersDropArea&&closestDropArea!=="filters"&&customValidation("filters")){$("<li><span class='ui-icon ui-icon-pivot-filters'></span>"+$.ig.PivotShared.locale.addToFilters+"</li>").appendTo(menu).click(function(){addHierarchy("addFilterItem")})}if(!options.disableColumnsDropArea&&closestDropArea!=="columns"&&customValidation("columns")){$("<li><span class='ui-icon ui-icon-pivot-columns'></span>"+$.ig.PivotShared.locale.addToColumns+"</li>").appendTo(menu).click(function(){addHierarchy("addColumnItem")})}if(!options.disableRowsDropArea&&closestDropArea!=="rows"&&customValidation("rows")){$("<li><span class='ui-icon ui-icon-pivot-rows'></span>"+$.ig.PivotShared.locale.addToRows+"</li>").appendTo(menu).click(function(){addHierarchy("addRowItem")})}}items=dropDownElement.find("li");if(items.length===0){dropDownElement.remove();return}dropDownElement.css("position","absolute").position({of:targetElement,my:"left top",at:"left bottom"});items.bind(this._getEvent("mouseover"),function(){$(this).addClass("ui-state-hover")}).bind(this._getEvent("mouseout"),function(){$(this).removeClass("ui-state-hover")});$(document).bind(this._getEvent("mousedown")+"."+this.widgetName,function(){dropDownElement.remove();$(document).unbind("."+$this.widgetName)})},_createFilterDropDown:function(event,targetElement,hierarchy){var $this=this,hierarchyName,hierarchyFilterView,dropDownParent,dropDownElement,filterMembersTree,buttonContainer,removeFilterDropDown,noCancel;noCancel=this._triggerFilterDropDownOpening(event,hierarchy);if(noCancel){hierarchyName=hierarchy.uniqueName();hierarchyFilterView=new $.ig.HierarchyFilterView(hierarchy);dropDownParent=$(this.options.dropDownParent).first();dropDownElement=$("<div class='"+this.css.filterDropDown+"'></div>");dropDownElement.data("efh","1");dropDownElement.css("position","absolute").attr("data-hierarchy",hierarchyName).appendTo(dropDownParent).position({of:targetElement,my:"left top",at:"left bottom"}).bind(this._getEvent("mousedown"),function(event1){event1.stopPropagation()});filterMembersTree=$("<div class='"+this.css.filterMembers+"'></div>").appendTo(dropDownElement);buttonContainer=$("<div class='ui-igpivot-filterdropdown-buttoncontainer'></div>").appendTo(dropDownElement);removeFilterDropDown=function(event1){$this._removeFilterDropDown(event1,dropDownElement,hierarchy)};$("<button></button>").attr("data-role","ok").text($.ig.PivotShared.locale.ok).appendTo(buttonContainer).igButton().igButton("disable").click(function(event1){$this._onFilterOk(event1,dropDownElement,hierarchyFilterView,hierarchy)});$("<button></button>").attr("data-role","cancel").text($.ig.PivotShared.locale.cancel).appendTo(buttonContainer).igButton().click(removeFilterDropDown);$(document).bind(this._getEvent("mousedown")+"."+this.widgetName,removeFilterDropDown);this._loadFilterMembers(hierarchyFilterView,hierarchy,removeFilterDropDown);this._triggerFilterDropDownOpened(event,dropDownElement,hierarchy)}},_loadFilterMembers:function(hierarchyFilterView,hierarchy,removeFilterDropDown){var $this=this,dataSource,hierarchyName,rootFilterMembers,filterMembers,filterMember,member,members,maxLevel,levels,levelMembers,rootLevel,i;dataSource=this._ds;hierarchyName=hierarchy.uniqueName();filterMembers=dataSource.getFilterMemberNames(hierarchyName);if(filterMembers.length>0){members=[];maxLevel=0;for(i=0;i<filterMembers.length;i++){member=dataSource.tryGetMember(filterMembers[i]);if(member){members.push(member);if(member.levelDepth()>maxLevel){maxLevel=member.levelDepth()}}}levels=dataSource.getCoreElements(function(el){return el.hierarchyUniqueName()===hierarchyName&&el.depth()<=maxLevel},$.ig.Level.prototype.getType());for(i=0;i<levels.length;i++){levelMembers=dataSource.tryGetMembersForLevel(levels[i].uniqueName());hierarchyFilterView.addFiltersForMembers(levelMembers)}rootFilterMembers=hierarchyFilterView.getRootFilterMembers();rootFilterMembers=rootFilterMembers?rootFilterMembers.__inner:[];for(i=0;i<rootFilterMembers.length;i++){rootFilterMembers[i].isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,false))}for(i=0;i<members.length;i++){filterMember=hierarchyFilterView.tryGetFilterMember(members[i].uniqueName()).filterMember;if(filterMember){filterMember.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,true))}}}rootLevel=dataSource.getCoreElement(function(el){return el.depth()===0&&el.hierarchyUniqueName()===hierarchyName},$.ig.Level.prototype.getType());this._ds.getMembersOfLevel(rootLevel.uniqueName()).done(function(m){$this._onFilterMembersLoaded(hierarchyFilterView,m,hierarchy)}).fail(removeFilterDropDown)},_onFilterMembersLoaded:function(hierarchyFilterView,members,hierarchy){var hierarchyName,dropDownElement,filterMembersTree;hierarchyName=hierarchy.uniqueName();hierarchyFilterView.addFiltersForMembers(members);dropDownElement=$(".ui-igpivot-filterdropdown").filter(function(){return $(this).attr("data-hierarchy")===hierarchyName});if(dropDownElement.length>0){filterMembersTree=$(dropDownElement[0]).find(".ui-igpivot-filtermembers");this._initTree(filterMembersTree,hierarchyFilterView)}},_getScrollBarWidth:function(){var el=$('<div style="width: 100px; height: 100px; position: absolute; top: -10000px; left: -10000px; overflow: scroll"></div>').appendTo($(document.body)),scrollWidth;scrollWidth=el[0].offsetWidth-el[0].clientWidth;el.remove();return scrollWidth},_getElementSize:function(element){var el=$('<div style="width: 5000px; height: 5000px; position: absolute; top: -10000px; left: -10000px;"></div>').appendTo($(document.body)),result,position,float;position=element.css("position");float=element.css("float");element.css({position:"relative","float":"left"});element.appendTo(el);result=[element.width(),element.height()];element.css("position",position);element.css("float",float);element.detach();el.remove();return result},_arrangeDropDown:function(onExpand){var $this=this,fdd,fm,fmHeight,bcHeight,ddTop,bTop,bHeight,bBottom,fmBottom,fmMaxHeight,ddLeft,bLeft,bWidth,bRight,fmRight,fddMaxWidth,windowHeight,windowInnerHeight,parentOffset,elementSize,fddWidth,scrollTop,dropDownOffsetBottom;dropDownOffsetBottom=30;fdd=$(".ui-igpivot-filterdropdown");fm=$(".ui-igpivot-filterdropdown .ui-igpivot-filtermembers");fmHeight=fm.height();bcHeight=$(".ui-igpivot-filterdropdown-buttoncontainer").innerHeight();ddTop=parseInt(fdd.css("top").replace("px",""),10);bTop=$(document).scrollTop();windowHeight=$(window).height();windowInnerHeight=window.innerHeight;bHeight=windowHeight>windowInnerHeight?windowHeight:windowInnerHeight;bBottom=bTop+bHeight;fmBottom=bBottom-bcHeight-dropDownOffsetBottom;fmMaxHeight=Math.floor(fmBottom-ddTop);ddLeft=parseInt(fdd.css("left").replace("px",""),10);bLeft=$("body").css("left");if(bLeft==="auto"){bLeft=0}else{bLeft=parseInt(bLeft.replace("px",""),10)}bWidth=$("body").width();bRight=bLeft+bWidth;fmRight=bRight;fddMaxWidth=Math.floor(fmRight-ddLeft);fm.css("max-height",fmMaxHeight);fdd.css("max-width",fddMaxWidth);parentOffset=parseInt(fdd.css("padding-left").replace("px",""),10)+parseInt(fdd.css("padding-right").replace("px",""),10)+parseInt(fdd.css("border-left-width").replace("px",""),10)+parseInt(fdd.css("border-right-width").replace("px",""),10);scrollTop=fm[0].scrollTop;fm.detach();elementSize=$this._getElementSize(fm);fdd.prepend(fm);fm[0].scrollTop=scrollTop;fddWidth=elementSize[0]+$this._getScrollBarWidth()+parseInt(fm.css("padding-right").replace("px",""),10)+parentOffset;fddWidth=Math.max(fddWidth,parseInt(fdd.css("min-width").replace("px",""),10));fdd.css("width",fddWidth);if(fmHeight>fmMaxHeight||onExpand===false){if(fddWidth<=fddMaxWidth){fm.css("overflow-x","hidden")}else{fm.css("overflow-x","auto")}}},_initTree:function(filterMembersTree,hierarchyFilterView){var $this=this,dataSource=this._ds,checkChildNodes,parsedFilterMembers;
$(filterMembersTree).siblings(".ui-igpivot-filterdropdown-buttoncontainer").children(".ui-igbutton[data-role=ok]").igButton("enable");checkChildNodes=function(nodeElement,filterMembers){var isSelected,state,i,filterMember;for(i=0;i<filterMembers.length;i++){filterMember=filterMembers[i].filterMember;isSelected=filterMember.isSelected();if(isSelected.hasValue()){if(isSelected.value()){state="on"}else{state="off"}}else{state="partial"}$(nodeElement).find(".ui-igtree-node[data-value='"+filterMembers[i].uniqueName+"']").children("[data-role=checkbox]").attr("data-chk",state).children("span").removeClass("ui-state-disabled ui-igcheckbox-normal-on ui-igcheckbox-normal-partial ui-igcheckbox-normal-off").addClass("ui-igcheckbox-normal-"+state+(state==="partial"?" ui-igcheckbox-normal-on ui-state-disabled":""))}};parsedFilterMembers=this._parseFilterMembers(hierarchyFilterView.getRootFilterMembers());filterMembersTree.igTree({dataSource:parsedFilterMembers,loadOnDemand:true,checkboxMode:"triState",bindings:{textKey:"caption",valueKey:"uniqueName",childDataProperty:"children"},nodeCollapsed:function(event,ui){$this._arrangeDropDown(false)},nodeCheckstateChanged:function(event,ui){var okButton,isSelected;okButton=$(this).siblings(".ui-igpivot-filterdropdown-buttoncontainer").children(".ui-igbutton[data-role=ok]");if(ui.newCheckedNodes&&ui.newCheckedNodes.length>0){okButton.igButton("enable")}else{okButton.igButton("disable")}isSelected=$(ui.node.element).children("[data-role=checkbox]").attr("data-chk");isSelected=isSelected==="partial"?null:isSelected==="on"?true:false;ui.node.data.filterMember.isSelected($.ig.util.toNullable($.ig.Boolean.prototype.$type,isSelected))},nodeExpanded:function(ect,ui){$this._arrangeDropDown(true);var i,collection,element;if(!$.ig.Pivot._pivotShared._showLastLevelExpanders){element=ui.node.element;collection=ui.node.data.children;if(collection!==null&&0<collection.length){for(i=0;i<collection.length;i++){if(null!==collection[i].children&&0===collection[i].children.length){element.find(".ui-igtree-node").eq(i).find("span:first").css("display","none")}}}}}}).css("overflow-x","hidden").data(_tree)._executeUrlRequest=function(node,binding,path,key){var $$this=this,nodeData=this.nodeDataFor(node.attr("data-path")),ul,indicator,levels;ul=node.children("ul");$("<li style='width:20px; height:20px;' data-role='loading'>&nbsp;</li>").appendTo(ul);ul.show();indicator=ul.children("li").igLoading({includeVerticalOffset:true,cssClass:"ui-igpivotgrid-tree-blockarea"}).data("igLoading").indicator();indicator.show();this._populatingNode={ul:ul,node:node,indicator:indicator};levels=dataSource.getCoreElements(function(el){return el.hierarchyUniqueName()===nodeData.member.hierarchyUniqueName()},$.ig.Level.prototype.$type);$.ig.Pivot._pivotShared._showLastLevelExpanders=true;dataSource.getMembersOfMember(nodeData.member.uniqueName()).done(function(members){var parsedFilterMembers1;if(members.item(0)&&levels.length-1===members.item(0).levelDepth()){$.ig.Pivot._pivotShared._showLastLevelExpanders=false}hierarchyFilterView.addFiltersForMembers(members);parsedFilterMembers1=$this._parseFilterMembers(nodeData.filterMember.children());$$this._populateNodeData(true,"",{data:function(){return parsedFilterMembers1}});$$this._updateParentState(node);checkChildNodes(node,nodeData.children);$this._triggerFilterMembersLoaded(node,parsedFilterMembers,parsedFilterMembers1)})};checkChildNodes(filterMembersTree,parsedFilterMembers);this._triggerFilterMembersLoaded(filterMembersTree,parsedFilterMembers,parsedFilterMembers)},_parseFilterMembers:function(filterMembers){var parsedFilterMembers,parsedFilterMember,filterMember,member,i;if(filterMembers===null){return[]}filterMembers=filterMembers.__inner;parsedFilterMembers=[];for(i=0;i<filterMembers.length;i++){filterMember=filterMembers[i];member=filterMember.member();parsedFilterMember={};parsedFilterMember.filterMember=filterMember;parsedFilterMember.member=member;parsedFilterMember.caption=member.caption();parsedFilterMember.uniqueName=member.uniqueName();parsedFilterMember.children=[];parsedFilterMembers.push(parsedFilterMember)}return parsedFilterMembers},_onFilterOk:function(event,dropDownElement,hierarchyFilterView,hierarchy){var dataSource=this._ds,hierarchyName=hierarchy.uniqueName(),filterMembers,checkedFilterMembers,i,noCancel;filterMembers=hierarchyFilterView.getSelectedFilterItems().__inner;checkedFilterMembers=[];for(i=0;i<filterMembers.length;i++){checkedFilterMembers.push(filterMembers[i].member().uniqueName())}noCancel=this._triggerFilterDropDownOk(event,dropDownElement,hierarchy,checkedFilterMembers);if(noCancel){dataSource.removeAllFilterMembers(hierarchyName);for(i=0;i<checkedFilterMembers.length;i++){dataSource.addFilterMember(hierarchyName,checkedFilterMembers[i])}this._updateDataSource();this._removeFilterDropDown(event,dropDownElement,hierarchy)}},_removeFilterDropDown:function(event,dropDownElement,hierarchy){var noCancel;noCancel=this._triggerFilterDropDownClosing(event,dropDownElement,hierarchy);if(noCancel){dropDownElement.find(".ui-igtree").igTree("destroy");dropDownElement.find(".ui-button").igButton("destroy");dropDownElement.remove();$(document).unbind("."+this.widgetName);this._triggerFilterDropDownClosed(event,hierarchy)}},_triggerDataSourceInitialized:function(evt,args){this._trigger("dataSourceInitialized",evt,args)},_triggerDataSourceUpdated:function(evt,args){this._trigger("dataSourceUpdated",evt,args)},_triggerDragStart:function(event,ui,item){var args={helper:ui.helper,offset:ui.offset,originalPosition:ui.originalPosition,position:ui.position,metadata:item};return this._trigger("dragStart",event,args)},_triggerDrag:function(event,ui,item){var args={helper:ui.helper,offset:ui.offset,originalPosition:ui.originalPosition,position:ui.position,metadata:item};return this._trigger("drag",event,args)},_triggerDragStop:function(event,ui){this._trigger("dragStop",event,ui)},_triggerMetadataDropping:function(event,ui,targetElement,item,itemIndex){var args={helper:ui.helper,offset:ui.offset,position:ui.position,targetElement:targetElement,metadata:item,metadataIndex:itemIndex};return this._trigger("metadataDropping",event,args)},_triggerMetadataDropped:function(event,ui,targetElement,draggedElement,item,itemIndex){var args={helper:ui.helper,offset:ui.offset,position:ui.position,targetElement:targetElement,draggedElement:draggedElement,metadata:item,metadataIndex:itemIndex};this._trigger("metadataDropped",event,args)},_triggerMetadataRemoving:function(event,targetElement,item){var args={targetElement:targetElement,metadata:item};return this._trigger("metadataRemoving",event,args)},_triggerMetadataRemoved:function(event,item){var args={metadata:item};this._trigger("metadataRemoved",event,args)},_triggerFilterDropDownOpening:function(event,hierarchy){var args={hierarchy:hierarchy};return this._trigger("filterDropDownOpening",event,args)},_triggerFilterDropDownOpened:function(event,dropDownElement,hierarchy){var args={dropDownElement:dropDownElement,hierarchy:hierarchy};this._trigger("filterDropDownOpened",event,args)},_triggerFilterMembersLoaded:function(parent,rootFilterMembers,filterMembers){var args={parent:parent,rootFilterMembers:rootFilterMembers,filterMembers:filterMembers};this._trigger("filterMembersLoaded",null,args)},_triggerFilterDropDownOk:function(event,dropDownElement,hierarchy,filterMembers){var args={dropDownElement:dropDownElement,hierarchy:hierarchy,filterMembers:filterMembers};return this._trigger("filterDropDownOk",event,args)},_triggerFilterDropDownClosing:function(event,dropDownElement,hierarchy){var args={dropDownElement:dropDownElement,hierarchy:hierarchy};return this._trigger("filterDropDownClosing",event,args)},_triggerFilterDropDownClosed:function(event,hierarchy){var args={hierarchy:hierarchy};this._trigger("filterDropDownClosed",event,args)}};$.widget("ui.igOlapDataSourceWidget",{_create:function(){this._ds=$.ig.Pivot._pivotShared._createDataSource(null,this.options.dataSourceOptions)},dataSource:function(){return this._ds}})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Grid localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.PivotGrid){$.ig.PivotGrid={};$.extend($.ig.PivotGrid,{locale:{filtersHeader:"Drop Filter Fields Here",measuresHeader:"Drop Data Items Here",rowsHeader:"Drop Row Fields Here",columnsHeader:"Drop Column Fields Here",disabledFiltersHeader:"Filter Fields",disabledMeasuresHeader:"Data Items",disabledRowsHeader:"Row Fields",disabledColumnsHeader:"Column Fields",noSuchAxis:"No such axis"}})}})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Grid 14.1.20141.2031
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on: 
*	jquery-1.4.4.js
*	jquery.ui.core.js
*	jquery.ui.widget.js
*	jquery.ui.draggable.js
*	jquery.ui.droppable.js
*	infragistics.util.js
*	infragistics.datasource.js
*	infragistics.olapxmladatasource.js
*	infragistics.olapflatdatasource.js
*	infragistics.ui.shared.js
*   infragistics.ui.scroll.js
*	infragistics.ui.tree.js
*	infragistics.ui.grid.framework.js
*	infragistics.ui.grid.multicolumnheaders.js
*	infragistics.ui.pivot.shared.js
*/
(function($){function Matrix(){this[0]=[]}Matrix.prototype=[];Matrix.prototype.set=function(row,column,value){if(this.length<row+1){this.setRowCount(row+1)}if(this[0].length<column+1){this.setColumnCount(column+1)}this[row][column]=value};Matrix.prototype.setRowCount=function(rowCount){var i,oldRowCount=this.length;this.length=rowCount;for(i=oldRowCount;i<rowCount;i++){this[i]=[];this[i].length=this[0].length}};Matrix.prototype.setColumnCount=function(columnCount){var i;for(i=0;i<this.length;i++){this[i].length=columnCount}};var _aNull=function(val){return val===null||val===undefined},_igGrid=$.ui.igGrid.prototype.widgetFullName||$.ui.igGrid.prototype.widgetName;$.widget("ui.igPivotGrid",{css:{pivotGrid:"ui-igpivotgrid",pivotGridHeader:"ui-igpivotgrid-header",expandButton:"ui-iggrid-headerbutton ui-icon ui-icon-plus",collapseButton:"ui-iggrid-headerbutton ui-iggrid-headerbuttonexpanded ui-icon ui-icon-minus",rowsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",rowsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",headerRowsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",headerRowsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",headerColumnsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",headerColumnsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",blockArea:"ui-igpivotgrid-blockarea",metadataItem:"ui-igpivot-metadataitem ui-widget ui-corner-all ui-state-default",dropAreaHeader:"ui-igpivot-dropareaheader ui-iggrid-header ui-widget-header",scrollButton:"ui-iggrid-headerbutton",scrollLeft:"ui-icon ui-icon-triangle-1-w",scrollRight:"ui-icon ui-icon-triangle-1-e",dropArea:"ui-igpivot-droparea",overlayDropArea:"ui-igpivot-overlaydroparea",activeDropArea:"active",dropIndicator:"ui-state-highlight",invalidDropIndicator:"ui-state-error",insertItem:"ui-igpivot-insertitem ui-state-highlight ui-corner-all",metadataItemDropDown:"ui-igpivot-metadatadropdown ui-widget ui-widget-content",filterIcon:"ui-icon ui-icon-pivot-smallfilter",filterDropDown:"ui-igpivot-filterdropdown ui-widget ui-widget-content",filterMembers:"ui-igpivot-filtermembers"},options:{width:null,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:false,beforeSend:null},enableResultCache:true,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:true,nonEmptyOnColumns:true,addCalculatedMembersOnRows:true,addCalculatedMembersOnColumns:true,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},deferUpdate:false,isParentInFrontForColumns:false,isParentInFrontForRows:true,compactColumnHeaders:false,compactRowHeaders:true,compactColumnHeaderIndentation:30,compactRowHeaderIndentation:20,defaultRowHeaderWidth:200,allowSorting:false,firstSortDirection:"ascending",allowHeaderRowsSorting:false,allowHeaderColumnsSorting:false,levelSortDirections:[{levelUniqueName:null,sortDirection:null}],firstLevelSortDirection:"ascending",gridOptions:{defaultColumnWidth:null,fixedHeaders:true,caption:null,features:[],tabIndex:0,alternateRowStyles:true,enableHoverStyles:false},dragAndDropSettings:{appendTo:"body",containment:false,zIndex:10},dropDownParent:"body",disableRowsDropArea:false,disableColumnsDropArea:false,disableMeasuresDropArea:false,disableFiltersDropArea:false,hideRowsDropArea:false,hideColumnsDropArea:false,hideMeasuresDropArea:false,hideFiltersDropArea:false,customMoveValidation:null},events:{dataSourceInitialized:null,dataSourceUpdated:null,pivotGridHeadersRendered:null,pivotGridRendered:null,tupleMemberExpanding:null,tupleMemberExpanded:null,tupleMemberCollapsing:null,tupleMemberCollapsed:null,sorting:null,sorted:null,headersSorting:null,headersSorted:null,dragStart:null,drag:null,dragStop:null,metadataDropping:null,metadataDropped:null,metadataRemoving:null,metadataRemoved:null,filterDropDownOpening:null,filterDropDownOpened:null,filterMembersLoaded:null,filterDropDownOk:null,filterDropDownClosing:null,filterDropDownClosed:null},_const:{emptyCell:{headerText:"&nbsp;",key:"empty_cell",axisName:"empty_axis",memberIndex:0,tupleIndex:0},hoverScrollOffset:5,hoverScrollInterval:50},_headerScrollOffsets:{},_gridScrollOffsets:{top:0,left:0},_create:function(){var $this=this;this._onFiltersChanged=function(collection,collectionChangedArgs){var dropArea=$("#"+$this.element.attr("id")+"_filters .ui-igpivot-droparea");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableFiltersDropArea);$this._updateDropArea(dropArea,$this._ds.filters(),$this.options.disableFiltersDropArea,$this.options.disableFiltersDropArea?$.ig.PivotGrid.locale.disabledFiltersHeader:$.ig.PivotGrid.locale.filtersHeader)};this._onRowAxisChanged=function(collection,collectionChangedArgs){var dropArea=$("#"+$this.element.attr("id")+"_rows .ui-igpivot-droparea");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableRowsDropArea);$this._updateDropArea(dropArea,$this._ds.rowAxis(),$this.options.disableRowsDropArea,$this.options.disableRowsDropArea?$.ig.PivotGrid.locale.disabledRowsHeader:$.ig.PivotGrid.locale.rowsHeader)};this._onColumnAxisChanged=function(collection,collectionChangedArgs){var dropArea=$("#"+$this.element.attr("id")+"_columns .ui-igpivot-droparea");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableColumnsDropArea);$this._updateDropArea(dropArea,$this._ds.columnAxis(),$this.options.disableColumnsDropArea,$this.options.disableColumnsDropArea?$.ig.PivotGrid.locale.disabledColumnsHeader:$.ig.PivotGrid.locale.columnsHeader);$this._columnsChanged=true};this._onMeasuresChanged=function(collection,collectionChangedArgs){var dropArea=$("#"+$this.element.attr("id")+"_measures .ui-igpivot-droparea");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableMeasuresDropArea);$this._updateDropArea(dropArea,$this._ds.measures(),$this.options.disableMeasuresDropArea,$this.options.disableMeasuresDropArea?$.ig.PivotGrid.locale.disabledMeasuresHeader:$.ig.PivotGrid.locale.measuresHeader)};this.element.addClass(this.css.pivotGrid);this._setDataSource()},_setOption:function(key,value){var grid;switch(key){case"dataSource":this._clearDataSource();this.options.dataSourceOptions=null;this.options.dataSource=this._createDataSource(value,null);this._setDataSource();break;case"dataSourceOptions":this._clearDataSource();this.options.dataSourceOptions=value;this.options.dataSource=this._createDataSource(null,value);this._setDataSource();break;case"deferUpdate":$.Widget.prototype._setOption.apply(this,arguments);if(value===false){this.updateGrid()}break;case"width":case"height":$.Widget.prototype._setOption.apply(this,arguments);grid=this.grid();if(grid){grid.option(key,value)}break;case"levelSortDirections":case"isParentInFrontForColumns":case"isParentInFrontForRows":case"compactColumnHeaders":case"compactRowHeaders":$.Widget.prototype._setOption.apply(this,arguments);this._createTableView(this._ds);this._onGridUpdated();break;case"dragAndDropSettings":$.Widget.prototype._setOption.apply(this,arguments);this.element.find(":ui-draggable").each(function(ind,el){var draggable=$(el);draggable.draggable("option","appendTo",value.appendTo);draggable.draggable("option","containment",value.containment);draggable.draggable("option","zIndex",value.zIndex)});break;default:$.Widget.prototype._setOption.apply(this,arguments);this._onGridUpdated();break}},_setDataSource:function(){var $this=this,dataSource;this._renderEmptyGrid();this._ds=dataSource=this._createDataSource(this.options.dataSource,this.options.dataSourceOptions);if(!dataSource){return}this.timestamp=(new Date).getTime();$(dataSource).bind("initialized.pivotgrid"+this.timestamp,function(evt,evtArgs){var args=$.extend({owner:$this,dataSource:$this._ds},evtArgs);$this._triggerDataSourceInitialized(evt,args);$this._onGridUpdated()});$(dataSource).bind("updated.pivotgrid"+this.timestamp,function(evt,evtArgs){var args=$.extend({owner:$this,dataSource:$this._ds},evtArgs);$this._triggerDataSourceUpdated(evt,args);$this._onGridUpdated()});if(dataSource.isInitialized()){dataSource.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged});this._onGridUpdated()}else{this._updateGrid(true).always(function(){dataSource.bindCollectionChanged({filters:$this._onFiltersChanged,rowAxis:$this._onRowAxisChanged,columnAxis:$this._onColumnAxisChanged,measures:$this._onMeasuresChanged})})}},_updateDropArea:function(dropArea,items,isDisabled,emptyMessage){if(!this._ds.isUpdating()&&!this._isTouch()){dropArea.empty().css({display:"",overflow:"",margin:"",padding:""}).siblings().remove();this._fillDropArea(dropArea,items,isDisabled,emptyMessage);this._measureDropArea(dropArea)}},_clearDataSource:function(){var grid=this.grid();if(this._ds){$(this._ds).unbind("updated.pivotgrid");this._ds.unbindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})}if(grid){grid.destroy();this.element.empty()}},_createTableView:function(dataSource){var viewSettings,hasColumns,hasRows,map,appliedColumnSortDirections,appliedLevelSortDirections,userLevelSortDirections,mergedLevelSortDirections;appliedColumnSortDirections=this._columnsChanged?[]:this.appliedColumnSortDirections();map=function(array){var i,m={};if($.isArray(array)){for(i=0;i<array.length;i++){if(!_aNull(array[i].levelUniqueName)){m[array[i].levelUniqueName]=array[i]}}}return m};appliedLevelSortDirections=map(this.appliedLevelSortDirections());userLevelSortDirections=map(this.options.levelSortDirections);mergedLevelSortDirections=$.extend(userLevelSortDirections,appliedLevelSortDirections);mergedLevelSortDirections=$.map(mergedLevelSortDirections,function(sd){return sd});viewSettings={isParentInFrontForColumns:this.options.isParentInFrontForColumns,isParentInFrontForRows:this.options.isParentInFrontForRows,compactRowHeaders:this.options.compactRowHeaders,compactColumnHeaders:this.options.compactColumnHeaders};hasColumns=dataSource.columnAxis().length>0;hasRows=dataSource.rowAxis().length>0;this._tableView=new $.ig.OlapTableView(dataSource.result(),hasColumns,hasRows,viewSettings);this._tableView.columnSortDirections(appliedColumnSortDirections);this._tableView.levelSortDirections(mergedLevelSortDirections);this._tableView.initialize();this._columnsChanged=false},_configureOptions:function(dataSource){var $this=this,cols,dataCols,data,settings,gridDataSource,options;this._rowsMatrix=new Matrix;this._fillMatrixWithHeaderCells(this._rowsMatrix,this._tableView.rowHeaders());this._maxMemberIndex=dataSource.columnAxis().length-1;cols=this._generateAllGridColumns(this._tableView.columnHeaders());dataCols=this._generateDataColumns(this._tableView.columnHeaders());data=this._transformGridData(this._tableView.resultCells(),dataCols,dataCols.length,this._rowsMatrix.length);settings={dataSource:data};gridDataSource=new $.ig.DataSource(settings);options={headerRendered:function(event,ui){if($this._ds){$this._onGridHeadersRendered(event,ui)}},dataRendered:function(event,ui){if($this._ds){$this._onDataRendered(event,ui)}}};$.extend(true,options,this.options.gridOptions);options.dataSource=gridDataSource;options.columns=cols;options.autoGenerateColumns=false;options.virtualization=false;options.fixedFooters=false;options.autoFormat=false;options.renderCheckBoxes=false;options.autoFitLastColumn=false;options.autoAdjustHeight=true;options.width=this.options.width;options.height=this.options.height;$.merge(options.features,[{name:"MultiColumnHeaders"}]);return options},_fillMatrixWithHeaderCells:function(matrix,headerCells){var expandIcon,collapseIcon,allowHeaderRowsSorting,sortHeaderRowsAscendingIcon,sortHeaderRowsDescendingIcon,headerCell,levelSortDirectionsMap,headerMarkup,text,rowSpan,columnSpan,rowIndex,columnIndex,axisName,tupleIndex,memberIndex,sortDirection,isExpandable,isExpanded,expandButtonMarkup,indent,i,css;if(!headerCells||headerCells.length===0){matrix.set(0,0,"<th class='ui-iggrid-header ui-widget-header'></th>");return}allowHeaderRowsSorting=this.options.allowHeaderRowsSorting;expandIcon="<span data-expand='true' class='"+this.css.expandButton+"' style='margin-left: $$margin$$px;'></span>";collapseIcon="<span data-expand='false' class='"+this.css.collapseButton+"' style='margin-left: $$margin$$px;'></span>";sortHeaderRowsAscendingIcon="<span data-sortheader='asc' class='"+this.css.headerRowsAscending+"'></span>";sortHeaderRowsDescendingIcon="<span data-sortheader='desc' class='"+this.css.headerRowsDescending+"'></span>";levelSortDirectionsMap=this._tableView.appliedSortDirectionsMap();for(i=0;i<headerCells.length;i++){headerCell=headerCells[i];text=headerCell.caption();rowSpan=headerCell.rowSpan();columnSpan=headerCell.columnSpan();rowIndex=headerCell.rowIndex();columnIndex=headerCell.columnIndex();axisName=headerCell.axisName();tupleIndex=headerCell.tupleIndex();memberIndex=headerCell.memberIndex();isExpandable=headerCell.isExpandable();isExpanded=headerCell.isExpanded();css="ui-iggrid-header ui-widget-header "+this.css.pivotGridHeader;headerMarkup="<th $$data-sortheader$$ "+"class='"+css+"' "+"title='"+text+"' "+"data-skip='true' "+"rowspan='"+rowSpan+"' "+"colspan='"+columnSpan+"' "+"data-axis='"+axisName+"' "+"data-tuple='"+tupleIndex+"' "+"data-member='"+memberIndex+"'>";if(isExpandable){indent=this.options.compactRowHeaders?this.options.compactRowHeaderIndentation*headerCell.levelNumber():0;expandButtonMarkup=isExpanded?collapseIcon:expandIcon;expandButtonMarkup=expandButtonMarkup.replace("$$margin$$",indent);headerMarkup+=expandButtonMarkup;headerMarkup+="<span class='ui-iggrid-headertext'>"+text+"</span>";if(isExpanded){sortDirection=levelSortDirectionsMap[headerCell.axisName()];if(sortDirection){sortDirection=sortDirection[headerCell.hierarchyNumber()];if(sortDirection){sortDirection=sortDirection[headerCell.levelNumber()]}}if(sortDirection==="ascending"){headerMarkup=headerMarkup.replace("$$data-sortheader$$","data-sortheader='ascending'");headerMarkup+=sortHeaderRowsAscendingIcon}else if(sortDirection==="descending"){headerMarkup=headerMarkup.replace("$$data-sortheader$$","data-sortheader='descending'");headerMarkup+=sortHeaderRowsDescendingIcon}else if(allowHeaderRowsSorting){headerMarkup=headerMarkup.replace("$$data-sortheader$$","data-sortheader=''")}}else{headerMarkup=headerMarkup.replace("$$data-sortheader$$","")}}else{indent=this.options.compactRowHeaders?this.options.compactRowHeaderIndentation*(headerCell.levelNumber()+1):0;text="<span class='ui-iggrid-headertext' style='margin-left:"+indent+"px;'>"+text+"</span>";headerMarkup+=text}headerMarkup+="</th>";matrix.set(rowIndex+rowSpan-1,columnIndex+columnSpan-1,undefined);matrix.set(rowIndex,columnIndex,headerMarkup)}},_generateAllGridColumns:function(headers){var cols,levels=[],i;if(!headers||headers.length===0){return[this._const.emptyCell]}for(i=0;i<headers.length;i++){if(!levels[headers[i].rowIndex()]){levels[headers[i].rowIndex()]=[]}levels[headers[i].rowIndex()].push(headers[i])}this._maxLevel=levels.length;cols=this._processHeadersTree(levels);return cols},_generateDataColumns:function(headers){var cols=[],i;if(!headers||headers.length===0){return[this._const.emptyCell]}for(i=0;i<headers.length;i++){if(headers[i].memberIndex()!==this._maxMemberIndex){continue}if(headers[i].columnSpan()===1&&(headers[i].isExpandable()===false||!headers[i].isExpanded())){cols.push({headerText:headers[i].caption(),key:headers[i].axisName()+"_"+headers[i].tupleIndex()+"_"+headers[i].memberIndex()+"_"+headers[i].isExpandable()})}else if(this.options.compactColumnHeaders){cols.push({headerText:headers[i].caption(),key:headers[i].axisName()+"_"+headers[i].tupleIndex()+"_"+headers[i].memberIndex()+"_"+headers[i].isExpandable()})}}return cols},_transformGridData:function(cells,columns,columnsCount,maxRowCount){var data=[],cellOrdinal,i,colIndex;if(!cells||cells.length===0){if(maxRowCount>0){for(i=0;i<maxRowCount;i++){data.push({})}return data}return[{}]}for(i=0;i<maxRowCount;i++){data.push({})}for(i=0;i<cells.length;i++){cellOrdinal=cells[i].cellOrdinal();colIndex=cellOrdinal%columnsCount;data[Math.floor(cellOrdinal/columnsCount)][columns[colIndex].key]=cells[i].formattedValue()}return data},_processHeadersTree:function(tree){var cols=[],i,j,parent,parents;for(i=0;tree.length>=1&&i<tree[0].length;i++){this._createHeader(cols,tree[0][i])}for(i=1;i<tree.length;i++){parents=this._parentsForLevel(i,cols);for(j=0;j<tree[i].length;j++){parent=this._findParent(parents,tree[i][j]);if(parent){this._createHeader(parent,tree[i][j])}else{if(i-1>=1){this._findAndCreateUp(i-1,i,cols,tree,tree[i][j])}}}}return cols},_findAndCreateUp:function(level,itemsLevel,cols,tree,item){var parents,j,currentItem,parent;parents=this._parentsForLevel(level,cols);for(j=0;j<tree[itemsLevel].length;j++){currentItem=tree[itemsLevel][j];if(currentItem.axisName()===item.axisName()&&currentItem.columnIndex()===item.columnIndex()&&currentItem.memberIndex()===item.memberIndex()&&currentItem.tupleIndex()===item.tupleIndex()&&currentItem.caption()===item.caption()){parent=this._findParent(parents,currentItem,itemsLevel-level+1);if(parent){this._createHeader(parent,currentItem)}else{if(level-1>=1){this._findAndCreateUp(level-1,itemsLevel,cols,tree,item)}}}}},_parentsForLevel:function(level,root){var parents=[],i;for(i=0;i<root.length;i++){this._parentsForLevelRecursive(parents,root[i],1,level)}return parents},_parentsForLevelRecursive:function(parents,currentParent,currentLevel,level){var extraLevel=currentParent.rowspan>1?currentParent.rowspan-1:0,i;if(currentLevel===level){parents.push(currentParent)}else if(currentLevel<level&&currentParent.group!==null&&currentParent.group!==undefined){for(i=0;i<currentParent.group.length;i++){this._parentsForLevelRecursive(parents,currentParent.group[i],currentLevel+1+extraLevel,level)}}},_createHeader:function(parent,col){var column={headerText:col.caption(),key:col.axisName()+"_"+col.tupleIndex()+"_"+col.memberIndex()+"_"+col.isExpandable(),rowspan:col.rowSpan(),colSpan:col.columnSpan(),colIndex:col.columnIndex(),axisName:col.axisName(),tupleIndex:col.tupleIndex(),memberIndex:col.memberIndex(),expandable:col.isExpandable(),expanded:col.isExpanded(),hierarchyNumber:col.hierarchyNumber(),levelNumber:col.levelNumber()};if(!this.options.compactColumnHeaders&&(col.columnSpan()>1||col.columnSpan()===1&&col.isExpanded()&&col.isExpandable())){column.group=[]}parent.push(column)},_findParent:function(cols,header,rowSpan){var i;if(!cols||cols.length===undefined||cols.length===null){return null}for(i=0;i<cols.length;i++){if(rowSpan===undefined||rowSpan!==undefined&&cols[i].rowspan===rowSpan){if(cols[i].colSpan+cols[i].colIndex>=header.columnSpan()+header.columnIndex()&&cols[i].colIndex<=header.columnIndex()){if(!cols[i].group){cols[i].group=[]}return cols[i].group}}}return null},grid:function(){return this.element.data(_igGrid)},updateGrid:function(){this._updateGrid(false,true)},_updateGrid:function(init,deferUpdateOverride){var dataSource=this._ds,container,shouldUpdate=deferUpdateOverride||this.options.deferUpdate===false,promise;if(!init&&!shouldUpdate){return}if(this.element.data(_igGrid)){container=this.grid().container();$("#"+this.grid().element.attr("id")+"_columns_overlay").css("display","none");$("#"+this.grid().element.attr("id")+"_measures_overlay").css("display","none");container.css("position","relative");$("<div class='"+this.css.blockArea+"'></div>").appendTo(container).data("efh","1")}if(init){promise=dataSource.initialize()}else{promise=dataSource.update()}return promise},_onGridUpdated:function(){var dataSource=this._ds,options;this._createTableView(dataSource);options=this._configureOptions(dataSource);this._renderGrid(options)},_renderEmptyGrid:function(){var options;options=$.extend(true,{},this.options.gridOptions);options.width=this.options.width;options.height=this.options.height;this.element.igGrid(options)},_renderGrid:function(options){var id=this.element.attr("id"),grid,container;grid=this.grid();if(grid){this._gridScrollOffsets.top=grid.scrollContainer().scrollTop();this._gridScrollOffsets.left=$("#"+id+"_hscroller").scrollLeft();this.element.igGrid("destroy");this.element.empty()}this.element.igGrid(options);container=this.grid().container();container.addClass(this.css.pivotGrid);this._makeDroppable(container)},_onGridHeadersRendered:function(event,ui){var $this=this,headers=ui.owner._oldCols,table=ui.table,id=this.element.attr("id"),appliedColumnSortDirectionsMap,first,firstParent,rowsCellColSpan,rowsCellRowSpan,columnsCellColSpan,filtersCellColSpan,row,droppableOptions,dropArea,header,dataSource=this._ds,extraColsCount,colgroup,col,i,length,sortableHeaders;table.addClass(this.css.pivotGrid);ui.owner._renderRecord=function(data,rowIndex){return $this._renderPivotRecord.call(this,$this._rowsMatrix,data,rowIndex)};if(headers===null||headers===undefined){headers=ui.owner.options.columns}appliedColumnSortDirectionsMap={};$.each(this._tableView.appliedColumnSortDirections(),function(ind,csd){appliedColumnSortDirectionsMap[csd.tupleIndex]=csd.sortDirection});this._processHeaderMarkupRecursive(this.grid().element[0].id,headers,appliedColumnSortDirectionsMap,this._tableView.appliedSortDirectionsMap());first=table.find("tr").first();firstParent=first.parent();rowsCellColSpan=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1;rowsCellRowSpan=this._maxLevel;columnsCellColSpan=ui.owner.options.columns.length;filtersCellColSpan=rowsCellColSpan+columnsCellColSpan;if(table.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").length===0){droppableOptions=this._createDropAreaOptions();if(!this.options.hideRowsDropArea){header=$("<th id='"+id+"_rows' rowSpan='"+rowsCellRowSpan+"' colSpan='"+rowsCellColSpan+"' data-skip='true' class='"+this.css.dropAreaHeader+"'></th>").prependTo(first);header.height(header.height());dropArea=$("<ul data-role='rows' class='"+this.css.dropArea+"'></ul>").appendTo(header);if(!this.options.disableRowsDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}}else{$("<th rowSpan='"+rowsCellRowSpan+"' colSpan='"+rowsCellColSpan+"' data-skip='true' class='ui-iggrid-header ui-widget-header'></th>").prependTo(first)}if(!this.options.hideColumnsDropArea||!this.options.hideMeasuresDropArea){row=$("<tr></tr>").prependTo(firstParent)}if(!this.options.hideColumnsDropArea){header=$("<th id='"+id+"_columns' rowSpan='1' colSpan='"+columnsCellColSpan+"' data-skip='true' class='"+this.css.dropAreaHeader+"'></th>").prependTo(row);dropArea=$("<ul data-role='columns' class='"+this.css.dropArea+"'></ul>").appendTo(header);if(!this.options.disableColumnsDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions);if($("#"+id+"_columns_overlay").length<1){$("<div id='"+id+"_columns_overlay' data-role='columns' class='"+this.css.overlayDropArea+"'></div>").appendTo("body").droppable(droppableOptions)}}}else if(!this.options.hideMeasuresDropArea){$("<th rowSpan='1' colSpan='"+columnsCellColSpan+"' data-skip='true' class='ui-iggrid-header ui-widget-header'></th>").prependTo(row)}if(!this.options.hideMeasuresDropArea){header=$("<th id='"+id+"_measures' rowSpan='1' colSpan='"+rowsCellColSpan+"' data-skip='true' class='"+this.css.dropAreaHeader+"'></th>").prependTo(row);dropArea=$("<ul data-role='measures' class='"+this.css.dropArea+"'></ul>").appendTo(header);if(!this.options.disableMeasuresDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}}else if(!this.options.hideColumnsDropArea){$("<th rowSpan='1' colSpan='"+rowsCellColSpan+"' data-skip='true' class='ui-iggrid-header ui-widget-header'></th>").prependTo(row)}if(!this.options.hideFiltersDropArea){row=$("<tr></tr>").prependTo(firstParent);header=$("<th id='"+id+"_filters' rowSpan='1' colSpan='"+filtersCellColSpan+"' data-skip='true' class='"+this.css.dropAreaHeader+"'></th>").prependTo(row);dropArea=$("<ul data-role='filters' class='"+this.css.dropArea+"'></ul>").appendTo(header);if(!this.options.disableFiltersDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}}}else{$("#"+id+"_rows").attr("rowSpan",rowsCellRowSpan).attr("colSpan",rowsCellColSpan);$("#"+id+"_columns").attr("rowSpan",1).attr("colSpan",columnsCellColSpan);$("#"+id+"_measures").attr("rowSpan",1).attr("colSpan",rowsCellColSpan);$("#"+id+"_fiters").attr("rowSpan",1).attr("colSpan",filtersCellColSpan)}colgroup=table.find("colgroup");if(colgroup.length===0){if(this.grid()._isMultiColumnGrid){length=table.find("th[data-isheadercell]").length}else{length=headers.length}colgroup="<colgroup>";for(i=0;i<length;i++){colgroup+="<col></col>"}colgroup+="</colgroup>";colgroup=$(colgroup).prependTo(table)}extraColsCount=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1;for(i=0;i<extraColsCount;i++){col=$("<col></col>").prependTo(colgroup).attr("data-skip","true")}if(this.options.allowSorting){sortableHeaders=table.find(".ui-igpivotgrid-header[data-sort]");sortableHeaders.children(".ui-iggrid-headertext,.ui-iggrid-sortindicator").bind("click",function(evt){$this._onSort(evt)});sortableHeaders.filter("[data-axis='empty_axis']").bind("click",function(evt){$this._onSort(evt)})}if(this.options.allowHeaderColumnsSorting){table.find(".ui-igpivotgrid-header[data-sortheader]").children(".ui-iggrid-headertext,.ui-iggrid-sortindicator").bind("click",function(evt){$this._onSortHeader(evt)})}if(!this.options.hideFiltersDropArea){this._fillDropArea("#"+id+"_filters .ui-igpivot-droparea",dataSource.filters(),this.options.disableFiltersDropArea,this.options.disableFiltersDropArea?$.ig.PivotGrid.locale.disabledFiltersHeader:$.ig.PivotGrid.locale.filtersHeader)}if(!this.options.hideRowsDropArea){this._fillDropArea("#"+id+"_rows .ui-igpivot-droparea",dataSource.rowAxis(),this.options.disableRowsDropArea,this.options.disableRowsDropArea?$.ig.PivotGrid.locale.disabledRowsHeader:$.ig.PivotGrid.locale.rowsHeader)}if(!this.options.hideColumnsDropArea){this._fillDropArea("#"+id+"_columns .ui-igpivot-droparea",dataSource.columnAxis(),this.options.disableColumnsDropArea,this.options.disableColumnsDropArea?$.ig.PivotGrid.locale.disabledColumnsHeader:$.ig.PivotGrid.locale.columnsHeader)}if(!this.options.hideMeasuresDropArea){this._fillDropArea("#"+id+"_measures .ui-igpivot-droparea",dataSource.measures(),this.options.disableMeasuresDropArea,this.options.disableMeasuresDropArea?$.ig.PivotGrid.locale.disabledMeasuresHeader:$.ig.PivotGrid.locale.measuresHeader)}this._measureHeaders(headers);table.find("thead span.ui-iggrid-headerbutton.ui-icon").bind("click",function(evt){$this._onToggleTupleMember(evt);return false});this._triggerPivotGridHeadersRendered(event,ui)},_renderPivotRecord:function(matrix,data,rowIndex){var i,key=this.options.primaryKey,ar=this.options.accessibilityRendering,grid=this,dstr="",cols=this.options.columns,noVisibleColumns,str="";dstr+="<tr";if(rowIndex%2!==0&&this.options.alternateRowStyles){dstr+=" class='"+grid.css.recordAltClass+"'"}if(!_aNull(key)){dstr+=" data-id='"+this._kval_from_key(key,data)+"'"}else if(!_aNull(data.ig_pk)){dstr+=" data-id='"+data.ig_pk+"'"}if(this.options.virtualization&&this.options.virtualizationMode==="continuous"){dstr+=" data-row-idx='"+rowIndex+"'"}if(ar){dstr+=" role='row'>"}else{dstr+=">"}for(i=0;i<matrix[rowIndex].length;i++){if(matrix[rowIndex][i]){str+=matrix[rowIndex][i]}}if(str!==""){dstr+=str}noVisibleColumns=true;$(cols).each(function(colIndex){if(cols[colIndex].hidden||cols[colIndex].fixed===true){return}noVisibleColumns=false;if(ar){dstr+='<td role="gridcell" aria-describedby="'+this.key+'"'}else{dstr+="<td"}if(cols[colIndex].template&&cols[colIndex].template.length){temp=grid._renderTemplatedCell(data,this);if(temp.indexOf("<td")===0){dstr+=temp.substring(3)}else{dstr+=">"+temp}dstr=grid._editCellStyle(dstr,data,this.key)}else{dstr+=grid._addCellStyle(data,this.key?this.key:colIndex)+">"+grid._renderCell(data[this.key?this.key:colIndex],this,data)}dstr+="</td>"});if(noVisibleColumns){dstr+="<td role='gridcell'></td>"}dstr+="</tr>";return dstr},_processHeaderMarkupRecursive:function(tableId,headers,columnSortDirectionsMap,levelSortDirectionsMap){var i,headerCell,expanded,expandable,sortDirection,expandIcon,collapseIcon,allowSorting,allowHeaderColumnsSorting,sortRowsAscendingIcon,sortRowsDescendingIcon,sortHeaderColumnsAscendingIcon,sortHeaderColumnsDescendingIcon;allowSorting=this.options.allowSorting;allowHeaderColumnsSorting=this.options.allowHeaderColumnsSorting;expandIcon="<span data-expand='true' class='"+this.css.expandButton+"'/>";collapseIcon="<span data-expand='false' class='"+this.css.collapseButton+"'/>";sortRowsAscendingIcon="<span data-sort='asc' class='"+this.css.rowsAscending+"'/>";sortRowsDescendingIcon="<span data-sort='desc' class='"+this.css.rowsDescending+"'/>";sortHeaderColumnsAscendingIcon="<span data-sortheader='asc' class='"+this.css.headerColumnsAscending+"'></span>";sortHeaderColumnsDescendingIcon="<span data-sortheader='desc' class='"+this.css.headerColumnsDescending+"'></span>";for(i=0;i<headers.length;i++){headerCell=$("#"+tableId+"_"+headers[i].key);headerCell.addClass(this.css.pivotGridHeader).attr("data-axis",headers[i].axisName).attr("data-member",headers[i].memberIndex).attr("data-tuple",headers[i].tupleIndex);if(headers[i].axisName!==this._const.emptyCell.axisName){headerCell.attr("title",headers[i].headerText)}if(this.options.compactColumnHeaders&&headers[i].levelNumber>0){headerCell.css("padding-top",this.options.compactColumnHeaderIndentation*headers[i].levelNumber)}expandable=headers[i].expandable;expanded=headers[i].expanded;if(expandable&&!expanded){$(expandIcon).insertBefore(headerCell.children(".ui-iggrid-headertext"))}else if(expandable&&expanded){$(collapseIcon).insertBefore(headerCell.children(".ui-iggrid-headertext"));sortDirection=levelSortDirectionsMap[headers[i].axisName];if(sortDirection){sortDirection=sortDirection[headers[i].hierarchyNumber];if(sortDirection){sortDirection=sortDirection[headers[i].levelNumber]}}if(sortDirection==="ascending"){headerCell.attr("data-sortheader","ascending");$(sortHeaderColumnsAscendingIcon).appendTo(headerCell)}else if(sortDirection==="descending"){headerCell.attr("data-sortheader","descending");$(sortHeaderColumnsDescendingIcon).appendTo(headerCell)}else if(allowHeaderColumnsSorting){headerCell.attr("data-sortheader","")}}if(!expandable||expandable&&!expanded){sortDirection=columnSortDirectionsMap[headers[i].tupleIndex];if(sortDirection==="ascending"){headerCell.attr("data-sort","ascending");$(sortRowsAscendingIcon).appendTo(headerCell)}else if(sortDirection==="descending"){headerCell.attr("data-sort","descending");$(sortRowsDescendingIcon).appendTo(headerCell)}else if(allowSorting){headerCell.attr("data-sort","")}}if(headers[i].group){this._processHeaderMarkupRecursive(tableId,headers[i].group,columnSortDirectionsMap,levelSortDirectionsMap)}}},_fillDropArea:function(dropAreaSelector,items,isDisabled,emptyMessage){var dropArea=$(dropAreaSelector),i,length;dropArea.empty();if(items.length>0){for(i=0,length=items.length;i<length;i++){this._createMetadataElement(items[i],isDisabled,"appendTo",dropArea)}}else{dropArea.text(emptyMessage)
}},_measureHeaders:function(headers){var $this=this,id=this.element.attr("id"),grid=this.grid(),table=grid.headersTable(),extraColsCount,extraColsWidth,maxWidth,header,measureTh,colsWidth;extraColsCount=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1;if(this.options.defaultRowHeaderWidth){table.find("col:lt("+extraColsCount+")").width(this.options.defaultRowHeaderWidth);if(!this._isTouch()){table.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").each(function(ind,el){$this._measureDropArea($(this))})}else{table.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").each(function(ind,el){$(el).wrap($("<div style='overflow: hidden;'></div>")).parent("div").igScroll()})}extraColsWidth=this.options.defaultRowHeaderWidth*extraColsCount}else{maxWidth=0;table.find("#"+id+"_measures, #"+id+"_rows").each(function(ind,el){var clone,parent;clone=$(el).clone(false);clone.children(".ui-igpivot-droparea").append("<li class='"+$this.css.insertItem+"'></li>");parent=$("<div class='ui-widget ui-widget-header ui-iggrid ui-igpivotgrid'></div>").append(clone).css({position:"absolute",visibility:"hidden",height:"auto",width:"auto",overflow:"visible","text-overflow":"clip",left:"-1000px",top:"-1000px"}).appendTo(document.body);maxWidth=Math.max(maxWidth,parent.outerWidth(true));parent.remove()});table.find("col:lt("+extraColsCount+")").width(Math.ceil(maxWidth/extraColsCount));extraColsWidth=maxWidth}if(grid.options.defaultColumnWidth){table.find("col:gt("+extraColsCount+")").width(grid.options.defaultColumnWidth)}else{header=table.find("th:not(.ui-igpivot-dropareaheader):first");measureTh=$("<th class='"+header.attr("class")+"' style='position:absolute;visibility:hidden;height:auto;width:auto;overflow:visible;text-overflow:clip;left:-1000px;top:-1000px;'></th>").css({"font-family":header.css("fontFamily"),"font-size":header.css("fontSize"),"font-size-adjust":header.css("fontSizeAdjust"),"font-stretch":header.css("fontStretch"),"font-style":header.css("fontStyle"),"font-variant":header.css("fontVariant"),"font-weight":header.css("fontWeight")}).appendTo(document.body);colsWidth=this._measureHeadersRecursive(this.grid().element[0].id,headers,measureTh,extraColsCount);measureTh.remove()}if(table.find("col").length-extraColsCount===1||extraColsWidth+colsWidth<table.width()){table.find("col:last").width("auto")}},_measureHeadersRecursive:function(tableId,headers,measureTh,extraColsCount){var i,headerCell,totalWidth,width;totalWidth=0;for(i=0;i<headers.length;i++){if(headers[i].axisName===this._const.emptyCell.axisName){break}headerCell=$("#"+tableId+"_"+headers[i].key);if(headers[i].group){totalWidth+=this._measureHeadersRecursive(tableId,headers[i].group,measureTh,extraColsCount)}else{width=measureTh.html(headerCell[0].innerHTML)[0].offsetWidth+10;totalWidth+=width;this.grid().headersTable().find("col:eq("+(headerCell.data("columnIndex")+extraColsCount)+")").width(width);headers[i].width=width}}return totalWidth},_measureDropArea:function(dropArea){var $this=this,id,parent,parentClone,parentContainer,parentWidth,left,minLeft,maxLeft,scrollLeft,scrollRight,scrollToLeft,timer,mouseover,mouseout;parent=dropArea.parent("th");id=parent.attr("id");parentClone=$(parent).clone(false);parentClone.children(".ui-igpivot-droparea").append("<li class='"+$this.css.insertItem+"'></li>");parentContainer=$("<div class='ui-widget ui-widget-header ui-iggrid ui-igpivotgrid'></div>").append(parentClone).css({position:"absolute",visibility:"hidden",height:"auto",width:"auto",overflow:"visible","text-overflow":"clip",left:"-1000px",top:"-1000px"}).appendTo(document.body);parentWidth=parent.width();if(parentContainer.find(".ui-igpivot-droparea").outerWidth(true)>parentWidth){dropArea.css({display:"inline-block",overflow:"hidden",margin:0,padding:0});scrollLeft=$("<span class='"+this.css.scrollButton+"'><a class='"+this.css.scrollLeft+"' /></span>").insertBefore(dropArea);scrollRight=$("<span class='"+this.css.scrollButton+"'><a class='"+this.css.scrollRight+"' /></span>").insertAfter(dropArea);if(0===parentWidth){dropArea.width("auto")}else{dropArea.width(parentWidth-scrollLeft.outerWidth(true)-scrollRight.outerWidth(true))}left=this._headerScrollOffsets[id]||0;minLeft=0;maxLeft=dropArea[0].scrollWidth;scrollToLeft=function(){if(left<minLeft){left=minLeft}if(left>maxLeft){left=maxLeft}dropArea.scrollLeft(left);$this._headerScrollOffsets[id]=left};scrollToLeft();mouseover=this._getEvent("mouseover");mouseout=this._getEvent("mouseout");scrollLeft.bind(mouseover,function(){timer=setInterval(function(){left-=$this._const.hoverScrollOffset;scrollToLeft()},$this._const.hoverScrollInterval)}).bind(mouseout,function(){clearInterval(timer)});scrollRight.bind(mouseover,function(){timer=setInterval(function(){left+=$this._const.hoverScrollOffset;scrollToLeft()},$this._const.hoverScrollInterval)}).bind(mouseout,function(){clearInterval(timer)})}else{delete this._headerScrollOffsets[id]}parentContainer.remove()},_getKPIs:function(dataSource){var measures,kpi,kpiObject,KPIs=[],i;measures=dataSource.measures();for(i=measures.length-1;i>=0;i--){kpiObject={};if("KpiMeasure"===measures[i].getType().typeName()){kpi=dataSource.getCoreElements(function(el){return el.uniqueName()===measures[i].uniqueName()},$.ig.KpiMeasure.prototype.getType())}if(undefined!==kpi&&1===kpi.length){if(null!==kpi[0].graphic()){kpiObject.name=kpi[0].caption();kpiObject.graphic=kpi[0].graphic();KPIs.push(kpiObject)}}}return KPIs},_getKPICells:function(KPIs,dataSource){var headers,allColumns,columnIndexes,rowCells,allRows,i,j,k,m,rowspan,colspan,colspanValue,colspanOffset,rows;if(0!==KPIs.length){if(1===dataSource.measures().length){KPIs[0].cells=$("."+this.css.pivotGrid+" td")}else{for(m=KPIs.length-1;m>=0;m--){KPIs[m].cells=$();headers=$();headers=headers.add("th.ui-igpivotgrid-header[title='"+KPIs[m].name+"']");switch(dataSource.getMeasureListLocation()){case"rows":for(k=0;k<headers.length;k++){rowspan=parseInt(headers.eq(k).attr("rowspan"),10);rows=headers.eq(k).parent();for(i=0;i<rowspan;i++){for(j=0;j<rows.find("td").length;j++){KPIs[m].cells=KPIs[m].cells.add(rows.find("td").eq(j)[0])}rows=rows.next()}}break;case"columns":colspanOffset=0;columnIndexes=[];allColumns=headers.parent().find("th[data-skip!=true]");for(i=0,j=0;i<allColumns.length;i++){colspanValue=parseInt(allColumns.eq(i).attr("colspan"),10);colspan=isNaN(colspanValue)?1:colspanValue;if(allColumns.eq(i)[0]===headers.eq(j)[0]){for(k=0;k<colspan;k++){columnIndexes.push(i+k+colspanOffset)}j++}colspanOffset+=colspan>1?colspan-1:0}allRows=$("."+this.css.pivotGrid+" tbody tr");rowCells=allRows.find("td");for(i=0;i<allRows.length;i++){for(j=0,k=0;j<rowCells.length;j++){if(j===columnIndexes[k]){KPIs[m].cells=KPIs[m].cells.add(allRows.eq(i).find("td").eq(j)[0]);k++}}}break}}}return KPIs}return[]},_addKPIImages:function(KPIs,dataSource){var i,j,imgString,currentCell,val,x,y;for(i=0;i<KPIs.length;i++){for(j=0;j<KPIs[i].cells.length;j++){currentCell=KPIs[i].cells.eq(j);if(!isNaN(currentCell.text())){imgString="<div class='ui-igpivotgrid-kpis'";imgString+=" title='"+currentCell.text()+"'";imgString+=" style='background-position: ";val=parseFloat(currentCell.text());if(0<val){x=0}else if(0>val){x=32}else{x=16}switch(KPIs[i].graphic.toLowerCase()){case"road signs":y=0;break;case"traffic light":y=16;break;case"variance arrow":y=32;break;case"standart arrow":y=48;break;case"status arrow - ascending":y=64;break;case"status arrow - descending":y=80;break;case"faces":y=96;break;case"shapes":y=112;break;case"cylinder":y=128;break;case"gauge - ascending":y=144;break;case"gauge - descending":y=160;break;case"thermometer":y=176;break}imgString+="-"+x+"px -"+y+"px";imgString+="'></div>";KPIs[i].cells.eq(j)[0].innerHTML=imgString}}}},_onDataRendered:function(event,ui){var $this=this,id=this.element.attr("id"),table=ui.owner.element,grid=this.grid(),overlayDropAreaOptions=this._createDropAreaOptions(),dataSource=this._ds,headersCols,colgroup,i,j,colAttributes,KPIs;if("OlapXmlaDataSource"===dataSource.getType().typeName()){KPIs=this._getKPIs(dataSource);KPIs=this._getKPICells(KPIs,dataSource);this._addKPIImages(KPIs,dataSource)}table.addClass(this.css.pivotGrid);table.find("tbody th > span[data-expand]").bind("click",function(evt){$this._onToggleTupleMember(evt);return false});if(this.options.allowHeaderRowsSorting){table.find("tbody th.ui-igpivotgrid-header[data-sortheader]").children(".ui-iggrid-headertext,.ui-iggrid-sortindicator").bind("click",function(evt){$this._onSortHeader(evt)})}if(grid.options.fixedHeaders){headersCols=grid.headersTable().find("colgroup").find("col");colgroup=table.find("colgroup");colgroup.empty();for(i=0;i<headersCols.length;i++){colgroup.append($("<col></col>"));colAttributes=headersCols.eq(i)[0].attributes;for(j=0;j<colAttributes.length;j++){colgroup.find("col").eq(i).attr(colAttributes.item(j).name,colAttributes.item(j).value)}}grid._setGridContentWidth(grid.headersTable().width());grid.scrollContainer().scrollTop(this._gridScrollOffsets.top);$("#"+id+"_hscroller").scrollLeft(this._gridScrollOffsets.left)}if(!this.options.disableRowsDropArea&&!this._isTouch()){if($("#"+id+"_rows_overlay").length<1){$("<div id='"+id+"_rows_overlay' data-role='rows' class='"+this.css.overlayDropArea+"'></div>").appendTo("body").droppable(overlayDropAreaOptions)}}if(!this.options.disableMeasuresDropArea&&!this._isTouch()){if($("#"+id+"_measures_overlay").length<1){$("<div id='"+id+"_measures_overlay' data-role='measures' class='"+this.css.overlayDropArea+"'></div>").appendTo("body").droppable(overlayDropAreaOptions)}}this._positionOverlayDropAreas();this._triggerPivotGridRendered(event,ui)},_positionOverlayDropAreas:function(){var id=this.element.attr("id"),headersTable=this.grid().headersTable().find("thead"),dataTable=this.grid().element.find("tbody"),firstColumnHeaderPosition,firstRowHeaderPosition,columnHeadersHeight,rowHeadersWidth,measuresArea,container,containerParent,containerPosition,columnsOverlayTop,columnsOverlayLeft,rowsOverlayTop,rowsOverlayLeft,containerId,rowHeight,ht;firstColumnHeaderPosition=headersTable.find("th[data-axis]:first").position();columnHeadersHeight=0;headersTable.find("tr[data-header-row], tr[data-mch-level]").each(function(ind,el){columnHeadersHeight+=el.scrollHeight});if(this.options.height!==null||this.options.width!==null){containerId=this.element.attr("id");container=$("#"+containerId+"_container").length===1?$("#"+containerId+"_container"):$("#"+containerId+"_table_container");containerParent=container.parent();containerPosition=container.position()}if(this.options.height!==null){firstRowHeaderPosition={top:this.grid().headersTable().height()+containerPosition.top,left:containerPosition.left}}else if(this.options.width!==null){rowHeight=this.grid().headersTable().find("tr").eq(0).height();if(this.grid().headersTable().find("tr[data-mch-level]").length===0){firstRowHeaderPosition={top:3*rowHeight+containerPosition.top,left:containerPosition.left}}else{firstRowHeaderPosition={top:2*rowHeight+this.grid().headersTable().find("tr[data-mch-level]").length*this.grid().headersTable().find("tr[data-mch-level]").eq(0).height()+containerPosition.top,left:containerPosition.left}}}if(this.options.height!==null||this.options.width!==null){columnsOverlayTop=firstColumnHeaderPosition.top+containerPosition.top+2*parseInt(containerParent.css("paddingTop")[0].replace("px",""),10);columnsOverlayLeft=firstColumnHeaderPosition.left+containerPosition.left;rowsOverlayTop=firstRowHeaderPosition.top+2*parseInt(containerParent.css("paddingTop")[0].replace("px",""),10);rowsOverlayLeft=firstRowHeaderPosition.left}else{firstRowHeaderPosition=this.grid().headersTable().find("tbody tr:first").position();columnsOverlayTop=firstColumnHeaderPosition.top+headersTable.parent().parent().position().top;columnsOverlayLeft=firstColumnHeaderPosition.left+headersTable.parent().parent().position().left;rowsOverlayTop=firstRowHeaderPosition.top+headersTable.parent().parent().position().top;rowsOverlayLeft=firstRowHeaderPosition.left+headersTable.parent().parent().position().left}ht=headersTable.find("tr").eq(1).find("th").eq(1);$("#"+id+"_columns_overlay").css({top:columnsOverlayTop,left:columnsOverlayLeft,width:ht.width()+2*(parseInt(ht.css("paddingLeft")[0].substr(0),10)+parseInt(ht.css("borderLeftWidth")[0].substr(0),10)),height:columnHeadersHeight,display:"block"});measuresArea=headersTable.find("tr").eq(1).find("th:first");rowHeadersWidth=measuresArea.width()+2*(parseInt(measuresArea.css("paddingLeft")[0].replace("px",""),10)+parseInt(measuresArea.css("borderLeftWidth")[0].replace("px",""),10));$("#"+id+"_rows_overlay").css({top:rowsOverlayTop,left:rowsOverlayLeft,width:rowHeadersWidth,height:dataTable[0].scrollHeight,display:"block"});$("#"+id+"_measures_overlay").css({top:rowsOverlayTop,left:rowsOverlayLeft+rowHeadersWidth,width:dataTable[0].scrollWidth-rowHeadersWidth,height:dataTable[0].scrollHeight,display:"block"})},_updateDataSource:function(deferUpdateOverride){this._updateGrid(false,deferUpdateOverride)},_shouldAppendToTarget:function(target,dragged){return target.offset().left+target.width()/2<dragged.offset.left+this._const.dragCursorAt.left},_onToggleTupleMember:function(evt){var $this=this,target=$(evt.target),header=target.closest("th"),axisName,memberIndex,tupleIndex,expand,noCancel;if(this._performsToggle||this._ds.isModified()){return}axisName=header.attr("data-axis");memberIndex=parseInt(header.attr("data-member"),10);tupleIndex=parseInt(header.attr("data-tuple"),10);expand=target.attr("data-expand")==="true";if(expand){noCancel=this._triggerTupleMemberExpanding(evt,axisName,memberIndex,tupleIndex);if(noCancel){this._ds.expandTupleMember(axisName,tupleIndex,memberIndex);this._performsToggle=true;this._updateGrid(false,true).done(function(){$this._triggerTupleMemberExpanded(null,axisName,memberIndex,tupleIndex)}).always(function(){$this._performsToggle=false})}}else{noCancel=this._triggerTupleMemberCollapsing(evt,axisName,memberIndex,tupleIndex);if(noCancel){this._ds.collapseTupleMember(axisName,tupleIndex,memberIndex);this._performsToggle=true;this._updateGrid(false,true).done(function(){$this._triggerTupleMemberCollapsed(evt,axisName,memberIndex,tupleIndex)}).always(function(){$this._performsToggle=false})}}},_onSort:function(evt){var $this=this,header=$(evt.target).closest("th"),axisName,tupleIndex,tupleIdentifier,axis,axes,tuple,memberNames,columnSortDirections,columnSortDirection,levelSortDirections,options,i,noCancel,en;if(this._ds.isModified()){return}axisName=header.attr("data-axis");tupleIndex=parseInt(header.attr("data-tuple"),10);if(axisName!==this._const.emptyCell.axisName){axes=this._ds.result().axes().__inner;for(i=0;i<axes.length;i++){if(axisName===axes[i].name()){axis=axes[i];break}}if(!axis){return}tuple=axis.tuples().item(tupleIndex);memberNames=[];en=tuple.members().getEnumerator();while(en.moveNext()){memberNames.push(en.current().uniqueName())}tupleIdentifier=memberNames.join("|")}else{memberNames=null;tupleIdentifier=""}columnSortDirections=this._tableView.columnSortDirections();for(i=0;i<columnSortDirections.length;i++){if(columnSortDirections[i].memberNames&&columnSortDirections[i].memberNames.join("|")===tupleIdentifier||columnSortDirections[i].tupleIndex===tupleIndex){columnSortDirection=columnSortDirections[i];break}}if(!evt.ctrlKey){columnSortDirections=[]}if(columnSortDirection){columnSortDirection.sortDirection=columnSortDirection.sortDirection==="ascending"?"descending":"ascending";if(!evt.ctrlKey){columnSortDirections.push(columnSortDirection)}}else{columnSortDirection={memberNames:memberNames,tupleIndex:tupleIndex,sortDirection:this.options.firstSortDirection};columnSortDirections.push(columnSortDirection)}noCancel=this._triggerSorting(evt,columnSortDirections);if(noCancel){levelSortDirections=$.grep(this._tableView.levelSortDirections(),function(sortDirection){var level,hierarchyName;level=$this._ds.getCoreElement(function(l){return l.uniqueName()===sortDirection.levelUniqueName},$.ig.Level.prototype.getType());if(level){hierarchyName=level.hierarchyUniqueName();return $.grep($this._ds.rowAxis(),function(h){return h.uniqueName()===hierarchyName}).length===0}return false});this._tableView.levelSortDirections(levelSortDirections);this._tableView.columnSortDirections(columnSortDirections);this._tableView.initialize();options=this._configureOptions(this._ds);this._renderGrid(options);this._triggerSorted(evt,columnSortDirections,this._tableView.appliedColumnSortDirections())}},_onSortHeader:function(evt){var header=$(evt.target).closest("th"),axisName,tupleIndex,memberIndex,axis,axes,tuple,member,level,levelName,hierarchyName,levelSortDirections,levelSortDirection,options,i,noCancel;if(this._ds.isModified()){return}axisName=header.attr("data-axis");tupleIndex=parseInt(header.attr("data-tuple"),10);memberIndex=parseInt(header.attr("data-member"),10);axes=this._ds.result().axes().__inner;for(i=0;i<axes.length;i++){if(axisName===axes[i].name()){axis=axes[i];break}}if(!axis){return}tuple=axis.tuples().item(tupleIndex);member=tuple.members().item(memberIndex);level=this._ds.getCoreElement(function(l){return l.hierarchyUniqueName()===member.hierarchyUniqueName()&&l.depth()===member.depth()+1},$.ig.Level.prototype.getType());if(!level){return}levelName=level.uniqueName();levelSortDirections=this._tableView.appliedLevelSortDirections();for(i=0;i<levelSortDirections.length;i++){if(levelSortDirections[i].levelUniqueName===levelName){levelSortDirection=levelSortDirections[i];break}}if(levelSortDirection){levelSortDirection.sortDirection=levelSortDirection.sortDirection==="ascending"?"descending":"ascending"}else{levelSortDirection={levelUniqueName:levelName,sortDirection:this.options.firstLevelSortDirection};levelSortDirections.push(levelSortDirection)}noCancel=this._triggerHeadersSorting(evt,levelSortDirections);if(noCancel){hierarchyName=level.hierarchyUniqueName();if($.grep(this._ds.rowAxis(),function(h){return h.uniqueName()===hierarchyName}).length>0){this._tableView.columnSortDirections([])}this._tableView.levelSortDirections(levelSortDirections);this._tableView.initialize();options=this._configureOptions(this._ds);this._renderGrid(options);this._triggerHeadersSorted(evt,levelSortDirections,this._tableView.appliedLevelSortDirections())}},expandTupleMember:function(tupleLocation,tupleIndex,memberIndex,shouldUpdate){var dataSource=this._ds,hasColumns,hasRows,axisName;hasColumns=dataSource.columnAxis().length>0;hasRows=dataSource.rowAxis().length>0;if(this._ds.isModified()){return false}if(tupleLocation==="columnAxis"&&hasColumns){if(hasColumns){axisName="Axis0"}}else if(tupleLocation==="rowAxis"&&hasRows){if(hasColumns){axisName="Axis1"}else{axisName="Axis0"}}if(!axisName){throw new Error($.ig.PivotGrid.locale.noSuchAxis)}this._ds.expandTupleMember(axisName,tupleIndex,memberIndex);if(shouldUpdate){this._updateGrid(null,true)}},collapseTupleMember:function(tupleLocation,tupleIndex,memberIndex,shouldUpdate){var dataSource=this._ds,hasColumns,hasRows,axisName;hasColumns=dataSource.columnAxis().length>0;hasRows=dataSource.rowAxis().length>0;if(this._ds.isModified()){return false}if(tupleLocation==="columnAxis"&&hasColumns){if(hasColumns){axisName="Axis0"}}else if(tupleLocation==="rowAxis"&&hasRows){if(hasColumns){axisName="Axis1"}else{axisName="Axis0"}}if(!axisName){throw new Error($.ig.PivotGrid.locale.noSuchAxis)}this._ds.collapseTupleMember(axisName,tupleIndex,memberIndex);if(shouldUpdate){this._updateGrid()}},appliedColumnSortDirections:function(){return this._tableView?this._tableView.appliedColumnSortDirections():[]},appliedLevelSortDirections:function(){return this._tableView?this._tableView.appliedLevelSortDirections():[]},destroy:function(){var grid=this.grid();if(grid){grid.destroy()}$("#"+this.element.attr("id")+"_container_block").remove();this.element.removeClass(this.css.pivotGrid);$(this._ds).unbind("initialized.pivotgrid"+this.timestamp);$(this._ds).unbind("updated.pivotgrid"+this.timestamp);$.Widget.prototype.destroy.call(this)},_triggerPivotGridHeadersRendered:function(evt,ui){var args={owner:this,grid:ui.owner,table:ui.table};this._trigger("pivotGridHeadersRendered",evt,args)},_triggerPivotGridRendered:function(evt,ui){var args={owner:this,grid:ui.owner};this._trigger("pivotGridRendered",evt,args)},_triggerTupleMemberExpanding:function(evt,axisName,memberIndex,tupleIndex){var args={owner:this,dataSource:this._ds,axisName:axisName,memberIndex:memberIndex,tupleIndex:tupleIndex};return this._trigger("tupleMemberExpanding",evt,args)},_triggerTupleMemberExpanded:function(evt,axisName,memberIndex,tupleIndex){var args={owner:this,dataSource:this._ds,axisName:axisName,memberIndex:memberIndex,tupleIndex:tupleIndex};this._trigger("tupleMemberExpanded",evt,args)},_triggerTupleMemberCollapsing:function(evt,axisName,memberIndex,tupleIndex){var args={owner:this,dataSource:this._ds,axisName:axisName,memberIndex:memberIndex,tupleIndex:tupleIndex};return this._trigger("tupleMemberCollapsing",evt,args)},_triggerTupleMemberCollapsed:function(evt,axisName,memberIndex,tupleIndex){var args={owner:this,dataSource:this._ds,axisName:axisName,memberIndex:memberIndex,tupleIndex:tupleIndex};this._trigger("tupleMemberCollapsed",evt,args)},_triggerSorting:function(evt,columnSortDirections){var args={owner:this,sortDirections:columnSortDirections};return this._trigger("sorting",evt,args)},_triggerSorted:function(evt,columnSortDirections,appliedColumnSortDirections){var args={owner:this,sortDirections:columnSortDirections,appliedSortDirections:appliedColumnSortDirections};this._trigger("sorted",evt,args)},_triggerHeadersSorting:function(evt,levelSortDirections){var args={owner:this,levelSortDirections:levelSortDirections};return this._trigger("headersSorting",evt,args)},_triggerHeadersSorted:function(evt,levelSortDirections,appliedLevelSortDirections){var args={owner:this,levelSortDirections:levelSortDirections,appliedLevelSortDirections:appliedLevelSortDirections};this._trigger("headersSorted",evt,args)}});$.extend(true,$.ui.igPivotGrid.prototype,$.ig.Pivot._pivotShared);$.extend($.ui.igPivotGrid,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Data Selector localization resources 14.1.20141.2031
*
* Copyright (c) 2011-2014 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/
(function($){$.ig=$.ig||{};if(!$.ig.PivotDataSelector){$.ig.PivotDataSelector={};$.extend($.ig.PivotDataSelector,{locale:{invalidBaseElement:" is not supported as base element. Use DIV instead.",catalog:"Catalog",cube:"Cube",measureGroup:"Measure Group",measureGroupAll:"(All)",rows:"Rows",columns:"Columns",measures:"Measures",filters:"Filters",deferUpdate:"Defer Update",updateLayout:"Update Layout",selectAll:"Select All"}})}})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot Data Selector 14.1.20141.2031
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on: 
*	jquery-1.4.4.js
*	jquery.ui.core.js
*	jquery.ui.widget.js
*	jquery.ui.draggable.js
*	jquery.ui.droppable.js
*	infragistics.util.js
*	infragistics.datasource.js
*	infragistics.olapxmladatasource.js
*	infragistics.olapflatdatasource.js
*	infragistics.templating.js
*	infragistics.ui.shared.js
*   infragistics.ui.scroll.js
*	infragistics.ui.combo.js
*	infragistics.ui.tree.js
*	infragistics.ui.pivot.shared.js
*/
(function($){var _droppable=$.ui.droppable.prototype.widgetFullName||$.ui.droppable.prototype.widgetName;$.widget("ui.igPivotDataSelector",{css:{dataSelector:"ui-igpivotdataselector",dataSelectorRoot:"ui-igpivotdataselector-root",catalog:"ui-igpivotdataselector-catalog",cube:"ui-igpivotdataselector-cube",measureGroup:"ui-igpivotdataselector-measuregroup",metadata:"ui-igpivotdataselector-metadata ui-widget-content",metadataItem:"ui-igpivot-metadataitem ui-widget ui-corner-all ui-state-default",dropAreasTable:"ui-igpivotdataselector-dropareas",dropArea:"ui-igpivot-droparea ui-widget-content",activeDropArea:"active",filtersIcon:"ui-icon ui-icon-pivot-filters",columnsIcon:"ui-icon ui-icon-pivot-columns",rowsIcon:"ui-icon ui-icon-pivot-rows",measuresIcon:"ui-icon ui-icon-pivot-measures",updateLayout:"ui-igpivotdataselector-updatelayout",dropIndicator:"ui-state-highlight",invalidDropIndicator:"ui-state-error",insertItem:"ui-igpivot-insertitem ui-state-highlight ui-corner-all",metadataItemDropDown:"ui-igpivot-metadatadropdown ui-widget ui-widget-content",filterIcon:"ui-icon ui-icon-pivot-smallfilter",filterDropDown:"ui-igpivot-filterdropdown ui-widget ui-widget-content",filterMembers:"ui-igpivot-filtermembers"},options:{width:250,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:false,beforeSend:null},enableResultCache:true,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:true,nonEmptyOnColumns:true,addCalculatedMembersOnRows:true,addCalculatedMembersOnColumns:true,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},deferUpdate:false,dragAndDropSettings:{appendTo:"body",containment:false,zIndex:10},dropDownParent:"body",disableRowsDropArea:false,disableColumnsDropArea:false,disableMeasuresDropArea:false,disableFiltersDropArea:false,customMoveValidation:null},events:{dataSelectorRendered:null,dataSourceInitialized:null,dataSourceUpdated:null,deferUpdateChanged:null,dragStart:null,drag:null,dragStop:null,metadataDropping:null,metadataDropped:null,metadataRemoving:null,metadataRemoved:null,filterDropDownOpening:null,filterDropDownOpened:null,filterMembersLoaded:null,filterDropDownOk:null,filterDropDownClosing:null,filterDropDownClosed:null},_deferUpdate:false,_create:function(){var $this=this,elementName=this.element[0].nodeName.toUpperCase();if(elementName!=="DIV"){throw new Error(elementName+$.ig.PivotDataSelector.locale.invalidBaseElement)}this.element.addClass(this.css.dataSelector);this._onFiltersChanged=function(collection,collectionChangedArgs){var dropArea=$this.element.find(".ui-igpivot-droparea[data-role=filters]");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableFiltersDropArea)};this._onRowAxisChanged=function(collection,collectionChangedArgs){var dropArea=$this.element.find(".ui-igpivot-droparea[data-role=rows]");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableRowsDropArea)};this._onColumnAxisChanged=function(collection,collectionChangedArgs){var dropArea=$this.element.find(".ui-igpivot-droparea[data-role=columns]");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableColumnsDropArea)};this._onMeasuresChanged=function(collection,collectionChangedArgs){var dropArea=$this.element.find(".ui-igpivot-droparea[data-role=measures]");$this._onDataSourceCollectionChanged(collection,collectionChangedArgs,dropArea,$this.options.disableMeasuresDropArea)};this._setDataSource();this._makeDroppable(this.element)},_setOption:function(key,value){var dropArea,droppable;switch(key){case"dataSource":this._clearDataSource();this.options.dataSourceOptions=null;this.options.dataSource=this._createDataSource(value,null);this._setDataSource();break;case"dataSourceOptions":this._clearDataSource();this.options.dataSourceOptions=value;this.options.dataSource=this._createDataSource(null,value);this._setDataSource();break;case"deferUpdate":$.Widget.prototype._setOption.apply(this,arguments);this._deferUpdate=value;this.element.find(".ui-igpivotdataselector-deferupdate").attr("checked",value);this.element.find(".ui-igpivotdataselector-updatelayout").igButton(value?"enable":"disable");break;case"width":$.Widget.prototype._setOption.apply(this,arguments);this.element.width(value);this.element.find(".ui-igpivotdataselector-catalog, .ui-igpivotdataselector-cube, .ui-igpivotdataselector-measuregroup").igCombo("option","width",this.element.children(".ui-igpivotdataselector-root").width());break;case"height":$.Widget.prototype._setOption.apply(this,arguments);this.element.height(value);break;case"dragAndDropSettings":$.Widget.prototype._setOption.apply(this,arguments);this.element.find(":ui-draggable").each(function(ind,el){var draggable=$(el);draggable.draggable("option","appendTo",value.appendTo);draggable.draggable("option","containment",value.containment);draggable.draggable("option","zIndex",value.zIndex)});break;case"disableRowsDropArea":$.Widget.prototype._setOption.apply(this,arguments);dropArea=this.element.find(".ui-igpivot-droparea[data-role=rows]");if(value){droppable=dropArea.data(_droppable);if(droppable){droppable.destroy()}}else if(!this._isTouch()){dropArea.droppable(this._createDropAreaOptions())}this._fillDropArea(dropArea,this._ds.rowAxis(),this.options.disableRowsDropArea);break;case"disableColumnsDropArea":$.Widget.prototype._setOption.apply(this,arguments);dropArea=this.element.find(".ui-igpivot-droparea[data-role=columns]");if(value){droppable=dropArea.data(_droppable);if(droppable){droppable.destroy()}}else if(!this._isTouch()){dropArea.droppable(this._createDropAreaOptions())}this._fillDropArea(dropArea,this._ds.columnAxis(),this.options.disableColumnsDropArea);break;case"disableMeasuresDropArea":$.Widget.prototype._setOption.apply(this,arguments);dropArea=this.element.find(".ui-igpivot-droparea[data-role=measures]");if(value){droppable=dropArea.data(_droppable);if(droppable){droppable.destroy()}}else if(!this._isTouch()){dropArea.droppable(this._createDropAreaOptions())}this._fillDropArea(dropArea,this._ds.measures(),this.options.disableMeasuresDropArea);break;case"disableFiltersDropArea":$.Widget.prototype._setOption.apply(this,arguments);dropArea=this.element.find(".ui-igpivot-droparea[data-role=filters]");if(value){droppable=dropArea.data(_droppable);if(droppable){droppable.destroy()}}else if(!this._isTouch()){dropArea.droppable(this._createDropAreaOptions())}this._fillDropArea(dropArea,this._ds.filters(),this.options.disableFiltersDropArea);break}},_initUI:function(){var $this=this,dataSource=this._ds,rootDiv,comboOptions,droppableOptions,dropAreasTable,tableRow,tableHeader,tableColumn,dropArea,deferUpdateCheck,deferUpdateLabel;if(this.options.width){this.element.width(this.options.width)}if(this.options.height){this.element.height(this.options.height)}rootDiv=$("<div class='ui-widget "+this.css.dataSelectorRoot+"'></div>").appendTo(this.element);if(this._isInstance(dataSource,"OlapXmlaDataSource")){comboOptions={textKey:"_caption",valueKey:"_name",mode:"dropdown",enableClearButton:false,width:rootDiv.width()};$("<input class='"+this.css.catalog+"' />").appendTo(rootDiv).igCombo($.extend({nullText:$.ig.PivotDataSelector.locale.catalog,selectionChanged:function(evt,ui){$this._onCatalogSelected(ui.items[0].value)}},comboOptions));$("<input class='"+this.css.cube+"' />").appendTo(rootDiv).igCombo($.extend({nullText:$.ig.PivotDataSelector.locale.cube,selectionChanged:function(evt,ui){$this._onCubeSelected(ui.items[0].value)}},comboOptions));$("<input class='"+this.css.measureGroup+"' />").appendTo(rootDiv).igCombo($.extend({nullText:$.ig.PivotDataSelector.locale.measureGroup,selectionChanged:function(evt,ui){$this._onMeasureGroupSelected(ui.items[0].value)}},comboOptions))}$("<div class='"+this.css.metadata+"'></div>").appendTo(rootDiv).addClass().igTree({initialExpandDepth:0,bindings:{nodeContentTemplate:"<span class='ui-igpivot-metadataitem' data-name='${name}' data-type='${type}'><span class='${image}'/>${caption}</span>",childDataProperty:"children"},rendered:function(evt,ui){ui.owner.element.removeAttr("data-scroll")}});droppableOptions=this._createDropAreaOptions();dropAreasTable=$("<table class='"+this.css.dropAreasTable+"'></table>").appendTo(rootDiv);tableRow=$("<tr></tr>").appendTo(dropAreasTable);tableHeader=$("<th></th>").appendTo(tableRow);$("<span class='"+this.css.filtersIcon+"'></span>").appendTo(tableHeader);$("<span></span>").text($.ig.PivotDataSelector.locale.filters).appendTo(tableHeader);tableHeader=$("<th></th>").appendTo(tableRow);$("<span class='"+this.css.columnsIcon+"'></span>").appendTo(tableHeader);$("<span></span>").text($.ig.PivotDataSelector.locale.columns).appendTo(tableHeader);tableRow=$("<tr></tr>").appendTo(dropAreasTable);tableColumn=$("<td></td>").appendTo(tableRow);dropArea=$("<ul class='"+this.css.dropArea+"' data-role='filters'></ul>").appendTo(tableColumn);if(!this.options.disableFiltersDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}tableColumn=$("<td></td>").appendTo(tableRow);dropArea=$("<ul class='"+this.css.dropArea+"' data-role='columns'></ul>").appendTo(tableColumn);if(!this.options.disableColumnsDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}tableRow=$("<tr></tr>").appendTo(dropAreasTable);tableHeader=$("<th></th>").appendTo(tableRow);$("<span class='"+this.css.rowsIcon+"'></span>").appendTo(tableHeader);$("<span></span>").text($.ig.PivotDataSelector.locale.rows).appendTo(tableHeader);tableHeader=$("<th></th>").appendTo(tableRow);$("<span class='"+this.css.measuresIcon+"'></span>").appendTo(tableHeader);$("<span></span>").text($.ig.PivotDataSelector.locale.measures).appendTo(tableHeader);tableRow=$("<tr></tr>").appendTo(dropAreasTable);tableColumn=$("<td></td>").appendTo(tableRow);dropArea=$("<ul class='"+this.css.dropArea+"' data-role='rows'></ul>").appendTo(tableColumn);if(!this.options.disableRowsDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}tableColumn=$("<td></td>").appendTo(tableRow);dropArea=$("<ul class='"+this.css.dropArea+"' data-role='measures'></ul>").appendTo(tableColumn);if(!this.options.disableMeasuresDropArea&&!this._isTouch()){dropArea.droppable(droppableOptions)}if(this._isTouch()){dropAreasTable.find(".ui-igpivot-droparea").igScroll()}this._deferUpdate=this.options.deferUpdate;deferUpdateLabel=$("<label></label>").appendTo(rootDiv).text($.ig.PivotDataSelector.locale.deferUpdate);deferUpdateCheck=$("<input class='ui-igpivotdataselector-deferupdate' type='checkbox' />").prependTo(deferUpdateLabel).change(function(event){$this._deferUpdate=$(event.target).is(":checked");if($this._deferUpdate){$this.element.find(".ui-igpivotdataselector-updatelayout").igButton("enable")}else{$this.element.find(".ui-igpivotdataselector-updatelayout").igButton("disable");$this._updateDataSource()}$this._triggerDeferUpdateChanged($this._deferUpdate)});$("<button class='"+this.css.updateLayout+"'></button>").attr("title",$.ig.PivotDataSelector.locale.updateLayout).appendTo(rootDiv).igButton({text:false,icons:{primary:"ui-icon-refresh"}}).igButton(this._deferUpdate?"enable":"disable").click(function(){$this._updateDataSource(true)});this._triggerDataSelectorRendered()},_clearUI:function(){this.element.find(".ui-igpivotdataselector-catalog, .ui-igpivotdataselector-cube, .ui-igpivotdataselector-measuregroup").igCombo("destroy");this.element.find(".ui-igpivotdataselector-metadata").igTree("destroy");this.element.find(".ui-igpivot-droparea .ui-igpivot-metadataitem.ui-draggable").draggable("destroy").remove();this.element.empty()},_setDataSource:function(){var $this=this,dataSource;this._ds=dataSource=this._createDataSource(this.options.dataSource,this.options.dataSourceOptions);this._initUI();if(!dataSource){return}this.timestamp=(new Date).getTime();$(dataSource).bind("initialized.dataselector"+this.timestamp,function(evt,args){$this._onDataSourceInitialized(evt,args)});$(dataSource).bind("updated.dataselector"+this.timestamp,function(evt,args){$this._onDataSourceUpdated(evt,args)});if(dataSource.isInitialized()){if(this._isInstance(dataSource,"OlapXmlaDataSource")){this._onCatalogSelected(this._getItemName(dataSource.catalog()),true)}else{this._fillMetadata(dataSource.metadataTree())}dataSource.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})}else{dataSource.initialize()}},_clearDataSource:function(){if(this._ds){$(this._ds).unbind("updated.dataselector");this._ds.unbindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})}this._filterMembersCache=[];this._clearUI()},_onDataSourceInitialized:function(evt,evtArgs){var dataSource=this._ds,args=$.extend({owner:this,dataSource:dataSource},evtArgs);dataSource.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged});this._triggerDataSourceInitialized(evt,args);if(!evtArgs.error){if(this._isInstance(dataSource,"OlapXmlaDataSource")){this._onCatalogSelected(this._getItemName(dataSource.catalog()),true)}else{this._fillMetadata(dataSource.metadataTree())}}},_updateDataSource:function(deferUpdateOverride){var dataSource=this._ds,shouldUpdate=deferUpdateOverride||this._deferUpdate===false;if(shouldUpdate&&dataSource.cube()!==null){dataSource.update()}},_onDataSourceUpdated:function(evt,evtArgs){var dataSource=this._ds,args=$.extend({owner:this,dataSource:dataSource},evtArgs);this._triggerDataSourceUpdated(evt,args)},_getItemName:function(item){return item&&item.name()},_fillCombo:function(comboSelector,items,selectedItem){var t=typeof selectedItem,selected=null;if(t==="number"){selected=[{index:selectedItem}]}else if(t==="object"&&selectedItem!==null&&$.isFunction(selectedItem.name)){selected=[{value:selectedItem.name()}]}this.element.find(comboSelector).igCombo("option","dataSource",items).igCombo("option","selectedItems",selected)},_clearCombo:function(comboSelector){this.element.find(comboSelector).igCombo("option","dataSource",[])},_fillMetadata:function(metadata){var $this=this,parseMetadata=function(m){var metadataItem={},hasItem=true,item,imgClass,children,i;switch(m.type()){case $.ig.OlapMetadataTreeItemType.prototype.cube:imgClass="cube";break;case $.ig.OlapMetadataTreeItemType.prototype.dimension:imgClass="dimension";break;case $.ig.OlapMetadataTreeItemType.prototype.group:imgClass="folder";hasItem=false;break;case $.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy:imgClass="hierarchymultiple";break;case $.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy:imgClass="hierarchysingle";break;case $.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy:imgClass="hierarchydirect";break;case $.ig.OlapMetadataTreeItemType.prototype.measure:imgClass="measure";break;case $.ig.OlapMetadataTreeItemType.prototype.level1:imgClass="level1";break;case $.ig.OlapMetadataTreeItemType.prototype.level2:imgClass="level2";break;case $.ig.OlapMetadataTreeItemType.prototype.level3:imgClass="level3";break;case $.ig.OlapMetadataTreeItemType.prototype.level4:imgClass="level4";break;case $.ig.OlapMetadataTreeItemType.prototype.level5:imgClass="level5";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiRoot:case $.ig.OlapMetadataTreeItemType.prototype.kpi:imgClass="kpi";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiValue:imgClass="kpi value";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiGoal:imgClass="kpi goal";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiStatus:imgClass="kpi status";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiTrend:imgClass="kpi trend";break;case $.ig.OlapMetadataTreeItemType.prototype.kpiWeight:imgClass="kpi weight";break;default:imgClass="folder";break}metadataItem.caption=m.caption();metadataItem.image=imgClass;if(hasItem){item=m.item();metadataItem.name=item.uniqueName();metadataItem.type=item.getType().typeName()}children=m.children();if(children){metadataItem.children=[];for(i=0;i<children.length;i++){metadataItem.children[i]=parseMetadata(children[i])}}return metadataItem},parsedMetadata=metadata===null?[]:[parseMetadata(metadata)],dragAndDropSettings=this.options.dragAndDropSettings,tree,items;tree=this.element.find(".ui-igpivotdataselector-metadata").igTree("option","dataSource",parsedMetadata);items=tree.find(".ui-igpivot-metadataitem[data-type='Kpi'],.ui-igpivot-metadataitem[data-type='Measure'],.ui-igpivot-metadataitem[data-type='Dimension'],.ui-igpivot-metadataitem[data-type='Hierarchy'],.ui-igpivot-metadataitem[data-type='KpiMeasure']");if(!this._isTouch()){items.draggable({appendTo:dragAndDropSettings.appendTo,containment:dragAndDropSettings.containment,zIndex:dragAndDropSettings.zIndex,cursorAt:this._const.dragCursorAt,revert:false,helper:function(event){var markup;markup=$($this._const.dragHelperMarkup.replace("{0}",$(this).text()));markup.addClass($this.css.invalidDropIndicator).find("span").addClass("ui-icon  ui-icon-cancel");return markup},start:function(event,ui){return $this._triggerDragStart(event,ui,tree.igTree("nodeDataFor",$(this).attr("data-path")))},drag:function(event,ui){return $this._triggerDrag(event,ui,tree.igTree("nodeDataFor",$(this).attr("data-path")))},over:function(event,ui){$this._onDraggableOver(event,ui)},out:function(event,ui){$this._onDraggableOut(event,ui)},stop:function(event,ui){$this._triggerDragStop(event,ui)}})}items.click(function(event){var item=tree.igTree("nodeDataFor",$(this).closest("li").attr("data-path")),name=item.name,type=$.ig[item.type].prototype.getType(),metadataItem;metadataItem=$this._ds.getCoreElement(function(el){return el.uniqueName()===name},type);if(metadataItem){$this._createMetadataItemDropDown(event,this,metadataItem)}});this._fillDropArea(".ui-igpivot-droparea[data-role=filters]",this._ds.filters(),this.options.disableFiltersDropArea);this._fillDropArea(".ui-igpivot-droparea[data-role=rows]",this._ds.rowAxis(),this.options.disableRowsDropArea);this._fillDropArea(".ui-igpivot-droparea[data-role=columns]",this._ds.columnAxis(),this.options.disableColumnsDropArea);this._fillDropArea(".ui-igpivot-droparea[data-role=measures]",this._ds.measures(),this.options.disableMeasuresDropArea)},_fillDropArea:function(dropArea,items,isDisabled){var i,length;dropArea=dropArea.jquery?dropArea:this.element.find(dropArea);dropArea.empty();for(i=0,length=items.length;i<length;i++){this._createMetadataElement(items[i],isDisabled,"appendTo",dropArea)}},_clearMetadata:function(){this.element.find(".ui-igpivotdataselector-metadata").igTree("option","dataSource",[])},_onCatalogSelected:function(catalog,isInit){var $this=this,dataSource=this._ds,callback=function(){$this._fillCombo(".ui-igpivotdataselector-catalog",dataSource.catalogs(),dataSource.catalog());$this._fillCombo(".ui-igpivotdataselector-cube",dataSource.cubes(),dataSource.cube());$this._onCubeSelected($this._getItemName(dataSource.cube()),isInit)};this._clearCombo(".ui-igpivotdataselector-cube");if(catalog===null){callback()}else{dataSource.setCatalog(catalog).done(callback)}},_onCubeSelected:function(cube,isInit){var $this=this,dataSource=this._ds,callback=function(){var measureGroup=dataSource.cube()&&(dataSource.measureGroup()||0),measureGroups=dataSource.measureGroups().slice();measureGroups.splice(0,0,{_caption:$.ig.PivotDataSelector.locale.measureGroupAll,_name:null});$this._fillCombo(".ui-igpivotdataselector-measuregroup",measureGroups,measureGroup);$this._onMeasureGroupSelected($this._getItemName(dataSource.measureGroup()),isInit)};this._clearCombo(".ui-igpivotdataselector-measuregroup");if(cube===null){callback()}else{dataSource.setCube(cube).done(callback)}},_onMeasureGroupSelected:function(measureGroup,isInit){var $this=this,dataSource=this._ds,callback=function(){$this._fillMetadata(dataSource.metadataTree());if(!isInit){$this._updateDataSource()}};this._clearMetadata();if(measureGroup===null){callback()}else{dataSource.setMeasureGroup(measureGroup).done(callback)}},_shouldAppendToTarget:function(target,dragged){return target.offset().top+target.height()/2<dragged.offset.top+this._const.dragCursorAt.top},update:function(){this._ds.update()},destroy:function(){this._clearDataSource();this.element.removeClass(this.css.dataSelector);$(this._ds).unbind("updated.dataselector"+this.timestamp);$(this._ds).unbind("initialized.dataselector"+this.timestamp);$.Widget.prototype.destroy.apply(this);return this},_triggerDataSelectorRendered:function(){var args={owner:this};this._trigger("dataSelectorRendered",null,args)},_triggerDeferUpdateChanged:function(deferUpdate){var args={owner:this,deferUpdate:deferUpdate};this._trigger("deferUpdateChanged",null,args)}});$.extend(true,$.ui.igPivotDataSelector.prototype,$.ig.Pivot._pivotShared);$.extend($.ui.igPivotDataSelector,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
 * Infragistics.Web.ClientUI Splitter 14.1.20141.2031
 *
 * Copyright (c) 2011-2014 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.4.js
 *	infragistics.util.js
 *	infragistics.ui.splitter-en.js
 */
if(typeof jQuery!=="function"){throw new Error("jQuery is undefined")}(function($){$.widget("ui.igSplitter",{_const:{orientations:{horizontal:{size:"height",oppositeSize:"width",outerSize:"outerHeight",dimention:"top",start:"_startY",mouse:"_mouseStartY",page:"pageY",keyboard:["UP","DOWN"]},vertical:{size:"width",oppositeSize:"height",outerSize:"outerWidth",dimention:"left",start:"_startX",mouse:"_mouseStartX",page:"pageX",keyboard:["LEFT","RIGHT"]}},properties:["max","_max","min","_min","size","collapsed","collapsible","resizable"],step:10,touchEvents:{mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"",mouseleave:"",focus:"focus",blur:"blur",keydown:"keydown"}},css:{splitter:"ui-igsplitter ui-widget ui-widget-content",verticalPanel:"ui-igsplitter-panel-vertical ui-widget-content",horizontalPanel:"ui-igsplitter-panel-horizontal ui-widget-content",bar:"ui-igsplitter-splitbar",barNormal:"ui-igsplitter-splitbar-default ui-state-default",barCollapsed:"ui-igsplitter-splitbar-collapsed",barHover:"ui-igsplitter-splitbar-hover ui-state-hover",barActive:"ui-igsplitter-splitbar-focus ui-state-focus",barInvalid:"ui-igsplitter-splitbar-invalid",resizeHandler:"ui-igsplitter-splitbar-resize-handler",resizeHandlerInner:"ui-igsplitter-splitbar-resize-handler-inner",verticalCollapseButtonLeftExpanded:"ui-igsplitter-collapse-button-vertical-left",verticalCollapseButtonLeftExpandedIcon:"ui-icon ui-icon-triangle-1-w",verticalCollapseButtonLeftCollapsed:"ui-igsplitter-collapse-button-vertical-left",verticalCollapseButtonLeftCollapsedIcon:"ui-icon ui-icon-triangle-1-e",verticalCollapseButtonRightExpanded:"ui-igsplitter-collapse-button-vertical-right",verticalCollapseButtonRightExpandedIcon:"ui-icon ui-icon-triangle-1-e",verticalCollapseButtonRightCollapsed:"ui-igsplitter-collapse-button-vertical-right",verticalCollapseButtonRightCollapsedIcon:"ui-icon ui-icon-triangle-1-w",horizontalCollapseButtonLeftExpanded:"ui-igsplitter-collapse-button-horizontal-left",horizontalCollapseButtonLeftExpandedIcon:"ui-icon ui-icon-triangle-1-n",horizontalCollapseButtonLeftCollapsed:"ui-igsplitter-collapse-button-horizontal-left",horizontalCollapseButtonLeftCollapsedIcon:"ui-icon ui-icon-triangle-1-s",horizontalCollapseButtonRightExpanded:"ui-igsplitter-collapse-button-horizontal-right",horizontalCollapseButtonRightExpandedIcon:"ui-icon ui-icon-triangle-1-s",horizontalCollapseButtonRightCollapsed:"ui-igsplitter-collapse-button-horizontal-right",horizontalCollapseButtonRightCollapsedIcon:"ui-icon ui-icon-triangle-1-n",collapseButtonDefault:"ui-state-default",collapseButtonSingle:"ui-igsplitter-collapse-single-button",collapseButtonPressed:"ui-igsplitter-collapse-button-pressed",collapseButtonHover:"ui-igsplitter-collapse-button-hover ui-state-hover",noScroll:"ui-igsplitter-no-scroll"},events:{collapsed:"collapsed",expanded:"expanded",resizeStarted:"resizeStarted",resizing:"resizing",resizeEnded:"resizeEnded",layoutRefreshing:"layoutRefreshing",layoutRefreshed:"layoutRefreshed"},options:{width:null,height:null,orientation:"vertical",panels:[],dragDelta:3},_opt:null,widget:function(){return this.element},_createWidget:function(options,element){this._opt={eventHandlers:{}};$.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var splitters,length=$(this.element.children("div")).length;this._htmlMarkup=this.element.html();if(this.options.panels.length>2||length>2){throw new Error($.ig.Splitter.locale.errorPanels)}if(length===1){$(this.element).append("<div/>")}else if(length===0){$(this.element).append("<div/>");$(this.element).append("<div/>")}this._panels=[];this._splitter={};splitters=$.data(document.body,"ig-splitters")||[];splitters.push(this.element);$.data(document.body,"ig-splitters",splitters);if(this.options.width){this.element.css("width",this.options.width)}if(this.options.height){this.element.css("height",this.options.height)}this._render();this._removeClasses();this._addClasses();this._removeEventHandlers();this._addEventHandlers();this._panelsLayout()},_setOption:function(option,value){var oldWidth,oldHeight;if(this.options[option]===value){return}$.Widget.prototype._setOption.apply(this,arguments);switch(option){case"width":oldWidth=this.element.width();this.element.css("width",value);if(this.options.orientation==="vertical"){this._setPanelsNewWidth(value,oldWidth)}this._panelsLayout();break;case"height":oldHeight=this.element.height();this.element.css("height",value);if(this.options.orientation==="horizontal"){this._setPanelsNewHeight(value,oldHeight)}this._panelsLayout();break;case"orientation":case"panels":throw new Error($.ig.Splitter.locale.errorSettingOption);break;default:break}},_setPanelsNewWidth:function(newWidth,oldWidth){var secondPanelRatio=this.secondPanel().width()/oldWidth;this.setSecondPanelSize(newWidth*secondPanelRatio)},_setPanelsNewHeight:function(newHeight,oldHeight){var secondPanelRatio=this.secondPanel().height()/oldHeight;this.setSecondPanelSize(newHeight*secondPanelRatio)},_render:function(){var panels=$(this.element.children("div")),panel,self=this,reducedSize,defaultSize=0,j;reducedSize=this._reducedSize();if(this.options[this._getOrientation("size")]){defaultSize=this.options[this._getOrientation("size")]-reducedSize.size}else{defaultSize=this._getSize(this._getOrientation("size"))-reducedSize.size}if(panels.length-reducedSize.length!==0){defaultSize=Math.floor(defaultSize/(panels.length-reducedSize.length))}if(this._panels.length<1){panels.each(function(i,element){panel=$(element);panel.options={max:9007199254740992,_max:"100%",min:0,_min:"0",collapsible:false,resizable:true,collapsed:false,size:panel[self._getOrientation("size")]()};for(j=0;j<self._const.properties.length;j++){if(self.options.panels[i]&&self.options.panels[i][self._const.properties[j]]!==undefined&&self.options.panels[i][self._const.properties[j]]!==null){panel.options[self._const.properties[j]]=self.options.panels[i][self._const.properties[j]]}else{if(self._const.properties[j]==="size"){if(panel[0].style[self._getOrientation("size")]!=="auto"&&panel[0].style[self._getOrientation("size")]!==""){panel.options.size=panel[self._getOrientation("size")]()}else{panel.options.size=defaultSize}}}}self._panels.push(panel)});this._createSplitter()}},_reducedSize:function(){var i,reducedSize={size:0,length:0},size=0;for(i=0;i<this.options.panels.length;i++){size=0;if(this.options.panels[i].size!==undefined){if(/%/.test(this.options.panels[i].size)){this.options.panels[i].size=this.options.panels[i].size.replace("%","")*this._getSize(this._getOrientation("size"))/100;this._isPercentLayout=true}if(/px/.test(this.options.panels[i].size)){this.options.panels[i].size=parseInt(this.options.panels[i].size,10)}if(/px/.test(this.options.panels[i].min)){this.options.panels[i].min=parseInt(this.options.panels[i].min,10)}if(/%/.test(this.options.panels[i].min)){this.options.panels[i]._min=this.options.panels[i].min;this.options.panels[i].min=this.options.panels[i].min.replace("%","")*this._getSize(this._getOrientation("size"))/100}if(/px/.test(this.options.panels[i].max)){this.options.panels[i].max=parseInt(this.options.panels[i].max,10)}if(/%/.test(this.options.panels[i].max)){this.options.panels[i]._max=this.options.panels[i].max;this.options.panels[i].max=this.options.panels[i].max.replace("%","")*this._getSize(this._getOrientation("size"))/100}size=this.options.panels[i].size;reducedSize.length+=1}reducedSize.size+=size}return reducedSize},_getSize:function(size){var boxSizing=this.element.css("box-sizing"),value;if(window.getComputedStyle!==undefined){value=parseInt(window.getComputedStyle(this.element[0])[size],10);if($.ig.util.isChrome&&boxSizing==="border-box"){value-=parseInt(this.element.css("border-width"),10)*2}return value}return this.element[size]()},_getOrientation:function(property){return this._const.orientations[this.options.orientation][property]},_getEvent:function(event){if(this._isTouch()){return this._const.touchEvents[event]}return event},_isTouch:function(){var isTouch=typeof window.Modernizr==="object"&&window.Modernizr.touch===true;return isTouch},_createSplitter:function(){var collapseButtons=$("<div><span></span></div><div><span></span></div>"),bar=$("<div></div>").attr("tabindex",0),self=this,div,topMarginButtonLeftCollapsed;this._splitter={left:this._panels[0],right:this._panels[1]};bar.insertAfter(this._panels[0]);this._splitter.bar=bar;this._splitter.bar.append(collapseButtons);div=$("<div/>").appendTo(this._splitter.bar);$("<span></span>")[this._getOrientation("size")](this._splitter.bar[this._getOrientation("size")]).attr("title","").appendTo(div);if($.ig.util.isIEOld){setTimeout(function(){topMarginButtonLeftCollapsed=$(".ui-igsplitter-collapse-button-vertical-left.ui-state-default").css("margin-top");$(".ui-igsplitter-collapse-button-vertical-left.ui-state-default").css("margin-top",topMarginButtonLeftCollapsed)},1)}},_removeClasses:function(){var buttonLeft,buttonRight,resizeHandler,i;this.element.removeClass(this.css.splitter);for(i=0;i<this._panels.length;i++){this._panels[i].removeClass(this.css[this.options.orientation+"Panel"])}this._splitter.bar.removeClass(this.css.bar+"-"+this.options.orientation);this._splitter.bar.removeClass(this.css.barNormal);this._splitter.bar.removeClass(this.css.barCollapsed);buttonLeft=$(this._splitter.bar.children()[0]);buttonRight=$(this._splitter.bar.children()[1]);buttonLeft.removeClass(this.css[this.options.orientation+"CollapseButtonLeftExpanded"]);buttonRight.removeClass(this.css[this.options.orientation+"CollapseButtonRightExpanded"]);buttonLeft.removeClass(this.css.collapseButtonDefault);buttonRight.removeClass(this.css.collapseButtonDefault);resizeHandler=$(this._splitter.bar.children()[2]);resizeHandler.removeClass(this.css.resizeHandler+"-"+this.options.orientation);$(resizeHandler.children()[0]).removeClass(this.css.resizeHandlerInner+"-"+this.options.orientation)},_addClasses:function(){var buttonLeft,buttonRight,i,resizeHandler;this.element.addClass(this.css.splitter);for(i=0;i<this._panels.length;i++){this._panels[i].addClass(this.css[this.options.orientation+"Panel"])}this._splitter.bar.addClass(this.css.bar+"-"+this.options.orientation);this._splitter.bar.addClass(this.css.barNormal);if(this._panels[0].options.collapsed||this._panels[1].options.collapsed){this._splitter.bar.addClass(this.css.barCollapsed)}buttonLeft=$(this._splitter.bar.children()[0]);buttonRight=$(this._splitter.bar.children()[1]);buttonLeft.addClass(this.css[this.options.orientation+"CollapseButtonLeftExpanded"]);$(buttonLeft.children()).addClass(this.css[this.options.orientation+"CollapseButtonLeftExpandedIcon"]);buttonRight.addClass(this.css[this.options.orientation+"CollapseButtonRightExpanded"]);$(buttonRight.children()).addClass(this.css[this.options.orientation+"CollapseButtonRightExpandedIcon"]);resizeHandler=$(this._splitter.bar.children()[2]);resizeHandler.addClass(this.css.resizeHandler+"-"+this.options.orientation);$(resizeHandler.children()[0]).addClass(this.css.resizeHandlerInner+"-"+this.options.orientation);if(!this._panels[0].options.collapsible){buttonLeft.hide();buttonRight.addClass(this.css.collapseButtonSingle)}if(!this._panels[1].options.collapsible){buttonRight.hide();buttonLeft.addClass(this.css.collapseButtonSingle)}buttonLeft.addClass(this.css.collapseButtonDefault);buttonRight.addClass(this.css.collapseButtonDefault)},_removeEventHandlers:function(){$(this._splitter.bar).unbind(this._getEvent("focus"),this._getEvent("blur"),this._getEvent("keydown"));$(this._splitter.bar.children()[0]).unbind(this._getEvent("mousedown"));$(this._splitter.bar.children()[1]).unbind(this._getEvent("mousedown"));if(!this._isTouch()){$(this._splitter.bar).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave"));$(this._splitter.bar.children()[0]).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave"));$(this._splitter.bar.children()[1]).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave"))}},_addEventHandlers:function(){var self=this;self.autoResize=true;this._opt.eventHandlers.documentMouseUp=function(){self.autoResize=false;self._stopDrag(self);self.autoResize=true;self._lastMove=null};$(document).bind(this._getEvent("mouseup")+"."+this.element.attr("id"),this._opt.eventHandlers.documentMouseUp);this._opt.eventHandlers.documentMouseMove=function(ev){var noCancel=true;self._currentMove=self._isTouch()?ev.originalEvent.touches[0][self._getOrientation("page")]:ev[self._getOrientation("page")];if(self._capturedElement&&self._isDragging()&&!self._isDrag){self._triggerResizeStarted();self._isDrag=true}if(self._capturedElement&&self._isDragging()){noCancel=self._triggerResizing()}if(noCancel&&self._isDragging()){self._performDrag(self,ev)}else{return false}};$(document).bind(this._getEvent("mousemove")+"."+this.element.attr("id"),this._opt.eventHandlers.documentMouseMove);this._opt.eventHandlers.windowResize=function(ev){var noCancel=self._triggerLayoutRefreshing();if(noCancel){self._panelsLayout();self._triggerLayoutRefreshed()}};$(window).bind("resize."+this.element.attr("id"),this._opt.eventHandlers.windowResize);this._addBarHandlers(this._splitter);this._addCollapseButtonHandlers($(this._splitter.bar.children()[0]),0);this._addCollapseButtonHandlers($(this._splitter.bar.children()[1]),1)},_isDragging:function(){return Math.abs(this._currentMove-this._lastMove)>this.options.dragDelta},_addBarHandlers:function(splitter){var self=this;splitter.bar.bind(this._getEvent("mousedown"),{self:this},this._startDrag);$(splitter.bar.children()[2]).bind(this._getEvent("mousedown"),{self:this},this._startDrag);splitter.bar.bind(this._getEvent("keydown"),{self:this},this._kbNavigation);if(!this._isTouch()){splitter.bar.bind(this._getEvent("mouseenter"),function(){$(this).addClass(self.css.barHover)});splitter.bar.bind(this._getEvent("mouseleave"),function(){$(this).removeClass(self.css.barHover)})}splitter.bar.bind(this._getEvent("focus"),function(){$(this).addClass(self.css.barActive)});splitter.bar.bind(this._getEvent("blur"),function(){$(this).removeClass(self.css.barActive)})},_kbNavigation:function(event){var splitter=event.data.self,noCancel=true;if(event.keyCode===$.ui.keyCode[splitter._getOrientation("keyboard")[0]]){if(event.ctrlKey){splitter._stopDrag(splitter,true,true);if(splitter._panels[1].options.collapsed){splitter.expandAt(1)}else if(!splitter._panels[0].options.collapsed){splitter.collapseAt(0)}}else{splitter._startDrag(event);splitter._kbMove-=splitter._kbLockRight?0:splitter._getStep();if(splitter._capturedElement&&!splitter._isDrag){splitter._triggerResizeStarted();splitter._isDrag=true}if(splitter._capturedElement){noCancel=splitter._triggerResizing()}if(noCancel){splitter._performDrag(splitter,event)}else{return false}if(splitter._capturedElement&&splitter._capturedElement.hasClass(splitter.css.barInvalid)){splitter._kbLockRight=true;splitter._kbLockLeft=false}else{splitter._kbLockRight=false;splitter._kbLockLeft=false}}event.preventDefault()}else if(event.keyCode===$.ui.keyCode[splitter._getOrientation("keyboard")[1]]){if(event.ctrlKey){splitter._stopDrag(splitter,true,true);if(splitter._panels[0].options.collapsed){splitter.expandAt(0)}else if(!splitter._panels[1].options.collapsed){splitter.collapseAt(1)}}else{splitter._startDrag(event);splitter._kbMove+=splitter._kbLockLeft?0:splitter._getStep();if(splitter._capturedElement&&!splitter._isDrag){splitter._triggerResizeStarted();splitter._isDrag=true}if(splitter._capturedElement){noCancel=splitter._triggerResizing()}if(noCancel){splitter._performDrag(splitter,event)}else{return false}if(splitter._capturedElement&&splitter._capturedElement.hasClass(splitter.css.barInvalid)){splitter._kbLockRight=false;splitter._kbLockLeft=true}else{splitter._kbLockRight=false;splitter._kbLockLeft=false}}event.preventDefault()}else if(event.keyCode===$.ui.keyCode.ENTER||event.keyCode===$.ui.keyCode.SPACE){splitter._stopDrag(splitter,false,true);event.preventDefault()}else if(event.keyCode===$.ui.keyCode.ESCAPE){splitter._stopDrag(splitter,true)}else if(event.keyCode===$.ui.keyCode.TAB){splitter._stopDrag(splitter,false,true)}},_startDrag:function(event){var splitter=event.data.self,left,right;splitter._splitter.bar.focus();splitter._resizeArea=splitter._splitter;if(splitter._resizeArea!==null){if((splitter._resizeArea.left.options.resizable===undefined||splitter._resizeArea.left.options.resizable)&&(splitter._resizeArea.right.options.resizable===undefined||splitter._resizeArea.right.options.resizable)){left=splitter._resizeArea.left;right=splitter._resizeArea.right;if(!left.options.collapsed&&!right.options.collapsed&&!(right.options.max<=right[splitter._getOrientation("outerSize")]()&&left.options.max<=left[splitter._getOrientation("outerSize")]())){if(!splitter._capturedElement){splitter._lastMove=splitter._isTouch()?event.originalEvent.touches[0][splitter._getOrientation("page")]:event[splitter._getOrientation("page")];if($(event.target).is("span")){splitter._capturedElement=splitter._clone($($(event.target).parent()).parent())}else{splitter._capturedElement=splitter._clone(event.target)}splitter._capturedElement.offset();splitter._startX=splitter._capturedElement.offset().left;splitter._startY=splitter._capturedElement.offset().top;splitter._kbMove=0;splitter._kbLockLeft=false;splitter._kbLockRight=false;splitter._mouseStartX=splitter._isTouch()?event.originalEvent.touches[0].pageX:event.pageX;splitter._mouseStartY=splitter._isTouch()?event.originalEvent.touches[0].pageY:event.pageY}}}return false}return false},_clone:function(bar){var clonedBar=$(bar).clone();clonedBar.css({position:"absolute",top:$(bar).offset().top,left:$(bar).offset().left,"z-index":9999}).fadeTo(0,.7);$(document.body).append(clonedBar);return clonedBar},_addCollapseButtonHandlers:function(button,index){var self=this;button.bind(this._getEvent("mouseenter"),function(e){$($(this).parent()).removeClass(self.css.barHover);$(this).addClass(self.css.collapseButtonHover);if(e.stopPropagation!==undefined){e.stopPropagation()}if(e.preventDefault!==undefined){e.preventDefault()}return false});button.bind(this._getEvent("mouseleave"),function(e){$($(this).parent()).addClass(self.css.barHover);$(this).removeClass(self.css.collapseButtonHover)});button.bind("mousedown touchstart",function(e){$(this).toggleClass(self.css.collapseButtonPressed);if(self._panels[index].options.collapsed){self.expandAt(index)}else{self.collapseAt(index)}if(e.stopPropagation!==undefined){e.stopPropagation()}if(e.preventDefault!==undefined){e.preventDefault()}return false})},_performDrag:function(self,ev){var page=self._isTouch()?ev.originalEvent.touches[0][self._getOrientation("page")]:ev[self._getOrientation("page")],bar;if(ev.which===0&&$.ig.util.isIE&&$.ig.util.isIEOld){self._stopDrag(self);return false}if(self._capturedElement){if(ev.type==="keydown"){bar=self[self._getOrientation("start")]+self._kbMove}else{bar=page-self[self._getOrientation("mouse")]+self[self._getOrientation("start")]}self._moveBar(bar);return false}return true},_moveBar:function(bar){bar=this._validatePosition(bar);if(bar.invalid){this._capturedElement.addClass(this.css.barInvalid)}else{this._capturedElement.removeClass(this.css.barInvalid)}this._capturedElement.css(this._getOrientation("dimention"),bar.position)},_validatePosition:function(bar){var resizeArea=this._resizeArea,rightBoundary=this._getNextBoundary(resizeArea),getPreviousBoundary=this._getPreviousBoundary(resizeArea),min=Math.min(rightBoundary,rightBoundary-resizeArea.right.options.min,getPreviousBoundary+resizeArea.left.options.max),max=Math.max(getPreviousBoundary,getPreviousBoundary+resizeArea.left.options.min,rightBoundary-resizeArea.right.options.max),pos;if(max>min){pos=resizeArea.right.offset()[this._getOrientation("dimention")]-this._capturedElement[this._getOrientation("outerSize")](true);return{position:pos,invalid:true}}if(bar<max){return{position:max,invalid:true}}if(bar>min){return{position:min,invalid:true}}return{position:bar,invalid:false}},_getNextBoundary:function(panel){var size=panel.right.offset()[this._getOrientation("dimention")]+panel.right[this._getOrientation("size")]()-this._capturedElement[this._getOrientation("outerSize")](true);if(panel.right.options.collapsed){size-=panel.right.options.min}return size},_getPreviousBoundary:function(panel){var size=panel.left.offset()[this._getOrientation("dimention")];if(panel.left.options.collapsed){size+=panel.left.options.min}return size},_stopDrag:function(self,cancel,kbMove){if(self._capturedElement){if(!cancel&&(self._isDrag||kbMove)){self._performAreaResize()}self._capturedElement.remove();self._isDrag=false}self._capturedElement=null},_performAreaResize:function(){var resizeArea=this._resizeArea,offset=this._capturedElement.offset()[this._getOrientation("dimention")]-this[this._getOrientation("start")],left=resizeArea.left[this._getOrientation("size")]()+offset,right=resizeArea.right[this._getOrientation("size")]()-offset;this._setPanelSize(resizeArea.left,left);this._setPanelSize(resizeArea.right,right);if(offset!==0){this._triggerResizeEnded()}this._splittersLayout()},_splittersLayout:function(){var splitters=$.data(document.body,"ig-splitters")||[],i;for(i=0;i<splitters.length;i++){if(splitters[i][0]!==this.element){$(splitters[i]).data("igSplitter")._panelsLayout()}}},_panelsLayout:function(){var i,outerSize=(this._panels.length-1)*this._splitter.bar[this._getOrientation("outerSize")](true),size=this._getSize(this._getOrientation("size"));for(i=0;i<this._panels.length;i++){if(!this._panels[i].options.collapsed){outerSize+=this._handlerPanelSize(this._panels[i],outerSize,size)}else{this._handlerPanelSize(this._panels[i],outerSize,size);$(this._splitter.bar.children()[(i+1)%2]).hide();$(this._splitter.bar.children()[i]).removeClass(this.css[this.options.orientation+"CollapseButton"+(i%2===0?"Left":"Right")+"Expanded"]);$($(this._splitter.bar.children()[i]).children()).removeClass(this.css[this.options.orientation+"CollapseButton"+(i%2===0?"Left":"Right")+"ExpandedIcon"]);$(this._splitter.bar.children()[i]).addClass(this.css[this.options.orientation+"CollapseButton"+(i%2===0?"Left":"Right")+"Collapsed"]);$($(this._splitter.bar.children()[i]).children()).addClass(this.css[this.options.orientation+"CollapseButton"+(i%2===0?"Left":"Right")+"CollapsedIcon"])}}if(outerSize<size){this._createPanel(size,outerSize,this._panels.length-1)}this._splitter.bar[this._getOrientation("oppositeSize")](this.element[this._getOrientation("oppositeSize")]()-2);$(this._splitter.bar.children()[2]).find("span")[this._getOrientation("oppositeSize")](this.element[this._getOrientation("oppositeSize")]())},_getStep:function(){return this._const.step+this._splitter.bar[this._getOrientation("size")]()},_handlerPanelSize:function(panel,outerSize,size){if(this._isPercentLayout){if(panel.options._min!==undefined){panel.options.min=panel.options._min.replace("%","")*this._getSize(this._getOrientation("size"))/100}if(panel.options._max!==undefined){panel.options.max=panel.options._max.replace("%","")*this._getSize(this._getOrientation("size"))/100}}this._setPanelSize(panel,panel.options.size);var newSize;if(outerSize+panel.options.size>=size&&!panel.options.collapsed){newSize=size-outerSize;if(!panel.options.collapsed){if(this._isPercentLayout){panel[this._getOrientation("size")](newSize/this._getSize(this._getOrientation("size"))*100+"%")}else{panel[this._getOrientation("size")](newSize)}panel.options.size=newSize}}return panel[this._getOrientation("outerSize")](true)},_setPanelSize:function(panel,size){if(!panel.options.collapsed){panel.options.size=parseInt(size,10);if(panel.options.size===0||this._isPercentLayout&&panel.options.size<=$.ig.util.getScrollWidth()){panel.addClass(this.css.noScroll)}else{panel.removeClass(this.css.noScroll)}if(this._isPercentLayout){size=parseInt(size,10);panel[this._getOrientation("size")](size/this._getSize(this._getOrientation("size"))*100+"%")}else{panel[this._getOrientation("size")](size)}}else{panel.addClass(this.css.noScroll);panel[this._getOrientation("size")](0)}},_createPanel:function(size,outerSize,index){if(index===undefined){index=0}var panel=this._panels[index],newSize=size-outerSize,panelSize=panel[this._getOrientation("size")](),maxSize=newSize+panelSize;if(index<=this._panels.length){if(panel.options.collapsed){this._panelHelper(outerSize,size)}else{if(maxSize>panel.options.max){panel.options.max=maxSize}if(this._isPercentLayout){panel[this._getOrientation("size")](maxSize/this._getSize(this._getOrientation("size"))*100+"%")}else{panel[this._getOrientation("size")](maxSize)}panel.options.size=maxSize}return}maxSize=Math.min(maxSize,panel.options.max);if(!panel.options.collapsed){panel[this._getOrientation("size")](maxSize);panel.options.size=maxSize}else{maxSize=panelSize=0}if(maxSize+(outerSize-panelSize)<size||panel.options.collapsed){this._createPanel(size,outerSize-panelSize+maxSize,index-1)}},_panelHelper:function(outerSize,size){var panel,flag=false,i;for(i=0;i<this._panels.length&&!flag;i++){panel=this._panels[i];if(!panel.options.collapsed){flag=true}}panel[this._getOrientation("size")](size-outerSize+panel[this._getOrientation("size")]())},expandAt:function(index){var neighborPanel;if(index<=this._panels.length&&index>=0&&this._panels[index].options.collapsed){neighborPanel=this._panels[index%2===0?1:0];this._panels[index].options.collapsed=false;this._panels[index].options.size=Math.min(this._panels[index].options.size,neighborPanel[this._getOrientation("size")]());neighborPanel.options.size=neighborPanel[this._getOrientation("size")]()-this._panels[index].options.size;this._splitter.bar.removeClass(this.css.barCollapsed);if(this._panels[(index+1)%2].options.collapsible){$(this._splitter.bar.children()[(index+1)%2]).show()}$(this._splitter.bar.children()[index]).removeClass(this.css.collapseButtonPressed);$(this._splitter.bar.children()[index]).removeClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"Collapsed"]);$($(this._splitter.bar.children()[index]).children()).removeClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"CollapsedIcon"]);$(this._splitter.bar.children()[index]).addClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"Expanded"]);$($(this._splitter.bar.children()[index]).children()).addClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"ExpandedIcon"]);neighborPanel.css(this._getOrientation("size"),neighborPanel.options.size);this._panels[index].css(this._getOrientation("size"),this._panels[index].options.size);this._splittersLayout();this._triggerExpanded(index)}},collapseAt:function(index){var size,neighborPanel;if(index<this._panels.length&&index>=0&&!this._panels[index].options.collapsed&&this._panels[index].options.collapsible){size=this._panels[index][this._getOrientation("size")]();neighborPanel=this._panels[index%2===0?1:0];this._panels[index].options.size=size||this._panels[index].options.size;this._panels[index].options.collapsed=true;this._splitter.bar.addClass(this.css.barCollapsed);$(this._splitter.bar.children()[(index+1)%2]).hide();$(this._splitter.bar.children()[index]).addClass(this.css.collapseButtonPressed);$(this._splitter.bar.children()[index]).removeClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"Expanded"]);$($(this._splitter.bar.children()[index]).children()).removeClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"ExpandedIcon"]);$(this._splitter.bar.children()[index]).addClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"Collapsed"]);$($(this._splitter.bar.children()[index]).children()).addClass(this.css[this.options.orientation+"CollapseButton"+(index%2===0?"Left":"Right")+"CollapsedIcon"]);neighborPanel.options.size=neighborPanel[this._getOrientation("size")]()+size;neighborPanel.css(this._getOrientation("size"),neighborPanel.options.size);this._panels[index].css(this._getOrientation("size"),0);this._splittersLayout();this._triggerCollapsed(index)}},_animateResize:function(panel,size,animationDuration,callback){var properties={},self=this;properties[this._getOrientation("size")]=size;panel.animate(properties,{step:function(){self._splittersLayout()},duration:animationDuration,complete:function(){self._splittersLayout();if(callback&&typeof callback==="function"){callback()}}})},_triggerCollapsed:function(index){var args={owner:this,index:index};this._trigger(this.events.collapsed,null,args)},_triggerExpanded:function(index){var args={owner:this,index:index};this._trigger(this.events.expanded,null,args)},_triggerResizeStarted:function(){var args={owner:this};this._trigger(this.events.resizeStarted,null,args)},_triggerResizing:function(){var args={owner:this};return this._trigger(this.events.resizing,null,args)},_triggerResizeEnded:function(){var args={owner:this};this._trigger(this.events.resizeEnded,null,args)},_triggerLayoutRefreshing:function(){var args={owner:this};return this._trigger(this.events.layoutRefreshing,null,args)},_triggerLayoutRefreshed:function(){var args={owner:this};return this._trigger(this.events.layoutRefreshed,null,args)},firstPanel:function(){return this._panels[0]},secondPanel:function(){return this._panels[1]},refreshLayout:function(){this._panelsLayout()},setFirstPanelSize:function(size){if(/%/.test(size)){size=size.replace("%","")*this._getSize(this._getOrientation("size"))/100;this._isPercentLayout=true}if(/px/.test(size)){size=parseInt(size,10)}this._setPanelSize(this._panels[0],size);this._splittersLayout()},setSecondPanelSize:function(size){if(/%/.test(size)){size=size.replace("%","")*this._getSize(this._getOrientation("size"))/100;this._isPercentLayout=true}if(/px/.test(size)){size=parseInt(size,10)}this._setPanelSize(this._panels[0],this._getSize(this._getOrientation("size"))-size);this._splittersLayout()},destroy:function(){var evtHandlers=this._opt.eventHandlers,i,splitters,index;this._removeEventHandlers();this._removeClasses();this.element.empty();this.element.html(this._htmlMarkup);splitters=$.data(document.body,"ig-splitters")||[];for(i=0;i<splitters.length;i++){if(splitters[i][0].id===this.element[0].id){index=i;break}}splitters.splice(index,1);$.data(document.body,"ig-splitters",splitters);$(document).unbind(this._getEvent("mouseup"),evtHandlers.documentMouseUp);$(document).unbind(this._getEvent("mousemove"),evtHandlers.documentMouseMove);$(window).unbind("resize",evtHandlers.windowResize);$.Widget.prototype.destroy.apply(this,arguments);return this}});$.extend($.ui.igSplitter,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);/*!@license
* Infragistics.Web.ClientUI Pivot View 14.1.20141.2031
*
* Copyright (c) 2011-2012 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on: 
*	jquery-1.4.4.js
*	jquery.ui.core.js
*	jquery.ui.widget.js
*	jquery.ui.draggable.js
*	jquery.ui.droppable.js
*	infragistics.util.js
*	infragistics.datasource.js
*	infragistics.olapxmladatasource.js
*	infragistics.olapflatdatasource.js
*	infragistics.ui.shared.js
*	infragistics.ui.scroll.js
*	infragistics.ui.splitter.js
*	infragistics.ui.tree.js
*	infragistics.ui.grid.framework.js
*	infragistics.ui.grid.multicolumnheaders.js
*	infragistics.ui.pivot.shared.js
*	infragistics.ui.pivotdataselector.js
*	infragistics.ui.pivotgrid.js
*/
(function($){var _igPivotGrid=$.ui.igPivotGrid.prototype.widgetFullName||$.ui.igPivotGrid.prototype.widgetName,_igPivotDataSelector=$.ui.igPivotDataSelector.prototype.widgetFullName||$.ui.igPivotDataSelector.prototype.widgetName,_igSplitter=$.ui.igSplitter.prototype.widgetFullName||$.ui.igSplitter.prototype.widgetName;$.widget("ui.igPivotView",{options:{width:null,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:false,beforeSend:null},enableResultCache:true,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:true,nonEmptyOnColumns:true,addCalculatedMembersOnRows:true,addCalculatedMembersOnColumns:true,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},pivotGridOptions:{isParentInFrontForColumns:false,isParentInFrontForRows:true,compactColumnHeaders:false,compactRowHeaders:true,compactColumnHeaderIndentation:30,compactRowHeaderIndentation:20,defaultRowHeaderWidth:200,allowSorting:false,firstSortDirection:"ascending",allowHeaderRowsSorting:false,allowHeaderColumnsSorting:false,levelSortDirections:[{levelUniqueName:null,sortDirection:null}],firstLevelSortDirection:"ascending",gridOptions:{defaultColumnWidth:null,fixedHeaders:true,caption:null,features:[],tabIndex:0,alternateRowStyles:true,enableHoverStyles:false},dragAndDropSettings:{appendTo:"body",containment:false,zIndex:10},dropDownParent:"body",disableRowsDropArea:false,disableColumnsDropArea:false,disableMeasuresDropArea:false,disableFiltersDropArea:false,hideRowsDropArea:false,hideColumnsDropArea:false,hideMeasuresDropArea:false,hideFiltersDropArea:false,customMoveValidation:null},dataSelectorOptions:{dragAndDropSettings:{appendTo:"body",containment:false,zIndex:10},dropDownParent:"body",customMoveValidation:null},pivotGridPanel:{resizable:true,collapsible:false,collapsed:false,size:null},dataSelectorPanel:{location:"right",resizable:true,collapsible:true,collapsed:false,size:250}},_create:function(){var $this=this,elementName,splitter,panel,pivotGrid,dataSelector,panels,dataSelectorLocation,dataSource;elementName=this.element[0].nodeName.toUpperCase();if(elementName!=="DIV"){throw new Error(elementName+$.ig.PivotDataSelector.locale.invalidBaseElement)}this.element.addClass("ui-igpivotview");if(this.options.width){this.element.width(this.options.width)}if(this.options.height){this.element.height(this.options.height)}dataSelectorLocation=this.options.dataSelectorPanel.location;splitter=$("<div></div>").appendTo(this.element);panel=$("<div></div>").appendTo(splitter);pivotGrid=$("<table></table>").attr("id",this.element.attr("id")+"_pivotGrid").appendTo(panel);panel=$("<div></div>")[dataSelectorLocation==="right"?"appendTo":"prependTo"](splitter);dataSelector=$("<div></div>").attr("id",this.element.attr("id")+"_dataSelector").appendTo(panel);panels=[this.options.pivotGridPanel,this.options.dataSelectorPanel];if(dataSelectorLocation!=="right"){panels.reverse()}dataSource=$.ig.Pivot._pivotShared._createDataSource(this.options.dataSource,this.options.dataSourceOptions);dataSelector.igPivotDataSelector($.extend(true,this.options.dataSelectorOptions,{dataSource:dataSource}));splitter.igSplitter({width:this.options.width||this.element.width(),height:this.options.height||this.element.height(),panels:panels}).bind("igsplitterresizeended igsplitterexpanded igsplittercollapsed",function(evt,ui){$this._setSize()}).bind("igsplitterresizestarted",function(){$(".ui-igpivot-metadatadropdown,.ui-igpivot-filterdropdown").remove()});if($.ui.igSplitter.prototype.css.verticalPanel){$($.ui.igSplitter.prototype.css.verticalPanel.replace(/ui-/g,".ui-").replace(/ /g,"")).css("overflow","hidden")}pivotGrid.igPivotGrid($.extend(true,this.options.pivotGridOptions,{dataSource:dataSource,width:(dataSelectorLocation==="right"?splitter.igSplitter("firstPanel"):splitter.igSplitter("secondPanel")).width(),height:splitter.igSplitter("option","height")}));splitter.igSplitter("refreshLayout");this._setSize();dataSelector.bind("igpivotdataselectordeferupdatechanged",function(evt,ui){pivotGrid.igPivotGrid("option","deferUpdate",ui.deferUpdate)})},_setOption:function(key,value){switch(key){case"dataSource":this.options.dataSourceOptions=null;this.options.dataSource=$.ig.Pivot._pivotShared._createDataSource(value,null);this.dataSelector().option("dataSource",this.options.dataSource);this.pivotGrid().option("dataSource",this.options.dataSource);break;case"dataSourceOptions":this.options.dataSourceOptions=value;this.options.dataSource=$.ig.Pivot._pivotShared._createDataSource(null,value);this.dataSelector().option("dataSource",this.options.dataSource);this.pivotGrid().option("dataSource",this.options.dataSource);break;case"width":case"height":$.Widget.prototype._setOption.call(this,arguments);this.splitter().element[key](value);this._setSize();break}},_setSize:function(){var splitter=this.splitter(),pivotGrid=this.pivotGrid(),dataSelector=this.dataSelector(),height=this.element.height(),dataSelectorLocation,pivotGridPanelWidth,dataSelectorPanelWidth;dataSelectorLocation=this.options.dataSelectorPanel.location;if(dataSelectorLocation==="right"){pivotGridPanelWidth=splitter.firstPanel().width();dataSelectorPanelWidth=splitter.secondPanel().width()}else{pivotGridPanelWidth=splitter.secondPanel().width();dataSelectorPanelWidth=splitter.firstPanel().width()}pivotGrid.option("width",pivotGridPanelWidth);pivotGrid.option("height",height);dataSelector.option("width",dataSelectorPanelWidth);dataSelector.option("height",height)},pivotGrid:function(){try{return this.element.find(":ui-igPivotGrid").data(_igPivotGrid)}catch(e){if(e==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igPivotGrid"||e.message==="Syntax error, unrecognized expression: ui-igPivotGrid"){return this.element.find(":ui-igpivotgrid").data(_igPivotGrid)}throw e}},dataSelector:function(){try{return this.element.find(":ui-igPivotDataSelector").data(_igPivotDataSelector)}catch(e){if(e==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igPivotDataSelector"||e.message==="Syntax error, unrecognized expression: ui-igPivotDataSelector"){return this.element.find(":ui-igpivotdataselector").data(_igPivotDataSelector)}throw e}},splitter:function(){try{return this.element.find(":ui-igSplitter").data(_igSplitter)}catch(e){if(e==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igSplitter"||e.message==="Syntax error, unrecognized expression: ui-igSplitter"){return this.element.find(":ui-igsplitter").data(_igSplitter)}throw e}},destroy:function(){this.element.removeClass("ui-igpivotview");try{this.element.find(":ui-igPivotGrid").igPivotGrid("destroy");this.element.find(":ui-igPivotDataSelector").igPivotDataSelector("destroy");this.element.find(":ui-igSplitter").igSplitter("destroy").remove()}catch(e){if(typeof e==="string"){if(e.indexOf("unrecognized expression: ui-ig")!==-1){this.element.find(":ui-igpivotgrid").igPivotGrid("destroy");this.element.find(":ui-igpivotdataselector").igPivotDataSelector("destroy");this.element.find(":ui-igsplitter").igSplitter("destroy").remove();$.Widget.prototype.destroy.call(this);return}}else{if(e.message.indexOf("unrecognized expression: ui-ig")!==-1){this.element.find(":ui-igpivotgrid").igPivotGrid("destroy");this.element.find(":ui-igpivotdataselector").igPivotDataSelector("destroy");this.element.find(":ui-igsplitter").igSplitter("destroy").remove();$.Widget.prototype.destroy.call(this);return}}throw e}}});$.extend($.ui.igPivotView,{version:"14.1.20141.2031"})})(jQuery);(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$('<div id="__ig_wm__"></div>').appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})})(jQuery);
}
if(typeof define === "function"){
  define(function(require, exports, module){
    igniteUI();
  });
} else {
  igniteUI();
}